2023-01-14  Paul Fertser <fercerpav@gmail.com>

	* : The openocd-0.12.0 release Signed-off-by: Paul Fertser <fercerpav@gmail.com>

2023-01-06  Antonio Borneo <borneo.antonio@gmail.com>

	* : jtag: esp_usb_jtag: remove macro __packed In FreeBSB 13.0 the build fails due to redefined macro __packed.          src/jtag/drivers/esp_usb_jtag.c:19:9: error: '__packed'
	            macro redefined [-Werror,-Wmacro-redefined]         #define __packed __attribute__((packed))                 ^         /usr/include/sys/cdefs.h:223:9: note: previous definition is
	        here #define __packed        __attribute__((__packed__))                 ^         1 error generated.  Drop the macro and align the code with the other files in OpenOCD
	project, where the attribute is directly applied without using a
	macro.  Change-Id: I89ae943e77036206d40d4d54172cd4a73e76e5c5 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reported-by: Wojciech
	Puchar <wojtek@puchar.net> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7435 Tested-by: jenkins
	Reviewed-by: Erhan Kurubas <erhan.kurubas@espressif.com>

2022-12-20  Paul Fertser <fercerpav@gmail.com>

	* : Restore +dev suffix Signed-off-by: Paul Fertser <fercerpav@gmail.com>

2022-12-14  Antonio Borneo <borneo.antonio@gmail.com>

	* : cortex_m: handle armv8m cores without security extension Cores armv8m, e.g. Cortex-M33, can be instantiated without the
	optional Security Extension.  In this case, the secure registers are
	not present and when GDB try accessing them it triggers a set of
	errors.  For armv8m cores without security extension, don't provide to GDB
	the description of the secure registers.  Change-Id: I254478a4cf883e85b786df3f62c726b2f40d88d9 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reported-by: Torbj√∂rn
	SVENSSON <torbjorn.svensson@foss.st.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7402 Tested-by: jenkins
	Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2022-12-04  Dan Stahlke <dan@stahlke.org>

	* : at91samd: wait for nvm ready Flashing a SAMD21J17D was failing during NVM erase.  The samd21
	datasheet specifies that one cause of error conditions is executing
	an NVM command while the previous command is still running.  The
	solution is to wait for INTFLAG.READY after a command is issued.  SAMD21J17A was not exhibiting this problem.  Perhaps the later
	silicon revision has slower NVM erase times.  Signed-off-by: Dan Stahlke <dan@stahlke.org> Change-Id:
	I19745dae4d3fc6e3a7611dcac628e067cb41e0f0 Reviewed-on:
	https://review.openocd.org/c/openocd/+/7391 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by:
	Tomas Vanek <vanekt@fbl.cz>

2022-12-14  Antonio Borneo <borneo.antonio@gmail.com>

	* : target: fix assert in 'monitor profile' on constant PC When target is stopped in WFI/WFE or is in an infinite loop, the
	sampled PC will always return the same value.  Command 'profile'
	requires that distance between min and max PC should be at least 2,
	which is not the case for constant PC, and incorrectly enforces the
	check through as assert().  Move the code that reads the optional parameters 'start' and 'end'
	and check the gap 'end - start' before running the profile.  For
	self-computed min and max, increase max (or decrease min) to match
	the required constraint.  Drop the assert().  Change-Id: I2be8df8568ce8c889923888c492e4f7ce354b16b Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Fixes:
	https://sourceforge.net/p/openocd/tickets/370/ Reviewed-on:
	https://review.openocd.org/c/openocd/+/7400 Tested-by: jenkins

2022-12-10  Antonio Borneo <borneo.antonio@gmail.com>

	* : target: cortex_a: fix clang error core.CallAndMessage Clang complains about the variable 'orig_dfsr' that can be used
	uninitialized both in cortex_a_read_cpu_memory() and in
	cortex_a_write_cpu_memory().  The issue is caused by an incorrect error path that used to jump
	through 'goto out'. The code after the label 'out' is specific to
	handle the case of an error during memory R/W; it is incorrect to
	jump there to handle an error during the initialization that
	precedes the memory R/W.  Replace the 'goto out' with 'return retval'.  Remove the label 'out'
	that is now unused.  Change-Id: Ib4b140221d1c1b63419de109579bde8b63fc2e8c Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7393 Tested-by: jenkins

2022-12-01  Nima Palizban <n.palizban@gmail.com>

	* : src/target/mips_m4k.c: set missing flag in set_watchpoint Without the fix, will see "Can not find free FP Comparator" error
	log Change-Id: Id0d91cc02b7055e44d27507f9c05ccd48ff49838 Signed-off-by:
	Nima Palizban <n.palizban@gmail.com> Fixes: fb43f1ff4e2f (target:
	Rework 'set' variable of break-/watchpoints) Reviewed-on:
	https://review.openocd.org/c/openocd/+/7389 Tested-by: jenkins
	Reviewed-by: Tomas Vanek <vanekt@fbl.cz> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2022-09-16  Evgeniy Naydanov <evgeniy.naydanov@syntacore.com>

	* : Fix jim_target_smp for smp rtos target If multiple targets are specified as -rtos <rtos_type>, the
	rtos_update_threads was called only if the last target was specified
	as rtos, which is inconsistent with other checks of whether or not
	smp target is an rtos one.  Signed-off-by: Evgeniy Naydanov <evgeniy.naydanov@syntacore.com>
	Change-Id: Ie52bc6b6c8f841d31b9590fcbc44e985d3cba0eb Reviewed-on:
	https://review.openocd.org/c/openocd/+/7244 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-11-18  Koudai Iwahori <koudai@google.com>

	* : hwthread: Add register validity check in get_thread_reg_list When OpenOCD receives 'g' packet (read general registers) from GDB
	and target is configured as rtos=hwthread,
	hwthread_get_thread_reg_list is called. However, it does not check
	if the register valid or not. Due to this issue, OpenOCD returns
	invalid register values to GDB.  This commit adds a validity check
	to hwthread_get_thread_reg_list. If the register is not valid, it
	tries to read the register from the target.  Signed-off-by: Koudai Iwahori <koudai@google.com> Change-Id:
	Iad6424b62124271ec411b1dfc044b57dfc460280 Reviewed-on:
	https://review.openocd.org/c/openocd/+/7357 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-11-16  Antonio Borneo <borneo.antonio@gmail.com>

	* : flash: lpc2900: fix clang error 'dead assignment' The variable retval is assigned a value that is never used.
	Scan-build reports:         Although the value stored to 'retval' is used in the         enclosing expression, the value is never actually read         from 'retval'.  Drop the dead assignment.  Change-Id: I11588dee748a55d52aa7f35bc1967b7df55af7fc Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7379 Tested-by: jenkins

2022-11-23  Rocco Marco Guglielmi <roccomarco.guglielmi@gmail.com>

	* : tcl: max326xx: fix target scripts for latest version of OpenOCD Change-Id: Iec5aba3a082f2e25f21d7ca173ed710894b370a4 Signed-off-by: Rocco Marco Guglielmi
	<roccomarco.guglielmi@gmail.com> Change-Id:
	Ia83850e326661c8acb0712a280fdf961258322a4 Reviewed-on:
	https://review.openocd.org/c/openocd/+/7373 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-10-16  Tomas Vanek <vanekt@fbl.cz>

	* : target/armv7m: fix feature name of ARMv8M security extension
	regs gdb requires this feature to enable stack unwinding of
	secure/nonsecure interstate calls and exceptions on an ARMv8M target
	with the security extension.  Tested on STM32L5 (Cortex-M33).  Change-Id: Ib09780c011afbc095b352074068597559ad14fcd Link:

	https://sourceware.org/git/?p=binutils-gdb.git;a=commit;h=ae7e2f45aa4798be449f282bbf75ad41e73f055eSigned-off-by: Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7265 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-11-12  Andreas Bolsch <hyphen0break@gmail.com>

	* : Fix for segfault and some clang reported problems in stmqspi Change-Id: Id003adb574085cdd603cc13aeb6f2efec73593f1 Signed-off-by:
	Andreas Bolsch <hyphen0break@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7345 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-11-09  Simon Smiganovski <simon.smiganovski@fruitcore.de>

	* : flash/nor/stm32f1x: adjust size of the flash loader buffer target_run_flash_async_algorithm expects the source_buffer to have
	at least 2 words reserved for read and write pointers in addition to
	the FIFO buffer. If the size of the data to be flashed is <= 8 bytes
	then the flash function will fail with "corrupted fifo read pointer"
	error.  Ensure the allocated buffer is big enough to hold both FIFO buffer
	and read/write pointers.  Change-Id: I09c22eaac517b8cfea8e0b463f5deb6b98afd267 Signed-off-by:
	Simon Smiganovski <simon.smiganovski@fruitcore.de> Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7342 Tested-by: jenkins
	Reviewed-by: Tomas Vanek <vanekt@fbl.cz> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2022-11-03  Tomas Vanek <vanekt@fbl.cz>

	* : tcl/interface: fix raspberrypi2-native.cfg speed coefficient The speed coefficient for Raspberry Pi 2 was probably calibrated for
	a scaled down clock frequency.  To prevent JTAG/SWD overclocking, use the value corresponding to the
	'official' maximum CPU clock.  Change-Id: Iaff58b092198dce6d6552c9d31d6a3ba4aaaa2d5 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7305 Tested-by: jenkins
	Reviewed-by: Jonathan Bell <jonathan@raspberrypi.com>

2022-11-02  Daniel Anselmi <danselmi@gmx.ch>

	* : pld/virtex2: small doc extension Change-Id: I174cd702388be04268b38178fbfacb90db452f72 Signed-off-by:
	Daniel Anselmi <danselmi@gmx.ch> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7303 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-10-30  Tomas Vanek <vanekt@fbl.cz>

	* : Revert "Remove duplicate of a counter in
	hwthread_update_threads" Commit 0cedf10f8fd6 ("Remove duplicate of a counter in
	hwthread_update_threads") introduced a code bug.  In the second foreach_smp_target() loop, variable "threads_found"
	gets passed to routine hwthread_fill_thread(). By removing the
	counting of threads_found from the second loop, the incorrect thread
	counter value gets passed to hwthread_fill_thread().  Change-Id: Ie89e53ccd28bb72b6838ef2f12106a1fe8d00994 Suggested-by:
	Daniel Goehring <dgoehrin@os.amperecomputing.com> Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7307 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-11-02  Antonio Borneo <borneo.antonio@gmail.com>

	* : flash: stmqspi: fix clang error 'dead assignment' The variable retval is assigned a value that is never used, as it is
	reassigned few lines below.  Drop the dead assignment.  Change-Id: Id4e9134408fab3e04936d36e95724bf8d3ab55aa Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7304 Tested-by: jenkins

2022-11-02  Antonio Borneo <borneo.antonio@gmail.com>

	* : esirisc_jtag: fix clang error core.VLASize The function esirisc_jtag_recv() can be called with argument
	num_in_fields = 0, for example as consequence of calling
	esirisc_jtag_continue().  In this case, num_in_bytes is zero and the
	allocation of the variable-length array 'r' requires size zero.    src/target/esirisc_jtag.c:133:2: warning: Declared variable-length     array (VLA) has zero size [core.VLASize]         uint8_t r[num_in_bytes * 2];         ^~~~~~~~~ ~~~~~~~~~~~~~~~~ Fix it by forcing size one when num_in_bytes is zero.  Change-Id: Id764c7b5ec4f5b3c18c7da650bbff39fc98ed049 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7301 Tested-by: jenkins

2022-11-01  Antonio Borneo <borneo.antonio@gmail.com>

	* : helper/types: use unsigned type for all h_u64_to_le() and
	similar All the converters functions:         h_u64_to_le()         h_u64_to_be()         h_u32_to_le()         h_u32_to_be()         h_u24_to_le()         h_u24_to_be()         h_u16_to_le()         h_u16_to_be() have signed type in their prototype, while the
	function name and all the current use cases pass an unsigned value.  Change the prototypes to use unsigned types.  Change-Id: I76dcfdd7912b81f60902184712b2907eae9843f7 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7299 Tested-by: jenkins

2022-10-26  Paul Fertser <fercerpav@gmail.com>

	* : Restore +dev suffix Signed-off-by: Paul Fertser <fercerpav@gmail.com>

2022-10-18  Tomas Vanek <vanekt@fbl.cz>

	* : tcl/target: add basic RP2040 target config The existing rp2040-core0.cfg configuration file was intended for a
	special adapter which selects a SWD multidrop target on its own.
	This means that rp2040-core0.cfg is totally unusable with a standard
	SWD adapter.  To fix the problem, mark rp2040-core0.cfg as deprecated and add
	rp2040.cfg, a basic config file with multidrop target selection.  Change-Id: I5194e42f529a2d9645481424b7c66ab61efa44ee Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7275 Tested-by: jenkins
	Reviewed-by: Jonathan Bell <jonathan@raspberrypi.com> Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2021-09-24  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : tcl/stm32l5x|u5x: support HLA adapters in non-secure mode only instrument "target/stm32x5x_common.cfg" used by both STM32L5x/U5x to
	support HLA adapters like "interface/stlink.cfg" in non-secure mode if the device switches to secure mode, the debug session will be
	stopped immediately (with an explanatory message).  Change-Id: I645fdd55e3448ef82d0ddcc396f42fd7b2f39ac3 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reported-by: Patrik
	Bachan <diggit@users.sourceforge.net> Fixes:
	https://sourceforge.net/p/openocd/tickets/317/ Reviewed-on:
	https://review.openocd.org/c/openocd/+/6546 Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com> Tested-by: jenkins

2022-10-16  Antonio Borneo <borneo.antonio@gmail.com>

	* : doc: fix riscv commands - Fix the declaration of riscv command 'set_mem_access'.  - Remove non existing riscv command 'set_scratch_ram'.  - Add riscv commands 'info', 'reset_delays'; copy the description   from the 'help' text.  - Don't add riscv commands 'set_prefer_sba' and
	  'test_sba_config_reg' as they are marked as deprecated.  - Ensure that 'test_sba_config_reg' prints a deprecation warning   when used.  Change-Id: I39dc3aec4e7f13b69ac19685f1b593790acdde83 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Signed-off-by: Jan Matyas
	<matyas@codasip.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7268 Reviewed-by: Tim Newsome
	<tim@sifive.com> Tested-by: jenkins

2022-10-17  Antonio Borneo <borneo.antonio@gmail.com>

	* : doc: fix espusbjtag commands type Exec commands should be reported as {Command}.  Change-Id: Iacb50d77b354617ecd24b0f1c2ec24e240179698 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7267 Tested-by: jenkins
	Reviewed-by: Erhan Kurubas <erhan.kurubas@espressif.com>

2022-10-13  Jonathan Bell <jonathan@raspberrypi.com>

	* : jtag/drivers: bcm2835gpio: implement memory barriers when
	bitbashing This GPIO driver is common to SoCs that have in-order ARM cores (BCM2835) as well as superscalar (BCM2836-7) and speculative
	out-of-order cores (BCM2711).  For BCM2837 and BCM2711, the processor can dual-issue stores and is
	free to merge writes to peripheral memory for pages mapped
	MT_NORMAL_NC, which is the default provided by /dev/[gpio]mem.  This can cause glitches (or missing edges) on GPIO pins when toggled
	with no delay, as pipelined writes to the same address can get
	arbitrarily squelched.  To prevent this happening, make sure the preceding write ops are
	flushed outside the shareable domain by using a memory barrier.  Signed-off-by: Jonathan Bell <jonathan@raspberrypi.com> Change-Id:
	I8805cc0911667bcb9b7f4ca340d7f4f1cb25d096 Reviewed-on:
	https://review.openocd.org/c/openocd/+/7258 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-10-09  Antonio Borneo <borneo.antonio@gmail.com>

	* : README: cleanup requirements for pkg-config FreeBSD fully supports pkg-config; the .pc files for the internal
	libusb has been added with         https://cgit.freebsd.org/src/commit/?id=041d3f3f09b8 and
	became part of FreeBSD 10.0 in 2014-01-16.  Remove the obsoleted requirements for adding .pc files.  While there, add pkgconf as an alternative to pkg-config.  Change-Id: I16aea735c44107cb71945f225a979682c8c92d0a Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7255 Reviewed-by: Paul
	Fertser <fercerpav@gmail.com> Tested-by: jenkins

2022-10-05  Erhan Kurubas <erhan.kurubas@espressif.com>

	* : target/esp32s2: check xtensa_poll return value Although scan build couldn't catch, return value overwritten without
	checking.  Signed-off-by: Erhan Kurubas <erhan.kurubas@espressif.com>
	Change-Id: I02b10002b03640604315047e8a8a639824724c16 Reviewed-on:
	https://review.openocd.org/c/openocd/+/7247 Tested-by: jenkins
	Reviewed-by: Ian Thompson <ianst@cadence.com> Reviewed-by: Antonio
	Borneo <borneo.antonio@gmail.com>

2022-10-04  Erhan Kurubas <erhan.kurubas@espressif.com>

	* : tcl/xtensa: some fixes at xtensa-core-esp32s2.cfg Some config changes required to run ESP32-S2 with full feature set Signed-off-by: Erhan Kurubas <erhan.kurubas@espressif.com>
	Change-Id: Ie0a742442254ec6e95d4e05be40213b079a94dab Reviewed-on:
	https://review.openocd.org/c/openocd/+/7253 Tested-by: jenkins
	Reviewed-by: Ian Thompson <ianst@cadence.com> Reviewed-by: Antonio
	Borneo <borneo.antonio@gmail.com>

2022-10-11  Tomas Vanek <vanekt@fbl.cz>

	* : tcl/target: fix rp2040-core0.cfg work area backup.  The work area should be backed up.  The flash probe runs an
	algorithm on the target CPU.  The flash is probed during gdb connect
	if gdb_memory_map is enabled (is enabled by default).  Without
	backup the target memory gets corrupted on gdb connect.  Change-Id: I3344b9dc6cbf904d49f3b05ab104b541d1d63422 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7257 Tested-by: jenkins
	Reviewed-by: Jonathan Bell <jonathan@raspberrypi.com>

2022-09-28  Tomas Vanek <vanekt@fbl.cz>

	* : target/hla_target: try to re-examine under reset in
	hl_assert_reset() An application often idling in real sleep mode may make a Cortex-M
	target hard to access as CPU clock are gated and debug requests are
	responded by WAIT ack.  Try to examine the target under reset as the last resort.  Change-Id: I7c3de39fb1e6c23b76e2a0a85ab75f23aac94c4d Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7229 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2021-11-23  Tomas Vanek <vanekt@fbl.cz>

	* : target/cortex_m: make reset robust again After merging [1] 'reset halt' does not work on not responding
	Cortex-M.  Relax the examined tests and try to set vector catch VC_CORERESET if
	debug_ap is available.  While on it add an info about examination state to debug logs.  Fixes: [1] commit 98d9f1168cbd ("target: reset target examined flag
	if target::examine() fails") Change-Id:
	Ie2e018610026180af5997d70231061a275f05c76 Signed-off-by: Tomas Vanek
	<vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6745 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-10-04  Daniel Goehring <dgoehrin@os.amperecomputing.com>

	* : target/adiv5: 64-bit TAR setup bugfix For 64-bit TAR setup, if 'tar_valid == false' perform the upper
	32-bit write even if the cached copy matches the upper TAR value to
	be written.  Signed-off-by: Daniel Goehring <dgoehrin@os.amperecomputing.com>
	Change-Id: I320377dc90a9d1d7b64cbb281b2527e56c7621ee Reviewed-on:
	https://review.openocd.org/c/openocd/+/7245 Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com> Tested-by: jenkins

2022-10-02  Daniel Anselmi <danselmi@gmx.ch>

	* : fix leaky file-handle in virtex2 driver Change-Id: I2784a66c42be71f2982dff7746f9fb2eb1dc8ca6 Signed-off-by:
	Daniel Anselmi <danselmi@gmx.ch> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7243 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-10-02  Daniel Anselmi <danselmi@gmx.ch>

	* : fix memory leak in virtex2 driver Change-Id: Ia08f7aaad25631132885acd5898477c1106f0ec4 Signed-off-by:
	Daniel Anselmi <danselmi@gmx.ch> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7235 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-09-28  Erhan Kurubas <erhan.kurubas@espressif.com>

	* : target/xtensa: rename pc and ps macro names Actually they are the base of epc and eps Signed-off-by: Erhan Kurubas <erhan.kurubas@espressif.com>
	Change-Id: I4f43b9609a9929399fb5d3fa0203efc8a98e94c9 Reviewed-on:
	https://review.openocd.org/c/openocd/+/7227 Tested-by: jenkins
	Reviewed-by: Ian Thompson <ianst@cadence.com> Reviewed-by: Antonio
	Borneo <borneo.antonio@gmail.com>

2022-09-14  Evgeniy Naydanov <evgeniy.naydanov@syntacore.com>

	* : Remove duplicate of a counter in hwthread_update_threads There is no need to count number of examined threads twice.  Signed-off-by: Evgeniy Naydanov <evgeniy.naydanov@syntacore.com>
	Change-Id: Id32ead853d1ddcd4e67062d6f795700feb20cb4b Reviewed-on:
	https://review.openocd.org/c/openocd/+/7223 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by:
	Tomas Vanek <vanekt@fbl.cz>

2022-09-21  Tomas Vanek <vanekt@fbl.cz>

	* : jtag/drivers/cmsis_dap: add LOG_DEBUG_IO to
	cmsis_dap_metacmd_targetsel Make write to DP_TARGETSEL is logged the similar way as other DP
	register read/writes.  While on it fix checkpatch message 'Concatenated strings should use
	spaces between elements' Change-Id: I98f724c984e8c4610cc461340f4c4a7cc9627ed9 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7219 Reviewed-by: Antonio
	Borneo <borneo.antonio@gmail.com> Reviewed-by: Jonathan Bell
	<jonathan@raspberrypi.com> Tested-by: jenkins

2022-10-02  Tomas Vanek <vanekt@fbl.cz>

	* : target/armv7m: prevent storing invalid register armv7m_start_algorithm() stored all non-debug execution registers
	from register cache without checking validity.  Check if the register cache is valid.  Try to read from CPU if not
	valid.  Issue a warning if register read fails.  Change-Id: I365f86d65243230cf521b13909575e5986a87a50 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7240 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by:
	Jonathan Bell <jonathan@raspberrypi.com>

2022-09-21  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor/rp2040: remove new line from error message Change-Id: Idf3bce842b4507c1f12692b5fbcd6730637de9db Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7216 Reviewed-by: Antonio
	Borneo <borneo.antonio@gmail.com> Reviewed-by: Jonathan Bell
	<jonathan@raspberrypi.com> Tested-by: jenkins

2022-09-21  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor/rp2040: check target halted before flash operation Flash read_id/erase/write operation on running target failed in
	target_run_algorithm() anyway. It generated lot of error messages.  Check the target state and bail out early if target is running.  Change-Id: I903f5f38c8e61016e5002b235e5f07803bd2ec4e Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7215 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by:
	Jonathan Bell <jonathan@raspberrypi.com>

2022-09-11  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor/rp2040: fix size of flash write buffer The size of the flash write buffer should be rounded down to the
	multiply of flash page size.  Using write chunks of unadjusted size
	results in write of chunks unaligned to flash pages.  Change-Id: If7931362ee193dff4dc2df7ec78f13530658cf08 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7187 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-09-11  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor/rp2040: preparatory refactoring Prepend stack_grab_and_prep() function name by rp2040_ prefix.  Introduce target helper variable in rp2040_stack_grab_and_prep() and
	use it instead of dereferencing bank->target several times.  Move flash ID reading code to the new rp2040_spi_read_flash_id()
	function.  Change-Id: I9d6e51e17e36e6230155a586065499f2f260089a Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7185 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-09-20  Tomas Vanek <vanekt@fbl.cz>

	* : target/adi_v5_swd: fix SWD multidrop Implementation of ADI v6 introduced banking of DP reg 0.  The
	accompanying change preventing DP SELECT write before DP IDR read
	during connect was added to swd_connect_single() only.  Unchanged
	swd_connect_multidrop() / swd_multidrop_select_inner() was broken as
	it emited DP SELECT and put DP to protocol error state.  Copy dap->select handling to swd_multidrop_select_inner().  Fixes: 72fb88613f02 (adiv6: add low level swd transport) Change-Id: I514cd6d9ae2ba97ce3657b459df22638c278a0b1 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7213 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by:
	Jonathan Bell <jonathan@raspberrypi.com>

2022-09-21  Daniel Goehring <dgoehrin@os.amperecomputing.com>

	* : target/target: read_memory 64-bit bugfix Increase "value_buf" size so it can hold a 64-bit number represented
	as a string. Previous size could only hold a 32-bit number string.  Signed-off-by: Daniel Goehring <dgoehrin@os.amperecomputing.com>
	Change-Id: If6fbc875236e6ddc59522fbc25db0129eb60ee27 Reviewed-on:
	https://review.openocd.org/c/openocd/+/7221 Tested-by: jenkins
	Reviewed-by: Tomas Vanek <vanekt@fbl.cz> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2022-09-19  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/riscv: fix use of uninitialized value Scan-build reports:         Logic error: Uninitialized argument value         riscv.c:2688 2nd function call argument is an uninitialized
	        value This is a real error cause by running the command "riscv
	authdata_write" without arguments. In such case 'value' is not
	initialized and is passed to and used by r->authdata_write().  Reorganize the code to: - detect the correct amount or command's arguments; - drop the LOG_ERROR() on ERROR_COMMAND_SYNTAX_ERROR; - drop the 'else' after 'return'.  Change-Id: I62e031220593b8308bc674b753e15d16d4c5c9ac Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7210 Tested-by: jenkins
	Reviewed-by: Jan Matyas <matyas@codasip.com> Reviewed-by: Tim
	Newsome <tim@sifive.com>

2022-09-19  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/riscv: fix dead assignment Scan-build reports:         Unused code: Dead nested assignment         riscv.c:459 Although the value stored to 'ir_user4_raw' is                 used in the enclosing expression, the value is                 never actually read from 'ir_user4_raw' This is caused by the value reassigned in 'ir_user4_raw':         riscv.c:459 ir_user4[3] = (uint8_t)(ir_user4_raw >>= 8); but
	never used.  Drop the DIY conversion in favor of h_u32_to_le() that does not
	reassign the input value.  Change-Id: Ifad29f4c46d4a2d0a2f5a5c4104d768cc3db2794 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7208 Reviewed-by: Tim Newsome
	<tim@sifive.com> Reviewed-by: Jan Matyas <matyas@codasip.com>
	Tested-by: jenkins

2022-09-19  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/riscv-013: fix unused initialization Scan-build reports:         Unused code: Dead initialization         riscv-013.c:2362 Value stored to 'control' during its                 initialization is never read Remove the initialization of variable 'control'.  Change-Id: I548f8175530b9a2aa4c1788549d6467bf9824584 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7206 Reviewed-by: Tim Newsome
	<tim@sifive.com> Reviewed-by: Jan Matyas <matyas@codasip.com>
	Tested-by: jenkins

2022-09-19  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/dsp563xx: fix scan-build warning Scan-build triggers a warning:         Unix API: Allocator sizeof operand mismatch         dsp563xx.c:2143 Result of 'calloc' is converted to a pointer                 of type 'uint8_t', which is incompatible with sizeof                  operand type 'uint32_t' It's a false positive because calloc() is properly used in this
	case, as the uint8_t array is used in blocks of 4 elements to read
	or write uint32_t values.  Either         calloc(sizeof(uint32_t), count); and         malloc(count * sizeof(uint32_t)); keep triggering the same
	warning.  Drop the warning by using the constant '4' as size of uint32_t, as
	already used few lines below.  Change-Id: I5bb1ece177774eefdc5d9cd049338f8f2be87cd7 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7203 Tested-by: jenkins
	Reviewed-by: Andreas Fritiofson <andreas.fritiofson@gmail.com>

2022-09-19  Antonio Borneo <borneo.antonio@gmail.com>

	* : doc: fix copyright dates The copyright date for OpenOCD project has never been updated.  Add the range till current year.  Change-Id: I42c7e3b2bf2e3a486bf836d063460dfa7b40d24d Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7201 Tested-by: jenkins

2022-09-18  Paul Fertser <fercerpav@gmail.com>

	* : Restore +dev suffix Signed-off-by: Paul Fertser <fercerpav@gmail.com>

2022-08-30  Antonio Borneo <borneo.antonio@gmail.com>

	* : openocd: fix SPDX tag format for files .c With the old checkpatch we cannot use the correct format for the
	SPDX tags in the file .c, in fact the C99 comments are not allowed
	and we had to use the block comment.  With the new checkpatch, let's switch to the correct SPDX format.  Change created automatically through the command:         sed -i \         's,^/\* *\(SPDX-License-Identifier: .*[^ ]\) *\*/$,// \1,' \         $(find src/ contrib/ -name \*.c) Change-Id: I6da16506baa7af718947562505dd49606d124171 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7153 Tested-by: jenkins

2022-06-12  Antonio Borneo <borneo.antonio@gmail.com>

	* : checkpatch: fix path of documentation In OpenOCD documentation is in folder "doc".  Fix search path of
	'checkpatch.rst'.  This file is used to provide verbose explanation
	of failing checks while using command line flag '-v'.  Change-Id: Id864369d371cbd5a24e76bf90c54ff03159051c3 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7022 Tested-by: jenkins

2021-04-17  Antonio Borneo <borneo.antonio@gmail.com>

	* : checkpatch: enable CAMELCASE test OpenOCD has to deal with CamelCase API, mainly from inttypes.h,
	jimtcl, libusb and Windows.  Modify checkpatch script to load from a file the list of allowed
	CamelCase symbols.  Populate the file 'camelcase.txt' with the
	symbols that OpenOCD has to get from external library, plus some of
	the symbols that should be fixed later.  Enable CAMELCASE test in
	configuration script.  Add generated files to .gitignore.  Remove
	the check for 'known' CamelCase symbols from include folder as this
	will not work on OpenOCD Jenkins, as it run checkpatch on already
	patched code.  Change-Id: I0415af673ed9f985394405ff8f1eeec81135410a Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6170 Tested-by: jenkins

2019-05-06  Antonio Borneo <borneo.antonio@gmail.com>

	* : checkpatch: increase the max indentation level OpenOCD uses longer lines (120 char vs 100) and smaller tab size (4
	char vs 8) wrt Linux kernel coding style.  Clearly deep level of
	indentation is bad for code readability, but let's be more
	permissive on the indentation level.  Change-Id: I16cf0b761145ec6072509dc26bb09c693e89e608 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6167 Tested-by: jenkins

2020-04-26  Antonio Borneo <borneo.antonio@gmail.com>

	* : checkpatch: check for SPDX tags of licenses in use Fix the patch of the external helper spdxcheck.py accordingly to
	OpenOCD folder structure.  List only the current LICENSES subfolders
	in spdxcheck.py .  Enable the check for SPDX headers.  Extend the
	check for TCL and Makefile.am files.  Change-Id: I0a40da0127746217ee0ac416058d5ceb922428ff Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/5608 Tested-by: jenkins

2019-04-21  Paul Fertser <fercerpav@gmail.com>

	* : checkpatch: fix check for the FSF address Replace s/Linux/OpenOCD/ in the message about FSF address.  This is part of the old commit a9a5c17cf5e1 ("checkpatch: fix check
	for the FSF address").  Change-Id: I79b79769ef723f86690862277612ea8ab7855c07 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Signed-off-by: Antonio Borneo
	<borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/5128 Tested-by: jenkins

2019-04-10  Antony Pavlov <antonynpavlov@gmail.com>

	* : checkpatch: check for OpenOCD tree, not for kernel tree checkpatch.pl looks for Linux kernel specific paths and files to
	check source tree. As openocd misses kernel files it ends with this
	error message:         Must be run from the top-level dir. of a kernel tree This patch also renames 'kernel' -> 'openocd' in source tree-related
	messages.  This is the old commit c5d89883165e ("checkpatch.pl: check for
	openocd tree, not for kernel tree") re-applied.  Also remove the
	flag "--no-tree" from .checkpatch.conf, not required anymore.  Change-Id: I336a66558c75494b7ae339ea63559c31f23aad84 Signed-off-by:
	Antony Pavlov <antonynpavlov@gmail.com> Signed-off-by: Antonio
	Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/5122 Tested-by: jenkins

2013-10-26  Paul Fertser <fercerpav@gmail.com>

	* : checkpatch: treat jenkins as valid email This is needed to avoid checkpatch barking on already committed
	patches.  This is the old commit cadd51971535 ("checkpatch: treat jenkins as
	valid email") re-applied.  Remove the flag BAD_SIGN_OFF, not anymore needed.  Change-Id: I6744f80de982f7934f3a5197ac2df1c29962cbd0 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Signed-off-by: Antonio Borneo
	<borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/5120 Tested-by: jenkins

2022-06-11  Antonio Borneo <borneo.antonio@gmail.com>

	* : checkpatch: add variable $OpenOCD The script checkpatch.pl require some adaptation for OpenOCD that
	cannot be achieved through the config file .checkpatch.conf; the
	script's code has to be modified.  To merge new version of the
	script from Linux kernel it becomes relevant highlighting the
	changes, while minimizing the diff wrt the initial script.  Add the perl variable '$OpenOCD' and suggest how to highlight
	changes.  Change-Id: Ia8d26426850008f0465858a1d84cc774bc1146ed Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7021 Tested-by: jenkins

2019-04-16  Antonio Borneo <borneo.antonio@gmail.com>

	* : checkpatch: import new script version from kernel v6.0-rc3 Replace existing checkpatch script with the one available in the
	latest Linux kernel.  Add also from the same kernel version the
	spelling database and the script spdxcheck.py, even if the script
	cannot be found by checkpatch in the current path.  Add an empty
	"const_structs.checkpatch" file and an initial "spdxexclude" file.  The script as is doesn't work properly in OpenOCD project.  Further
	patches in this series are required.  Gerrit will use the checkpatch in this commit to test/build the
	commit itself. A minimal configuration file is then required to
	avoid a failure in the test/build process.  This commit includes the OpenOCD commits: commit 164450a01576
	("Change checkpatch.pl tab expanding to 4 characters.") commit
	667d510dabd5 ("checkpatch: fix false indent trigger") already merged
	in upstream checkpatch in kernel v6.0-rc3.  Change-Id: Ic9cdecff2df0a1e23cdb01d10f14c5988480b8d6 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/5116 Tested-by: jenkins

2022-09-15  Ian Thompson <ianst@cadence.com>

	* : target/xtensa: fix clang analyzer warning Reworked xtensa_queue_exec_ins_wide() logic to properly handle
	endian issues while executing arbitrary instructions.  Signed-off-by: Ian Thompson <ianst@cadence.com> Change-Id:
	I5752dd254ce8b8822886ffc7edecaa242a93cce8 Reviewed-on:
	https://review.openocd.org/c/openocd/+/7198 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-09-07  Tim Nordell <tnordell@airgain.com>

	* : rtos: Support looking up .lto_priv.0 appended to symbol name When FreeRTOS (at least) is compiled with -flto, this leaves certain
	static symbols with .lto_priv.0 appended to their name.  Arguably
	this could be considered to be a gdb or gcc bug, but one place to
	resolve it for OpenOCD usage is here at symbol lookup time.  Note that the ".0" is for the first such instance of the variable as
	a static; additional ones would end up as ".1", ".2", etc, and are
	not considered here.  Signed-off-by: Tim Nordell <tnordell@airgain.com> Change-Id:
	I03580b45e8ea364392ef4e05c96276416b390cb0 Reviewed-on:
	https://review.openocd.org/c/openocd/+/7179 Tested-by: jenkins
	Reviewed-by: Tomas Vanek <vanekt@fbl.cz> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2022-09-07  Tim Nordell <tnordell@airgain.com>

	* : rtos: Create a new helper function find_symbol(...) This will be utilized for an upcoming refactorization to support
	-flto compiled programs.  Signed-off-by: Tim Nordell <tnordell@airgain.com> Change-Id:
	Id523c0b3ac2dad8b248ea0d2cac7b4dd2f83d293 Reviewed-on:
	https://review.openocd.org/c/openocd/+/7177 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-09-14  Toms St≈´rmanis <toms.sturmanis@gmail.com>

	* : flash/nor/rsl10: Check return value Change-Id: Id1ad72e74d6a1bddc4dfe46dcf715ef74e19a27f Signed-off-by:
	Toms St≈´rmanis <toms.sturmanis@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7194 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by:
	Tomas Vanek <vanekt@fbl.cz>

2022-09-10  Antonio Borneo <borneo.antonio@gmail.com>

	* : mips64: remove empty mips_mips64_soft_reset_halt() The method soft_reset_halt is optional; no need to add an empty
	function.  Remove mips_mips64_soft_reset_halt() and move the TODO comment in
	struct target_type.  Change-Id: Id541a75e7a08645568961d59b73a120c2238701f Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7184 Tested-by: jenkins
	Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2018-06-24  Paul Fertser <fercerpav@gmail.com>

	* : tcl: board: mini2440: fix to work with the current version Change-Id: I5cf3ab09dbf100d40ce40a4599cd8d2af18a5567 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Signed-off-by: Antonio Borneo
	<borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/4574 Tested-by: jenkins

2022-08-14  Steve Marple <stevemarple@googlemail.com>

	* : drivers/bcm2835gpio: Add support for activity LED Signed-off-by: Steve Marple <stevemarple@googlemail.com> Change-Id:
	I472385753507167c93328b9b4dc62d5d61c86f74 Reviewed-on:
	https://review.openocd.org/c/openocd/+/7124 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-06-25  Steve Marple <stevemarple@googlemail.com>

	* : drivers/bcm2835gpio: Release resources on error and when
	quitting The /dev/mem file descriptor can be closed without invalidating the
	mappings so close as soon as possible.  munmap() all memory, either on error or from quit.  Signed-off-by: Steve Marple <stevemarple@googlemail.com> Change-Id:
	I2b6a8365f554e332520fa77ccf076188083a932f Reviewed-on:
	https://review.openocd.org/c/openocd/+/7122 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-09-08  Antonio Borneo <borneo.antonio@gmail.com>

	* : src/jtag/drivers/ep93xx: fix GCC 12 warning New GCC reports 5 warning: src/jtag/drivers/ep93xx.c: In function 'set_gonk_mode':
	src/jtag/drivers/ep93xx.c:123:47: warning: pointer of type 'void *'
	  used in arithmetic [-Wpointer-arith] 123 |         devicecfg =
	      *((volatile int *)(syscon + 0x80)); |
	^ src/jtag/drivers/ep93xx.c:124:35: warning: pointer of type 'void
	  *' used in arithmetic [-Wpointer-arith] 124 |         *((volatile
	      int *)(syscon + 0xc0)) = 0xaa; |                                   ^
	src/jtag/drivers/ep93xx.c:125:35: warning: pointer of type 'void *'
	  used in arithmetic [-Wpointer-arith] 125 |         *((volatile int
	      *)(syscon + 0x80)) = devicecfg | 0x08000000; |
	^ src/jtag/drivers/ep93xx.c: In function 'ep93xx_init':
	src/jtag/drivers/ep93xx.c:182:46: warning: pointer of type 'void *'
	  used in arithmetic [-Wpointer-arith] 182 |
	      gpio_data_register = gpio_controller + 0x08; |
	^ src/jtag/drivers/ep93xx.c:183:56: warning: pointer of type 'void
	  *' used in arithmetic [-Wpointer-arith] 183 |
	      gpio_data_direction_register = gpio_controller + 0x18; |
	^ Change pointer type to allow pointer arithmetic.  Change-Id: Idd78a7156bdf99df2624043e924b8e54a0588ace Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7180 Tested-by: jenkins
	Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2022-09-06  Antonio Borneo <borneo.antonio@gmail.com>

	* : openocd: fix for polling during "expr" computation Commit c7eaaf620488 ("openocd: prepare for jimtcl 0.81 'expr' syntax
	change") replaces the jimtcl command "expr" with an openocd version
	that detects the TCL syntax change and prints a warning.  The
	openocd "expr" command will be dropped after v0.12.0, One side effect is that openocd invokes polling the target after
	every openocd command, causing scripts that use several "expr"
	commands to run much slower; see [1].  The proper fix would require openocd to invoke polling only at the
	time period deadline, instead of at each command. Such fix is too
	risky to be applied now, due to short time before v0.12.0-rc1.  As a temporarily workaround, let openocd to detect the "expr"
	command and skip the polling.  This will be dropped together with
	the openocd "expr" command.  Change-Id: I8151aa28694817001046165a15475d64896f985e Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Fixes:
	https://sourceforge.net/p/openocd/tickets/362/ [1] Fixes:
	c7eaaf620488 ("openocd: prepare for jimtcl 0.81 'expr' syntax
	change") Reviewed-on: https://review.openocd.org/c/openocd/+/7174
	Tested-by: jenkins Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2022-09-06  Antonio Borneo <borneo.antonio@gmail.com>

	* : flash/nor: move variable's declaration in C file Variables should not be declared in the include file, otherwise
	multiple include will cause multiple instances.  Move the declaration in the C file and make it static.  Change-Id: I8b4884cba643a792a78df4e123aa324b19d92279 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7172 Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Tested-by: jenkins

2022-09-06  Antonio Borneo <borneo.antonio@gmail.com>

	* : riscv: don't export local symbols Symbols that are not used outside the file should not be exported
	and should be declared as static.  Move the existing comments to the
	static declarations.  Change-Id: Idf208e3fda4b3f8df789553cf03ebf5f20d811bb Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7170 Reviewed-by: Jan Matyas
	<matyas@codasip.com> Reviewed-by: Tim Newsome <tim@sifive.com>
	Tested-by: jenkins

2022-09-05  Antonio Borneo <borneo.antonio@gmail.com>

	* : target: make local symbols static Symbols that are not exported should be declared as static.  Change-Id: I2475524f4c14520e3163572560f4a9f276356ed5 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7168 Tested-by: jenkins
	Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2022-09-05  Antonio Borneo <borneo.antonio@gmail.com>

	* : riscv: make local symbols static Symbols that are not exported should be declared as static.  Change-Id: Ie3bd17535c8cb2a0fec5d3bedfe7de3e0a702613 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7166 Tested-by: jenkins
	Reviewed-by: Tim Newsome <tim@sifive.com> Reviewed-by: Jan Matyas
	<matyas@codasip.com>

2022-09-06  Antonio Borneo <borneo.antonio@gmail.com>

	* : log: remove unused set_log_output() The function set_log_output() has never been used after the drop of
	eCos build with commit 39650e2273bc ("ecosboard: delete bit-rotted
	eCos code") in 2012.  Drop it! Change-Id: I070b688061776c7ced5db18f738d78a4a7623726 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7164 Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Tested-by: jenkins

2022-07-03  Erhan Kurubas <erhan.kurubas@espressif.com>

	* : tcl/board: add ESP32 config for ESP USB Bridge board Signed-off-by: Erhan Kurubas <erhan.kurubas@espressif.com>
	Change-Id: Ie1a56a398052f6f0e0eb2fe96777effeb59918f6 Reviewed-on:
	https://review.openocd.org/c/openocd/+/7076 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-08-25  Ian Thompson <ianst@cadence.com>

	* : target/xtensa: DAP-based Xtensa config files - Config files for DAP/JTAG and DAP/SWD systems - Xtensa core config definitions for NXP RT685 with Xtensa HiFi DSP Signed-off-by: Ian Thompson <ianst@cadence.com> Change-Id:
	I9c3280052073d86e09c7553de661eb8662a95c4a Reviewed-on:
	https://review.openocd.org/c/openocd/+/7145 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-08-11  Toms St≈´rmanis <toms.sturmanis@gmail.com>

	* : src/flash/nor: flash driver for RSL10 Add new flash driver for internal flash of onsemi RSL10 device.  Valgrind-clean. Clang AddressSanitizer shows no errors.  Signed-off-by: Toms St≈´rmanis <toms.sturmanis@gmail.com> Change-Id:
	I8030542cb9805e94f56d7a69404cef5d88d6dd5a Reviewed-on:
	https://review.openocd.org/c/openocd/+/7115 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by:
	Tomas Vanek <vanekt@fbl.cz>

2022-08-31  Antonio Borneo <borneo.antonio@gmail.com>

	* : contrib: add GPL license tag on files that miss it Some file miss completely the license tag.  Add the SPDX tag, using the same GPL-2.0-or-later license of the
	OpenOCD project.  The SPDX tag on files *.c is incorrect, as it should use the C99
	single line comment using '//'. But current checkpatch doesn't allow
	C99 comments, so keep using standard C comments, by now.  Change-Id: I24bd362eeb6b74f09aceb9b757d45cbfa4afe334 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7160 Tested-by: jenkins

2022-08-30  Antonio Borneo <borneo.antonio@gmail.com>

	* : contrib: replace the BSD-3-Clause license tag Replace the BSD-3-Clause boilerplate with the SPDX tag.  Add the
	SPDX tag and the copyright to two makefiles that were added by TI
	with the other files in their respective folder.  The SPDX tag on files *.c is incorrect, as it should use the C99
	single line comment using '//'. But current checkpatch doesn't allow
	C99 comments, so keep using standard C comments, by now.  Change-Id: I3ad1b2dbdb6054b74dcc26e394c9223ba0427caf Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7158 Tested-by: jenkins

2022-08-30  Antonio Borneo <borneo.antonio@gmail.com>

	* : openocd: fix syntax of SPDX tags Put the SPDX tag alone in a comment in the first line of the file.
	Replace the obsolete GPL-2.0+ tag The SPDX tag on files *.c is incorrect, as it should use the C99
	single line comment using '//'. But current checkpatch doesn't allow
	C99 comments, so keep using standard C comments, by now.  Change-Id: Ia91b0f7da42c439b6340bbe81983b86b68f6d65c Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7156 Tested-by: jenkins

2022-08-30  Antonio Borneo <borneo.antonio@gmail.com>

	* : openocd: remove recently added CamelCase symbols Without the help of checkpatch, some CamelCase symbol passed through
	the filter of maintainer's review.  Drop them.  Change-Id: If5fb07b2ffb89e853dd2a61f20d4134aa6e20d24 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Fixes: 48f267d4adea
	("flash/stm32l4x: avoid using magic numbers for device ids") Fixes:
	5ab74bde0654 ("semihosting: User defined operation, Tcl command exec
	on host") Reviewed-on: https://review.openocd.org/c/openocd/+/7154
	Tested-by: jenkins

2022-08-27  Antonio Borneo <antonio.borneo@st.com>

	* : jep106: update to revision JEP106BE Jan 2022 Change-Id: I687c653517133c114a66f628cce58178ce6707cd Signed-off-by:
	Antonio Borneo <antonio.borneo@st.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7148 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-08-22  Antonio Borneo <borneo.antonio@gmail.com>

	* : jtag/vdebug: remove BSD-2-Clause boilerplate The full text of the license is already available in the file         LICENSES/preferred/BSD-2-Clause and there is no need to
	replicate it in the source code.  Remove the BSD-2-Clause boilerplate but, preserved the copyright
	notice because it provides the info on the copyright holder.  Change-Id: I162aa4ad06b551f1a71a28d049cb797ee8ab5a01 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7146 Tested-by: jenkins
	Reviewed-by: Jacek Wuwer <jacekmw8@gmail.com>

2022-08-25  Erhan Kurubas <erhan.kurubas@espressif.com>

	* : server: add function to get openocd shutdown status In the app-trace module we are polling the target in the while loops
	outside of the server.c In that loops, we need to catch ctrl+c
	signal by checking shutdown_openocd status Signed-off-by: Erhan Kurubas <erhan.kurubas@espressif.com>
	Change-Id: Id87c709a01470bf6d3642078b160a68ca85f4406 Reviewed-on:
	https://review.openocd.org/c/openocd/+/7142 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-08-20  iysheng <iyysheng@gmail.com>

	* : target/arm: Add support with identify STAR-MC1 Tested with an PLUS-F5270 board which uses the MM32F5277E9PV.  Signed-off-by: iysheng <iyysheng@gmail.com> Change-Id:
	Icb75ae8337fdc6fa60e39d3d74dd8bc163707bdd Reviewed-on:
	https://review.openocd.org/c/openocd/+/7136 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-07-08  Tim Newsome <tim@sifive.com>

	* : target/riscv: Update with latest encoding from riscv-opcodes This gets us a clearly labeled BSD-3-Clause header, which should be
	compatible with OpenOCD and Fedora, and also make it clear what the
	license actually is.  See https://github.com/riscv/riscv-openocd/pull/710,
	https://github.com/riscv/riscv-openocd/pull/713, and
	https://github.com/riscv/riscv-openocd/pull/717.  Change-Id: I992b4f3bb230edb9f281e2278dd41c712098ed4c Signed-off-by:
	Tim Newsome <tim@sifive.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7084 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-08-17  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor/bluenrg-x: clarify target algo stack usage While on it rename misleading write_algorithm_sp to
	write_algorithm_stack and change messages referring 'stack pointer'
	instead of stack.  No functional change.  Change-Id: Ibb9897d3f01734812ed0f8bc8cd43b935a573f8a Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7132 Tested-by: jenkins
	Reviewed-by: Salvatore Giorgio Pecorino
	<salvatore-giorgio.pecorino@st.com> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2022-08-16  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor/core: remove unused define FLASH_MAX_ERROR_STR is not used since commit 815c3b353307 (merged in
	~2008) Change-Id: Ic117a2e3d22235c31dc14533b6564ebf5a13ae58 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7121 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-05-05  Antonio Borneo <borneo.antonio@gmail.com>

	* : doc: how to use QEMU to test big-endian build Document the process of using buildroot to build a big-endian binary
	of OpenOCD and using QEMU User Mode Emulation for running the
	big-endian binary on a little-endian host PC.  Change-Id: Ic5fe26e353a4cf69e57af3c23ae7fa4b25347b2b Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6968 Tested-by: jenkins
	Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2022-04-23  Antonio Borneo <borneo.antonio@gmail.com>

	* : tcl/target: stm32[fl]4x: document the settings for trace While reviewing on gerrit the change         https://review.openocd.org/6932/ it get clear that the
	missing documentation on stm32f4x's code was triggering errors in
	the new change.  OpenOCD is currently unable to read traces, but these can be
	hopefully be read with some other tool.  Document the settings for enabling trace on stm32[fl]4x.  Change-Id: Ibae77a53de16375d3d500e728678740095547009 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6945 Tested-by: jenkins
	Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2022-08-02  Tomas Vanek <vanekt@fbl.cz>

	* : jtag/drivers/kitprog: workaround serious firmware problem Since commit 88f429ead019fd6df96ec15f0d897385f3cef0d0 5321:
	target/cortex_m: faster reading of all CPU registers debugging with
	a kitprog adapter freezes at debug entry.  How to replicate:  openocd -f interface/kitprog.cfg -f target/psoc4.cfg Connect to telnet server.  Make sure the target is running:  resume Halt the target:  halt Without this patch OpenOCD freezes in kitprog_hid_command() in
	library call hid_write().  Reduce the number of SWD transactions sent in one USB bulk write as
	a workaround, simply use shorter buffer.  For details see the
	comment in src/jtag/drivers/kitprog.c Change-Id: I0116894d5ebf1655f6011f0d35acdbbc178cd48c Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7107 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2021-08-07  Paul Fertser <fercerpav@gmail.com>

	* : flash: nor: use binary prefixes consistently When printing memory sizes standard ISO 80000-1 prefixes should be
	used.  Also a space should be added between any number and its unit
	according to papers publication rules.  Change-Id: Id1d35e210766b55c201de4e80ac165d8d0414d0a Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Signed-off-by: Tomas Vanek
	<vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6416 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-07-10  Ian Thompson <ianst@cadence.com>

	* : Generic Xtensa target config files - Add new Xtensa TCL board files - Add new Xtensa KC705 on-board FTDI interface - Add new generic Xtensa and VDebug Xtensa target files Signed-off-by: Ian Thompson <ianst@cadence.com> Change-Id:
	I4acb15c83d1b7b8e6063833ce829530cb22a795e Reviewed-on:
	https://review.openocd.org/c/openocd/+/7083 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-01-20  Jae Hyun Yoo <quic_jaehyoo@quicinc.com>

	* : tcl/interface: add linuxgpiod cfg for Aspeed AST2600 Add linuxgpiod cfg for Aspeed AST2600 for a case if JTAG master
	needs to be implemented using linuxgpiod intead of hardware JTAG
	master mode.  These AST2600 GPIOs will be mapped to JTAG/SWD signals.
	+-----------+-------------+-------------+ | signal    | GPIO name
	| gpio offset | +-----------+-------------+-------------+ |
	TCK/SWCLK | GPIOI2      | 66          | | TMS/SWDIO | GPIOI3      |
	67          | | TDI       | GPIOI1      | 65          | | TDO
	| GPIOI4      | 68          | | nTRST     | GPIOI0      | 64
	| +-----------+-------------+-------------+ Signed-off-by: Jae Hyun Yoo <quic_jaehyoo@quicinc.com> Change-Id:
	I19278402b0895be12d38c0ecea8fdbc56fd491b8 Reviewed-on:
	https://review.openocd.org/c/openocd/+/7112 Reviewed-by: Antonio
	Borneo <borneo.antonio@gmail.com> Tested-by: jenkins

2022-06-04  MadSquirrel <benoit.forgette@ci-yow.com>

	* : server/gdb_server: Add support for default thread, use by IDA
	debugger Signed-off-by: Benoit Forgette <benoit.forgette@ci-yow.com>
	Change-Id: Ia3a29a3377be650f0ccad11a0ae4fe4da78b3ab4 Reviewed-on:
	https://review.openocd.org/c/openocd/+/7017 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-08-02  Erhan Kurubas <erhan.kurubas@espressif.com>

	* : target/espressif: remove author lines from esp32xx and xtensa
	files Some files have author info some doesn't. For the consistency we
	removed all.  Signed-off-by: Erhan Kurubas <erhan.kurubas@espressif.com>
	Change-Id: Ie6f1ec012302e3a954c75c5106f12820722cb715 Reviewed-on:
	https://review.openocd.org/c/openocd/+/7104 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-06-22  Steve Marple <stevemarple@googlemail.com>

	* : drivers/am335xgpio: Release resources on error and when quitting The /dev/mem file descriptor can be closed without invalidating the
	mappings so close as soon as possible.  munmap() all memory, either on error or from quit.  Change-Id: I9466edd2f43791e64f2dce719957c67728f3ec06 Signed-off-by:
	Steve Marple <stevemarple@googlemail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7047 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-05-04  Steve Marple <stevemarple@googlemail.com>

	* : jtag/adapter: Add command 'adapter gpio' Most adapters define their own commands to obtain the GPIO number
	and other GPIO configuration information such as chip number, output
	drive type, active high/low.  Define a general command 'adapter gpio' as replacement for the
	driver-specific ones.  Change-Id: I1ca9ca94f0c7df5713172e9f62ffb0ad64e9ee97 Signed-off-by:
	Steve Marple <stevemarple@googlemail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6967 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-08-02  Erhan Kurubas <erhan.kurubas@espressif.com>

	* : loaders/reset/espressif: replace the GPL-2.0-or-later license
	tag Replace the FSF boilerplate with the SPDX tag.  Signed-off-by: Erhan Kurubas <erhan.kurubas@espressif.com>
	Change-Id: Iddccae2bd8906a3587a2aa2684124356a340fc74 Reviewed-on:
	https://review.openocd.org/c/openocd/+/7105 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-08-01  Ian Thompson <ianst@cadence.com>

	* : gdb_server: support sparse register maps Add additional error handling for targets where gaps may exist in
	reg_list[] Signed-off-by: Ian Thompson <ianst@cadence.com> Change-Id:
	I65232429e2de08f5d54eeca53aea0db8ce2b58af Reviewed-on:
	https://review.openocd.org/c/openocd/+/7103 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-05-30  Antonio Borneo <borneo.antonio@gmail.com>

	* : target: add API to temporarily mask target polling The same flag 'jtag_poll' is currently used as local data for the
	command 'poll' and to temporarily mask the target polling.  This can
	cause unexpected behavior if the command 'poll' is executed while
	polling is temporarily masked.  Add a new flag 'jtag_poll_en' to hold the temporarily mask condition
	and keep 'jtag_poll' for the 'poll' command only.  While there, change the initial assignment of 'jtag_poll' using the
	proper boolean value.  Change-Id: I18dcf7c65b07aefadf046caaa2fcd2d74fa6fbae Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7009 Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Tested-by: jenkins

2022-05-26  Erhan Kurubas <erhan.kurubas@espressif.com>

	* : adapter: run at default speed when clock speed not specified Signed-off-by: Erhan Kurubas <erhan.kurubas@espressif.com>
	Change-Id: I8d2db4a1f618790907265a45d28a212551800b6c Reviewed-on:
	https://review.openocd.org/c/openocd/+/7004 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by:
	Tomas Vanek <vanekt@fbl.cz>

2022-07-18  Tim Newsome <tim@sifive.com>

	* : target/riscv: Update debug_defines.h.  This one doesn't have the license in there, which means now it's
	acceptable to GPLv2 again.  See https://github.com/riscv/riscv-openocd/pull/711 Change-Id: I8ba27801172ffa955470d2627fa656cad282ee99 Signed-off-by:
	Tim Newsome <tim@sifive.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7087 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-08-01  Tomas Vanek <vanekt@fbl.cz>

	* : target/arm: make 'arm core_state' command compatible with
	Cortex-M Tcl command 'arm core_state' was exposed even on Cortex-M devices.
	However it returned message "Unsupported Command" without error
	status on such device.  Set the only possible arm->core_state ARM_STATE_THUMB in armv7m
	init.  Block setting core_state to arm on Cortex-M.  Change-Id: I9525553ac8863a6cf77bbacbcd57e354b6cfe1ca Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7100 Reviewed-by: Antonio
	Borneo <borneo.antonio@gmail.com> Tested-by: jenkins

2022-05-26  Tomas Vanek <vanekt@fbl.cz>

	* : target: move parent target structs just after common_magic Just a cosmetic refactoring.  Change-Id: I7fbc05324e346fafc98d1b42691d33d3d8fbd04e Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7003 Reviewed-by: Antonio
	Borneo <borneo.antonio@gmail.com> Tested-by: jenkins

2022-05-26  Tomas Vanek <vanekt@fbl.cz>

	* : target: consolidate existing target/algo common_magic Unify common_magic type to unsigned int Move common_magic to be the
	first member of the struct Add unsigned specifier to
	xxx_COMMON_MAGIC #defines Change-Id: If961d33232698529514ba3720e04418baf6dc6fe Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6996 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-07-30  Tomas Vanek <vanekt@fbl.cz>

	* : target: fix unaligned return of target_get_working_area_avail() The working area allocation routines use 4 byte word alignment.  In
	the corner case the size of the working area is not aligned,
	target_alloc_working_area() of size =
	target_get_working_area_avail() will fail because the size gets
	aligned up and does not fit to the area which size is aligned down.  Align down the result of target_get_working_area_avail() to cope
	with that corner case.  While on it use fancy ALIGN_... macros instead of bitwise and
	operator.  Change-Id: Ia2a1e861c401c2c78fe6323379a3776fb4f47b06 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7096 Tested-by: jenkins
	Reviewed-by: Erhan Kurubas <erhan.kurubas@espressif.com>
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-04-17  Frank Dischner <frank.dischner@gmail.com>

	* : FreeRTOS: Always show current execution before scheduler is
	started Previously, if the target was halted before the FreeRTOS scheduler
	was started but after at least one thread was created, then the
	current thread would be set to whichever thread had the highest
	priority. In addition to being misleading, because that thread is
	not actually running, it can cause issues with gdb. For instance,
	breaking somewhere before the first thread is created will show the
	current execution as the current thread, but stepping over a line
	that creates a thread will cause the current thread to switch to the
	newly created thread and the current execution to disappear. The
	sudden disappearance of the current execution thread seems to
	confuse some versions of gdb.  With this change, the value of xSchedulerRunning is checked to
	determine whether the scheduler has been started. If it hasn't, then
	a fake 'current execution' thread is always created and made the
	current thread.  Signed-off-by: Frank Dischner <frank.dischner@gmail.com> Change-Id:
	Ide0fe7d9ffb9fac95cee4c805735f434c7c4934d Reviewed-on:
	https://review.openocd.org/c/openocd/+/6935 Tested-by: jenkins
	Reviewed-by: Asier Llano <asierllano@gmail.com> Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2022-08-01  Tomas Vanek <vanekt@fbl.cz>

	* : target/cortex_a: remove unused CORTEX_A15_COMMON_MAGIC Change-Id: I7dddc6cb7b0ee8aec7164998f1124b522e899f3d Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reported-by: Antonio Borneo
	<borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7099 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-05-26  Tomas Vanek <vanekt@fbl.cz>

	* : target/riscv: add common magic Add common_magic member to struct riscv_info.  Introduce is_riscv()
	helper.  Change-Id: I1af05988ad869342ba5dc6d4d0ba0ec6a8bf7bc7 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6999 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by:
	Tim Newsome <tim@sifive.com>

2021-10-05  Ben Bender <benjbender@gmail.com>

	* : arm_adi_v5: Adding Nuvoton NPCX quirk We found that the NPCX has an issue with the byte lanes so that non
	byte aligned writes aren't working. To overcome this, for byte
	accesses we copy the byte to be written to all of the byte lanes.  doc: Document command nu_npcx_quirks Signed-off-by: benjbender <benjbender@gmail.com> [Andreas
	Fritiofson: Squashed commits] Signed-off-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Change-Id:
	I9ef63bf692f4e68f57459e1ec33f3abcbf533cd2 Reviewed-on:
	https://review.openocd.org/c/openocd/+/6630 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-07-03  Erhan Kurubas <erhan.kurubas@espressif.com>

	* : target/semihosting: export semihosting_common_handlers[] from
	header file Signed-off-by: Erhan Kurubas <erhan.kurubas@espressif.com>
	Change-Id: I4add0c1dc7888497ee90fd02754607a16434b66f Reviewed-on:
	https://review.openocd.org/c/openocd/+/7075 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2021-04-26  Antonio Borneo <borneo.antonio@gmail.com>

	* : helper/jim-nvp: avoid camelcase error by deprecated API Commit b8e18d292eb6 ("helper/jim-nvp: comply with coding style
	[1/2]") tags as deprecated the old CamelCase API of jim-nvp, so that
	old patches already in gerrit or in user's local git can still build
	while dumping a deprecated message.  So far, we have not found any such case, so the deprecated API can
	be safely dropped in preparation of v0.12.0-rc1.  Drop the compile flag "-Wno-error=deprecated-declarations" and the
	deprecated API.  Change-Id: I52ce47eda69a51c2dd29aac15f16e285492d89b4 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7052 Tested-by: jenkins

2022-06-27  Antonio Borneo <borneo.antonio@gmail.com>

	* : openocd: src: replace the GPL-2.0-or-later license tag Replace the FSF boilerplate with the SPDX tag.  The SPDX tag on files *.c is incorrect, as it should use the C99
	single line comment using '//'. But current checkpatch doesn't allow
	C99 comments, so keep using standard C comments, by now.  Change-Id: I30cd66ac7d737f1973c68fdbb841ffcf00e917c4 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7072 Tested-by: jenkins

2022-06-27  Antonio Borneo <borneo.antonio@gmail.com>

	* : openocd: src/rtos: replace the GPL-2.0-or-later license tag Replace the FSF boilerplate with the SPDX tag.  The SPDX tag on files *.c is incorrect, as it should use the C99
	single line comment using '//'. But current checkpatch doesn't allow
	C99 comments, so keep using standard C comments, by now.  Change-Id: If0194089baded7f58dc5d87a35d6e0aff9f43785 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7070 Tested-by: jenkins

2022-06-27  Antonio Borneo <borneo.antonio@gmail.com>

	* : openocd: src/helper: replace the GPL-2.0-or-later license tag Replace the FSF boilerplate with the SPDX tag.  The SPDX tag on files *.c is incorrect, as it should use the C99
	single line comment using '//'. But current checkpatch doesn't allow
	C99 comments, so keep using standard C comments, by now.  Change-Id: I7851617e2682f97ccc3927e3941aadef2df63b54 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7068 Tested-by: jenkins

2022-06-26  Antonio Borneo <borneo.antonio@gmail.com>

	* : openocd: src: fix incorrect SPDX tags The SPDX tag is aimed at machine handling and it's thus expected to
	be placed in the first line in specific format.  Move the SPDX tag to the first line and fix it where needed.  The SPDX tag on files *.c is incorrect, as it should use the C99
	single line comment using '//'. But current checkpatch doesn't allow
	C99 comments, so keep using standard C comments, by now.  Change-Id: Ie9a05f530009d482a4116eebd147fd7e1ee3d41e Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7066 Tested-by: jenkins

2022-06-26  Antonio Borneo <borneo.antonio@gmail.com>

	* : openocd: src: replace the GPL-2.0-only license tag Replace the FSF boilerplate with the SPDX tag.  Change-Id: I29f51caa5ae9854d05ce7e150d168a7002607cd1 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7064 Tested-by: jenkins

2022-06-27  Antonio Borneo <borneo.antonio@gmail.com>

	* : openocd: src: replace the GPL and BSD-Source-Code license tags Add the new license text in the license pool.  Replace the GPL and
	BSD boilerplates with the SPDX tag.  Add the copyright owner of
	Atmel, as it was explicitly listed in the BSD boilerplate text.  The SPDX tag on files *.c is incorrect, as it should use the C99
	single line comment using '//'. But current checkpatch doesn't allow
	C99 comments, so keep using standard C comments, by now.  Change-Id: Ibb117dbf8402269be3e5ba4f4c472162494d813f Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7062 Tested-by: jenkins

2022-06-27  Antonio Borneo <borneo.antonio@gmail.com>

	* : openocd: src: replace the BSD-2-Clause-Views license tag Add the license text in the license pool.  Replace the BSD
	boilerplate with the SPDX tag.  Add the copyright owner of Jim
	Project, as it was explicitly listed in the boilerplate text.  The SPDX tag on files *.c is incorrect, as it should use the C99
	single line comment using '//'. But current checkpatch doesn't allow
	C99 comments, so keep using standard C comments, by now.  Change-Id: I6dd004b1945773c10539016ce733d1fbfe776a9d Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7060 Tested-by: jenkins

2022-06-26  Antonio Borneo <borneo.antonio@gmail.com>

	* : openocd: src: add GPL license tag on files that miss it Some file miss completely the license tag.  Add the SPDX tag, using the same GPL-2.0-or-later license of the
	OpenOCD project.  The SPDX tag on files *.c is incorrect, as it should use the C99
	single line comment using '//'. But current checkpatch doesn't allow
	C99 comments, so keep using standard C comments, by now.  Change-Id: I1fb51e722232d14f050458a820c3041de3dc9138 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7058 Tested-by: jenkins

2022-06-25  Antonio Borneo <borneo.antonio@gmail.com>

	* : openocd: build: add SPDX tag Add the SPDX tag to makefiles, configuration scripts and tcl files
	present in the folders under src/ Change-Id: I1e4552aafe46ef4893d510da9d732c5f181784a4 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7051 Tested-by: jenkins

2022-06-25  Antonio Borneo <borneo.antonio@gmail.com>

	* : target: esp_xtensa_smp: fix clang report The variable 'smp_break' is only set and used in case of smp.  But
	clang cannot track if 'target->smp' get modified between the set and
	the use of 'smp_break', so it consider possible to use 'smp_break'
	uninitialized.  Initialize 'smp_break' to silent clang.  Change-Id: Ifa25a84fe9ffa25b8b58d7920ec77994c3b7ebfe Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Fixes: 77287b8d47b4
	("target: add Espressif ESP32 basic support") Reviewed-on:
	https://review.openocd.org/c/openocd/+/7050 Reviewed-by: Erhan
	Kurubas <erhan.kurubas@espressif.com> Tested-by: jenkins

2022-06-18  Erhan Kurubas <erhan.kurubas@espressif.com>

	* : tcl/esp32s3: check memory protection on gdb attach Memory protection must be disabled to allow stub flasher operate
	correctly.  Signed-off-by: Erhan Kurubas <erhan.kurubas@espressif.com>
	Change-Id: I6f292ee672ae001cd6e4df5d24eb7bb862639093 Reviewed-on:
	https://review.openocd.org/c/openocd/+/7037 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-04-21  Erhan Kurubas <erhan.kurubas@espressif.com>

	* : jtag: add esp_usb_jtag driver This driver is used with the ESP32 chips which has builtin USB-JTAG
	interface. e.g. with ESP32-C3, ESP32-S3 Signed-off-by: Erhan Kurubas <erhan.kurubas@espressif.com>
	Change-Id: If966268cb8d26f76540dd5440245a17ed0b72c61 Reviewed-on:
	https://review.openocd.org/c/openocd/+/6943 Reviewed-by: Antonio
	Borneo <borneo.antonio@gmail.com> Tested-by: jenkins

2022-06-19  Antonio Borneo <borneo.antonio@gmail.com>

	* : helper: fix build with mingw gcc 12.1.0 New mingw compiler correctly complains for using a freed memory
	area:         src/helper/configuration.c: In function 'get_home_dir':         src/helper/configuration.c:182:29: error: dangling pointer
	                'home' to 'homepath' may be used [-Werror=dangling-pointer=]         182 | home_path = alloc_printf("%s/%s", home, append_path);             |             ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ In fact the variable 'homepath' is declared inside an 'if' branch
	and is not available outside.  Move the declaration of 'homepath' to have it available in a wider
	context.  Change-Id: I4a43a03c007c9f0d5c4cee962a9f7cc83ca49637 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reported-by: Dietmar May
	<dietmar.may@outlook.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7038 Tested-by: jenkins
	Reviewed-by: Dietmar May <dietmar.may@outlook.com>

2022-06-12  Antonio Borneo <borneo.antonio@gmail.com>

	* : tcl/interface: add SPDX tag For historical reasons, no license information was added to the tcl
	        files. This makes trivial adding the SPDX tag through script: fgrep
	        -rL SPDX tcl/interface | while read a;do \ sed -i '1{i#
	        SPDX-License-Identifier: GPL-2.0-or-later\n }' $a;done With no specific license information from the author, let's extend
	the OpenOCD project license GPL-2.0-or-later to the files.  Change-Id: I7bd6a628e9e153fc477cddf9b97087a39ec48aa7 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7029 Tested-by: jenkins

2022-06-12  Antonio Borneo <borneo.antonio@gmail.com>

	* : tcl/target: add SPDX tag For historical reasons, no license information was added to the tcl
	        files. This makes trivial adding the SPDX tag through script: fgrep
	        -rL SPDX tcl/ target| while read a;do \ sed -i '1{i#
	        SPDX-License-Identifier: GPL-2.0-or-later\n }' $a;done With no specific license information from the author, let's extend
	the OpenOCD project license GPL-2.0-or-later to the files.  Change-Id: I7b2610300b24cccd07bfa6fb5f1266970d5d3a1b Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7027 Tested-by: jenkins

2022-06-12  Antonio Borneo <borneo.antonio@gmail.com>

	* : tcl: replace FSF boilerplate with SPDX tag OpenOCD project is switching to SPDX tags.  Replace the few FSF
	boilerplate in tcl folder.  Change-Id: I15b146eb77cc491ed7355178f684f3e76fc763b4 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7025 Tested-by: jenkins
	Reviewed-by: Tarek BOCHKATI <tarek.bouchkati@gmail.com>

2022-06-13  Antonio Borneo <borneo.antonio@gmail.com>

	* : tcl/interface/vdebug: add newline to file's last line Change-Id: I83d2477e8bc837aeac69bd5d08fdd923fd00a37c Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7023 Tested-by: jenkins

2022-06-13  Antonio Borneo <borneo.antonio@gmail.com>

	* : drivers/linuxgpiod: simplify gpio release We already have a helper to release the gpio.  Extend it to also
	release its corresponding gpio chip.  As side effect, remove comparison with NULL.  Change-Id: I47cd446edfaead662d63c3330f25a791b747e882 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7033 Tested-by: jenkins
	Reviewed-by: Steve Marple <stevemarple@googlemail.com>

2022-06-13  Antonio Borneo <borneo.antonio@gmail.com>

	* : aarch64: fix handling of 'reset halt' Commit 6c0151623cb0 ("aarch64: add support for "reset halt"")
	introduces the register setting to halt at reset vector, but: - does not consider the case 'srst_pulls_trst' that makes useless   setting the registers as they will be erased by the pulled trst; - does not clean sticky errors in case of 'srst_gates_jtag'.  Avoid any register initialization on 'srst_pulls_trst' and move the
	cleaning of sticky errors in the common block.  Change-Id: I6f839f06f7b091e234ede31ec18096e51f017bcd Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Fixes: 6c0151623cb0
	("aarch64: add support for "reset halt"") Reviewed-on:
	https://review.openocd.org/c/openocd/+/7034 Tested-by: jenkins
	Reviewed-by: Christian Hoff <christian.hoff@advantest.com>

2022-04-05  Erhan Kurubas <erhan.kurubas@espressif.com>

	* : semihosting: add custom user command handler Custom user syscalls can be handled with target events in the TCL
	scripts.  This patch gives another opportunity to handle custom
	syscalls in the c files.  Besides that some utility functions are
	also exported for the custom handlers.  Signed-off-by: Erhan Kurubas <erhan.kurubas@espressif.com>
	Change-Id: Ice13d527540a0de0b2a8abda912ae3dcff3834b7 Reviewed-on:
	https://review.openocd.org/c/openocd/+/6889 Tested-by: jenkins
	Reviewed-by: Ian Thompson <ianst@cadence.com> Reviewed-by: Antonio
	Borneo <borneo.antonio@gmail.com>

2022-05-22  Erhan Kurubas <erhan.kurubas@espressif.com>

	* : target: add Espressif ESP32-S3 basic support ESP32-S3 is a dual core Xtensa SoC Not full featured yet. Some of
	the missing functionality: -Semihosting -Flash breakpoints -Flash
	loader -Apptrace -FreeRTOS Signed-off-by: Erhan Kurubas <erhan.kurubas@espressif.com>
	Change-Id: I44e17088030c96a9be9809f6579a4f16dbfc5794 Reviewed-on:
	https://review.openocd.org/c/openocd/+/6990 Tested-by: jenkins
	Reviewed-by: Ian Thompson <ianst@cadence.com> Reviewed-by: Antonio
	Borneo <borneo.antonio@gmail.com>

2020-04-03  Daniel Goehring <dgoehrin@os.amperecomputing.com>

	* : target/board: Add Ampere QS|MQ config files Add Ampere Altra ("Quicksilver") and Ampere Altra Max ("Mystique")
	target/board configuration files.  The target configuration file supports silicon and emulation.  The
	board configuration files support 1 and 2 socket platforms.  Tested on Ampere emulation and silicon Change-Id: I036c798a50624e30ab51ccd2895b6f60c40be096 Signed-off-by:
	Daniel Goehring <dgoehrin@os.amperecomputing.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/5591 Reviewed-by: Antonio
	Borneo <borneo.antonio@gmail.com> Tested-by: jenkins

2022-01-23  Antonio Borneo <borneo.antonio@gmail.com>

	* : adiv6: stay in same AP during dap_lookup_cs_component() Configuration file can specify, as target's debug AP, an AP that
	contains a ROM table that points, in turn, to other APs.  Current
	code in cortex_a and aarch64 is not able to handle a return from
	dap_lookup_cs_component() that points to another AP.  While it could be interesting to specify 'root' as target's debug
	AP, drop any found value if it's not in the starting AP.  Change-Id: Id206e4fa7a29e9402c8e2393026817b410bbb8bd Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6826 Tested-by: jenkins

2021-08-11  Antonio Borneo <borneo.antonio@gmail.com>

	* : adiv6: prepare for AP level ROM tables ADIv6 adds AP that only contain a ROM table in the AP itself, that
	can point to other AP containing either another AP level ROM table
	or a MEM-AP to be parsed as usual.  To handle recursive AP access, reorganize the code to: - pass the depth==0 from the command 'dap info'; - print the AP number as first line, adding proper indentation on   depth>0; - align the following print with proper indentation.  Change-Id: I5b811810c807fc51b307bd60f67817d9de2aa095 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6466 Tested-by: jenkins

2021-08-14  Antonio Borneo <borneo.antonio@gmail.com>

	* : adiv6: use struct adiv5_ap->ap_num to contain the AP base
	address ADIv5 DAP can only have 256 AP, while ADIv6 can provide till 2**40
	(1,099,511,627,776) AP per DAP.  Reuse the field ap_num in struct adiv5_ap, currently used on ADIv5
	to hold the ADIv5 AP number (apsel), to contain the ADIv6 AP base
	address.  Convert struct adiv5_ap->ap_num to 64 bit and initialize it to
	DP_APSEL_INVALID for unused AP.  Restrict dap_find_get_ap() to ADIv5
	only. To be enhanced.  On ADIv6, let dap_get_ap() return an already
	allocated AP, or allocate and return an unused AP.  Add function
	is_ap_num_valid() and use it.  Change-Id: Ib2fe8c7ec0d08393cd91c29fdac5d632dfc1e438 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6461 Reviewed-by: Daniel
	Goehring <dgoehrin@os.amperecomputing.com> Tested-by: jenkins

2021-08-14  Kevin Burke <kevinb@os.amperecomputing.com>

	* : adi_v5_jtag: extend memaccess_tck to every AP access ADIv5 reports:         Accessing AP registers or debug resources in connected         device through an AP can be subjected to other variable         response delays in the system. A debugger that can adapt         to these delays and avoid wasting WAIT scans operates more         efficiently and provides higher maximum data throughput.  The existing code in OpenOCD uses extra tck only for accessing
	resources through an AP.  Extend the use of extra tck also for accessing an AP register.  Split from change https://review.openocd.org/6077/ Change-Id: I2082362e098d09f4ba0668e01f5196afc965c8f3 Signed-off-by:
	Kevin Burke <kevinb@os.amperecomputing.com> Signed-off-by: Daniel
	Goehring <dgoehrin@os.amperecomputing.com> Signed-off-by: Antonio
	Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6460 Tested-by: jenkins

2021-08-06  Antonio Borneo <borneo.antonio@gmail.com>

	* : adi_v5_jtag: clear sticky overrun error By accessing invalid AP in JTAG mode, it's possible to trigger the
	error:         JTAG-DP STICKY ERROR After that the sticky error is never
	cleared and the whole DAP gets not anymore accessible.  Clean-up the sticky error once detected.  Change-Id: I8b07263b30f9e46645f0c29084b8f1626e241f45 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6430 Tested-by: jenkins

2021-08-21  Kevin Burke <kevinb@os.amperecomputing.com>

	* : adiv6: re-organize mem_ap registers definition ADIv5 MEM-AP registers are a subset of ADIv6 MEM-AP registers and
	are located at different offset.  To prepare for introducing ADIv6, add 'struct adiv5_dap *' as
	argument to ADIv5 registers macro.  Check the ADI version and use
	the proper address.  Both adapter drivers rshim and stlink are ADIv5
	only, so let them use the ADIv5 macros only.  Split from change https://review.openocd.org/6077/ Change-Id: Ib861ddcdab74637b2082cc9f2612dea0007d77b1 Signed-off-by:
	Kevin Burke <kevinb@os.amperecomputing.com> Signed-off-by: Daniel
	Goehring <dgoehrin@os.amperecomputing.com> Signed-off-by: Antonio
	Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6457 Tested-by: jenkins

2021-08-04  Antonio Borneo <borneo.antonio@gmail.com>

	* : arm_adi_v5: add ap refcount and add get/put around ap use While an ADIv5 DAP can only have 256 AP, ADIv6 can provide till
	2**40 (1,099,511,627,776) AP per DAP.  The actual trivial code
	implementation for ADIv5 (that uses an array of 256 ap in the struct
	adiv5_dap) cannot be extended as-is to handle ADIv6.  The simple array of 256 AP can be reused as a dynamic storage for
	ADIv6 ap: - the ADIv5 AP number is replaced by the ADIv6 base address; - the index of the array (equal to ADIv5 AP number) has no link to   any ADIv6 property; - the ADIv6 base_address has to be searched in the array of AP.  The 256 elements in the AP array should be enough for any device
	available today. In future it can be easily increased, if needed.  To efficiently use the 256 elements in the AP array, the code should
	associate one element of the array to an ADIv6 AP (through the AP
	base address), then cancel the association when the AP is not
	anymore needed. This is important to avoid saturating the AP array
	while exploring the device through 'dap apreg' commands.  Add a reference counter in the struct adiv5_ap to track how many
	times the struct has been associated with the same base address.
	Introduce the function dap_get_ap() to associate and return the
	struct, and dap_put_ap() to release the struct. For the moment the
	code covers ADIv5 only, so the association is through the index.
	Use the two functions above and dap_find_get_ap() throughout the
	code.  Check the return value of dap_get_ap(). It is always not NULL
	in the current ADIv5-only implementation, but can be NULL for ADIv6
	when there are no more available AP in the array.  Instrument
	dap_queue_ap_read() and dap_queue_ap_write() to log an error message
	if the AP has reference counter zero, meaning that the AP has not
	been 'get' yet. This helps identifying AP used without get/put, e.g.
	code missed by this patch, or merged later.  Instrument
	dap_cleanup_all() to log an error message if an AP has reference
	counter not zero at openocd exit, meaning that the AP has not been
	'put' yet.  Change-Id: I98316eb42b9f3d9c9bbbb6c73b1091b53f629092 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6455 Reviewed-by: Daniel
	Goehring <dgoehrin@os.amperecomputing.com> Tested-by: jenkins

2022-06-04  Erhan Kurubas <erhan.kurubas@espressif.com>

	* : tcl: add get_bit & get_bitfield memory helper functions Signed-off-by: Erhan Kurubas <erhan.kurubas@espressif.com>
	Change-Id: I21506526e3ebd9c3a70a25ba60bf83aee431feb6 Reviewed-on:
	https://review.openocd.org/c/openocd/+/7016 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-06-02  Antonio Borneo <borneo.antonio@gmail.com>

	* : arm_adi_v5: check for calloc() return value In function adiv5_jim_configure() check that calloc() returns a
	valid allocated memory pointer.  Change-Id: I97287e168834693900341add9d9eb9a5f38c55b4 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reported-by: Tomas Vanek
	<vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7014 Tested-by: jenkins
	Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2022-06-01  Antonio Borneo <borneo.antonio@gmail.com>

	* : arm_adi_v5: fix scan-build warning [3/3] While scan-build complains that dap_p or ap_num_p could be NULL, the
	current code never passes NULL pointers.  Add an assert() to silent
	scan-build and prevent any further use of the function with
	incorrect parameters.  Change-Id: I656810dddcea61e85d85b13efb114f7607ef837c Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7012 Tested-by: jenkins
	Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2022-06-01  Antonio Borneo <borneo.antonio@gmail.com>

	* : arm_adi_v5: fix scan-build warning [1/3] Commit 21f7885d1c2a ("arm_adi_v5: separate ROM table parsing from
	command output [1/3]") introduces a new scan-build warning because
	continues the execution even when dap_get_debugbase() returns error.
	The value of 'apid' can be uninitialized:         5th function call argument is an uninitialized value Check the return value and quit on error.  While there, remove the
	useless initialization of 'dbgbase' that was apparently required for
	the same problem.  Change-Id: Iade26a152925ee0f1bf114ed829b94f7ed5b254f Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Fixes: 21f7885d1c2a
	("arm_adi_v5: separate ROM table parsing from command output [1/3]")
	Reviewed-on: https://review.openocd.org/c/openocd/+/7010 Tested-by:
	jenkins Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2022-05-28  Erhan Kurubas <erhan.kurubas@espressif.com>

	* : telnet_server: fix valgrind error Error: Uninitialised value was created by a heap allocation at
	telnet_new_connection (telnet_server.c:227) Signed-off-by: Erhan Kurubas <erhan.kurubas@espressif.com>
	Change-Id: I698a3648be698c93a2395a718ee1ade028226995 Reviewed-on:
	https://review.openocd.org/c/openocd/+/7006 Tested-by: jenkins
	Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2022-05-24  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : stlink: manage TCP_BUSY status code when using RW MISC Change-Id: I4f9eed3781b549742565a3a8ac5245a4b94ceb53 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6994 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-04-21  Erhan Kurubas <erhan.kurubas@espressif.com>

	* : target: add Espressif ESP32-S2 basic support ESP32-S2 is a single core Xtensa chip.  Not full featured yet. Some
	of the missing functionality: -Semihosting -Flash breakpoints -Flash
	loader -Apptrace -FreeRTOS Signed-off-by: Erhan Kurubas <erhan.kurubas@espressif.com>
	Change-Id: I2fb32978e801af5aa21616c581691406ad7cd6bb Reviewed-on:
	https://review.openocd.org/c/openocd/+/6940 Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Reviewed-by: Ian Thompson <ianst@cadence.com>
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com> Tested-by:
	jenkins

2022-05-30  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : github/workflow: enable libftdi based adapters Change-Id: I74b07b21573294dd7d9d3caf41c5755622c77149 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7008 Tested-by: jenkins
	Reviewed-by: Xiaofan Chen <xiaofanc@gmail.com> Reviewed-by: Antonio
	Borneo <borneo.antonio@gmail.com>

2021-11-19  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor/core, target: don't ask for working mem if no target
	algo The command 'flash erase_check' showed the message 'Running slow
	fallback erase check - add working memory' even in the case the
	target didn't implement blank_check_memory.  Change return code of target_blank_check_memory() in this case and
	sense it in default_flash_blank_check() and show a message without a
	request for working memory.  Change-Id: I7cf9bf77742964b4f377c9ce48ca689e57d0882f Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6765 Tested-by: jenkins
	Reviewed-by: Tim Newsome <tim@sifive.com>

2022-05-13  Sean Anderson <sean.anderson@seco.com>

	* : tcl: Add support for Kontron SMARC-sAL28 This commit is adapted from [1].  [1] https://review.openocd.org/c/openocd/+/4999 Signed-off-by: Michael Walle <michael.walle@kontron.com>
	Signed-off-by: Heiko Thiery <heiko.thiery@kontron.com> [ adapted to
	use common configuration ] Signed-off-by: Sean Anderson
	<sean.anderson@seco.com> Change-Id:
	I9a428371694e7864e03055b8de18a55a7843b8c2 Reviewed-on:
	https://review.openocd.org/c/openocd/+/6977 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-05-13  Sean Anderson <sean.anderson@seco.com>

	* : tcl/target/ls1088: Break out common configuration Several Layerscape processors (LS1088A, LS2088A, LS2160A, and
	LS1028A) share a common architecture. Break out the common setup
	from the LS1088 config in preparation for adding the LS1028A.
	There's no official name for this series of processors, but NXP
	refers to them as "chassis generation 3" in U-Boot, so we'll go with
	that too.  Signed-off-by: Sean Anderson <sean.anderson@seco.com> Change-Id:
	Ic6f89f95c678101f54579bcaa5d79c5b67ddf50a Reviewed-on:
	https://review.openocd.org/c/openocd/+/6975 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-04-05  Erhan Kurubas <erhan.kurubas@espressif.com>

	* : semihosting: add semihosting_basedir command This command allows users to set base working directory for the
	semihosting I/O operations.Default is the current OpenOCD directory.  Signed-off-by: Erhan Kurubas <erhan.kurubas@espressif.com>
	Change-Id: I80c5979e4c96d66cccdd12cc6fcd5f353e5c6b4d Reviewed-on:
	https://review.openocd.org/c/openocd/+/6888 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-05-10  micbis <michele.bisogno.ct@renesas.com>

	* : tcl/target/renesas_rz_g2: Added RZ/G2LC and RZ/G2UL Added support for two new devices: RZ/G2LC and RZ/G2UL Change-Id: Iec6ba88c1d279f50808b060343b45c796bbfdbfc Signed-off-by:
	micbis <michele.bisogno.ct@renesas.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6972 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-05-09  Tomas Vanek <vanekt@fbl.cz>

	* : target: fix clang static analyzer warning Removes Warning:        line 6482, column 12 1st function call
	argument is an uninitialized value Use target ptr directly as checked in previous lines instead of
	dereferencing head->target Change-Id: I6804b776fd493af71f3098d702f9cdc7acb50151 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6970 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2021-11-09  Tomas Vanek <vanekt@fbl.cz>

	* : doc: prevent writing "topic:" to commit message First time contributors surprisingly often write "topic:" instead of
	"the main part or subsystem the patch touches" as requested in
	patchguide.html To prevent them doing so: Use longer self-explaing "specify touched
	area" instead of "topic" Give some examples in addition to
	recommended looking at "git log" Change-Id: I1c307b460d7a79ba3c9918af8dbc9e9f827e1fb9 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6683 Reviewed-by: Antonio
	Borneo <borneo.antonio@gmail.com> Tested-by: Paul Fertser
	<fercerpav@gmail.com>

2022-05-01  Steve Marple <stevemarple@googlemail.com>

	* : doc: Document linuxgpiod driver commands Change-Id: I84ad5dba9ab2099137595b46822bc10a0b089524 Signed-off-by:
	Steve Marple <stevemarple@googlemail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6962 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-04-18  Steve Marple <stevemarple@googlemail.com>

	* : drivers/am335xgpio: Add AM335x driver for bitbang support on
	BeagleBones Change-Id: Iac1c9f3d380e2474c8b77407c89c2aad96fbf2ea Signed-off-by:
	Steve Marple <stevemarple@googlemail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6941 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-02-18  Antonio Borneo <borneo.antonio@gmail.com>

	* : openocd: add post-init and pre-shutdown helpers It is a common requirement to automatically execute some command
	after "init".  This can be achieved, either in scripts or through
	OpenOCD command line, by explicitly calling "init" followed by the
	commands.  But this approach fails if the request for post-init
	commands is spread across configuration files; only one of the files
	can split pre-init and post-init status by calling "init".  The
	common workaround is to "rename" the command "init" and replace it
	with a TCL proc that calls the original "init" and the post-init
	commands. E.g. in Zephyr script [1].  To simplify and formalize the post-init execution, use a TCL list
	that contains the list of commands to be executed. Every script can
	contribute adding new commands, e.g. using "lappend".  In the same way, formalize the pre-shutdown execution with a TCL
	list of user commands to be executed before OpenOCD exit.  Document them and add trivial examples.  Drop from documentation the suggestion to rename "shutdown".  Change-Id: I9464fb40ccede3e7760d425873adca363b49a64f Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Link: [1]

	https://github.com/zephyrproject-rtos/zephyr/blob/zephyr-v2.7.1/boards/arm/nucleo_h743zi/support/openocd.cfg#L15Reviewed-on: https://review.openocd.org/c/openocd/+/6851
	Reviewed-by: Tomas Vanek <vanekt@fbl.cz> Tested-by: jenkins

2022-01-15  Antonio Borneo <borneo.antonio@gmail.com>

	* : arm_adi_v5: add support for 64bit Class 0x9 ROM tables Arm documentation does not explicitly report the order of the two
	32bit words that compose the 64bit value. But both ADIv5 and ADIv6
	specify that only little-endian is supported (ADIv5.2 obsoletes the
	big-endian support). This change reads the 64bit value in
	little-endian.  Detect the 64bit content and use it.  Change-Id: I723ec099c7e8c70c1f9a568e32ea867fcbf1f1db Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6465 Tested-by: jenkins

2022-01-15  Antonio Borneo <borneo.antonio@gmail.com>

	* : arm_adi_v5: let dap_lookup_cs_component() to get AP dbgbase Simplify the code in cortex_a and aarch64 by moving the call to
	dap_get_debugbase() inside dap_lookup_cs_component().  This has the further effects: - dap_get_debugbase() is not referenced outside arm_adi_v5.c and   becomes static; - dap_lookup_cs_component() looses one parameter; - the coreid parameter 'idx' is passed as value; - the caller in aarch64 don't have and don't print the irrelevant   value of AP register APID; - fixes the debug message in the caller in aarch64 to print the   coreid value instead of always zero.  Change-Id: Ic7f0f643fdf067c059c8f2455a02ff18a3fed054 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6823 Tested-by: jenkins

2022-01-16  Antonio Borneo <borneo.antonio@gmail.com>

	* : arm_adi_v5: separate ROM table parsing from command output [3/3] This change only targets the output of rtp_rom_loop().  Change-Id: If9ac013798923428c3b897a969887e98b6935a2b Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6821 Tested-by: jenkins

2022-01-14  Antonio Borneo <borneo.antonio@gmail.com>

	* : arm_adi_v5: separate ROM table parsing from command output [1/3] In OpenOCD arm_adi_v5 we have already two implementations of code
	for parsing the ADIv5 ROM table: - in the commands "dap info" and "$dap_name info"; - in the function dap_lookup_cs_component().  Adding support for
	ADIv6 requires extending both implementations.  Moreover, current code does not handle few aspects of the ROM
	parsing, e.g. the "Power Domain IDs".  To add such extensions both
	implementations should be touched.  I plan to add a command to parses (again) the ROM table and dump a
	simple prototype of a configuration script for the target, useful
	while analysing a new target.  Keeping aligned all these implementation would be too complex.  With focus to "dap info" command, decouple the part of code to
	walk-through the ROM table from the code that creates the command
	output.  The idea is to keep a single implementation for the
	walk-through code, while parametrizing the output code to handle the
	generation of a configuration script or the result of the function
	dap_lookup_cs_component().  This change only targets the output of MEM-AP header Further changes
	will target other parts of the code.  While there, add a message if MEM-AP is not accessible.  Change-Id: I112f637edfdb8688afb4e631297f6536da9604f1 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6819 Tested-by: jenkins

2022-01-15  Antonio Borneo <borneo.antonio@gmail.com>

	* : arm_adi_v5: report sysmem on class 0x9 ROM tables As Class 0x1 ROM table, also Class 0x9 ROM tables encodes a flag for
	system memory access.  Detect the flag in rtp_cs_component() and dump the same message for
	both type of ROM tables.  Extend rtp_read_cs_regs() to read
	ARM_CS_C9_DEVID.  Change-Id: Ic85d1ea068ed706ceedfd65076ff4c96d04e9792 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6817 Tested-by: jenkins
	Reviewed-by: Daniel Goehring <dgoehrin@os.amperecomputing.com>

2022-01-14  Antonio Borneo <borneo.antonio@gmail.com>

	* : arm_adi_v5: rework dap_read_part_id() Rework dap_read_part_id() while preparing for reorganizing the 'ROM
	Table Parsing' (RTP): - rename it with 'rtp' prefix; - extends it to read other CoreSight registers, thus improving the   overall speed by queuing more reads; - reduce the list of arguments by using a struct; - reorder the reads by increasing offset, potentially gaining   speed using MEM_AP_REG_BDx and/or auto-increment; - log a debug message in case of read error.  Change-Id: I6544ac7740b808a6c0fbacf97ac00b97f5bd3832 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6815 Tested-by: jenkins

2021-08-16  Antonio Borneo <borneo.antonio@gmail.com>

	* : arm_adi_v5: describe Class 0x9 Device Architecture register Use the list of values from ARM IHI0029E to decode and print the
	Device Architecture register.  Add attribute 'unused' to the
	function, not used yet.  Change-Id: I7b1dd204bd1db671578c588372b667e23611876c Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6463 Tested-by: jenkins
	Reviewed-by: Daniel Goehring <dgoehrin@os.amperecomputing.com>

2022-01-23  Antonio Borneo <borneo.antonio@gmail.com>

	* : arm_coresight: define ARM_CS_CIDR_CLASS() Right now it has a single use but it will soon be used more.  Change-Id: I9a819c65df467fc859e4b5251035a17ed33daa35 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6813 Tested-by: jenkins
	Reviewed-by: Daniel Goehring <dgoehrin@os.amperecomputing.com>

2022-05-03  Piotr Kasprzyk <ciri@ciri.pl>

	* : doc: fix typo s/Not/Note/ Append lacking e to word Note Signed-off-by: Piotr Kasprzyk <ciri@ciri.pl> Change-Id:
	Ibd40a2f93d11cf1945361f0c46329b88963d6826 Reviewed-on:
	https://review.openocd.org/c/openocd/+/6963 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-04-25  Antonio Borneo <borneo.antonio@gmail.com>

	* : target: fix build with jimtcl 0.79 In jimtcl 0.80 the prototype of Jim_DictPairs() has changed.  The
	only code in OpenOCD that uses Jim_DictPairs() has been merged
	recently and it only uses the current jimtcl syntax.  To allow compiling OpenOCD master branch with older versions of
	jimtcl, detect the version of jimtcl and use the appropriate syntax.  Change-Id: I6fc78303b6a4db064a97f326c46119f4568e88f3 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reported-by:
	dullfire@yahoo.com Reviewed-on:
	https://review.openocd.org/c/openocd/+/6948 Tested-by: jenkins

2022-05-04  Antonio Borneo <borneo.antonio@gmail.com>

	* : server/gdb: fix gdb remote monitor cmd on multi-target Commit 5ebb1bdea1df ("server/gdb: fix return of gdb remote monitor
	command") replaces the call to command_run_line() with call to
	Jim_EvalObj() but does not properly set the "context".  In
	multi-target environment, his can cause the erroneously execution of
	the command on the wrong target.  Copy from the code in command_run_line() the proper setup before
	executing Jim_EvalObj().  Change-Id: I56738c80779082ca146a06c01bc30e28bc835fd3 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reported-by: Bohdan Tymkiv
	<bohdan200@gmail.com> Fixes: 5ebb1bdea1df ("server/gdb: fix return
	of gdb remote monitor command") Reviewed-on:
	https://review.openocd.org/c/openocd/+/6966 Tested-by: jenkins
	Reviewed-by: Bohdan Tymkiv <bohdan200@gmail.com> Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz> Reviewed-by: Tim Newsome <tim@sifive.com>

2022-04-29  jihongbin <longma@orbbec.com>

	* : drivers/cmsis-dap: Correct the DAP protocol parameter parsing
	error Fixes: 01030fb89354 (drivers/cmsis-dap: tidy up buffer access) Change-Id: Id192d3930a89980d641058b6444d12caec19ce6f Signed-off-by:
	Hongbin Ji <longma@orbbec.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6954 Tested-by: jenkins
	Reviewed-by: Tomas Vanek <vanekt@fbl.cz> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com> Reviewed-by: jihongbin <jhb_ee@163.com>

2022-04-23  Marc Schink <dev@zapb.de>

	* : target/arm_cti: Fix error handling in 'cti create' Handle JIM_CONTINUE return value of
	adiv5_jim_mem_ap_spot_configure(), otherwise OpenOCD silently quits
	when an unknown option is provided.  Change-Id: I9b1351c0911e74999d8dd1260ede9760088510d7 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6944 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-04-12  Steve Marple <stevemarple@googlemail.com>

	* : linuxgpiod: add SWDIO buffer The SWDIO buffer requires a direction pin to select input or output
	direction. Output is selected by a high logic level (matches
	bcm2835gpio driver).  Change-Id: I240cb99a5dfea08121bb33d4b5e2108ce7597468 Signed-off-by:
	Steve Marple <stevemarple@googlemail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6936 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2021-11-17  Tomas Vanek <vanekt@fbl.cz>

	* : tcl/target/gd32vf103: add flash bank The flash is compatible with stm32f1x, reuse the driver.  Extend the size of work area to RAM size of the smallest device.  Stop watchdogs before flash programming.  Change-Id: I67a7654a6e196f9d4b2409edaa7990c53334437e Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6711 Tested-by: jenkins
	Reviewed-by: Tim Newsome <tim@sifive.com>

2022-02-04  Julien Massot <julien.massot@iot.bzh>

	* : rtos: zephyr: do not use deprecated symbols name Zephyr plan to remove openocd specific symbols in favour of more
	generic one.  These generic symbols has been introduced in Zephyr 2.6.  Signed-off-by: Julien Massot <julien.massot@iot.bzh> Change-Id:
	I89418c9c378fb8b8baa29763fc6f1b6e652dc7ef Reviewed-on:
	https://review.openocd.org/c/openocd/+/6844 Tested-by: jenkins
	Reviewed-by: Stephanos Ioannidis <root@stephanos.io> Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2022-03-30  Antonio Borneo <borneo.antonio@gmail.com>

	* : server/gdb: fix return of gdb remote monitor command Current implementation for gdb remote monitor command uses the
	command_run_line() to execute the command.  While command_run_line()
	has several advantages, it unfortunately hides the error codes and
	outputs the result of the command through LOG_USER(), which is not
	what gdb requires. See 'qRcmd' in
	https://sourceware.org/gdb/onlinedocs/gdb/General-Query-Packets.html Replace command_run_line() with Jim_EvalObj() and parse the output
	to provide the proper result to gdb.  Can be tested by defining in OpenOCD:         proc a {} {return hello}         proc b {} {return -code 4}         proc c {} {return -code 4 "This is an error!"} then by
	        executing in gdb console: monitor a         monitor b         monitor c         monitor foo Change-Id: I1b85554d59221560e97861a499e16764e70c1172 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reported-by: Torbjorn
	Svensson <torbjorn.svensson@st.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6886 Tested-by: jenkins

2022-04-16  Markus Reiter <me@reitermark.us>

	* : tcl/target/stm32l4x: switch to new TPIU/SWO support Change-Id: I3362fa7292eae7a3ba119cf6183f8bc4cbd5cbd4 Signed-off-by:
	Markus Reiter <me@reitermark.us> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6932 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-04-16  Markus Reiter <me@reitermark.us>

	* : tcl/target/stm32f4x: fix name Change-Id: I9baa79d8cf402991e6638c255a91728b8a77020c Signed-off-by:
	Markus Reiter <me@reitermark.us> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6930 Tested-by: jenkins
	Reviewed-by: Tomas Vanek <vanekt@fbl.cz> Reviewed-by: Tarek BOCHKATI
	<tarek.bouchkati@gmail.com> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2021-11-16  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor/stm32f1x: lock flash in case of error The current code locks the flash controller in case of error during
	flash write only. An error in other flash operations may cause the
	flash is left unlocked.  Implement locking also after error in erase, mass erase, options
	write and erase.  Change-Id: I26c2ed7914e7847122306f29b777b9eefd1dc580 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6710 Tested-by: jenkins
	Reviewed-by: Tarek BOCHKATI <tarek.bouchkati@gmail.com>

2021-11-16  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor/stm32f1x: tidy up async algo supporting code Use target_get_working_area_avail() instead of try-fail iteration.  Call destroy_reg_param() in a for cycle.  Change-Id: I1891d1ffdea99010c6ab66b9578400b9d7922e20 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6708 Tested-by: jenkins
	Reviewed-by: Tarek BOCHKATI <tarek.bouchkati@gmail.com>

2021-11-16  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor/stm32f1x: allow write fallback for flash options Mostly refactoring.  Rename original stm32x_write_block() to stm32x_write_block_async()
	as it uses target async algo.  Introduce new stm32x_write_block() and move slow, host controlled
	fallback flash write there.  The change allows stm32x_write_options() to use slow flash write
	fallback.  While on it rename variables where halfword count is stored.  Change-Id: I386ae15cf052b1490461ed8f7eea5b4403d466f7 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6706 Tested-by: jenkins
	Reviewed-by: Tarek BOCHKATI <tarek.bouchkati@gmail.com>

2022-03-25  Marc Schink <dev@zapb.de>

	* : drivers/cmsis-dap: Remove stray whitespace Change-Id: I7b60f9e87af2f582864ce94198d0343acf7d45f2 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6883 Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Tested-by: jenkins

2022-03-17  Jan Matyas <matyas@codasip.com>

	* : gdb_server: Improve logging of GDB-remote packets - Print also the target name, not just the packet contents.    This is important when there are more GDB servers (more   debug-able targets) active in one OpenOCD session.  - Log also the received Ctrl-C requests coming from GDB   (one byte 0x3), ACKs ("+") and NACKs ("-").  - Do not print zero-length incoming packets (this occurred   when Ctrl-C packets were received).  - Removed a stray apostrophe "'" that got printed   in gdb_log_outgoing_packet() Signed-off-by: Jan Matyas <matyas@codasip.com> Change-Id:
	If68fe0a8aa635165d0bbe6fa0e48a4645a02da67 Reviewed-on:
	https://review.openocd.org/c/openocd/+/6879 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-02-24  Antonio Borneo <borneo.antonio@gmail.com>

	* : openocd: include config.h in every file .c Including config.h as first is required for every C file.  Add it to
	the C files that still miss it.  Change-Id: I1a210e7d3a854958a85a290b086ad8a9f5176425 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6856 Tested-by: jenkins

2019-11-28  Marc Schink <dev@zapb.de>

	* : tcl/tools: Add function to measure the speed of ARM Cortex-M
	devices Tested on an EFM32PG12 Starter Kit.  Change-Id: I2cbc36fe0d2ad2089bf8c1e7d2260daaae4ddbb4 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on:
	https://review.openocd.org/c/openocd/+/5353 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-03-19  Antonio Borneo <borneo.antonio@gmail.com>

	* : breakpoints: fix build on -fno-inline Some configuration of GCC could default to -fno-inline, causing the
	build to fail after commit fb43f1ff4e2f ("target: Rework 'set'
	variable of break-/watchpoints").  Switch the new inline functions to 'static inline', as it's widely
	used in the rest of the code.  Change-Id: I8bf31045a137bd34ed825f4b2a9338eb3c70046d Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Fixes: fb43f1ff4e2f
	("target: Rework 'set' variable of break-/watchpoints") Reviewed-on:
	https://review.openocd.org/c/openocd/+/6881 Tested-by: jenkins

2022-02-28  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : flash/stm32l4x: fix auto-probe when RDP is promoted from 0 to
	0.5 Considering this use case: (using STM32 L5 or U5)  1- first probe : TZEN enabled, RDP level 0     flash_regs_base |= STM32L5_REGS_SEC_OFFSET => 0x50022000  2- the user promotes the RDP to level 0.5  3- the second probe, fails to read OPTR using secure
	    flags_regs_base: used OPTR address is 0x50022040 Step 3 fails because when RDP is level 0.5, we should use Non-Secure
	flash registers.  To fix this, always use NS flash regs to read OPTR
	in probe functions.  Fixes: 80d323c6e82b (flash/stm32l4x: introduce auto-probe when OPTR
	is changed) Change-Id: I296aa633972b0c410b927488c999584a07b912d3
	Signed-off-by: Tarek BOCHKATI <tarek.bouchkati@gmail.com>
	Reviewed-on: https://review.openocd.org/c/openocd/+/6864
	Reviewed-by: Tomas Vanek <vanekt@fbl.cz> Tested-by: jenkins

2022-02-02  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : stlink: enable queuing with stlink-server API v3 ST-Link Server 2.1.0-1 fixes concurrency issue with RW_MISC command
	Starting from this version the ST-Link Server API is now v3.  In this change we save the ST-Link Server version, and check if the
	API is greater or equal to 3 to enable the queuing.  Change-Id: I239eb81024700514c607a269b66651f457206faa Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6876 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-01-31  Antonio Borneo <borneo.antonio@gmail.com>

	* : keep-alive: drop link with log framework OpenOCD implements the GDB keep-alive by sending empty strings as
	output for GDB client. This has been implemented as part of the log
	framework, creating an odd dependency.  Move the keep-alive notifications out of log framework.  For the
	moment, keep keep_alive() inside log.c, but it should be moved in
	server.c This should also fix an old issue with KDE Konsole when tab alert
	for activity is enabled. The empty strings is sent to all the
	connections, including telnet, and causes the tab running OpenOCD
	telnet to continuously show activity even when no new text is
	printed. Anyway, I cannot replicate this issue anymore.  Change-Id: Iebb00b00fb74b3c9665d9e1ddd3c055275bfbd43 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6840 Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Tested-by: jenkins

2022-01-30  Antonio Borneo <borneo.antonio@gmail.com>

	* : server: change prototype of add_service() To easily add new methods to a service, pass all the methods through
	a struct.  While there, drop the typedef for the methods and add
	currently unused new methods to support keep-alive and connections
	during keep-alive.  No change in functionality.  Change-Id: I2b5e7140db95021f6e7201e9d631ee340c60b453 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6838 Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Tested-by: jenkins

2022-01-30  Antonio Borneo <borneo.antonio@gmail.com>

	* : server: fix: remove kept_alive() from server loop The kept_alive() action is specific of a server that enjoyed an
	unscheduled keep_alive and want to communicate it to the keep alive
	logic to reschedule next keep_alive().  In server loop we are not
	expected to call kept_alive().  Remove it! This call was erroneously added in commit 94e75e0c06c4.  Later,
	commit 7442b26d45dc properly added the same call in
	gdb_put_packet(), but incorrectly left the older in place.  Change-Id: If476410f870eebfbdaccdb1366ba2e9254e2fdf6 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6836 Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Tested-by: jenkins

2021-06-07  Marc Schink <dev@zapb.de>

	* : target: Deprecate 'array2mem' and 'mem2array'' Replace 'mem2array' and 'array2mem' with a Tcl wrapper that
	internally uses 'read_memory' and 'write_memory'.  The target-specific 'mem2array' and 'array2mem' functions remain for
	now.  Change-Id: If24c22a76ac72d4c26916a95f7f17902b41b6d9e Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6308 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-03-05  Antonio Borneo <borneo.antonio@gmail.com>

	* : jimtcl: add configure flag for build maintainer mode When jimtcl is built in maintainer mode, it runs extra tests at exit
	to look for memory leak due to jim objects not properly freed either
	through Jim_IncrRefCount()/Jim_DecrRefCount() or by passing it to a
	jim API.  Add optional OpenOCD configure flag '--enable-jimtcl-maintainer' to
	enable jimtcl maintainer mode.  Modify the implementation of macro AX_CONFIG_SUBDIR_OPTION to allow
	expanding a variable passed as second argument.  Change-Id: Id1a39b25cee3773b172faf70803fa150182f0cd6 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6871 Tested-by: jenkins
	Reviewed-by: zapb <dev@zapb.de>

2022-02-21  Sean Anderson <sean.anderson@seco.com>

	* : target: Add LS1046A The LS1046A is a quad-core processor from NXP in the layerscape
	family.  This SoC is a bit tricky to program: while the AArch64 CPUs
	are little-endian, most of the peripherals are big-endian. Care must
	be taken when interpreting memory reads/writes. This processor is in
	the same family as the ls1012a, so the setup is similar.  If you use OpenOCD to attach early in the boot process, only the
	cpu0 may be available. Trying to halt other CPUs will fail. To avoid
	this, defer examination of cpus 1-3, and provide a core_up helper
	(like e.g.  zynqmp).  Signed-off-by: Sean Anderson <sean.anderson@seco.com> Change-Id:
	If5a1a9441fb35fea3e05dc708b42e0cb3bbf2a54 Reviewed-on:
	https://review.openocd.org/c/openocd/+/6854 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-03-03  Marc Schink <dev@zapb.de>

	* : flash/nor/sim3x: Fix typo Change-Id: I2143c81d44b49bed9585c4aaee2bb6e2165345f2 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6869 Tested-by: jenkins
	Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2022-02-04  Jan Matyas <matyas@codasip.com>

	* : jtag_vpi: Minor cleanup in jtag_vpi driver Multiple smaller items addressed in jtag_vpi: - Several log prints adjusted to make them more clear to the user.  - Ensured that command handlers return ERROR_COMMAND_SYNTAX_ERROR   on incorrect number of arguments.  - Fix in "jtag_vpi set_address": Leave the previously set address   intact on error. Do not revert it to default.  - Minor update of help messages for the TCL commands.  - Updated macro names: SERVER_ADDRESS --> DEFAULT_SERVER_ADDRESS,   the same for SERVER_PORT Change-Id: Ibe386403a179adab5edb69c77fa408aef55701bd Signed-off-by:
	Jan Matyas <matyas@codasip.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6845 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by:
	Tomas Vanek <vanekt@fbl.cz>

2022-01-03  Nishanth Menon <nm@ti.com>

	* : tcl/board: Add AM625 EVM basic support Add basic connection details with am625 EVM/SK For further details, see https://www.ti.com/lit/zip/sprr448 Signed-off-by: Nishanth Menon <nm@ti.com> Change-Id:
	Ibd23203ea98e34d03d2f55dac3565aa15aad744b Reviewed-on:
	https://review.openocd.org/c/openocd/+/6799 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2021-10-14  Nishanth Menon <nm@ti.com>

	* : tcl/board: Add J721s2 EVM basic support Add basic connection details with J721s2 EVM.  For further details, see https://www.ti.com/lit/zip/sprr439 Signed-off-by: Nishanth Menon <nm@ti.com> Change-Id:
	I68f8818c492ea6e07c14f2da305671c26da801cb Reviewed-on:
	https://review.openocd.org/c/openocd/+/6797 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-03-01  Nishanth Menon <nm@ti.com>

	* : tcl/target/ti_k3: Add a gdb-attach event hook for armv8 and
	simplify startup function Since we can detect the type of target as well, reuse the
	_cpu_no_smp_up function name and use the target name to simplify the
	_up function and maintain consistency with what we introduced for
	r5.  Lets introduce gdb-attach event in a much cleaner fashion.  NOTE: we add a halt 1000 to retain the default gdb-attach hook
	behavior While at it, fix a minor type of s/are/as in "Set Default target are
	core 0" and simplify the foreach usage.  Signed-off-by: Nishanth Menon <nm@ti.com> Change-Id:
	I3259b7c3ae4c71b06d921edfaefe17c03bb673dc Reviewed-on:
	https://review.openocd.org/c/openocd/+/6616 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2021-10-04  Nishanth Menon <nm@ti.com>

	* : tcl/target/ti_k3: Rename R5 targets to be more descriptive R5 targets are currently named r5.0..n and the only way for user to
	determine the actual type is external documentation. Lets just
	rename the target names to make them descriptive to not require
	external documentation for finding which R5 to connect to.  NOTE: we leave the _mcu_r5_cores _main0_r5_cores _main1_r5_cores
	alone for now to allow existing startup proc functions to work, but
	we will drop it in the follow on patch.  Previously: Info : starting gdb server for j721e.cpu.r5.0 on 3336
	Info : Listening on port 3336 for gdb connections Info : starting
	gdb server for j721e.cpu.r5.1 on 3337 Info : Listening on port 3337
	for gdb connections Info : starting gdb server for j721e.cpu.r5.2 on
	3338 Info : Listening on port 3338 for gdb connections Info :
	starting gdb server for j721e.cpu.r5.3 on 3339 Info : Listening on
	port 3339 for gdb connections Info : starting gdb server for
	j721e.cpu.r5.4 on 3340 Info : Listening on port 3340 for gdb
	connections Info : starting gdb server for j721e.cpu.r5.5 on 3341
	Info : Listening on port 3341 for gdb connections With this patch: Info : starting gdb server for j721e.cpu.mcu_r5.0
	on 3336 Info : Listening on port 3336 for gdb connections Info :
	starting gdb server for j721e.cpu.mcu_r5.1 on 3337 Info : Listening
	on port 3337 for gdb connections Info : starting gdb server for
	j721e.cpu.main0_r5.0 on 3338 Info : Listening on port 3338 for gdb
	connections Info : starting gdb server for j721e.cpu.main0_r5.1 on
	3339 Info : Listening on port 3339 for gdb connections Info :
	starting gdb server for j721e.cpu.main1_r5.0 on 3340 Info :
	Listening on port 3340 for gdb connections Info : starting gdb
	server for j721e.cpu.main1_r5.1 on 3341 Info : Listening on port
	3341 for gdb connections Signed-off-by: Nishanth Menon <nm@ti.com> Change-Id:
	I2989efe3ae3e16754f98fa1dc9363ec4c898f7c3 Reviewed-on:
	https://review.openocd.org/c/openocd/+/6627 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2021-10-01  Nishanth Menon <nm@ti.com>

	* : tcl/target/ti_k3: Rename m3 target as sysctrl The M3 is the system controller of the system. Lets rename it to
	make clear what we are debugging - esp when multiple MCUs are
	present in the system.  Signed-off-by: Nishanth Menon <nm@ti.com> Change-Id:
	I4cd03b6068b8ce140fd254f9dd88151c4c7006d7 Reviewed-on:
	https://review.openocd.org/c/openocd/+/6618 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2021-10-04  Nishanth Menon <nm@ti.com>

	* : tcl/target/ti_k3: Remove args from m3 and m4_up args serve no purpose, so drop them.  Signed-off-by: Nishanth Menon <nm@ti.com> Change-Id:
	I136394307016453d576cf524b0f02227ba26ef8a Reviewed-on:
	https://review.openocd.org/c/openocd/+/6626 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2021-09-22  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : tcl/stm32l5x|u5x: refactor common tcl code both stm32l5x and stm32u5x configs are almost identical except clock
	config.  while at there rename target procs to avoid issues with JTAG daisy
	chaining.  Change-Id: Ibbb1dfeb91a7f8d5d45744cf57dca2877f60e0c5 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6596 Reviewed-by: Antonio
	Borneo <borneo.antonio@gmail.com> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Tested-by: jenkins

2022-02-26  Marc Schink <dev@zapb.de>

	* : target/arm_tpiu: Fix usage of 'tpiu create' Change-Id: I1ffad65a9e6d76f4d7fbbe249d8af3beb7e7692b Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6860 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2021-06-22  Marc Schink <dev@zapb.de>

	* : target/arm_tpiu: Make error message easier to understand Change-Id: Idddc31e34a67641c32d041c89d01fe2126ec5ddb Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6328 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2021-06-04  Marc Schink <dev@zapb.de>

	* : target/tcl: Add set_reg function Change-Id: I97a01b93046cb7af289792489f77f5580312585a Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on:
	https://review.openocd.org/c/openocd/+/5313 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-02-19  Antonio Borneo <borneo.antonio@gmail.com>

	* : gdb_server: check target examined while combining reg list Commit 6541233aa78d ("Combine register lists of smp targets.")
	assumes that all the targets in the SMP cluster are already examined
	and unconditionally call target_get_gdb_reg_list_noread() that will
	in turn return error if the target is not examined yet.  Skip targets not examined yet.  Add an additional check in case the
	register list cannot be built, e.g. because no target in the SMP
	cluster is examined. This should never happen, but it's better to
	play safe.  Change-Id: I8609815c3d5144790fb05a870cb0c931540aef8a Fixes:
	6541233aa78d ("Combine register lists of smp targets.") Reported-by:
	Michele Bisogno <michele.bisogno.ct@renesas.com> Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6853 Tested-by: jenkins
	Reviewed-by: Michele Bisogno <michele.bisogno.ct@renesas.com>
	Reviewed-by: Tim Newsome <tim@sifive.com>

2022-02-11  Sean Anderson <sean.anderson@seco.com>

	* : board: Add NXP LS1088ARDB This adds a board file for the NXP LS1088ARDB. This only covers the
	"primary" JTAG header J55, and not the PCIe header (J91). The only
	oddity is that the LS1088A and CPLD are muxed by adding/removing a
	jumper from J48. Unfortunately, it doesn't look like OpenOCD
	supports this CPLD beyond determining the irlen, so it's not very
	useful. Those who are interested in experimenting can define CWTAP
	to access the CPLD, but the default is to access the CPU.  Signed-off-by: Sean Anderson <sean.anderson@seco.com> Change-Id:
	Ia07436a534f86bd907aa5fe2a78a326a27855a24 Reviewed-on:
	https://review.openocd.org/c/openocd/+/6849 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-02-11  Sean Anderson <sean.anderson@seco.com>

	* : target: Add support for ls1088a The LS1088A is an octo-core aarch64 processor from NXP in the
	layerscape family. The JTAG is undocumented, but I was able to
	figure things out from the output of `dap info`. This is the first
	in-tree example of using the hwthread rtos (as far as I know), so
	hopefully it can serve as an example to other developers. There are
	some ETMs, but I was unable to try them out because I got 'invalid
	command name "etm"' when trying to test things out.  Signed-off-by: Sean Anderson <sean.anderson@seco.com> Change-Id:
	I9b0791d27d8c41170a413a8d86431107a85feba2 Reviewed-on:
	https://review.openocd.org/c/openocd/+/6848 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-02-11  Sean Anderson <sean.anderson@seco.com>

	* : cpld: altera-epm240: Add additional IDCODEs This adds some additional IDCODEs from the datasheet. It also adds
	support for customizing the tap name.  Signed-off-by: Sean Anderson <sean.anderson@seco.com> Change-Id:
	I7cda10b92c229b61836c12cd9ca410de358ede2e Reviewed-on:
	https://review.openocd.org/c/openocd/+/6846 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2021-11-25  Tomas Vanek <vanekt@fbl.cz>

	* : target/cortex_m: add Cortex-M part number getter The getter checks the magic numbers in arch_info to detect eventual
	type mismatch.  Change-Id: I61134b05310a97ae9831517d0516c7b4240d35a5 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6751 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com>

2021-11-24  Tomas Vanek <vanekt@fbl.cz>

	* : target/cortex_m: fix target_to_cm() helper The third parameter of container_of() should point to the same
	member as target->arch_info points to, struct arm.  It worked just because struct arm is the first member in struct
	armv7m_common.  If you move arm member from the first place, OpenOCD
	fails heavily.  Change-Id: I0c0a5221490945563e17a0a34d99a603f1d6c2ff Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6749 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-02-02  Antonio Borneo <borneo.antonio@gmail.com>

	* : .gitmodules: switch away from repo.or.cz The host repo.or.cz is often offline, creating issues for cloning
	and building OpenOCD from scratch.  Already 'jimtcl' developer has
	dropped repo.or.cz, triggering the OpenOCD commit 861e75f54efb
	("jimtcl: switch to github").  Change also the link of the remaining submodules 'git2cl' and
	'libjaylink' to their respective main repository.  Change-Id: Ib513237427635359ce36a480a8f2060e2fb12ba4 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6834 Tested-by: jenkins
	Reviewed-by: zapb <dev@zapb.de>

2022-02-02  Antonio Borneo <borneo.antonio@gmail.com>

	* : server: remove remaining crust from dropped eCos code Commit 39650e2273bc ("ecosboard: delete bit-rotted eCos code") has
	removed eCos code but has left some empty function that was used
	during non-eCos build to replace eCos mutex.  Drop the functions and the file that contain them.  Change-Id: I31bc0237ea699c11bd70921660f960ee406ffa80 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6835 Tested-by: jenkins
	Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2022-01-27  Ben McMorran <bemcmorr@microsoft.com>

	* : gdb_server: Include thread name as XML attribute Explicitly providing a thread name in the "thread" element produces
	better thread visualizations in downstream tools like IDEs.  Signed-off-by: Ben McMorran <bemcmorr@microsoft.com> Change-Id:
	I102c14ddb8b87757fa474de8e3a3f6a1cfe10d98 Reviewed-on:
	https://review.openocd.org/c/openocd/+/6828 Tested-by: jenkins
	Reviewed-by: zapb <dev@zapb.de> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2022-01-23  Antonio Borneo <borneo.antonio@gmail.com>

	* : doxygen: fix some function prototype description Change-Id: I49311a643ea73143839d2f6bde976cfd76f8c67f Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6830 Tested-by: jenkins

2021-12-16  Antonio Borneo <borneo.antonio@gmail.com>

	* : helper/list: add list_for_each_entry_direction() Use a bool flag to specify if the list should be forward or backward
	iterated.  Change-Id: Ied19d049f46cdcb7f50137d459cc7c02014526bc Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6784 Tested-by: jenkins

2021-11-24  Zolt·n Dud·s <zedudi@gmail.com>

	* : semihosting: User defined operation, Tcl command exec on host Enabling a portion (0x100 - 0x107) of the user defined semihosting
	operation number range (0x100 - 0x1FF) to be processed with the help
	of the existing target event mechanism, to implement a
	general-purpose Tcl interface for the target available on the host,
	via semihosting interface.  Example usage: - The user configures a Tcl command as a callback for one of the
	        newly defined events (semihosting-user-cmd-0x10X) in the
	        configuration file.  - The target can make a semihosting call with <opnum>, passing
	        optional parameters for the call.  If there is no callback registered to the user defined operation
	number, nothing happens.  Example usage: Configure RTT automatically with the exact, linked
	control block location from target.  Signed-off-by: Zolt√°n Dud√°s <zedudi@gmail.com> Change-Id:
	I10e1784b1fecd4e630d78df81cb44bf1aa2fc247 Reviewed-on:
	https://review.openocd.org/c/openocd/+/6748 Tested-by: jenkins
	Reviewed-by: Oleksij Rempel <linux@rempel-privat.de> Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2021-07-08  Tim Newsome <tim@sifive.com>

	* : Combine register lists of smp targets.  This is helpful when you want to pretend to gdb that your
	heterogeneous multicore system is homogeneous, because gdb cannot
	handle heterogeneous systems. This won't always works, but works
	fine if e.g. one of the cores has an FPU while the other does not.
	(Specifically, HiFive Unleashed has 1 core with no FPU, plus 4 cores
	with an FPU.) Signed-off-by: Tim Newsome <tim@sifive.com> Change-Id:
	I05ff4c28646778fbc00327bc510be064bfe6c9f0 Reviewed-on:
	https://review.openocd.org/c/openocd/+/6362 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-01-21  Hans-Erik Floryd <hans-erik.floryd@rt-labs.com>

	* : tcl/board: Add EVB-LAN9255 config Config for EVB-LAN9255, tested using Atmel-ICE debugger on J10
	connector.  Signed-off-by: Hans-Erik Floryd <hans-erik.floryd@rt-labs.com>
	Change-Id: I8bcf779e9363499a98aa0b7d10819c53da6a19e7 Reviewed-on:
	https://review.openocd.org/c/openocd/+/6812 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-01-06  Adrien Grassein <adrien.grassein@gmail.com>

	* : jtag: Add an option to ignore the bypass bit Some CPU wrongly indicate the bypas bit in the codeid.  It's the
	case of the NanoXplore NG-ULTRA chip that export a configurable (and
	potentially invalid) ID for one of its component.  Add an option to
	ignore it.  Signed-off-by: Adrien Grassein <adrien.grassein@gmail.com>
	Change-Id: Ic59743f23bfc4d4e23da0e8535fec8ca9e87ff1a Reviewed-on:
	https://review.openocd.org/c/openocd/+/6802 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by:
	Oleksij Rempel <linux@rempel-privat.de>

2021-12-24  Antonio Borneo <borneo.antonio@gmail.com>

	* : log: fix memory leak when log to file is enabled When log to file is enabled, the file is not closed by OpenOCD at
	exit. This is reported by Valgrind as a memory leak that is still
	reachable, as the internal buffers of 'FILE *log_output' are freed
	by the automatic fclose() at exit.  Close the log file before exit.  Change-Id: Id472c0d04462035254a9b49ecb0a4037263c6f6f Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6789 Tested-by: jenkins

2022-01-12  Antonio Borneo <borneo.antonio@gmail.com>

	* : doc: use the new jimtcl syntax for 'expr' With jimtcl 0.81 the syntax of the TCL command 'expr' requires the
	multiple arguments to be within curly brackets.  Update the examples in the documentation to follow the new syntax.
	While there, split one example to avoid it to exceed the line size
	during pdf document generation.  Change-Id: I91cca419f8273415ccb0c2ce369fc6ac476e34e5 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6809 Tested-by: jenkins

2021-01-25  Tim Newsome <tim@sifive.com>

	* : Document how vector registers are exposed to gdb.  See https://github.com/riscv/riscv-openocd/pull/570 Change-Id: Ie7cdef3717e107a9df0b48316cfbc547dea9a7fd Signed-off-by:
	Tim Newsome <tim@sifive.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6776 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2021-11-02  Tim Newsome <tim@sifive.com>

	* : target/riscv: calloc() memory per register.  This replaces a static array with 8 bytes per register. When there
	are vector registers larger than 8 bytes, they would end up
	clobbering each other's values. I can't believe I didn't catch this
	earlier.  See https://github.com/riscv/riscv-openocd/pull/658 Change-Id: I9df4eaf05617a2c8df3140fff9fe53f61ab2b261 Signed-off-by:
	Tim Newsome <tim@sifive.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6775 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by:
	Tomas Vanek <vanekt@fbl.cz>

2021-12-04  Antonio Borneo <borneo.antonio@gmail.com>

	* : gdb_server: fix a comment in gdb_new_connection() On 2008-03-05, before git's age, commit 6d9501467441 adds a comment
	about unobserved ACK supposedly sent by GDB at connection.  The ACK is sent since GDB 3.95 (1999-05-04), but a bug introduced in
	GDB 6.5 (2006-06-21) and fixed in GDB 7.0 (2009-10-06) makes GDB
	sending the query for "supported packets" before sending the ACK.
	Due to the bug, the author of the commit failed to see the ACK.  Change-Id: I574a8013e7d159d1c71087af83b7c2ce92be86bd Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6769 Tested-by: jenkins

2021-12-08  Tomas Vanek <vanekt@fbl.cz>

	* : target/cortex_m: minor refactoring in
	cortex_m_store_core_reg_u32() Unlike cortex_m_load_core_reg_u32() storing core register uses the
	same code pattern around DHCSR read as offered by the convenience
	helper cortex_m_read_dhcsr_atomic_sticky().  Use the helper.  Change-Id: Ia947204944a8b549f3c2be7fb2f717aad18970c4 SeeAlso:
	65d762918328 (cortex_m: poll S_REGRDY on register r/w) SeeAlso:
	0dcf95c7171b (target/cortex_m: cumulate DHCSR sticky bits)
	Signed-off-by: Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6767 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2020-06-24  Jaehoon Park <52432979+jaehoon-sifive@users.noreply.github.com>

	* : flash/nor/spi: add micron MT25QU01G 1Gbit SPI flash on VCU118 Rev. 2.0 Contributed to riscv-openocd in
	https://github.com/riscv/riscv-openocd/pull/487 Signed-off-by: Tim Newsome <tim@sifive.com> Change-Id:
	I93447dd970d9901a671567fe8ab9e407432f8db9 Reviewed-on:
	https://review.openocd.org/c/openocd/+/6764 Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com> Tested-by: jenkins

2021-11-18  Laszlo Sitzer <dlsitzer@gmail.com>

	* : linuxgpiod: Allow using multiple GPIO chips.  Allow passing optional gpiochip number before gpio number.  If no
	optional chip number is passed, the one from the 'gpiochip'
	configuration directive is used.  Change-Id: I16933d81581d9af4d1600c5f9fdbc832ef3fda94 Signed-off-by:
	Laszlo Sitzer <dlsitzer@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6742 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2021-11-22  Jan Matyas <matyas@codasip.com>

	* : doc: Updated RISC-V memory-related cmds in documentation - "riscv set_prefer_sba" - removed from the doc, superseded   by the latter - "riscv set_mem_access" - new command, new entry added   into the doc This change only addresses the documentation. The corresponding
	implementation of the RISC-V commands is already merged.  Change-Id: I3c07672cde94324407cf667504dba5402f63a543 Signed-off-by:
	Jan Matyas <matyas@codasip.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6743 Reviewed-by: Antonio
	Borneo <borneo.antonio@gmail.com> Tested-by: jenkins

2021-11-22  Yasushi SHOJI <yashi@spacecubics.com>

	* : doc/openocd.texi: Document find and ocd_find command Document both find and ocd_find command under Config File Guidelines
	-> Interface Config Files.  find command is used in the previous
	section as well but the previous section is more about using
	OpenOCD.  The section added is "aimed at any user who needs to write a config
	file".  Change-Id: I698207fe58d564c615a15b50756aa5547a5f40b7 Signed-off-by:
	Yasushi SHOJI <yashi@spacecubics.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6737 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2021-11-29  Yasushi SHOJI <yashi@spacecubics.com>

	* : target/target: Check checksum_memory before call Make sure checksum_memory is present.  Otherwise it'll segfault.  Change-Id: If31123323bd8a03282da43505c9604fde735ad0e Signed-off-by:
	Yasushi SHOJI <yashi@spacecubics.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6758 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2021-12-01  Tomas Vanek <vanekt@fbl.cz>

	* : doc: list internal commands called by init Change-Id: I5534c94a983906533a1b38c30ec3eb982e62dee7 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6760 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2021-11-11  Antonio Borneo <borneo.antonio@gmail.com>

	* : cortex_m: remove last references to debugport_init() The function debugport_init() has never existed in OpenOCD code, but
	few comments erroneously references it in place of the existing
	function ahbap_debugport_init().  Commit 00dbc185ee56 ("arm_adi_v5: Split ahbap_debugport_init")
	splits the function ahbap_debugport_init() in dap_dp_init() and
	mem_ap_init(), but did not removed all the incorrect comments about
	debugport_init(). Few of such comments has been removed in later
	patches.  Remove the last comment that references debugport_init().  Change-Id: Ibd1f125475386e5653340fedf706903a0ee15897 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6694 Tested-by: jenkins

2021-11-18  Tomas Vanek <vanekt@fbl.cz>

	* : target,flash: allow target_free_working_area on NULL area
	pointer Standard C library free() allows NULL pointer as a parameter.  Change target_free_working_area() to conform this convention.  Remove NULL pointer tests before target_free_working_area() calls.  While on it add missing setting pointer to NULL after
	target_free_working_area().  Change-Id: I7c692ab04a9933398ba5bc614723ad0bdecb87b3 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6712 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2021-11-22  Yasushi SHOJI <yashi@spacecubics.com>

	* : doc/openocd.texi: Document usage command Document usage command under General Commands -> Server Commands.
	The text is taken from the command's help string.  Change-Id: I957cb46cca98181c3c5e676228c5c103e47bb655 Signed-off-by:
	Yasushi SHOJI <yashi@spacecubics.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6735 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2021-11-20  Tomas Vanek <vanekt@fbl.cz>

	* : doc: document 'cmsis-dap cmd' command Change-Id: I90b7f020ee2bf078fdf22e3d21423f333ae061ac Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6732 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2021-11-20  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor/at91samd: remove 'at91samd info' command The command is a stub only, does nothing.  Change-Id: Ib3b8c2122a9f6f2e179bee34ac56d0adf367bfcc Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6730 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2021-11-20  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor/kinetis_ke: remove 'kinetis mdm test_securing' cmd The command might be a leftover from development of the driver.
	There is no documentation what it does.  Change-Id: Iaa5aa1ac51638bd6acce172a5dd03846a165dc27 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6728 Tested-by: jenkins
	Reviewed-by: Ivan-Artekit <ivan@artekit.eu>

2021-11-23  Tomas Vanek <vanekt@fbl.cz>

	* : doc: mention SWD multidrop Change-Id: I361dc351c407b67613eadef4d29e27ed0e00bd05 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6744 Reviewed-by: Antonio
	Borneo <borneo.antonio@gmail.com> Tested-by: jenkins

2021-11-28  Antonio Borneo <borneo.antonio@gmail.com>

	* : jimtcl: update to version 0.81 (2021-11-28) Change-Id: I374348047331b88e35b6584a5c65d8a73240b8a1 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6757 Tested-by: jenkins
	Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2021-10-19  Antonio Borneo <borneo.antonio@gmail.com>

	* : drivers: call adapter_get_required_serial() in
	jtag_libusb_open() Now that adapter serial is handled independently from the adapter
	drivers, move inside jtag_libusb_open() the call to
	adapter_get_required_serial(), so every adapter that uses libusb
	will automagically get USB serial support.  Extend the documentation to list the adapters involved.  Change-Id: I75b3482d38f8ed3418329f3106c5e8b689fd460b Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6663 Tested-by: jenkins

2021-10-08  Antonio Borneo <borneo.antonio@gmail.com>

	* : jtag/jlink: switch to command 'adapter serial' The driver jlink defines the command 'jlink serial' to specify the
	serial string of the adapter.  Remove and deprecate the driver command, and use 'adapter serial'.  Note: in former code the commands 'jlink serial' and 'jlink usb'
	were mutually exclusive; running one of them would invalidate the
	effect of a previous execution of the other. The new code gives
	priority to 'adapter serial', even if executed before 'jlink usb'.  Change-Id: I920b0c136716f459b6fd6f7da8a01a7fa1ed389f Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6656 Reviewed-by: zapb
	<dev@zapb.de> Tested-by: jenkins

2021-10-07  Antonio Borneo <borneo.antonio@gmail.com>

	* : jtag/vsllink: switch to command 'adapter serial' The driver vsllink defines the command 'vsllink usb_serial' to
	specify the serial string of the adapter.  Remove and deprecate the driver command, and use 'adapter serial'.  Change-Id: Iadcc018b8aa8974ccd7156915b84e58270fad29d Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6654 Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Tested-by: jenkins

2021-10-07  Antonio Borneo <borneo.antonio@gmail.com>

	* : jtag/kitprog: switch to command 'adapter serial' The driver kitprog defines the command 'kitprog_serial' to specify
	the serial string of the adapter.  Remove and deprecate the driver command, and use 'adapter serial'.  Change-Id: I844cb815af01137392b6d12e1b5972fc77ac092d Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6652 Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Tested-by: jenkins

2021-10-07  Antonio Borneo <borneo.antonio@gmail.com>

	* : jtag/ft232r: switch to command 'adapter serial' The driver ft232r defines the command 'ft232r serial_desc' to
	specify the serial string of the adapter.  Remove and deprecate the driver command, and use 'adapter serial'.  Change-Id: I0bd909923a668420604fed3c9f6a260716b044c7 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6650 Tested-by: jenkins

2021-10-07  Antonio Borneo <borneo.antonio@gmail.com>

	* : jtag/aice: switch to command 'adapter serial' The driver aice defines the command 'aice serial' to specify the
	serial string of the adapter, but actually does not use this value
	in the code.  Remove and deprecate the driver command, and use 'adapter serial'.  Change-Id: I892e0a4e1b41a7a87adf54a5736abf7419f32979 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6648 Tested-by: jenkins

2021-11-22  Tomas Vanek <vanekt@fbl.cz>

	* : target/hla_target: set cortex_m->common_magic hla_target uses the same struct cortex_m_common as the standard
	cortex_m target. Unlike the cortex_m target hla missed setting of
	common_magic.  Set commont_magic to help pointer verification.  Add convenience tests is_cortex_m_or_hla() and
	is_cortex_m_with_dap_access() Use proper test in cortex_m_verify_pointer() - this code relied on
	unset common_magic on hla target before the change.  Change-Id: I4dae79f056c3d73adf524e26aa8ef2d3a57b471e Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6741 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2021-11-18  Antonio Borneo <borneo.antonio@gmail.com>

	* : doc: remove non-existing command readgroup The documentation included it in commit 4e79b48e2c7e ("Add new
	target type: OpenRISC"), but the command was never added.  Remove it! Change-Id: Ice5fa1ee4086b5f5ceb942c3ce68bc9bbd75d19b Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Fixes: 4e79b48e2c7e ("Add
	new target type: OpenRISC") Reviewed-on:
	https://review.openocd.org/c/openocd/+/6723 Tested-by: jenkins
	Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2021-11-18  Antonio Borneo <borneo.antonio@gmail.com>

	* : doc: remove non-existing command riscv set_scratch_ram The command was proposed in http://review.openocd.org/#/c/4578/2 and
	dropped in favor on existing work area commands.  Nevertheless the
	command landed in documentation.  Remove it! Change-Id: I6e18124256f29be15d8593c07d96f61d19e983f8 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Fixes: a51ab8ddf63a ("Add
	RISC-V support.") Reviewed-on:
	https://review.openocd.org/c/openocd/+/6721 Tested-by: jenkins
	Reviewed-by: Jan Matyas <matyas@codasip.com>

2021-11-18  Antonio Borneo <borneo.antonio@gmail.com>

	* : flash/rp2040: don't initialize to NULL fields in struct When a struct is initialized, missing fields are already filled with
	zero or NULL.  This change simplifies scripts to compare
	documentation and registered commands.  Change-Id: I96fbdfa98bbb1f2b5e2a9532faf5a15cb5bc28dd Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6719 Tested-by: jenkins
	Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2021-11-17  Antonio Borneo <borneo.antonio@gmail.com>

	* : openocd: use unique name for struct command_registration Just to avoid name clash when comparing documentation with
	registered commands through scripts.  Change-Id: I8832545d8d9236ea5dabe6e73732f51e5246caff Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6717 Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Tested-by: jenkins

2021-04-06  Tomas Vanek <vanekt@fbl.cz>

	* : target/arm_dap: check SWD DAP configuration Raise error if * more than one plain SWD DAPs are defined * plain and multidrop DAPs are mixed * two multidrop DAPs have the same TARGETSEL value Inspired by Graham Sanderson's http://review.openocd.org/4935 Change-Id: I7279744464f5cc6477e50695c596be9c5e5507bf Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6142 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2021-04-06  Tomas Vanek <vanekt@fbl.cz>

	* : target/arm_adi_v5,arm_dap: introduce multidrop_targetsel and its
	configuration Add multidrop_targetsel to struct adiv5_dap.  Add option -dp-id and
	-instance-id to dap create command.  Add convenience function
	dap_is_multidrop() Change-Id: Ibb93abb5f50b3665c320a10c1497421035762134 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6140 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2021-04-05  Tomas Vanek <vanekt@fbl.cz>

	* : target/adi_v5_swd: introduce swd_queue_dp_read/write_inner() This is a preparatory change for swd multidrop, mostly refactoring.  Split swd_queue_dp_read/write() to inner and outer parts.  Use the
	inner parts in swd_queue_dp_bankselect(), swd_connect() they do not
	need to check reconnect.  Use the outer parts exclusively in
	swd_dap_ops.  Rearrange the code to reduce forward declarations.  Change-Id: I47b7f0cb037e0032a267463f06ba02123ba96fe7 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6139 Reviewed-by: Antonio
	Borneo <borneo.antonio@gmail.com> Tested-by: jenkins

2021-11-12  Tomas Vanek <vanekt@fbl.cz>

	* : drivers/ftdi: add support for SWD multidrop Ignore ack received after DP_TARGETSEL write to prevent false error.  Inspired by Graham Sanderson's http://review.openocd.org/4935 Change-Id: I04fd77cde3244de250743d8c8bfb93ed26379385 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6698 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2021-11-10  Tomas Vanek <vanekt@fbl.cz>

	* : target/arm_dap: fix memory leak in error path of dap_create() Change-Id: I91fa5910670161b62a76fc834b6394c5a6c05395 Suggested-by:
	Antonio Borneo <borneo.antonio@gmail.com> Signed-off-by: Tomas Vanek
	<vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6685 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2021-11-11  Jan Matyas <matyas@codasip.com>

	* : drivers/jtag_vpi: Added "jtag_vpi:" prefixes to log messages Added "jtag_vpi:" prefixes to log messages from the jtag_vpi driver.
	The intention is to make it clear what the messages relate to.
	Without the prefix, many of the log messages won't make much sense
	to the user.  This change does not alter any functionality, just the printed text.  Example: Before: Error: Can't connect to 127.0.0.1 : 5555 After: Error: jtag_vpi: Can't connect to 127.0.0.1 : 5555 Change-Id: I779c379f52722b094b200d08b25ab0f7280d2845 Signed-off-by:
	Jan Matyas <matyas@codasip.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6686 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2021-10-05  Tim Newsome <tim@sifive.com>

	* : riscv: Clear type 6 triggers on connecting.  I missed this when I first add mcontrol6 support.  https://github.com/riscv/riscv-openocd/pull/648 Change-Id: I1a2706c7ea3a6757ed5083091cd2c764a8b0267c Signed-off-by:
	Tim Newsome <tim@sifive.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6684 Tested-by: jenkins
	Reviewed-by: Jan Matyas <matyas@codasip.com> Reviewed-by: Antonio
	Borneo <borneo.antonio@gmail.com>

2021-11-08  Antonio Borneo <borneo.antonio@gmail.com>

	* : jimtcl: update to master branch 20211108 Today's version of jimtcl includes a fix for autoconf >= 2.70 and a
	minor fix for warnings with GCC 11.  To prepare for next jimtcl
	0.81, let's merge and test the updated master branch.  Change-Id: I455cc708f7d4786461978e38b6ac71816e2c9825 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6674 Tested-by: jenkins

2021-11-11  Antonio Borneo <borneo.antonio@gmail.com>

	* : ftdi: add support to switch to/from dormant state Partially extracted from https://review.openocd.org/4935 Change-Id: Ia3f197b257434a1a7979fdbc08936c7c541db1e2 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Signed-off-by: graham
	sanderson <graham.sanderson@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6693 Tested-by: jenkins
	Reviewed-by: Tomas Vanek <vanekt@fbl.cz> Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2021-11-11  Antonio Borneo <borneo.antonio@gmail.com>

	* : drivers/bitbang: add support to switch to/from dormant state While there, replace the SWD_CMD_PARK macro to the magic number.  Change-Id: Id9094dcb2b010b9e894a5ed9e4a99d2287e5969c Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6691 Tested-by: jenkins
	Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2021-11-11  Antonio Borneo <borneo.antonio@gmail.com>

	* : arm_adi_v5: add missing enum DORMANT_TO_JTAG Add the value DORMANT_TO_JTAG in the enum listing the SWJ-DP
	switching sequences.  The corresponding bit-sequence is already
	available.  Change-Id: I6f1ffd29a8f5729ec70ce0303248bc251409d37d Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6689 Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Tested-by: jenkins

2019-02-05  Tomas Vanek <vanekt@fbl.cz>

	* : target/cortex_m: faster reading of all CPU registers Without the change cortex_m_debug_entry() reads all registers
	calling cortex_m_load_core_reg_u32() for each register with a poor
	usage of JTAG/SWD queue.  It is time consuming, especially on an USB
	FS based adapter.  Moreover if target_request debugmsgs are enabled,
	DCB_DCRDR is saved and restored on each register read.  This change introduces cortex_m_fast_read_all_regs() which queues
	all register reads and a single dap_run() transaction does all work.  cortex_m_fast_read_all_regs() reads all registers unconditionally
	regardless register cache is valid or not. This is a difference from
	the original cortex_m_debug_entry() code.  cortex_m_debug_entry times from -d3 log, Cortex-M4F and CMSIS-DAP
	(Kinetis K28F-FRDM kit) target_request |                time [ms] debugmsgs      | without
	the change | with the change
	---------------+--------------------+----------------- disable
	|        186         |       27 enable         |        232
	|       29 Added checking of DHCSR.S_REGRDY flag. If "not ready" is seen,
	cortex_m->slow_register_read is set and fallback to the old register
	read method cortex_m_slow_read_all_regs() is used instead of
	cortex_m_fast_read_all_regs().  Change-Id: I0665d94b97ede217394640871dc451ec93410254 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/5321 Tested-by: jenkins
	Reviewed-by: Andreas Fritiofson <andreas.fritiofson@gmail.com>
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2021-04-22  Tomas Vanek <vanekt@fbl.cz>

	* : target/cortex_m: cumulate DHCSR sticky bits DCB DHCSR register contains S_RETIRE_ST and S_RESET_ST bits cleared
	on a read.  The change introduces a helper function
	cortex_m_cumulate_dhcsr_sticky().  Call this function each time
	DHCSR is read to preserve S_RESET_ST state in the case of a reset
	event was detected.  Introduce cortex_m_read_dhcsr_atomic_sticky() convenience helper to
	read DHCSR, store it to cortex_m->dcb_dhcsr and cumulate sticky
	bits.  The cumulated state of S_RESET_ST is read and cleared in
	cortex_m_poll() Change-Id: Ib679599f850fd219fb9418c6ff32eed7cf5740da Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6180 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com>

2021-11-08  Tomas Vanek <vanekt@fbl.cz>

	* : cortex_m: use cortex_m_write_debug_halt_mask() in
	cortex_m_single_step_core() cortex_m_single_step_core() used mem_ap_write_atomic_u32() to
	manipulate dhcsr bits unlike the rest of code, where a specialized
	function cortex_m_write_debug_halt_mask() takes place.  Unify setting of dhcsr bits and use cortex_m_write_debug_halt_mask()
	here as well.  Extracted from [1].  [1] Antonio Borneo: 6207: cortex_m: rework handling of dcb_dhcsr Link: https://review.openocd.org/c/openocd/+/6207 Change-Id:
	I9ef05ce88a9dce42e1d3d5404a4fe87ec86b5fe8 Signed-off-by: Tomas Vanek
	<vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6676 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com>

2021-09-01  asier70 <asier70@gmail.com>

	* : flash/nor/stm32f1x: Add support for GD32E23x GD32E23x from GigaDevice is cortex-M23 microcontroller and it can
	work with the stm32f1x driver.  Modifications are similar to this
	done for GD32F1x0 in #6164
	(https://review.openocd.org/c/openocd/+/6164).  Configuration file
	is added because its cortex-M23 CPU ID is different.  I think that
	GigaDevice microcontrollers should be handled in an independent unit
	to separate them from STM32, but nowadays quick solution is welcome.  Signed-off-by: asier70Andrzej Sier≈ºƒôga <asier70@gmail.com>
	Change-Id: I91f31f5f66808bc50a8f607ac2c107e6b7c5e2b8 Reviewed-on:
	https://review.openocd.org/c/openocd/+/6527 Tested-by: jenkins
	Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2021-10-20  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : flash/stm32h7x: don't read flash size using the H74/H75x CPU2 CPU2 (Cortex-M4) cannot read flash size register.  assume the
	maximum flash size without triggering an error message Change-Id: I5c3328b7cc42e3aa57165075021227d7936f3d26 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6670 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2021-11-03  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : stlink (tcp): manage scattered stlink-server responses detected in ubuntu 20.04 sometimes, the stlink-server response could
	be segmented on multiple packets.  this causes stlink_tcp_send_cmd to fail with the following msg:
	Error: failed to receive USB CMD response because the received_size
	< expected size to fix the issue, do recv in a loop till all data is received or
	timeout is reached.  Change-Id: I46cc60c231b4cc52f150ead268f843bc60c41149 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6671 Reviewed-by: Antonio
	Borneo <borneo.antonio@gmail.com> Tested-by: jenkins

2021-10-07  Antonio Borneo <borneo.antonio@gmail.com>

	* : jtag/adapter: fix memory leak on usb location At exit, free the memory allocated to hold the USB location.  Change-Id: I050701f4dc8be14fd40e8add9d0b047461fa0d1c Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6646 Tested-by: jenkins
	Reviewed-by: Tarek BOCHKATI <tarek.bouchkati@gmail.com>

2021-10-07  Antonio Borneo <borneo.antonio@gmail.com>

	* : jtag: align adapter speed code to new structure Rename the jtag_XXX functions as adapter_XXX.  Rename internal
	variables.  Adapt log messages and comments text.  Change-Id: I67f209c67074899cd58bad495055def03f0d1bcf Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6644 Tested-by: jenkins
	Reviewed-by: Tarek BOCHKATI <tarek.bouchkati@gmail.com>

2021-10-07  Antonio Borneo <borneo.antonio@gmail.com>

	* : jtag/adapter: move config vars in struct adapter_config Move the static variables used to configure the adapter in the
	struct adapter_config.  Change-Id: I1639e2bd39d0cbb12c71dfa347025558879d8b1d Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6642 Tested-by: jenkins
	Reviewed-by: Tarek BOCHKATI <tarek.bouchkati@gmail.com>

2021-10-06  Antonio Borneo <borneo.antonio@gmail.com>

	* : jtag/adapter: move 'usb location' code in adapter.c The configuration code for adapter parameters is spread around.  Add a struct in adapter.c aimed at containing all the adapter's
	configuration data.  Move in adapter.c the code related to
	configuring 'usb location' and the copyright tag.  Add adapter.h to
	export the functions.  While there: - rework the copyright and the SPDX tag; - rename the 'usb location' functions; - remove the JTAG_SRC variable in Makefile.am.  Change-Id: I4fe0d32991a8a30e315807180688035ae9ee01ce Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6640 Tested-by: jenkins
	Reviewed-by: Tarek BOCHKATI <tarek.bouchkati@gmail.com>

2019-01-28  Andreas Bolsch <hyphen0break@gmail.com>

	* : Update jtagspi driver for 1-, 2- and 4-byte addresses jtagspi driver always used 3-byte addresses regardless of actual
	device capcity. Now select 1- to 4-byte addresses depending on
	device capacity.  Some devices need a special command to activate
	the 4-byte address mode, a special command to accomplish this, and a
	further command for setting device properties are added.
	Additionally, restriction (start of range had to be page aligned)
	removed.  Tested with XCS6SLX16 board and W25Q256FV in 3- and 4-byte
	address modes.  Change-Id: I88b2877517a18dac460253ae6d97f3dded054e6c Signed-off-by:
	Andreas Bolsch <hyphen0break@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/4876 Reviewed-by: Jan Matyas
	<matyas@codasip.com> Reviewed-by: Tomas Vanek <vanekt@fbl.cz>
	Reviewed-by: zapb <dev@zapb.de> Tested-by: jenkins

2021-04-11  Antonio Borneo <borneo.antonio@gmail.com>

	* : Makefile: remove workaround for jimtcl 0.80 Commit 266a945ad3e8 ("jimtcl: update to version 0.80 (2020-10-29)")
	adds a workaround to permit 'make distcheck' with jimtcl 0.80.  This
	has been fixed in jimtcl with commit d224c9a2b7b2 ("Makefile: remove
	examples.api/Makefile while 'distclean'").  By using jimtcl from latest master branch, the workaround is not
	required anymore.  Remove the workaround.  Change-Id: I10d91371b5a89d2a3c8599bce766f97eac44f0d9 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6227 Tested-by: jenkins
	Reviewed-by: Oleksij Rempel <linux@rempel-privat.de>

2021-10-09  Paul Fertser <fercerpav@gmail.com>

	* : jtag: drivers: bcm2835gpio: don't allow GPIOs > 31 Current code assumes all the GPIO signals are manipulated via a
	single 32-bit register so using higher GPIOs silently fails.  Fix the check instead of trying to handle additional GPIOs
	(available on Raspberry Pi Compute Modules) as that would slow the
	driver down.  Change-Id: Ib3b5864afb3b972d952f9b74665201cd93924959 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6658 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2021-09-25  Alex Crawford <openocd@code.acrawford.com>

	* : drivers/linuxgpiod: add support for opendrain trst This is a follow-up to 2f424b7eb, which added support for opendrain
	srst, finishing up support for opendrain reset signals.  Signed-off-by: Alex Crawford <openocd@code.acrawford.com> Change-Id:
	Ib79b2e12f2a9469fd6c53bb839c0d2e8e46103a4 Reviewed-on:
	https://review.openocd.org/c/openocd/+/6598 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2021-07-29  Antonio Borneo <borneo.antonio@gmail.com>

	* : stlink: add support for rw-misc commands Firmware versions V2J32 and V3J2 introduce the commands RW-MISC to
	put in a single USB packet a sequence of mem_ap read/write.  These
	commands provide a significant speed improvement while accessing the
	debug unit at scattered addresses.  Add the low level commands and extend high level implementation.  Skip for the moment the command to read the max number of items
	allowed by the firmware and use some hardcoded values.  Change-Id: I8adc630cc0de733511e9d94533cbfe9f3b301a83 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6607 Tested-by: jenkins
	Reviewed-by: Tarek BOCHKATI <tarek.bouchkati@gmail.com>

2021-07-25  Antonio Borneo <borneo.antonio@gmail.com>

	* : stlink: add support for native no_addr_incr commands Firmware versions V2J26 and V3J1 introduce the command
	STLINK_DEBUG_WRITEMEM_32BIT_NO_ADDR_INC Firmware versions V2J32 and
	V3J2 introduce the command STLINK_DEBUG_READMEM_32BIT_NO_ADDR_INC These new commands can provide speed improvement to Cortex-A memory
	download (its debug port use a FIFO for data transfer).  Add the low level commands and extend high level implementation.  Change-Id: I3b65acbeaec3bd305f5568b9ee4bc9495b113448 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6605 Tested-by: jenkins
	Reviewed-by: Tarek BOCHKATI <tarek.bouchkati@gmail.com>

2021-07-22  Antonio Borneo <borneo.antonio@gmail.com>

	* : stlink: detect mem_ap R/W and dequeue set TAR and CSW By using the stlink commands for memory read write we can gain some
	performance, but only when TAR and/or CSW are changed.  During long
	transfers with constant CSW and TAR auto-incremented there is no
	gain, since the same amount of USB/TCP packet is used.  Plus, by
	dropping ADIv5 packed transfers the performance is lower on 8 and 16
	bits transfers.  This changes opens the opportunity for collapsing
	memory burst accesses in a single stlink USB/TCP packet.  Initialize the values of enum queue_cmd to easily extract the word
	size through a macro, even if this is not used here.  Change-Id: I6661a00d468a1591a253cba9feb3bdb3f7474f5a Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6603 Tested-by: jenkins
	Reviewed-by: Tarek BOCHKATI <tarek.bouchkati@gmail.com>

2021-07-22  Antonio Borneo <borneo.antonio@gmail.com>

	* : stlink: add queue in dap-direct mode Implement a minimalist queue for DP/AP commands and reorganize the
	code to use it.  There is no performance improvement; the queue
	elements are still sent one-by-one on USB or on TCP during
	dap_run().  Change-Id: I8353563e59f883624bcc0fbe8b54955e4f27ccfa Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6601 Tested-by: jenkins
	Reviewed-by: Tarek BOCHKATI <tarek.bouchkati@gmail.com>

2020-04-23  Jimmy <nhminus@gmail.com>

	* : flash/nor/stm32lx: fixed writes at high adapter speeds The busy flag must be polled after each half-page write.  At low
	clock speeds, no issue is observed when the poll is omitted, because
	the writes complete before the next write begins. But at high clock
	speeds the subsequent writes would overlap and cause the operation
	to fail.  The status polls are done on the target for efficiency, since the
	half-pages are very small.  Change-Id: Ia1e9b4a6a71930549b3d84a902744ce6e596301b Signed-off-by:
	Jimmy <nhminus@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/5598 Tested-by: jenkins
	Reviewed-by: Jelle De Vleeschouwer Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Reviewed-by: Andrzej Sier≈ºƒôga <asier70@gmail.com>

2021-10-08  Antonio Borneo <borneo.antonio@gmail.com>

	* : jtag/aice: remove unused exported struct aice_interface_param_s The struct aice_interface_param_s is declared but is never
	referenced.  Drop it.  Change-Id: I4e6493d4baf292bb55dbd40228d4fa7c9e2afab5 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6637 Tested-by: jenkins
	Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2021-10-08  Antonio Borneo <borneo.antonio@gmail.com>

	* : riscv: use relative path to include contrib's data Doxygen cannot resolve the path of the files in folder contrib.  Use
	a path relative to current folder, as done in other files.  Change-Id: If39b416ed422b4854dd108777fa32dd4c809450a Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6635 Tested-by: jenkins
	Reviewed-by: Tim Newsome <tim@sifive.com>

2021-09-01  Tim Newsome <tim@sifive.com>

	* : Upstream a whole host of RISC-V changes.  Made no attempt to separate this out into reviewable chunks, since
	this is all RISC-V-specific code developed at
	https://github.com/riscv/riscv-openocd Memory sample and repeat read functionality was left out of this
	change since it requires some target-independent changes that I'll
	upstream some other time.  Change-Id: I92917c86d549c232cbf36ffbfefc93331c05accd Signed-off-by:
	Tim Newsome <tim@sifive.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6529 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2021-10-02  Antonio Borneo <borneo.antonio@gmail.com>

	* : flash/nor/psoc6: fix doxygen comment Commit 64c2e03b23d9 ("flash/nor: improved API of flash_driver.info &
	fixed buffer overruns") changes the prototype of the function
	psoc6_get_info() but didn't update the list of parameters in the
	doxygen comment.  Fix the doxygen comment.  Change-Id: I1dce018b60d080973c5e351490d4d7baba422d74 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Fixes: 64c2e03b23d9
	("flash/nor: improved API of flash_driver.info & fixed buffer
	overruns") Reviewed-on: https://review.openocd.org/c/openocd/+/6620
	Reviewed-by: Tomas Vanek <vanekt@fbl.cz> Tested-by: jenkins

2021-09-22  Antonio Borneo <borneo.antonio@gmail.com>

	* : mips64_pracc: fix three dead assignments Clang scan-build complains for three dead assignments:         Although the value stored to 'data' is used in the         enclosing expression, the value is never actually read         from 'data'         Value stored to 'address' is never read Remove the useless assignment and the variable 'data'.  Change-Id: Ie8dcb74b1c1aa5eea1acd06b3c45c5b44954c9e7 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6592 Tested-by: jenkins

2021-09-22  Antonio Borneo <borneo.antonio@gmail.com>

	* : armv8: fix five dead assignments Clang scan-build complains for five dead assignments:         Value stored to 'retval' is never read Check the returned value and propagate the error.  Change-Id: I01172887a056d6f39ddcf2807848423970db1e89 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6590 Tested-by: jenkins

2021-09-22  Antonio Borneo <borneo.antonio@gmail.com>

	* : arm_tpiu_swo: fix two dead assignments Clang scan-build complains for two dead assignments:         Value stored to 'retval' is never read Since the timer callback should not return error, print an error
	message if the data cannot be send out. Add a FIXME comment because
	in current code there is no string/name to report which connection
	has failed.  In command tpiu enable check the returned value and propagate the
	error.  Change-Id: I9a89e4c4f7b677e8222b2df09a31b2478ac9ca4f Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6588 Tested-by: jenkins

2021-09-05  Yasushi SHOJI <yashi@spacecubics.com>

	* : gitignore: Add GNU Global tag files This commit adds GNU Global[1] tag files to .gitignore.  [1]: https://www.gnu.org/software/global/ Change-Id: Ia09fb359cfdfeadd9538cf6352d353e6475e85c7 Signed-off-by:
	Yasushi SHOJI <yashi@spacecubics.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6541 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2021-09-21  Tim Newsome <tim@sifive.com>

	* : uint64_t->target_addr_t for stack pointers.  This might be incomplete. It's just a quick attempt to reduce some
	of the difference between riscv-openocd and mainline. Other stack
	pointers can be updated as I come across them.  Change-Id: Id3311b8a1bb0667f309a26d36b67093bfeb8380a Signed-off-by:
	Tim Newsome <tim@sifive.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6586 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2021-09-19  Antonio Borneo <borneo.antonio@gmail.com>

	* : udev: add ASIX Presto programmer The driver is in OpenOCD since 2007, but the USB VID/PID have never
	been listed in udev rules.  Change-Id: I77df469929dd7f6b6483678c0e76f22c30a7614c Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6563 Tested-by: jenkins

2021-09-08  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : target/cortex_m: enhance multi-core examine logs Giving the example of STM32WL55x the examine log is the following:   Info : stm32wlx.cpu0: hardware has 6 breakpoints, 4 watchpoints   Info : stm32wlx.cpu1: hardware has 4 breakpoints, 2 watchpoints After this change the examine log becomes:   Info : stm32wlx.cpu0: Cortex-M4 r0p1 processor detected   Info : stm32wlx.cpu0: target has 6 breakpoints, 4 watchpoints   Info : stm32wlx.cpu1: Cortex-M0+ r0p1 processor detected   Info : stm32wlx.cpu1: target has 4 breakpoints, 2 watchpoints Change-Id: I1873a75eb76f0819342c441129427b38e984f0df Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6553 Tested-by: jenkins
	Reviewed-by: Tomas Vanek <vanekt@fbl.cz> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2021-09-16  Alex Crawford <openocd@code.acrawford.com>

	* : driver/linuxgpiod: add support for opendrain srst Some MCUs (e.g. the STM32F3) directly expose the internal reset line
	to an external pin. When this signal is driven by a push/pull line,
	it can actually be inhibited by the external driver. This results in
	a setup where the MCU cannot reset itself, for example, by a
	watchdog timeout or a sysreset request. To fix this condition,
	support for open drain output on the SRST line is required.  Note that because `reset_config srst_open_drain` is the default, all
	users of this adapter will switch over to an open drain output
	unless explicitly configured otherwise.  Signed-off-by: Alex Crawford <openocd@code.acrawford.com> Change-Id:
	I89b39b03aa03f826ed3c45793412780448940bcc Reviewed-on:
	https://review.openocd.org/c/openocd/+/6559 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2021-09-17  Antonio Borneo <borneo.antonio@gmail.com>

	* : openocd: prevent jimtcl error message while testing commands The jimtcl API Jim_GetCommand() sets an error message when the
	command is not found and flag JIM_ERRMSG is set.  OpenOCD is
	checking if the command has already been registered, thus 'command
	not found' is the desired case.  Pass flag JIM_NONE to prevent jimtcl from setting the error message.  Change-Id: I3329c2f8722eda0cc9a5f9cbd888a37915b46107 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6562 Tested-by: jenkins

2021-08-21  Antonio Borneo <borneo.antonio@gmail.com>

	* : arm_adi_v5: drop ANY_ID from table dap_part_nums The initial version of the table dap_part_nums contains only the
	part number of the device and not the manufacturer ID.  This causes
	collisions between devices with same part number but from different
	manufacturer.  The table has been extended to include the
	manufacturer JEDEC code in commit 2f131d3c3004 ("ARM ADIv5:
	CoreSight ROM decode part number and designer id").  For two
	old/legacy table's entries reported without manufacturer code it was
	defined a special ANY_ID manufacturer, meaning skip the check for
	manufacturer! The two legacy entries report the comment "from OMAP3
	memmap", and thanks to the associated string has been possible
	through Google to identify a Master Report [1] about using OpenOCD
	with the OMAP3 in a BeagleBoard. The ROM table is printed with
	OpenOCD command "dap info 1" at page 8 and reports the Peripheral ID
	required to extract the manufacturer ID that, out of any surprise,
	belong to Texas Instruments.  Set the two missing manufacturer ID to Texas Instruments JEDEC code.  Remove the now redundant definition and use of ANY_ID.  While revisiting this old code, remove also the useless comment
	"0x113: what?". It was introduced in commit ddade10d4a93 ("ARM
	ADIv5: "dap info" gets more readable") and from the same dump in [1]
	it's clearly another element in OMAP3. It is listed as entry 0x8 in
	the ROM table and there is no further info available.  OpenOCD will
	        anyway list it as: Designer is 0x017, Texas Instruments         Part is 0x113, Unrecognized Another link
	https://elinux.org/BeagleBoardOpenOCD reports the text "Part number
	0x113: This is ????", which sounds familiar! No public document from
	Texas Instruments reports what is this device at address 0x54012000.  [1] Warren Clay Grant - University of Texas at Austin     "Implementation of an Open Source JTAG Debugging Development     Chain for the BeagleBoard ARM¬Æ Cortex A-8" - May 2012 Link:

	https://repositories.lib.utexas.edu/bitstream/handle/2152/ETD-UT-2012-05-5478/GRANT-MASTERS-REPORT.pdfChange-Id: I7e007addbb5c6e90303e4e8c110c7d27810fbe9c Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6454 Tested-by: jenkins
	Reviewed-by: Daniel Goehring <dgoehrin@os.amperecomputing.com>

2021-08-19  Kevin Burke <kevinb@os.amperecomputing.com>

	* : arm_adi_v5: add arm Neoverse N1 part numbers Split from change https://review.openocd.org/6077/ Change-Id: I5e3d3736beb741de3940ea6e23b0ccbf47e8dec7 Signed-off-by:
	Kevin Burke <kevinb@os.amperecomputing.com> Signed-off-by: Daniel
	Goehring <dgoehrin@os.amperecomputing.com> Signed-off-by: Antonio
	Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6452 Tested-by: jenkins
	Reviewed-by: Tarek BOCHKATI <tarek.bouchkati@gmail.com>

2021-08-17  Antonio Borneo <borneo.antonio@gmail.com>

	* : arm_adi_v5: add arm SoC-600 part numbers Extract new part numbers from ARM CoreSight System-on-Chip SoC-600
	Technical Reference Manual Revision r4p1 and add them to the array
	dap_partnums.  Change-Id: I88d8aa3c084f6e832b75032e75bfb6d377a08360 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6450 Tested-by: jenkins
	Reviewed-by: Daniel Goehring <dgoehrin@os.amperecomputing.com>
	Reviewed-by: Tarek BOCHKATI <tarek.bouchkati@gmail.com>

2021-08-10  Kevin Burke <kevinb@os.amperecomputing.com>

	* : arm_adi_v5: move in a separate function devtype decode/display For readability, move in a separate function the decoding and the
	display of devtype register.  The function will be reused with
	ADIv6.  Split from change https://review.openocd.org/6077/ Change-Id: I7a26a2c9759d5db5f9acfae5c169b90b3deb2f18 Signed-off-by:
	Kevin Burke <kevinb@os.amperecomputing.com> Signed-off-by: Daniel
	Goehring <dgoehrin@os.amperecomputing.com> Signed-off-by: Antonio
	Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6448 Tested-by: jenkins
	Reviewed-by: Tarek BOCHKATI <tarek.bouchkati@gmail.com>

2021-08-08  Antonio Borneo <borneo.antonio@gmail.com>

	* : arm_coresight: add include file and use it Several magic numbers related to ARM CoreSight specification
	IHI0029E are spread around OpenOCD code.  Define through macros the ARM CoreSight magic numbers and collect
	them in a single include file.  Use the new macros wherever
	possible.  Change-Id: I9b0c1c651ce4ffbaf08d31791ef16e95983ee4cb Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6446 Tested-by: jenkins
	Reviewed-by: Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-by:
	Daniel Goehring <dgoehrin@os.amperecomputing.com>

2021-09-15  Oleksij Rempel <linux@rempel-privat.de>

	* : Partially Revert "flash/stm32l4x: introduce flash programming
	without loader" This partially reverts commit 1247eee4e6e5.  There is no reasonable use cases where work-area should be enabled
	and working, and it can't be used for the flash loader.  Instead of introducing driver specific property, users can disable
	flash load by disabling work-area, for example by setting it to 0.  But still we keep the function stm32l4_write_block_without_loader to
	be used when workarea is not available (no sufficient size or zero) Change-Id: Ibb046c74df354c6067bac978e8ef7efb47d9fd2b Signed-off-by:
	Oleksij Rempel <linux@rempel-privat.de> Signed-off-by: Tarek
	BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6569 Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Tested-by: jenkins

2021-08-11  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : helper/command: fix echo return values the echo command is managed through command handler and not
	jim_handler to be consistent rename the handler from jim_echo to
	handle_echo and update the return values Fixes: 4747af362de0 (JIM: document "echo" command) Change-Id:
	I5ae87ea802d8430b573fb83daa6b35490b5d5775 Signed-off-by: Tarek
	BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6549 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2021-09-08  Andreas Sandberg <andreas@sandberg.uk>

	* : stlink: Add PID for V3 device without MSD Add the 0x3754 PID used by some STLINK-V3 devices when MSD has been
	disabled. This PID has been observed on a Nucleo-G431RB board.  Signed-off-by: Andreas Sandberg <andreas@sandberg.uk> Change-Id:
	Idb85874fa5a9dff5940bae7e95426a956693b976 Reviewed-on:
	https://review.openocd.org/c/openocd/+/6555 Tested-by: jenkins
	Reviewed-by: Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2021-09-04  Antonio Borneo <borneo.antonio@gmail.com>

	* : target: do not cast NULL in assignment NULL is defined as 'void *'.  There is no need to cast NULL while
	assigning it to a pointer.  Change-Id: Ibaf18e5d47329707ec9c1c184cd4bba2e8e702ff Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6540 Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Reviewed-by: Tarek BOCHKATI
	<tarek.bouchkati@gmail.com> Tested-by: jenkins

2021-08-26  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : gerrit url: update the gerrit server address to
	https://review.openocd.org change the gerrit server address from http://openocd.zylin.com to
	the new address in order to avoid re-directions.  Change-Id: I76e128c277f63783d1a6f63a6a387aa838f51f80 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6481 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2021-08-29  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : tcl/target/stm32(f7/h7)x: do not assume presence of the reset do not force the presence of the reset line, since some custom
	boards may do not contain the reset line.  Change-Id: I031ab34012b34a1b49def9db16461f9de0ae29cc Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reported-by: Fleck
	<fleckz@users.sourceforge.net> Fixes:
	https://sourceforge.net/p/openocd/tickets/316/ Reviewed-on:
	https://review.openocd.org/c/openocd/+/6506 Reviewed-by: Antonio
	Borneo <borneo.antonio@gmail.com> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Tested-by: jenkins

2021-09-01  Tim Newsome <tim@sifive.com>

	* : In SMP config, replicate watchpoints on each core This works well with gdb on RISC-V, since hardware breakpoints are
	per-core and gdb thinks that targets are really processes on a
	machine.  Are there targets where this is a bad idea? Should the target
	definition specify whether this behavior is desired or not? Change-Id: Ia32be2707b04347fd8bf2ca6fbb2b0ceaad3704a Signed-off-by:
	Tim Newsome <tim@sifive.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6528 Tested-by: jenkins
	Reviewed-by: Oleksij Rempel <linux@rempel-privat.de> Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2021-08-29  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : flash/stm32l4x: introduce is_max_flash_size and use it Change-Id: Idb421b9cf737d222baf4dd890032f69dec7a366e Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6536 Tested-by: jenkins
	Reviewed-by: Oleksij Rempel <linux@rempel-privat.de>

2021-08-10  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : flash/nor/tcl: 'flash list' command: add the flash bank target add the target assigned to the flash bank at creation this is useful
	in daisy chains, to filter out the target banks.  Change-Id: Ic39e44914e34bb62991783762e5a65ef8871e82f Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6426 Tested-by: jenkins
	Reviewed-by: zapb <dev@zapb.de> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2020-03-01  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : tcl/board: add st_nucleo_g4.cfg to cover known STM32G4 NUCLEO
	boards known boards are NUCLEO-G431KB, NUCLEO-G431RB and NUCLEO-G474RE note: this work safely with B-G431B-ESC1, B-G474E-DPOW1,       STM32G474E-EVAL and STM32G484E-EVAL Change-Id: I132a97e1816620b182983edc8a4b272b52b9241d Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/5484 Reviewed-by: Andreas
	Bolsch <hyphen0break@gmail.com> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com> Tested-by: jenkins

2021-08-29  Yasushi SHOJI <yashi@spacecubics.com>

	* : target: cortex_m: Fix a typo VECTRESET According to ARM Cortex M3 technical reference manual, it's
	"VECTRESET" instead of "VECRESET".  Change-Id: Iff5534beac2b313cee6da3252d76d4d44a61eeed Signed-off-by:
	Yasushi SHOJI <yashi@spacecubics.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6508 Tested-by: jenkins
	Reviewed-by: Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2021-04-11  Antonio Borneo <borneo.antonio@gmail.com>

	* : jimtcl: update to master branch 20210715 This version of jimtcl: - fixes memory leak in API Jim_CreateCommand(); - fixes 'make distcheck'; - uses single-argument syntax for 'expr'.  With the 'expr' syntax already fixed in all the tcl scripts in
	OpenOCD, let's use the latest jimtcl to check it and anticipate any
	further issues.  By using this version, the workaround for the
	memory leak and for distcheck can be reverted.  Change-Id: I58e1bdc752a728f1b479de1c55067b698e817ef5 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6226 Reviewed-by: Tarek
	BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-by: zapb <dev@zapb.de>
	Tested-by: jenkins

2021-08-14  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : flash/stm32l4x: avoid using magic numbers for device ids Change-Id: I54c41f31c16b91904e8cbca823b90caa3807826d Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6437 Tested-by: jenkins
	Reviewed-by: Oleksij Rempel <linux@rempel-privat.de>

2021-03-26  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : flash/stm32l4x: add support of STM32G05/G06x this device has single bank flash architecture up to 64KB (page 2KB)
	reference: RM0444 rev 5 Change-Id: Ia213c01accb950fcbb7519e08057dae11b4443dd Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6128 Tested-by: jenkins
	Reviewed-by: Oleksij Rempel <linux@rempel-privat.de>

2020-11-26  Wealian Liao <WHLIAO@nuvoton.com>

	* : flash/nor: add support for Nuvoton NPCX series flash Added NPCX flash driver to support the Nuvoton NPCX series
	microcontrollers. Add config file for NPCX series.  Change-Id: Ia10b019a3521f59ad1e10ccdc56827ba30c3eac8 Signed-off-by:
	Wealian Liao <WHLIAO@nuvoton.com> Signed-off-by: Mulin Chao
	<mlchao@nuvoton.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/5950 Tested-by: jenkins
	Reviewed-by: Oleksij Rempel <linux@rempel-privat.de>

2021-08-18  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : server/telnet: simplify telnet_input function running complexity on this file tells that: NOTE: proc telnet_input
	        in file telnet_server.c line 576 nesting depth reached level 8 ==>
	*seriously consider rewriting the procedure*.  Complexity Scores
	Score | ln-ct | nc-lns| file-name(line): proc-name   319     272     226   src/server/telnet_server.c(576):
	  telnet_input total nc-lns      226 so try to reduce the complexity score of telnet_input function Change-Id: I64ecb0c54da83c27a343f2a1df99fc8f9484572a Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6440 Tested-by: jenkins
	Reviewed-by: Oleksij Rempel <linux@rempel-privat.de> Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2021-08-17  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : server/telnet: support 'CTRL+C' like in terminal 'CTRL+C':  - keeps the line content so the user can refer to it (like
	 copy/paste) - marks the line with '^C', as hint that the command was not
	 executed - permit the user to write a new command Change-Id: Ib784c827d64fdc439a35db461d8387a62d3bfbbf Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6439 Reviewed-by: Antonio
	Borneo <borneo.antonio@gmail.com> Tested-by: jenkins

2021-05-15  Antonio Borneo <borneo.antonio@gmail.com>

	* : Makefile: drop warning suppression on win build Commit dcdf71c21b99 ("- fix signed/unsigned build errors under
	win32. Thanks Zach Welch <zw@superlucidity.net>") in 2009 prevents
	gcc warnings on sign/unsigned comparisons while building for Win on
	folders 'helper' and 'server'.  In 2011, commit b69119668ed8 ("RTOS
	Thread awareness support wip") uses the same method on the new
	folder 'rtos'.  In mean time, all the incorrect sign/unsigned comparisons has been
	fixed and no warning is present with the default -Wextra flag that
	implies -Wsign-compare.  The comment:         # FD_* macros are sloppy with their signs on MinGW32
	        platform seems linked to some old implementation of MinGW32
	include file that doesn't apply on current versions.  Remove the obsolete hacks to suppress the warnings.  Change-Id: I76dba9e54a647d3b9fbf1b7e9ae1844e3d7adc9a Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6254 Tested-by: jenkins
	Reviewed-by: Xiaofan Chen <xiaofanc@gmail.com>

2021-08-29  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : flash/stm32l4x: free write_algorithm work area if no space left
	for the buffer If the remaining memory for the buffer is less than 256 bytes, the
	memory allocated for the write algorithm in the target is not freed.  Fixes: ba131f30a079 (Flash driver for STM32G0xx and STM32G4xx)
	Change-Id: Ic649f6c39799d76725b0c69ff3a009a3f510e17f Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6486 Tested-by: jenkins
	Reviewed-by: Oleksij Rempel <linux@rempel-privat.de>

2021-02-04  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : flash/stm32l4x: add support of STM32WL5x dual core according the RM0453, the second core  have a different Flash CR and
	SR registers for flash operations (called C2CR and C2SR).  so we
	need to a different flash_regs than older L4 devices.  @see
	stm32wl_cpu2_flash_regs the C2CR register don't contain LOCK and OPTLOCK bits, and this
	explain the addition of new register index called
	STM32_FLASH_CR_WLK_INDEX to look-up the CR with lock, to be used in
	locking/unlocking the flash.  note: DBGMCU_IDCODE cannot be read using CPU1 (Cortex-M0+) at AP1,
	to solve this read the UID64 (IEEE 64-bit unique device ID register) Change-Id: Ifb6e291bf97f814f0b9987b2c40f3037959f7af4 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6050 Tested-by: jenkins
	Reviewed-by: Oleksij Rempel <linux@rempel-privat.de>

2021-01-19  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : flash/stm32l4x: add support of STM32G0Bx/G0Cx devices this device has a dual bank flash architecture up to 512 KB (page
	2KB) reference: RM0444 Rev 5 notes:  - 128k variant is always single bank  - 256k variant flash is contiguous (no gap) in dual bank mode  - BKER is bit 13 vs bit 11 for other devices    > added cr_bker_mask in stm32l4_flash_bank struct  - BSY2 for bank 2 operations    > added sr_bsy_mask in stm32l4_flash_bank struct    > proposed optimization: always wait for (BSY1 | BSY2) with      STM32G0Bx/G0Cx devices only (for L4+ devices BSY2=PEMPTY) TODO: update flashloader to use the proper BSY bits       temporarily don't use the loader in dual bank mode Change-Id: I54b0c93b494e7209da818791d15edd8cd42c2732 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6036 Reviewed-by: Oleksij
	Rempel <linux@rempel-privat.de> Tested-by: jenkins

2021-05-25  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : flash/stm32l4x: introduce flash programming without loader this capability permits to program the flash if we cannot reserve a
	workarea.  the introduction the command 'stm32l4x flashloader <bank_id>
	[enable|disable]' helps to automatically skip using the flashloader
	if needed.  Change-Id: Id29213c85ee5c7c487cfee21554f5a7ea50db6c9 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6273 Reviewed-by: Oleksij
	Rempel <linux@rempel-privat.de> Tested-by: jenkins

2020-11-12  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : flash/stm32l4x: STM32L5 support programming when TZEN=1 and
	RDP=0xAA STM32L5 flash memory is aliased to 0x0C000000, this address mapping
	is used for secure applications. (0x08000000 for non-secure) this change allows the programming of secure and non-secure flash
	when trustzone is enabled and RDP level is 0 Change-Id: I89d1f1b5d493cf01a142ca4dbfef5a3731cab96e Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/5936 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by:
	Oleksij Rempel <linux@rempel-privat.de>

2020-03-25  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : flash/stm32l4x: introduce 'stm32l4x trustzone [enable|disable]'
	command this command will help to enable/disable or display the TrustZone
	security, using the TZEN option bit.  Note: This command works only with devices with TrustZone, eg.
	STM32L5.  Note: This command will perform an OBL_Launch after
	modifying the TZEN.  Change-Id: I4aef15bf57d09c1658d37858143d23b1d43de1f0 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/5542 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by:
	Oleksij Rempel <linux@rempel-privat.de>

2021-03-14  Oleksij Rempel <o.rempel@pengutronix.de>

	* : tcl: add lattice ECP5 family support Add support for ECP5 FPGA targets and board based on this chips:
	Radiona ULX3S and Lambdaconcept ECPIX-5 Change-Id: I932fc6e2458cda7d63ac21579acddea5b53410bc Signed-off-by:
	Oleksij Rempel <o.rempel@pengutronix.de> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6112 Tested-by: jenkins
	Reviewed-by: Oleksij Rempel <linux@rempel-privat.de>

2021-08-04  Antonio Borneo <borneo.antonio@gmail.com>

	* : cortex_a: use the ap number specified at target create Current implementation ignores the flag '-ap-num' provided to
	command 'target create' and searches for the first AP of APB type.  If specified, use the ap number.  Change-Id: If1ac12345220d14a4a60515efe46dc2a2eac079a Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6413 Tested-by: jenkins

2021-08-11  Antonio Borneo <borneo.antonio@gmail.com>

	* : arm_adi_v5: update coresight class names Update the list of ARM coresight classes wrt to latest ARM
	documentation.  Use c99 array designator to easily track changes in
	future.  Add a comment for the entry "OptimoDE DESS". It was added
	in 2009 by David Brownell, but Google cannot find any reference
	other than this line in openocd code its associated commit. It
	should not be an issue keeping it as is.  Change-Id: Ia3b646131ee68ca5263095c3a0aeaf75c004b324 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6431 Tested-by: jenkins

2021-08-13  Antonio Borneo <borneo.antonio@gmail.com>

	* : cortex_m: fix command 'step address' The command 'step' accepts an optional parameter 'address' to run
	the step-by-step execution from an address different from current
	program counter.  When OpenOCD sets the new program counter value in
	the register cache, it doesn't flag it as dirty. The following call
	to function armv7m_restore_context() does not propagate the new
	value of the program counter to the target. This cause the target to
	continue from the old program counter value, ignoring the user's
	request.  It is hard to notice the issue if the target is halted in an idle
	loop! In fact the default mode to operate step-by-step is to set a
	breakpoint to the following instruction and resume execution. In the
	idle loop the CPU will pass through the breakpoint whatever the
	resume address is. User will find the target halting at the
	instruction following 'address' which is consistent with the
	expected behaviour of command 'step address'.  To verify the issue on an STM32F4, use a dummy code in SRAM:         halt         mww 0x20000000 0xbf00bf00         mww 0x20000004 0xbf00bf00         mww 0x20000008 0xe7fcbf00         arm disassemble 0x20000000 6                 0x20000000  bf00    nop                 0x20000002  bf00    nop                 0x20000004  bf00    nop            +--> 0x20000006  bf00    nop            |    0x20000008  bf00    nop            +-<- 0x2000000a  e7fc    b   #0x20000006         resume 0x20000006         halt         step 0x20000000 the target doesn't halt because it is in the
	loop from 0x20000006 to 0x2000000a. The 'step 0x20000000' did not
	changed the program counter so the temporary breakpoint at
	0x20000002 is never hit.  Then:         halt         step 0x20000008                 target halted ...                  ... pc: 0x2000000a gives the feeling that only the
	instruction at 0x20000008 has been executed, but actually the whole
	loop has been executed from the place 'halt' stopped the execution
	till the breakpoint at the instruction following 0x20000008.  Flag the program counter cached value as 'valid' and 'dirty' to
	force armv7m_restore_context() to update the target's register.  Change-Id: I49bd8bb95b2f5429ec38ed016f2ad706618ae68a Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6434 Tested-by: jenkins
	Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2021-07-27  Sebastiaan de Schaetzen <sebastiaan.de.schaetzen@gmail.com>

	* : rtos/riot: fix out-of-bounds writes when target is corrupted This protects against out-of-bounds writes when the memory of RIOT's
	scheduler is corrupted.  This memory can be corrupted because of:  - Programming errors  - The scheduler not yet having been initialised  - An incorrect symbol file being used during debugging.  This error can result in OpenOCD segfaulting. Valgrind was used to
	find the approximate location of the error.  Change-Id: I60e7d7c245b8c4e38f4c98cb0c0347a9b5ec3177 Signed-off-by:
	Sebastiaan de Schaetzen <sebastiaan.de.schaetzen@gmail.com>
	Reviewed-on: https://review.openocd.org/c/openocd/+/6381 Tested-by:
	jenkins Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2021-07-29  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : flash/atsame5: use COMMAND_PARSE_NUMBER in command handlers the usage of COMMAND_PARSE_NUMBER is safer in COMMAND_HANDLERs since
	it provides better error checking than strto** functions.  Change-Id: Ia7fe9c4017108616f21676f115f151ac62924205 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6423 Reviewed-by: Antonio
	Borneo <borneo.antonio@gmail.com> Tested-by: jenkins

2021-07-29  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : flash/xmc4xxx: use COMMAND_PARSE_NUMBER in command handlers the usage of COMMAND_PARSE_NUMBER is safer in COMMAND_HANDLERs since
	it provides better error checking than strto** functions.  Change-Id: Ibfe95ce73f147f467de8de23e9573ef0179aed96 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6421 Reviewed-by: Antonio
	Borneo <borneo.antonio@gmail.com> Tested-by: jenkins

2021-07-29  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : jtag/cmcis_dap: use COMMAND_PARSE_NUMBER in command handlers the usage of COMMAND_PARSE_NUMBER is safer in COMMAND_HANDLERs since
	it provides better error checking than strto** functions.  Change-Id: Ife9342c6088a241a0a4b77f9bd21f12c9b9862a0 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6420 Reviewed-by: Adrian M
	Negreanu <adrian.negreanu@nxp.com> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com> Tested-by: jenkins

2021-07-28  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : github/workflow: disable libusb static link for windows build Current github build for windows is using dynamic libraries, but
	libftdi is requiring libusb static libraries.  As a quick solution, just get rid of libftdi till it can be linked
	without static libusb.  Change-Id: I9c7cb0b8853459ca48589674498403e255ade5cc Reported-by:
	Xiaofan <xiaofanc@gmail.com> Signed-off-by: Tarek BOCHKATI
	<tarek.bouchkati@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6384 Reviewed-by: Xiaofan
	<xiaofanc@gmail.com> Reviewed-by: Paul Fertser <fercerpav@gmail.com>
	Tested-by: jenkins

2021-08-01  Marc Schink <dev@zapb.de>

	* : drivers/ft232r: Group adapter commands Use a command group 'ft232r' with subcommands instead of individual
	commands with 'ft232r_' prefix.  The old commands are still available for backward compatibility but
	marked as deprecated.  Change-Id: I0dbeb4716330c83f8ce89b0d054eb0286b887bdf Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/6409
	Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2021-08-01  Marc Schink <dev@zapb.de>

	* : drivers/usb_blaster: Group adapter commands Use a command group 'usb_blaster' with subcommands instead of
	individual commands with 'usb_blaster_' prefix.  The old commands are still available for backward compatibility but
	marked as deprecated.  Change-Id: I2ae3d96ba864c20d7db67c74677781a62bfc4eb5 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/6407
	Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2021-08-01  Marc Schink <dev@zapb.de>

	* : tcl/interface/buspirate: Adapt to new buspirate command syntax Change-Id: I1a82608532f043054abd22eb5b50ab5c5f58cee4 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/6405
	Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2021-07-31  Marc Schink <dev@zapb.de>

	* : tcl/interface: Adapt config files to new sysfsgpio command
	syntax Change-Id: I8e8dee6e8869d2853a7a73c8d4dc8b4891fb0389 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/6403
	Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2021-07-31  Marc Schink <dev@zapb.de>

	* : tcl/interface/dln-2-gpiod: Adapt to new linuxgpiod command
	syntax Change-Id: Ife1e52fe5da0e0374a606072f1faf7c598cf0e2b Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/6401
	Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2021-07-30  Marc Schink <dev@zapb.de>

	* : tcl/interface/jtag_vpi: Adapt to new jtag_vpi command syntax Change-Id: I27eeab5e3dd554af00799104471ee8f30fbd0c51 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/6399
	Tested-by: jenkins Reviewed-by: Jan Matyas <matyas@codasip.com>
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2021-07-30  Marc Schink <dev@zapb.de>

	* : tcl/interface: Adapt config files to new bcm2835gpio command
	syntax Change-Id: I2d649117aa8dbdf5484ace068785a1416efa3ecc Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/6397
	Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2021-07-30  Marc Schink <dev@zapb.de>

	* : tcl/interface/jtag_dpi: Adapt to new jtag_dpi command syntax Change-Id: Icebf6f0a037f4ea9fb450581fcc599417bffc153 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/6395
	Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2021-07-30  Marc Schink <dev@zapb.de>

	* : drivers/vsllink: Group adapter commands Use a command group 'vsllink' with subcommands instead of individual
	commands with 'vsllink_' prefix.  The old commands are still available for backward compatibility but
	marked as deprecated.  Change-Id: I59273bd7cd08c9801e4a9b3de7beaa86ca854622 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/6393
	Tested-by: jenkins Reviewed-by: Tarek BOCHKATI
	<tarek.bouchkati@gmail.com> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2021-07-30  Marc Schink <dev@zapb.de>

	* : drivers/xlnx-pcie-xvc: Group adapter commands Use a command group 'xlnx_pcie_xvc' with subcommands instead of
	individual commands with 'xlnx_pcie_xvc_' prefix.  The old commands are still available for backward compatibility but
	marked as deprecated.  Change-Id: I0deaaa14ed14f65bf356f3c248331bfab472f08d Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/6391
	Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2021-07-30  Marc Schink <dev@zapb.de>

	* : drivers/remote_bitbang: Group adapter commands Use a command group 'remote_bitbang' with subcommands instead of
	individual commands with 'remote_bitbang_' prefix.  The old commands are still available for backward compatibility but
	marked as deprecated.  Change-Id: I2692320f19c8a357112a365db6ca7e13cd6ad411 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/6389
	Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2021-07-30  Marc Schink <dev@zapb.de>

	* : drivers/openjtag: Group adapter commands Use a command group 'openjtag' with subcommands instead of
	individual commands with 'openjtag_' prefix.  The old commands are still available for backward compatibility but
	marked as deprecated.  Change-Id: Ie1b1bf0b7c03e7703cfb074e554288384bf7b1b9 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/6387
	Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2021-07-30  Marc Schink <dev@zapb.de>

	* : drivers/parport: Group adapter commands Use a command group 'parport' with subcommands instead of individual
	commands with 'parport_' prefix.  The old commands are still available for backward compatibility but
	marked as deprecated.  Change-Id: I4cb7096a8ba8d6cd7a6dc970862cd73c32b5c0a2 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/6385
	Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2021-08-09  Antonio Borneo <borneo.antonio@gmail.com>

	* : jtag/mpsse: fix SIGSEGV for use after free By pressing CTRL-C on a running openocd with FTDI adapter, it's
	possible to generate a segmentation fault that with valgrind is
	dumped as a SIGABRT: ^CError: libusb_handle_events() failed with LIBUSB_ERROR_INTERRUPTED
	==16594== Invalid read of size 8 ==16594==    at 0x48B2472:
	libusb_submit_transfer ==16594==    by 0x48B4B0F:
	libusb_control_transfer ==16594==    by 0x1A6B9D: mpsse_purge
	(mpsse.c:428) ==16594==    by 0x1A7B96: mpsse_flush (mpsse.c:953)
	==16594==    by 0x19BA5B: ftdi_execute_queue (ftdi.c:654) ...
	==16594==  Address 0x6158568 is 72 bytes inside a block of size 216
	free'd ==16594==    at 0x484118B: free (vg_replace_malloc.c:755)
	==16594==    by 0x1A7B88: mpsse_flush (mpsse.c:950) ==16594==    by
	0x19BA5B: ftdi_execute_queue (ftdi.c:654) ...  ==16594==  Block was
	alloc'd at ==16594==    at 0x48435FF: calloc
	(vg_replace_malloc.c:1117) ==16594==    by 0x48B2259:
	libusb_alloc_transfer ==16594==    by 0x1A7A26: mpsse_flush
	(mpsse.c:880) ==16594==    by 0x19BA5B: ftdi_execute_queue
	(ftdi.c:654) ...  ==16594== Process terminating with default action
	        of signal 6 (SIGABRT): dumping core ...  Aborted (core dumped) The error is in mpsse_flush() that, following valgrind dump: - allocates the buffer at line mpsse.c:880   read_transfer = libusb_alloc_transfer(0); - frees the buffer at line mpsse.c:950   libusb_free_transfer(read_transfer); - still pretends to use the freed buffer at line mpsse.c:953   mpsse_purge(ctx); Move the call to mpsse_purge() right before freeing the buffer.  Change-Id: I47c71ec8c283f4b037fdd7cd72ca2e877cd3a851 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6417 Tested-by: jenkins

2021-08-05  Antonio Borneo <borneo.antonio@gmail.com>

	* : openocd: fix cleanup order: cti before dap cti access is based on dap.  During cleanup, drop cti before
	dropping dap to guarantee that cti can still access its dap.  Change-Id: I40c7f67d4d4a32f53802c0ce7668a5321a05893c Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6414 Tested-by: jenkins Reviewed-by: Tarek
	BOCHKATI <tarek.bouchkati@gmail.com>

2021-08-04  Antonio Borneo <borneo.antonio@gmail.com>

	* : arm_adi_v5: fix signed offset in Class 0x1 ROM tables In both arm ADIv5 and ADIv6 documentation, for both Class 0x1 and
	Class 0x9 ROM tables, the offset field from ROM tables is supposed
	to be a signed value: "Negative values of OFFSET are permitted,
	using two‚Äôs complement." The commit ac22cdc57322 ("target/adiv5: Large Physical Address
	Extension") extends to 64 bits the addresses while managing the ROM
	tables. The offset is read as unsigned and in the former 32 bits
	implementation the wrap-around was hiding the need for converting
	the offset to signed. The new implementation requires the proper
	cast to the offset.  On a STM32F411, without this fix the ROM table dump is incorrectly
	reporting addresses out of the 32 bit bus range: MEM-AP BASE
	        0xe00ff003 Valid ROM table present                 Component base address 0xe00ff000                 Peripheral ID 0x00000a0411                 Designer is 0x0a0, STMicroelectronics                 Part is 0x411, Unrecognized                 Component class is 0x1, ROM table                 MEMTYPE system memory present on bus         ROMTABLE[0x0] = 0xfff0f003                 Component base address 0x1e000e000                                        ^^^^^^^^^^^ Cast the offset before adding it to the base address of the ROM
	table.  Change-Id: I8d31fd2b3d657286cb96f8e22fb00842baa728f7 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Fixes: ac22cdc57322
	("target/adiv5: Large Physical Address Extension") Reviewed-on:
	http://openocd.zylin.com/6410 Tested-by: jenkins Reviewed-by: Daniel
	Goehring <dgoehrin@os.amperecomputing.com>

2021-05-13  Antonio Borneo <borneo.antonio@gmail.com>

	* : helper: add align.h OpenOCD has to often align values or check for alignment.  Use a
	dedicated set of macros instead of reinventing the wheel each time.  Change-Id: Ia58711608aae0801deeaccb5f33148f2073b0bbd Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6374 Tested-by: jenkins Reviewed-by: Tarek
	BOCHKATI <tarek.bouchkati@gmail.com>

2021-06-04  Jan Matyas <matyas@codasip.com>

	* : flash/nor/atsamv: fixed "maybe uninitialized" compiler warning This warning about "maybe uninitialized" variable used to pop up on
	certain versions of GCC.  Change-Id: I1cf43b9600885d507afc1dc042322a06751fe146 Signed-off-by:
	Jan Matyas <matyas@codasip.com> Reviewed-on:
	http://openocd.zylin.com/6290 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2021-07-28  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : github/workflow: upgrade libraries in windows build to latest
	versions Change-Id: I11fb6eb948531f1a2e8c0c3926cac52cf92765b9 Reported-by:
	Xiaofan <xiaofanc@gmail.com> Signed-off-by: Tarek BOCHKATI
	<tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6383 Reviewed-by: Xiaofan
	<xiaofanc@gmail.com> Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2021-07-13  Julien Massot <julien.massot@iot.bzh>

	* : rtos: zephyr: add zephyr_params for cortex r4 Implementation for Cortex-M does works for Cortex-R too, it allows
	me to fetch thread list and their backtrace on a Cortex-R platforms.  Change-Id: I23e6eb00879587ba36e0bfb560f7002a9653d39b Signed-off-by:
	Julien Massot <julien.massot@iot.bzh> Reviewed-on:
	http://openocd.zylin.com/6369 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2021-07-11  Jian-Hong Pan <chienhung.pan@gmail.com>

	* : tcl/board: Add Raspberry Pi 3 board OpenOCD cannot connect to BCM2837's JTAG interface on RPi 3 board
	until the reset configuration mode is set as trst_only.  According to Table 6-31 GPIO Pins Alternative Function Assignment of
	Broadcom's BCM2837 ARM Peripherials datasheet [1] and Raspberry Pi's
	GPIO control in config.txt document [2], only Test Reset (TRST) pin
	(no System Reset, SRST) is exposed.  [1]

	https://usermanual.wiki/Datasheet/BCM2837ARMPeripheralsBroadcom.1054296467/view[2]

	https://www.raspberrypi.org/documentation/configuration/config-txt/gpio.mdChange-Id: I26ff3924039ff7943faf0a5b1ad0427c8dbb88f2 Link:
	http://openocd.zylin.com/#/c/6364/1 Signed-off-by: Jian-Hong Pan
	<chienhung.pan@gmail.com> Reviewed-on: http://openocd.zylin.com/6366
	Tested-by: jenkins Reviewed-by: Florian Fainelli
	<f.fainelli@gmail.com> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2021-07-21  PoroCYon <porocyon@titandemo.org>

	* : drivers/cmsis-dap: update for newest protocol version The capabilities INFO command can now return two bytes, without this
	patch, the capabilities would simply not be read and left as 0 (i.e.
	no capabilities).  cf.

	https://arm-software.github.io/CMSIS_5/DAP/html/group__DAP__Info.html ;
	https://github.com/ARM-software/CMSIS_5/blob/116866fd74756c88096e37cbd0066fadad583cad/CMSIS/DAP/Firmware/Source/DAP.c#L100-L111Change-Id: Ibd894971edf1c120cae08089e5515ce5e9972323 Signed-off-by:
	PoroCYon <porocyon@titandemo.org> Reviewed-on:
	http://openocd.zylin.com/6373 Tested-by: jenkins Reviewed-by:
	Andrzej Sier≈ºƒôga <asier70@gmail.com> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2021-07-20  Matthew Mets <matt@blinkinlabs.com>

	* : interface/jtag_hat: Add interface configuration for the JTAG HAT This adds support for the Blinkinlabs JTAG Hat, a Raspberry Pi
	expansion board that provides JTAG and SWD connections via level-
	shifting buffers.  Change-Id: I228bf6a18890b7c3d6679bbc63bfe39f726d8323 Signed-off-by:
	Matthew Mets <matt@blinkinlabs.com> Reviewed-on:
	http://openocd.zylin.com/6372 Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com> Tested-by: jenkins

2021-07-24  Antonio Borneo <borneo.antonio@gmail.com>

	* : jtag/aice: fix build with clang on MacOS Commit fceb29d03ff9 ("jtag/aice: use macros in place of const
	variables") replaces some 'static const uint8_t' with macros.  This
	breaks the build on MacOS because the macro values are of 'int' type
	that doesn't match with the printf format 'PRIx8'.          error: format specifies type 'unsigned char' but the         argument has type 'int' [-Werror,-Wformat] Replace the printf format 'PRIx8' with 'x'.  While there, remove a
	useless cast to uint32_t and fix the printf format too.  Change-Id: Ib87298a61637b75a2813f209e5209d39ab2745f8 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Fixes: fceb29d03ff9
	("jtag/aice: use macros in place of const variables") Reviewed-on:
	http://openocd.zylin.com/6380 Tested-by: jenkins

2021-07-06  Florian Fainelli <f.fainelli@gmail.com>

	* : arm_adi_v5: Added Cortex-A76 identifiers Add identifiers of the Cortex-A76 ROM and debug unit.  Change-Id: Ieef0d990189d3c0502e8d530874dc9cbca4417d8 Signed-off-by:
	Florian Fainelli <f.fainelli@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6358 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2021-07-03  Antonio Borneo <borneo.antonio@gmail.com>

	* : openocd: fix Yoda conditions with checkpatch The new checkpatch can automatically fix the code, but this feature
	is still error prone and not complete.  Patch generated automatically through the new checkpatch with flags
	"--types CONSTANT_COMPARISON --fix-inplace".  Some Yoda condition is detected by checkpatch but not fixed; it will
	be fixed manually in a following commit.  Change-Id: Ifaaa1159e63dbd1db6aa3c017125df9874fa9703 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6355 Tested-by: jenkins

2021-07-03  Antonio Borneo <borneo.antonio@gmail.com>

	* : openocd: remove NULL comparisons with checkpatch [2/2] Patch generated automatically through a modified checkpatch that
	detects the patterns         if (NULL == symbol)         if (NULL != symbol) and through flags "--types
	COMPARISON_TO_NULL --fix-inplace".  The unmodified checkpatch detects this pattern as Yoda condition,
	but it's odd fixing it as Yoda condition and then again as NULL
	comparison. This triggered the modification to the script.  Change-Id: I5fe984a85e9c4fc799f049211797aef891ebce18 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6352 Tested-by: jenkins

2021-07-03  Antonio Borneo <borneo.antonio@gmail.com>

	* : openocd: fix simple cases of NULL comparison There are more than 1000 NULL comparisons to be aligned to the
	coding style.  For recurrent NULL comparison it's preferable using
	trivial scripts in order to minimize the review effort.  Patch generated automatically with the command:         sed -i PATTERN $(find src/ -type f) where PATTERN is in the
	        list: 's/(\([a-z][a-z0-9_]*\) == NULL)/(!\1)/g'         's/(\([a-z][a-z0-9_]*->[a-z][a-z0-9_]*\) == NULL)/(!\1)/g'         's/(\([a-z][a-z0-9_]*\.[a-z][a-z0-9_]*\) == NULL)/(!\1)/g'         's/(\([a-z][a-z0-9_]*\) != NULL)/(\1)/g'         's/(\([a-z][a-z0-9_]*->[a-z][a-z0-9_]*\) != NULL)/(\1)/g'         's/(\([a-z][a-z0-9_]*\.[a-z][a-z0-9_]*\) != NULL)/(\1)/g'         's/(NULL == \([a-z][a-z0-9_]*\))/(!\1)/g'         's/(NULL == \([a-z][a-z0-9_]*->[a-z][a-z0-9_]*\))/(!\1)/g'         's/(NULL == \([a-z][a-z0-9_]*\.[a-z][a-z0-9_]*\))/(!\1)/g'         's/(NULL != \([a-z][a-z0-9_]*\))/(\1)/g'         's/(NULL != \([a-z][a-z0-9_]*->[a-z][a-z0-9_]*\))/(\1)/g'         's/(NULL != \([a-z][a-z0-9_]*\.[a-z][a-z0-9_]*\))/(\1)/g' Change-Id: Ida103e325d6d0600fb69c0b7a1557ee969db4417 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6350 Tested-by: jenkins

2021-07-03  Antonio Borneo <borneo.antonio@gmail.com>

	* : openocd: manually fix Yoda conditions Fix the remaining Yoda conditions, detected by checkpatch but not
	fixed automatically.  While there, apply minor style changes.  Change-Id: I6e1978b89c4d56a20aceaeb2b52968eb6384432a Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6356 Tested-by: jenkins Reviewed-by:
	Oleksij Rempel <linux@rempel-privat.de> Reviewed-by: Xiang W
	<wxjstz@126.com>

2021-06-06  Antonio Borneo <borneo.antonio@gmail.com>

	* : flash/nor: convert enum in uppercase Change-Id: I7b31be25a651069b63c6dea6cb5e7994184390b1 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6349 Tested-by: jenkins Reviewed-by: Xiang
	W <wxjstz@126.com>

2021-04-29  Antonio Borneo <borneo.antonio@gmail.com>

	* : flash: use lowercase for C variables Change-Id: I1c3cb5d1c8c0d73adb3c7320a1b8e3940183cd17 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6347 Tested-by: jenkins Reviewed-by: Marc
	Schink <dev@zapb.de> Reviewed-by: Xiang W <wxjstz@126.com>

2021-06-06  Antonio Borneo <borneo.antonio@gmail.com>

	* : jtag/aice: use macros in place of const variables Uppercase symbols are normally used for macro or enum's values.
	Convert the uppercase const variables to macros.  Change-Id: I4ba47ce2d3183b50730c5a9a265f274c7b802519 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6345 Tested-by: jenkins Reviewed-by: Marc
	Schink <dev@zapb.de> Reviewed-by: Xiang W <wxjstz@126.com>

2021-06-06  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/nds32: rename CamelCase symbols Change-Id: I4619eb47cd051f52e60a3fdbc49aaf71e13a81e2 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6342 Tested-by: jenkins Reviewed-by: Marc
	Schink <dev@zapb.de> Reviewed-by: Xiang W <wxjstz@126.com>

2021-04-28  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/arm: opcodes: rename CamelCase symbols and uppercase
	variables No major cross dependencies, mostly changes internal to each
	file/function.  Change-Id: I1325560ef0350517d86d4927cb17ceaae81b75d2 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6340 Tested-by: jenkins Reviewed-by:
	Oleksij Rempel <linux@rempel-privat.de> Reviewed-by: Xiang W
	<wxjstz@126.com>

2021-04-27  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/arm: rename CamelCase symbols No major cross dependencies, mostly changes internal to each
	file/function.  Change-Id: I3f0879f0f33c6badc36a0dc60229323978a7e280 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6338 Tested-by: jenkins Reviewed-by:
	Oleksij Rempel <linux@rempel-privat.de> Reviewed-by: Xiang W
	<wxjstz@126.com>

2021-06-23  Marc Schink <dev@zapb.de>

	* : drivers/ftdi: Group adapter commands Use a command group 'ftdi' with subcommands instead of individual
	commands with 'ftdi_' prefix.  The old commands are still available for backward compatibility but
	marked as deprecated.  Change-Id: I93a0ae7070226cd2fdea566effeb14a141269de8 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/6332
	Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2021-04-06  Daniel Goehring <dgoehrin@os.amperecomputing.com>

	* : target: add 64-bit address array command support Add 64-bit address support to the target mem2array and array2mem
	commands Change-Id: Ibdcc076ca5581f4fd87e92318aab33907e22d6ce Signed-off-by:
	Daniel Goehring <dgoehrin@os.amperecomputing.com> Reviewed-on:
	http://openocd.zylin.com/6246 Tested-by: jenkins Reviewed-by: Jan
	Matyas <matyas@codasip.com> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2021-06-04  Jan Matyas <matyas@codasip.com>

	* : target/semihosting: Capture errno in SEMIHOSTING_SYS_ISTTY Capture the value of "errno" in semihosting isatty() call, as is
	done in other syscalls.  Change-Id: I41b72175635f06c000536f583e3efa30fb57379e Signed-off-by:
	Jan Matyas <matyas@codasip.com> Reviewed-on:
	http://openocd.zylin.com/6292 Tested-by: jenkins Reviewed-by: Tim
	Newsome <tim@sifive.com> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2016-08-13  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : config/ftdi: Add tristate capability to sheevaplug config The legacy ft2232 driver suggests that the adapter has tristate
	buffers on both nSRST and nTRST, even though they were not used as
	such.  Change-Id: I971692ea6b3439ac93311b89877825a5cc21df46 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3663 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2021-06-28  Marc Schink <dev@zapb.de>

	* : target/cortex_a: Replace printf() with LOG_DEBUG() Change-Id: I38fa8e21959b398033741cbd779b632d572c7ce4 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/6336
	Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2021-06-28  Marc Schink <dev@zapb.de>

	* : target/mips64: Replace printf() with LOG_ERROR() Change-Id: I73956dc3485a23b761aecd869cc37d657c393bde Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/6334
	Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2021-06-04  Jan Matyas <matyas@codasip.com>

	* : target: check return value of register get/set callbacks - In "reg" TCL command handler, the return value of register get()   and set() callbacks must be checked, in the same manner as it is   done in e.g. gdb_set_register_packet() or
	  gdb_get_register_packet().  - Minor cleanup of variable definitions in the "reg" command   handler.  Change-Id: I8c57e7c087fe31d1abffa3c4d1f79a01af4c9c97 Signed-off-by:
	Jan Matyas <matyas@codasip.com> Reviewed-on:
	http://openocd.zylin.com/6293 Tested-by: jenkins Reviewed-by: Marc
	Schink <dev@zapb.de> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2021-02-09  Kevin Burke <kevinb@os.amperecomputing.com>

	* : target/adiv5: Large Physical Address Extension Provides ARM LPAE support to allow 64-bit TAR setting on MEM AP
	accesses.  Tested on a 4-core ARM ARES Processor system using an AXI Access
	Port.  Change-Id: I88f7a0a57a6abb58665032929194a41dd8729f6b Signed-off-by:
	Kevin Burke <kevinb@os.amperecomputing.com> Signed-off-by: Daniel
	Goehring <dgoehrin@os.amperecomputing.com> Reviewed-on:
	http://openocd.zylin.com/5576 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2021-05-25  Antonio Borneo <borneo.antonio@gmail.com>

	* : rtos: rename CamelCase symbols Only one exported symbol from eCos is included in this patch.  The
	eCos code is left untouched to prevent conflicts with patches
	currently under review.  While there, remove an unused camelcase macro Change-Id: I8d22dec6e243c00665d99a8b8ba00474b4f088db Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6305 Tested-by: jenkins Reviewed-by: Marc
	Schink <dev@zapb.de>

2021-04-25  Antonio Borneo <borneo.antonio@gmail.com>

	* : server: rename CamelCase symbols No cross dependency, just changes internal to each file/function.  Change-Id: I04153a5720b0540bc1998bafe526d523b2ee5515 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6303 Tested-by: jenkins

2021-04-25  Antonio Borneo <borneo.antonio@gmail.com>

	* : jtag: rename CamelCase symbols No major cross dependency, just changes internal to each file or
	function.  Change-Id: Ie6258a090ce53de5db65df6a77d57ac6bb899488 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6301 Tested-by: jenkins

2021-04-26  Antonio Borneo <borneo.antonio@gmail.com>

	* : flash: rename CamelCase symbols Each driver is almost self-contained, with no cross dependency.
	Changing symbol names in one drive does not impact the other.  Change-Id: Ic09f844f922a35cf0a9dc23fcd61d035b38308b3 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6299 Tested-by: jenkins Reviewed-by: Marc
	Schink <dev@zapb.de>

2021-06-23  Antonio Borneo <borneo.antonio@gmail.com>

	* : stlink: fix SIGSEGV with libusb v1.0.24-33-g32a2206 (11618) The stlink driver incorrectly uses a NULL pointer for libusb's
	struct libusb_context.  The correct value to be used is local in
	libusb_helper.c.  Move in the helper file, in a wrapper function, the only call that
	requires the above value, and let stlink driver to use this wrapper.  This issue has not triggered any visible problem until a code
	refactoring [1] in libusb has made OpenOCD crashing on Windows and
	on MacOS.  Change-Id: Id1818c8af7cf0d4d17dfa1d22aad079da01ef740 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Fixes:
	https://sourceforge.net/p/openocd/tickets/308/ Fixes:
	https://github.com/libusb/libusb/issues/928/ Fixes: 42d8fa899c6a
	("stlink_usb: Submit multiple USB URBs at once to improve
	performance") Link: [1]
	https://github.com/libusb/libusb/commit/32a22069428c Reported-by:
	Andrzej Sier≈ºƒôga <asier70@gmail.com> Co-developed-by: Andrzej
	Sier≈ºƒôga <asier70@gmail.com> Co-developed-by: Xiaofan Chen
	<xiaofanc@gmail.com> Reviewed-on: http://openocd.zylin.com/6331
	Tested-by: jenkins Reviewed-by: Marc Schink <dev@zapb.de>
	Reviewed-by: Xiaofan <xiaofanc@gmail.com> Reviewed-by: Andrzej
	Sier≈ºƒôga <asier70@gmail.com> Reviewed-by: Oleksij Rempel
	<linux@rempel-privat.de> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2021-06-15  Marc Schink <dev@zapb.de>

	* : target/breakpoints: Remove dead code and cleanup Change-Id: I8027178b6e771753775514a8641a050c6e63a1d5 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/6321
	Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2021-06-17  Marc Schink <dev@zapb.de>

	* : target/dsp563xx: Use bool data type for
	'hardware_breakpoints_cleared' Change-Id: Ic18973d3e90d74c211b48627bdaac4cf3357b682 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/6324
	Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2021-06-12  Marek Vasut <marek.vasut@gmail.com>

	* : tcl/board: Add Renesas Falcon board Add board configuration for Renesas Falcon board based on the
	R8A779A0 V3U SoC.  Change-Id: If8369f2e2b97dfea9ccbee2c9b916ef7094f9b92 Signed-off-by:
	Marek Vasut <marek.vasut@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6315 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2021-06-12  Marek Vasut <marek.vasut@gmail.com>

	* : tcl/target: Select default boot core on Renesas R-Car Gen2/Gen3 On SMP Renesas R-Car Gen2/Gen3 systems, select the boot core as the
	default target using the 'targets' command. This way, the user can
	start debugging code running on the boot core without having to
	switch to the boot core by explicitly invoking 'targets' command
	first, since it is likely the debugged code will run on the boot
	core. Note that most of the code is already in place, it was just
	not used, so this is more of a fix to make the original intention
	work.  Change-Id: I727808adce617c1d9ebd6ffa34f60f5882cdae60 Signed-off-by:
	Marek Vasut <marek.vasut@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6313 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2018-01-19  Rohit Singh <rohit91.2008@gmail.com>

	* : tcl: Add support for the Digilent Nexys Video board *

	https://store.digilentinc.com/nexys-video-artix-7-fpga-trainer-board-for-multimedia-applications/*

	https://reference.digilentinc.com/_media/nexys-video:nexys_video_sch.pdfThe Nexys Video board has FTDI FT2232 whose channel B is connected
	to Artix-7 FPGA's JTAG pins, and can be supported by OpenOCD's ftdi
	interface. Tested to be working fine on real hardware.  Change-Id: I2996166dc8c2b6c08a9390958adfcdec8fc2bd37 Signed-off-by:
	Rohit Singh <rohit91.2008@gmail.com> Signed-off-by: Marc Schink
	<dev@zapb.de> Reviewed-on: http://openocd.zylin.com/4364 Tested-by:
	jenkins Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2021-06-05  Marc Schink <dev@zapb.de>

	* : doc/openocd: Fix typo Change-Id: I8cf679190d6911de2dee181879c8895b55466835 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/6296
	Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2021-06-04  Marc Schink <dev@zapb.de>

	* : target/register: Minor code cleanup Change-Id: Ie02a112c0339ae5d3b3763483e493370b487be98 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/6294
	Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2021-05-11  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : cortex_m: enhance core and arch detection Rework core detection by adding cortex_m_partno enum to detect all
	CPUs using the same method.  Instead of checking the core PARTNO then assign the arch, use the
	stored information within cortex_m parts[] with the flags inside
	which can help simplifying a bit the cortex_m_examine code.  This change fixes:  - the Cortex-M1 detection as ARMv6-M Core (was managed as ARMv7-M)  - the displayed CPU name for Cortex-M0+ (was displayed Cortex-M0) Change-Id: I40b6e03f7cf3664c85e297adfc25323196dfe90b Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6233 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2021-06-11  Diego Herranz <diegoherranz@diegoherranz.com>

	* : contrib/itmdump.c: fix implicit declaration warning atoi used but stdlib.h wasn't included.  Also, include statements
	reordered alphabetically.  Change-Id: I7fcdbf3fa940a172204ec811399e1a7fdebdc979 Signed-off-by:
	Diego Herranz <diegoherranz@diegoherranz.com> Reviewed-on:
	http://openocd.zylin.com/6312 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2021-02-14  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : armv4_5: do not read/write non-existent registers Change-Id: I4a0c401a325e57ba5d4d93d83b7e6b71a4d0865e Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6064 Tested-by: jenkins Reviewed-by: Marc
	Schink <dev@zapb.de> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2021-02-14  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : armv8_dpm: do not read/write non-existent registers Change-Id: I0f3fffa8cf1746569f6acce0233e9544d3862f51 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6062 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2021-05-28  Tim Newsome <tim@sifive.com>

	* : Add remote bitbang write buffer.  Change 7dd323b26 reduced remote bitbang performance a lot. This
	change gets most of that performance back again, by reintroducing a
	write buffer.  Performance numbers collected using DebugBreakpoint test from
	riscv-tests/debug against a single 64-bit spike (RISC-V simulator)
	instance. (Ubuntu 20.04.2, AMD Ryzen 5 3600) Before Windows support
	was added: 3.09s After Windows support was added: 12.67s After this
	change: 4.69s Signed-off-by: Tim Newsome <tim@sifive.com> Change-Id:
	I72ff4912cbbf316a30ef065e5b8f461a555f06cc Reviewed-on:
	http://openocd.zylin.com/6283 Tested-by: jenkins Reviewed-by: Jan
	Matyas <matyas@codasip.com> Reviewed-by: Tarek BOCHKATI
	<tarek.bouchkati@gmail.com> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2021-05-29  Marc Schink <dev@zapb.de>

	* : target/startup.tcl: Do not use 'Yoda conditions' Change-Id: I5e1bbaf032659dda1b365ef4ec6ea4a635d921ce Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/6284
	Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2021-05-13  Tim Newsome <tim@sifive.com>

	* : Add target_data_bits().  This is used to compute memory block read alignment, and
	specifically allows 64-bit targets to ensure that memory block reads
	are only requested on 64-bit boundaries.  Signed-off-by: Tim Newsome <tim@sifive.com> Change-Id:
	Idb1a27b9fc02c46245556bb0f3d6d94b368c4817 Reviewed-on:
	http://openocd.zylin.com/6249 Reviewed-by: Marc Schink <dev@zapb.de>
	Tested-by: jenkins Reviewed-by: Jan Matyas <matyas@codasip.com>
	Reviewed-by: Xiang W <wxjstz@126.com> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2021-05-17  Marc Schink <dev@zapb.de>

	* : target: Use 'bool' for 'reset_halt' Change-Id: I974a6360ea7467067511541ac212f2e9d3de7895 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/6262
	Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2021-05-10  micbis <michele.bisogno.ct@renesas.com>

	* : target/renesas_rz_g2: Introduce tcl config file for RZ/G2
	devices Initial support for Renesas RZ/G2 MPU family Change-Id: I5ca74cddfd0c105a5307de56c3ade7084f9c28d2 Signed-off-by:
	micbis <michele.bisogno.ct@renesas.com> Reviewed-on:
	http://openocd.zylin.com/6250 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2021-05-13  R. Diez <rdiezmail-openocd@yahoo.de>

	* : Makefile: add special target .DELETE_ON_ERROR The special .DELETE_ON_ERROR deletes the target file on recipe
	error.  Otherwise, an incomplete output file may be considered up to
	date the next time around. .DELETE_ON_ERROR provides reasonable
	protection at virtually no cost.  Signed-off-by: R. Diez <rdiezmail-openocd@yahoo.de> Change-Id:
	I67dca47ae5ddf3786993c87b9991b3046a85f00b Reviewed-on:
	http://openocd.zylin.com/6235 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2021-05-27  Antonio Borneo <borneo.antonio@gmail.com>

	* : helper/list.h: add mention to the example in contrib Without such reference, it could be difficult to find the example.  Change-Id: Ia9ffb06bc1a45446c2c7b53197ab3400e1d8a9e9 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6281 Tested-by: jenkins Reviewed-by: Tim
	Newsome <tim@sifive.com>

2021-05-26  Antonio Borneo <borneo.antonio@gmail.com>

	* : helper/list.h: align file to Linux v5.12 Main improvement is in the doxygen comments.  Minimize the delta
	with kernel file.  Skip the functions hlist_unhashed_lockless() and
	__list_del_clearprev() that are relevant only in kernel.  Remove gcc
	extension "omitted conditional operand".  Change-Id: I2e9ddb54cfe2fa5f7cf18f44726acd144e1f98b9 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6276 Reviewed-by:
	<rdiezmail-openocd@yahoo.de> Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2021-04-25  Antonio Borneo <borneo.antonio@gmail.com>

	* : helper/jim-nvp: comply with coding style [2/2] With the API fixed to comply with OpenOCD coding style, fix all the
	references in the code.  Patch generated automatically with the script below.  The list is in
	reverse order to replace a common prefix after the replacement of
	the symbols with the same prefix.  %<---%<---%<---%<---%<---%<---%<---%<---%<---%<---%<---%<---%<---
	(cat << EOF Jim_SetResult_NvpUnknown
	jim_set_result_nvp_unknown Jim_Nvp_value2name_simple
	jim_nvp_value2name_simple Jim_Nvp_value2name_obj
	jim_nvp_value2name_obj Jim_Nvp_value2name
	jim_nvp_value2name Jim_Nvp_name2value_simple
	jim_nvp_name2value_simple Jim_Nvp_name2value_obj_nocase
	jim_nvp_name2value_obj_nocase Jim_Nvp_name2value_obj
	jim_nvp_name2value_obj Jim_Nvp_name2value_nocase_simple
	jim_nvp_name2value_nocase_simple Jim_Nvp_name2value_nocase
	jim_nvp_name2value_nocase Jim_Nvp_name2value
	jim_nvp_name2value Jim_Nvp                        struct jim_nvp
	Jim_GetOpt_Wide                  jim_getopt_wide Jim_GetOpt_String
	jim_getopt_string Jim_GetOpt_Setup                 jim_getopt_setup
	Jim_GetOpt_Obj                   jim_getopt_obj
	Jim_GetOpt_NvpUnknown            jim_getopt_nvp_unknown
	Jim_GetOpt_Nvp                   jim_getopt_nvp Jim_GetOpt_Enum
	jim_getopt_enum Jim_GetOpt_Double                jim_getopt_double
	Jim_GetOpt_Debug                 jim_getopt_debug Jim_GetOptInfo
	struct jim_getopt_info Jim_GetNvp                       jim_get_nvp
	Jim_Debug_ArgvString             jim_debug_argv_string EOF ) | while
	    read a b; do sed -i "s/$a/$b/g" $(find src -type f ! -name
	jim-nvp.\? ) done
	%<---%<---%<---%<---%<---%<---%<---%<---%<---%<---%<---%<---%<--- Change-Id: I10a12bd64bb8b17575fd9150482c989c92b298a2 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6184 Reviewed-by: Marc Schink <dev@zapb.de>
	Tested-by: jenkins

2021-05-07  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/cortex_a: fix memory leak on watchpoints The memory allocated to hold the watchpoints is not freed at OpenOCD
	exit.  Free the watchpoint memory at OpenOCD exit.  Change-Id: I518c9ce0dc901cde2913d752e3154734f878b854 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6210 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2021-04-29  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/cortex_a: fix number of watchpoints Decrement the available watchpoints only when succeed setting it.
	Initialize the available watchpoint with the correct value.  Change-Id: I0f93b347300b8ebedbcd9e718d4ba32b26cf6846 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6196 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2021-05-26  micbis <michele.bisogno.ct@renesas.com>

	* : target/arm_adi_v5: Fix clear sticky overrun flag during replay
	of commands When a WAIT occurs the commands after the WAIT are replayed and the
	STICKYORUN is cleared. However if another WAIT occurs during the
	command replay, the command itself is resent but the STICKYORUN bit
	shall also be cleared. If this is not done, the MEM-AP hangs.  Change-Id: I14e8340cd5d8f58f4de31509da96cfa2ecb630d1 Signed-off-by:
	micbis <michele.bisogno.ct@renesas.com> Reviewed-on:
	http://openocd.zylin.com/6278 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2020-11-10  Antonio Borneo <borneo.antonio@gmail.com>

	* : stlink: reorder the flag macro by firmware release The corresponding bit for each macro is changed, but this is not
	relevant in the code.  Change-Id: I7039464f5a3d55d008208f44952aadeb815bd5a3 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6212 Tested-by: jenkins

2017-12-28  Thomas Gleixner <tglx@linutronix.de>

	* : LICENSES: Add the MIT license Add the full text of the MIT license to the kernel tree.  It was
	copied directly from:   https://spdx.org/licenses/MIT.html#licenseText Add the required tags for reference and tooling.  Change-Id: I94a5dea5ced6421809ea2a3448f8dda19a93f5c9 Signed-off-by:
	Thomas Gleixner <tglx@linutronix.de> Signed-off-by: Antonio Borneo
	<borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6219 Tested-by: jenkins

2021-03-27  Antonio Borneo <borneo.antonio@gmail.com>

	* : help text: remove trailing space Some help text end with a useless space character.  Remove it.  Change-Id: I397e1194fac8042f0fab694222f925f906716de3 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6222 Tested-by: jenkins

2021-05-16  Antonio Borneo <borneo.antonio@gmail.com>

	* : rtos: use ARRAY_SIZE() and simplify rtos_type.create() Use the existing macro ARRAY_SIZE().  Rewrite the functions
	rtos_type.create() to simplify the logic.  Change-Id: I8833354767045d1642801d26944c9087a77add00 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6261 Tested-by: jenkins

2020-08-24  Antonio Borneo <borneo.antonio@gmail.com>

	* : drivers/versaloon: use ARRAY_SIZE() Replace the custom macro dimof() with the OpenOCD macro
	ARRAY_SIZE().  Change-Id: I2fe638444f6c16f2a78c1fd558b21550f76282d6 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6259 Tested-by: jenkins Reviewed-by: Xiang
	W <wxjstz@126.com>

2021-05-16  Antonio Borneo <borneo.antonio@gmail.com>

	* : riscv: replace macro DIM() with ARRAY_SIZE() OpenOCD already defines the macro ARRAY_SIZE, while riscv code uses
	a local macro DIM.  Prefer using the macro ARRAY_SIZE() instead of DIM().  Not all the
	riscv code has been upstreamed, yes; this patch only covers the code
	already upstreamed.  Change-Id: I89a58a6d91916d85c53ba5e4091b558271f8d618 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6258 Reviewed-by: Xiang W <wxjstz@126.com>
	Tested-by: jenkins Reviewed-by: Tim Newsome <tim@sifive.com>

2021-01-06  Antonio Borneo <borneo.antonio@gmail.com>

	* : mem_ap: fix target arch_info type The target mem_ap appears as an ARM target, thus it allows the
	execution of ARM specific commands causing the crash of OpenOCD.
	E.g. 'arm mrc ...' can be executed and segfaults.  Replace the incorrect ARM magic number with a dedicated one.  While
	there, remove the 'struct arm', that is now holding only the
	mem_ap's dap, and replace it with a pointer to the dap.  Change-Id: I881332d3fdf8d8f8271b8711607737b052a5699b Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6213 Tested-by: jenkins

2021-05-13  R. Diez <rdiezmail-openocd@yahoo.de>

	* : configure.ac: use a separate folder for Autoconf-generated files Autoconf generates several files in root folder of the project.
	Keep the root folder cleaner by specifying subfolder 'build-aux'.
	Align .gitignore accordingly.  Signed-off-by: R. Diez <rdiezmail-openocd@yahoo.de> Change-Id:
	Ied87faba495d9eeb8f98e78c2e2b7e7e596febfb Reviewed-on:
	http://openocd.zylin.com/6236 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2021-05-13  R. Diez <rdiezmail-openocd@yahoo.de>

	* : Warn on undefined preprocessor symbols Preprocessor directives like "#if SYMBOL" silently replace undefined
	or misspelt symbols with 0, which makes configuration bugs hard to
	spot.  Compiler flag "-Wundef" prevents such errors.  Change-Id: I91b7ba2db02ef0c3c452d334601c53aebda4660e Signed-off-by:
	R. Diez <rdiezmail-openocd@yahoo.de> Reviewed-on:
	http://openocd.zylin.com/6238 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2021-01-28  Antonio Borneo <borneo.antonio@gmail.com>

	* : openocd: fix some minor typo Minor typos found by the new checkpatch boosted by the dictionary
	provided by 'codespell'.  Change-Id: I7b4cae1798ff5ea048fcbc671a397af763fdc605 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6218 Tested-by: jenkins

2021-01-28  Antonio Borneo <borneo.antonio@gmail.com>

	* : jtag: fix some minor typo Minor typos found by the new checkpatch boosted by the dictionary
	provided by 'codespell'.  Change-Id: I101c76a638805d77c1ff356cf0f027552389e5d3 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6216 Tested-by: jenkins

2021-01-28  Antonio Borneo <borneo.antonio@gmail.com>

	* : tcl: fix some minor typo Minor typos found by the new checkpatch boosted by the dictionary
	provided by 'codespell'.  While there, fix one indentation.  Change-Id: I72369ed26f363bacd760b40b8c83dd95e89d28a4 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6214 Tested-by: jenkins

2021-03-24  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : github/action: create a permanent 'latest' release this commit extends the existing snapshot action to create a release
	named 'latest' with the built binaries for windows.  this 'latest' release will be updated after every push to github.  Change-Id: I75a64c598169241743add3ac9aa7a0337fbab7f2 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6127 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2021-05-05  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/aarch64: fix watchpoint management The early documentation for armv8a report the debug register WFAR as
	containing the address of the instruction that triggered the
	watchpoint. More recent documentation report the register EDWAR as
	containing the data memory address that triggered the watchpoint.  The name of macros CPUV8_DBG_WFAR0 and CPUV8_DBG_WFAR1 is not
	correct as they point to the debug register EDWAR, so reading such
	register returns directly the data memory address that triggered the
	watchpoint. The code incorrectly passes this address value to the
	function armv8_dpm_report_wfar(); this function is supposed to
	adjust the PC value, decrementing it to remove the effects of the
	CPU pipeline. This pipeline offset, that has no meaning on the value
	in EDWAR, caused commit 651b861d5d5f ("target/aarch64: Add
	watchpoint support") to add back the offset while comparing the
	address with the watchpoint enabled.  The upper 32 bits of EDWAR are not valid in aarch32 mode and have to
	be ignored.  Rename CPUV8_DBG_WFAR0/1 as CPUV8_DBG_EDWAR0/1.  Remove the function
	armv8_dpm_report_wfar().  Remove the offset while searching the
	matching watchpoint.  Ignore the upper 32 bits of EDWAR in aarch32
	mode.  Fix a comment and the LOG text.  Change-Id: I7cbdbeb766fa18e31cc72be098ca2bc501877ed1 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6205 Tested-by: jenkins Reviewed-by: Liming
	Sun <limings@nvidia.com>

2021-05-11  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : cortex_m: fix VECTRESET detection for ARMv6-M cores VECTRESET check should be done after verifying if the core is an
	ARMv6-M core, and not before that.  Fixes: 2dc9c1df81b6 ("cortex_m: [FIX] ARMv8-M does not support
	VECTRESET") Change-Id: I8306affd332b3a35cea69bba39ef24ca71244273
	Signed-off-by: Tarek BOCHKATI <tarek.bouchkati@gmail.com>
	Reviewed-on: http://openocd.zylin.com/6232 Tested-by: jenkins
	Reviewed-by: Tomas Vanek <vanekt@fbl.cz> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2021-05-16  Antonio Borneo <borneo.antonio@gmail.com>

	* : cmsis_dap: fix build on macOS Compile fails with error:         src/jtag/drivers/cmsis_dap.c:683:28: error: format specifies
	            type 'unsigned char' but the argument has type 'int'
	                                 [-Werror,-Wformat] " received 0x%" PRIx8, CMD_DAP_TFER, resp[0]);
	~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~Fix the format specifier.  Change-Id: I0a5a1a35452d634019989d14d849501fb8a7e93a Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6255 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2021-05-13  Antonio Borneo <borneo.antonio@gmail.com>

	* : jimtcl: restrict memory leak workaround on Linux only The workaround for jimtcl 0.80 in commit 36ae487ed04b ("jimtcl: add
	temporary workaround for memory leak in jimtcl 0.80") issues a
	compile time error on macOS:         ../src/helper/command.c:157:22: error: aliases are not         supported on darwin         __attribute__((weak, alias("workaround_createcommand")));
	The OS is x86_64-apple-darwin19.6.0 and the compiler used is
	x86_64-apple-darwin13.4.0-clang.  Restrict the workaround on Linux host only. The fix for 'expr'
	syntax change is already merged and the workaround will be dropped
	soon.  Change-Id: I925109a9c57c05f8c95b70bc7d6604eb1172cd79 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reported-by: Adam
	Jeli≈Ñski <ajelinski@users.sourceforge.net> Fixes: 36ae487ed04b
	("jimtcl: add temporary workaround for memory leak in jimtcl 0.80")
	Fixes: https://sourceforge.net/p/openocd/tickets/304/ Reviewed-on:
	http://openocd.zylin.com/6241 Tested-by: jenkins

2021-05-10  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : target/armv7m.h: [style] replace tab with space between variable
	type and name Change-Id: I9740c25857295a2a655d3046322a3f23f0ee7f78 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6230 Reviewed-by: Marc Schink <dev@zapb.de>
	Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2021-01-12  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : cortex_m: add armv8m special registers Change-Id: I1942f375a5f4282ad1fe4a2ff3b8f3cbc64d8f7f Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6016 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2020-10-11  Daniel Anselmi <danselmi@gmx.ch>

	* : Add IPDBG JtagHost functionality to OpenOCD IPDBG are utilities to debug IP-cores. It uses JTAG for transport
	to/from the FPGA. The different UIs use TCP/IP as transport. The
	JtagHost makes the bridge between these two.  Comparable to the bridge between GDB and the in-circuit-
	debugging-unit of a micro controller.  Change-Id: Ib1bc10dcbd4ea426e492bb7b2d85c1ed1b7a8d5a Signed-off-by:
	Daniel Anselmi <danselmi@gmx.ch> Reviewed-on:
	http://openocd.zylin.com/5938 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2021-04-05  R. Diez <rdiezmail-openocd@yahoo.de>

	* : Enable adapter "Bus Pirate" by default.  The Bus Pirate is now listed in the "OpenOCD configuration summary"
	too.  Change-Id: Ieb7bf9134af456ebe9803f3108a243204fb2a62d Signed-off-by:
	R. Diez <rdiezmail-openocd@yahoo.de> Reviewed-on:
	http://openocd.zylin.com/5637 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2021-04-30  Marc Schink <dev@zapb.de>

	* : target/stm8: Make 'stm8_command_handlers' static Change-Id: I5237a8f2a1ecba9383672e37bd56f8ccd17598b6 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/6200
	Tested-by: jenkins Reviewed-by: Tarek BOCHKATI
	<tarek.bouchkati@gmail.com> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2021-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* : tcl: [2/3] prepare for jimtcl 0.81 'expr' syntax change Jimtcl commit 1843b79a03dd ("expr: TIP 526, only support a single
	arg") drops the support for multi-argument syntax for the TCL
	command 'expr'.  Enclose within double quote the argument of 'expr' when there is the
	need to concatenate strings.  Change-Id: Ic0ea990ed37337a7e6c3a99670583685b570b8b1 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6160 Tested-by: jenkins

2021-03-19  Antonio Borneo <borneo.antonio@gmail.com>

	* : startup.tcl: prepare for jimtcl 0.81 'expr' syntax change Jimtcl commit 1843b79a03dd ("expr: TIP 526, only support a single
	arg") drops the support for multi-argument syntax for the TCL
	command 'expr'.  Modify the script startup.tcl compiled-in OpenOCD binary to comply
	with the new jimtcl.  Change-Id: I520dcafacadaa289a815035f93f250447ca66ea0 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6158 Tested-by: jenkins Reviewed-by:
	Oleksij Rempel <linux@rempel-privat.de> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2021-04-26  Antonio Borneo <borneo.antonio@gmail.com>

	* : telnet: allow hiding selected commands during auto-completion We have TCL procedure and commands that we do not want to show in
	the list of auto-completion. E.g. TCL wrappers for deprecated
	commands, internal procedures that are not supposed to be exposed to
	user, or even commands that the user decides to hide.  Create a TCL procedure to be called by telnet auto-complete code in
	place of the hard-coded TCL command. The procedure will run the same
	command and will filter-out the unwanted command names.  Initialize the list of commands to be filtered-out with the name of
	the TCL procedure above, as it is considered as internal.  Change-Id: I2d83bbf8194502368c589c85cccb617e69128c69 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6194 Tested-by: jenkins Reviewed-by: Tarek
	BOCHKATI <tarek.bouchkati@gmail.com>

2021-04-22  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : cortex_m: implement hit_watchpoint function this change aims to provide a better gdb debugging experience, by
	making gdb understand what's really happening.  before this change when hitting a watchpoint  - openocd reports "T05" to gdb  - gdb displays: Program received signal SIGTRAP, Trace/breakpoint
	 trap.  after the change  - openocd reports "T05watch:20000000;" to gdb  - gdb displays:    Hardware watchpoint 1: *0x20000000    Old value = 16000000    New value = 170000000    ...  Change-Id: Iac3a85eadd86663617889001dd04513a4211ced9 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6181 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2021-04-12  asier70 <asier70@gmail.com>

	* : flash/nor/stm32f1x: Add support for GD32F1x0/3x0 Nowadays, when it's difficult to buy STM32F030, the use of GD32F130
	seems to be an interesting functional alternative.  This is
	cortex-M3 and it works with the stm32f1x driver, but unfortunately
	not fully.  The main difference is another offset of user option
	bits (like WDG_SW, nRST_STOP, nRST_STDBY) in option byte register
	(FLASH_OBR/FMC_OBSTAT 0x4002201C).  Any use of functions like lock
	or unlock results in change default values of the those bits stored
	in flash.  Thus broken microcontroller is malfunctioning, e.g. flash
	block programming is interrupted by unexpected active hardware
	watchog (after 0.4s).  This patch is a simplified version of #4592
	done by Dominik Peklo (http://openocd.zylin.com/#/c/4592/).
	GigaDevice GD32F1x0 & GD32F3x0 series devices share DEV_ID with
	STM32F101/2/3 medium-density line, however they use a REV_ID
	different from any STM32 device, so can be succesfully detected.  Change-Id: I252cdf738d94983b70676a3497326f90c329e292 Signed-off-by:
	asier70Andrzej Sier≈ºƒôga <asier70@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6164 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2021-03-24  Luis de Arquer <luis.dearquer@inertim.com>

	* : drivers/ftdi: drscan: Skip DR-PAUSE when endstate == IDLE Currently, all drscan commands will cycle through DR-PAUSE before
	reaching TAP-IDLE. This patch provides a different path on FTDI
	driver.  This change is required for the ST On Chip Emulator (OnCE), to avoid
	re-enabling the OnCE tap after every DRSCAN. This is because the
	OnCE TAP (see ST Application Note AN4035) gets disabled if DR-PAUSE
	is entered before DR-UPDATE.  With this commit, the current path: DR-SHIFT -> DR-EXIT1 -> DR-PAUSE -> DR-EXIT2 -> DR-UPDATE -> IDLE is changed to: DR-SHIFT -> DR-EXIT1 -> DR-UPDATE -> IDLE only if IDLE is the endstate (which is the driver default).  Before this patch, once the SHIFT sequence is complete, the driver
	would normally move to the nearest stable state, which is DR-PAUSE,
	by clocking out a '10' binary sequence. Then it would follow the
	path provided by tap_get_tms_path() to reach endstate. It is done
	this way because tap_get_tms_path() only supports stable states.  After this patch, the strategy is mostly the same, with the
	exception that, if TAP_IDLE is the endstate, a '110' binary sequence
	is output after completing the SHIFT sequence. This takes the TAP
	directly to IDLE, with no further action required.  A scheme of the DR chain is shown below. A * character is used to
	mark the stable states.
	---------------------------------------------------------------------- |
	 | 0 v    1         0          0         1        0         1
	1    | IDLE* -> SEL-DR -> CAPTURE -> SHIFT* -> EXIT1 -> PAUSE* ->
	                                          EXIT2 -> UPDATE |                           ^                                         1 |
	                                          |
	----------------------------- Change-Id: Ib413e5c4c0bbf75dae0b4672119bae4ef03d0258 Signed-off-by:
	Luis de Arquer <luis.dearquer@inertim.com> Reviewed-on:
	http://openocd.zylin.com/6123 Tested-by: jenkins Reviewed-by:
	Christopher Head <chead@zaber.com> Reviewed-by: Oleksij Rempel
	<linux@rempel-privat.de> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2021-04-30  Jiri Kastner <cz172638@gmail.com>

	* : udev rules: add OSBDM device Change-Id: I7221a6b3fe6fcd4f17ea664c10fd32c645e21d7c Signed-off-by:
	Jiri Kastner <cz172638@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6198 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2021-04-25  Antonio Borneo <borneo.antonio@gmail.com>

	* : helper/command: drop the TCL variable 'ocd_HOSTOS' Commit 7a731eb63731 ("Added HostOS variable"), merged in 2009, adds
	a TCL global variable 'ocd_HostOS' that reports in a string the OS
	of the host.  This was proposed as a workaround for jimtcl that
	didn't define the standard TCL variable 'tcl_platform(os)'.  With commit 42f3fb7b7f46 ("Determine platform_tcl() settings with
	configure"), merged in 2010 and part of jimtcl 0.70 issued in early
	2011, jimtcl provides the requires TCL standard variable
	'tcl_platform(os)'.  The variable 'ocd_HostOS' has never been used by any TCL script
	distributed with OpenOCD.  Drop the TCL variable 'ocd_HostOS'.  Change-Id: I27858de35cc9d30df97145ca1ccd24877be4af11 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6189 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2021-04-25  Antonio Borneo <borneo.antonio@gmail.com>

	* : helper/jim-nvp: remove unused function Jim_nvpInit() The files jim-nvp.[ch] were originally inside jimtcl, then in 2011
	they were dropped by jimtcl and integrated in OpenOCD.  The initial
	purpose was to make them as an independent library, thus the
	presence of an 'init' function. Being now part of OpenOCD do not
	require the 'init' function anymore, that is still empty and unused,
	plus its name is in violation of the coding style.  Drop the function Jim_nvpInit().  Change-Id: I429e10444c86a26dbdc22aa071315324dc5edc3e Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6187 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2021-04-22  Antonio Borneo <borneo.antonio@gmail.com>

	* : helper/replacements: remove unused typedef's The ELF typedef's 'Elf32_Sword' and 'Elf32_Hashelt' are not used
	within OpenOCD. Plus, being their name in CamelCase require extra
	effort to include them in the exceptions for checkpatch.  Remove the unused typedef's.  Change-Id: I18f039567edd5b24dbb41df5406c154f31022ae7 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6178 Tested-by: jenkins Reviewed-by:
	Christian Hoff <christian.hoff@advantest.com>

2019-06-05  Florian Meister <florian.meister@advantest.com>

	* : target/image: allow loading of 64-bit ELF files Change-Id: I9b88edacf5ffcc3c1caeab8c426693de0d92a695 Signed-off-by:
	Florian Meister <florian.meister@advantest.com> Signed-off-by:
	Christian Hoff <christian.hoff@advantest.com> Reviewed-on:
	http://openocd.zylin.com/5204 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by: Ooi, Cinly
	<cinly.ooi@intel.com> Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2021-04-26  Antonio Borneo <borneo.antonio@gmail.com>

	* : helper/command: fix build with jimtcl 0.79 or older Commit a7d68878e4ba ("helper/command: unregister commands through
	their full-name") introduces for the first time in OpenOCD the use
	of jimtcl API Jim_DeleteCommand().  The prototype of
	Jim_DeleteCommand() has changed with jimtcl 0.80 and the current
	code doesn't build with jimtcl 0.79 or older. This is an issue for
	those distributions, like Debian, that provide jimtcl as a separate
	package/library and have not switched yet to the new jimtcl version.  Add a compile-time condition to cope with the jimtcl API change.  Change-Id: Ic813ab7c0ebd3c8772f27775ba3912a47d5c275c Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Fixes: a7d68878e4ba
	("helper/command: unregister commands through their full-name")
	Reviewed-on: http://openocd.zylin.com/6191 Tested-by: jenkins

2021-04-22  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : doc/openocd.texi: fix warning fix the warning below by adding a '.' after xref in line 10184:
	./doc/openocd.texi:10184: warning: `.' or `,' must follow @xref, not
	c Change-Id: Ibd976ae61cf6845e925b839321444dcb25a3c04a Reported-by:
	Tomas Vanek <vanekt@fbl.cz> Signed-off-by: Tarek BOCHKATI
	<tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6179 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2021-04-22  Tomas Vanek <vanekt@fbl.cz>

	* : target/armv7m: change FPv4_SP and FPv5_SP/DP identifiers to
	uppercase Change-Id: Ia421a973e5fb4767715c9f95c91745f8ca1de1da Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/6177 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2021-04-05  Tomas Vanek <vanekt@fbl.cz>

	* : target/adi_v5_swd: remove double space from swd_cmd() parameters Change-Id: I6b68868947010512c4de76e5d37142f067e27b06 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/6137 Tested-by: jenkins

2021-04-05  Tomas Vanek <vanekt@fbl.cz>

	* : target/arm_adi_v5: add JTAG_TO_DORMANT sequence Change-Id: Ie9e32e42a84cf88bf779e691a67c114eef1bb457 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/6136 Tested-by: jenkins

2021-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* : board: imx53: fix l2 cache initialization Both http://openocd.zylin.com/542/ and http://openocd.zylin.com/543/
	introduce the same typo in the bitfield for initializing the l2
	cache of imx53.  One year later, http://openocd.zylin.com/1461/
	copy-pastes the same typo.  The comment above the code show that
	it's really an error and not the expected behaviour.  Fix the typo replacing the incorrect comparison '<' with a left
	shift.  Change-Id: I43725731a2228e28a676215f76936fa289d9395e Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Fixes: e3b327343394 ("cfg:
	add imx53loco board config") Fixes: 108a458ab888 ("cfg: add
	icnova_imx53_sodimm board config") Fixes: e608ced33001 ("ftdi/board:
	Add support for DENX M53EVK") Reviewed-on:
	http://openocd.zylin.com/6156 Tested-by: jenkins Reviewed-by: Adrian
	M Negreanu <adrian.negreanu@nxp.com> Reviewed-by: Oleksij Rempel
	<linux@rempel-privat.de>

2021-04-07  Antonio Borneo <borneo.antonio@gmail.com>

	* : doc: do not document commands that are already deprecated The command 'ftdi_location' is deprecated and a TCL procedure is in
	place to direct the user to the replacement command.  There is no
	need to document the deprecated command.  Remove 'ftdi_location' from the documentation.  Change-Id: Ia431c6b0e7444d3f3288c088429bfb47089ff1b5 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6154 Tested-by: jenkins Reviewed-by: Marc
	Schink <dev@zapb.de>

2020-05-13  Antonio Borneo <borneo.antonio@gmail.com>

	* : smp: move command deprecation to startup.tcl Commit 246782229f8f ("smp: replace commands smp_on/smp_off with "smp
	[on|off]"") deprecates some multi-word comments, when openocd was
	unable to properly handle mixes of multi-word commands and tcl
	procedures having a common initial word.  This limitation is over,
	so move in startup.tcl the multi-word commands deprecation, making
	it easy to remove them after a grace period.  Change-Id: Icb550d1fa7559b95692d2a1244880da6c90ec0b2 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5677 Tested-by: jenkins

2019-04-04  Leonard Crestez <leonard.crestez@nxp.com>

	* : target/imx8qm: Initial support Chip is similar to imx8x series but has different cores at different
	addresses.  Support for reduced versions is not yet available.  Tested on imx8qm-mek board Change-Id: Ia34a80d561ab2849a570d8c375b936a45cbf45ca Signed-off-by:
	Leonard Crestez <leonard.crestez@nxp.com> Reviewed-by: Oliver Graute
	<oliver.graute@kococonnector.com> Reviewed-on:
	http://openocd.zylin.com/5042 Reviewed-by: Oleksij Rempel
	<linux@rempel-privat.de> Tested-by: jenkins Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2021-04-11  Marc Schink <dev@zapb.de>

	* : flash/nor/numicro: Use 'bool' data type Change-Id: Ib4ee64dec9c1253ae45bc58e9f175ab36964180a Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/6162
	Tested-by: jenkins Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2021-03-20  Tomas Vanek <vanekt@fbl.cz>

	* : drivers/cmsis-dap: improve error checking Check returned HID report number (or the first byte of returned bulk
	packet) which should be equal to the issued command or 0xff in case
	of the command is not implemented.  Fix error return paths in cmsis_dap_init() to clean up the adapter
	connection.  Don't fail cmsis_dap_init() when an unimportant function fails (for
	the case the adapter doesn't implement some parts of protocol).  Change-Id: Ief8382aabe9915346b2273702fb2ff17bbb5eb1b Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/6121 Tested-by: jenkins Reviewed-by: Peter
	Lawrence <majbthrd@gmail.com>

2020-05-13  Antonio Borneo <borneo.antonio@gmail.com>

	* : helper/command: make script_debug() static Now that all commands are executed through the common handler
	command_unknown(), the message about command execution is logged by
	command_unknown(). There is no need, for "native" commands (.jim_handler) at root level to log the message (again) by itself.  Remove calls to script_debug() apart from command_unknown().  Make
	script_debug() static as only used in command.c.  Change-Id: I9b2728b69e7643d6121c4b35a96bc825bcb5488d Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5676 Tested-by: jenkins Reviewed-by:
	Oleksij Rempel <linux@rempel-privat.de>

2020-05-13  Antonio Borneo <borneo.antonio@gmail.com>

	* : helper/command: unregister commands through their full-name While keeping the struct command in place, unregister the jim
	commands by scanning the list of jim commands through their
	full-name.  Change-Id: I0e903fbc31172858b703d67ccd471809c7949e86 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5674 Tested-by: jenkins Reviewed-by:
	Oleksij Rempel <linux@rempel-privat.de>

2020-05-13  Antonio Borneo <borneo.antonio@gmail.com>

	* : helper/command: simplify run_command() Now that the commands are registered using their full-name, the
	full-name is in argv[0].  Don't rebuild the full-name but use directly argv[0].  Change-Id: Ic9e469ac39276367b8c47527e70791ff470fefbc Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5672 Tested-by: jenkins Reviewed-by:
	Oleksij Rempel <linux@rempel-privat.de>

2021-03-27  Antonio Borneo <borneo.antonio@gmail.com>

	* : help: re-implement 'help' independent from tree of struct
	command The current implementation of "help" related commands is tightly
	connected to the tree of struct command.  The TCL commands
	'add_usage_text' and 'add_help_text' have to add fake commands in
	the tree of struct command to handle the help of TCL procs.  Move all the help texts in a list accessible from the struct
	command_context and register the commands through their full name.
	Keep the list sorted alphabetically by the command name, so the
	result of commands 'help' and 'usage' will be sorted too.  Remove the associated help and usage during commands un-register,
	but call help_del_all_commands() for the text added through TCL
	commands 'add_usage_text' and 'add_help_text'.  The resulting help and usage output is not changed by this patch
	(tested on all the help and usage strings in current master branch).  Change-Id: Ifd37bb5bd374cba1a22cd7aac208505b4ae1e6fc Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5670 Tested-by: jenkins Reviewed-by:
	Oleksij Rempel <linux@rempel-privat.de>

2020-05-10  Antonio Borneo <borneo.antonio@gmail.com>

	* : helper/command: pass command prefix to command registration Replace the "struct command *parent" parameter with a string that
	contains the command prefix.  This abstracts the openocd code from
	the knowledge of the tree of struct command.  This also makes unused
	the function command_find_in_context(), so remove it.  Change-Id: I598d60719cfdc1811ee6f6edfff8a116f82c7ed6 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5668 Tested-by: jenkins Reviewed-by:
	Oleksij Rempel <linux@rempel-privat.de>

2020-05-12  Antonio Borneo <borneo.antonio@gmail.com>

	* : helper/command: get current target from dedicated API Now that target override is uniformly implemented for all types of
	commands, there is no need for target-prefixed "native" commands (.jim_handler) to sneakily extract the overridden target from the
	struct command.  Modify the commands to use the standard API get_current_target().  Change-Id: I732a09c3261e56524edd5217634fa409eb97a8c6 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5666 Tested-by: jenkins Reviewed-by:
	Oleksij Rempel <linux@rempel-privat.de>

2020-05-12  Antonio Borneo <borneo.antonio@gmail.com>

	* : helper/command: always pass struct command as jim private data While registering a new command, jim accepts a pointer to command's
	private data that will be accessible during the command execution.  Today openocd is not consistent and passes different private data
	depending on the command, and then even overwrites it: - "simple" commands (.handler) are registered with their own   struct command pointer as command private data; - "native" commands (.jim_handler) at root level are registered   with NULL command private data; - "native" commands (.jim_handler) not at root level are   registered with the struct command pointer of their root command   as command private data but, when executed, the command private   data is overwritten by the value in field jim_handler_data taken   from their struct command.  Uniform the usage of command private data by always set it to the
	struct command pointer while registering the new commands.  Note:
	for multi-word commands only the root command is registered, so
	command private data will be set to the struct command of the root
	command. This will change later in this series when the full- name
	of the command will be registered.  Don't overwrite the command private data, but let the commands that
	needs jim_handler_data to get it directly through struct command.  For sake of uniformity, let function command_set_handler_data() to
	set the field jim_handler_data also for "group" commands, even if
	such value will not be used.  Now Jim_CmdPrivData() always returns a struct command pointer, so
	wrap it in the inline function jim_to_command() to gain compile time
	check on the returned type.  While there, uniform the code to use
	the macro Jim_CmdPrivData() to access the command's private data
	pointer.  Change-Id: Idba16242ba1f6769341b4030a49cdf35a5278695 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5664 Tested-by: jenkins Reviewed-by:
	Oleksij Rempel <linux@rempel-privat.de>

2021-04-06  Antonio Borneo <borneo.antonio@gmail.com>

	* : doc: [3/3] uniform the texinfo syntax for commands definition To avoid errors in the documentation, like the one fixed by change
	http://openocd.zylin.com/6134/ , use a uniform notation across the
	file so simple copy-paste will work.  Enclose every command within curly-brackets '{...}', even single
	word commands.  Patch generated through:         sed -i 's/^\(@deffn {[^{]*} \)\([^{][^ ]*\)/\1{\2}/'
	        doc/openocd.texi sed -i 's/^\(@deffnx {[^{]*} \)\([^{][^
	]*\)/\1{\2}/' doc/openocd.texi Change-Id: I41a8447d487ec8f6f32c2babcbc73ac21c769344 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6152 Tested-by: jenkins

2021-04-06  Antonio Borneo <borneo.antonio@gmail.com>

	* : doc: [1/3] uniform the texinfo syntax for commands definition To avoid errors in the documentation, like the one fixed by change
	http://openocd.zylin.com/6134/ , use a uniform notation across the
	file so simple copy-paste will work.  Both 'Command' and '{Command}' are in use, with the following
	statistics:           0 @deffnx {Command}          45 @deffn {Command}          31 @deffnx Command         382 @deffn Command While 'Command' is the most popular, prefer the version within
	curly-brackets that has to be used for multi-word definition like
	'{NAND Driver}', '{Config Command}', '{FPGA Driver}', ...  Patch generated through:         sed -i 's/^\(@deffn \)\(Command\)/\1{\2}/' doc/openocd.texi         sed -i 's/^\(@deffnx \)\(Command\)/\1{\2}/' doc/openocd.texi Change-Id: If692bbf7e546c5287f466a6aa6940d42b3d4655d Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6150 Reviewed-by: Yasushi SHOJI
	<yashi@spacecubics.com> Tested-by: jenkins

2020-12-20  Antonio Borneo <borneo.antonio@gmail.com>

	* : mem_ap: allow GDB connections The target mem_ap is a convenient way to access buses, memory and
	peripherals behind an ARM AP.  The current implementation provides
	only access through OpenOCD commands, because GDB remote protocol
	has to interact with a CPU and has to operate on CPU states and
	registers.  Using GDB to access the memory is welcome, because GDB
	can resolve the symbol's address from an ELF file and can nicely
	display the content of complex struct and data types.  Extend mem_ap target with the bare minimal support for a remote GDB
	connection, by emulating a fake basic ARM core. It means that only a
	GDB that has support for ARM can be used (either 'aarch64', 'arm' or
	'multiarch' GDB). This is not seen as a big limitation, because the
	mem_ap target is mainly used on ARM based devices.  Add a minimalist register description for the fake CPU.  Fill the
	field 'debug_reason' as expected by GDB server.  Call the target
	halted event to reply to GDB halt requests.  For backward compatibility, don't open the GDB port by default. If
	needed, it has to be specified at 'target create' or 'configure'
	with the flag '-gdb-port'.  Change-Id: I5a1b7adb749746516f5d4ffc6193c47b70132364 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6034 Tested-by: jenkins

2021-04-05  Marc Schink <dev@zapb.de>

	* : doc/manual/style: Fix comments The comments currently used are not rendered.  Change-Id: I3fcfb6aee4dea9c4f9186a7aec70d382a1abd634 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/6133
	Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2020-12-12  Antonio Borneo <borneo.antonio@gmail.com>

	* : LICENSES: add 'license-rules.txt' Add a file to the LICENSES directory to describe how file licenses
	should be described in all the OpenOCD files, using the SPDX
	identifier, as well as where all licenses should be in the source
	tree for people to refer to (LICENSES/).  This file is mainly copied from the Linux kernel file in         Documentation/process/license-rules.rst originally written
	by Thomas Gleixner <tglx@linutronix.de>, with specific adaptations
	for OpenOCD.  Change-Id: I7a98fc756df90dc86dbc6e0c47c009a610a0318d Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5973 Tested-by: jenkins Reviewed-by: Tim
	Newsome <tim@sifive.com>

2017-12-28  Thomas Gleixner <tglx@linutronix.de>

	* : LICENSES: add the BSD 3-clause "New" or "Revised" License Add the full text of the BSD 3-clause "New" or "Revised" License to
	OpenOCD tree. It was copied directly from:   https://spdx.org/licenses/BSD-3-Clause.html#licenseText Add the required tags for reference and tooling.  Change-Id: I0e7977ed92af9d58a4a72152dd792045b237f2f0 Signed-off-by:
	Thomas Gleixner <tglx@linutronix.de> Signed-off-by: Antonio Borneo
	<borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5971 Tested-by: jenkins

2020-12-07  Antonio Borneo <borneo.antonio@gmail.com>

	* : LICENSES: add the GFDL-1.2 license The documentation of OpenOCD is released under the GNU Free
	Documentation License, version 1.2, with embedded some part of
	OpenOCD code released under the GNU GPL-2.0-or-later.  Update doc/fdl.texi with latest minor fixes as in         https://www.gnu.org/licenses/old-licenses/fdl-1.2.texi
	Update doc/openocd.texi and move here the license chapter title Add
	        license file LICENSES/preferred/GFDL-1.2 from
	https://www.gnu.org/licenses/old-licenses/fdl-1.2.txt and add the
	required tags for reference and tooling, coping mostly from the
	Linux kernel license file in the 'deprecated' folder.  Add a readme
	file to link to the existing texinfo copy of the license.  Change-Id: Ief96e0686257be7a70d4eeec442848bd6494763d Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5969 Tested-by: jenkins

2020-04-25  Antonio Borneo <borneo.antonio@gmail.com>

	* : LICENSES: move the GPL-2.0 license as required by checkpatch The script spdxcheck.py (used by checkpatch.pl) searches for the
	license files in a dedicated folder, split in the subfolders:         "preferred", "dual", "deprecated", "exceptions".  Move the GPL-2.0 license from COPYING to the subfolder preferred,
	adding the header required by spdxcheck.py.  The header is copied
	from equivalent file in the Linux kernel, made by Thomas Gleixner
	<tglx@linutronix.de>.  Note: the license in COPYING matches exactly         https://www.gnu.org/licenses/old-licenses/gpl-2.0.txt Add a minimalist COPYING in the top directory, as required by
	automake, pointing to the files in LICENSES.  Change-Id: I1fd0abc57b554d74f0b00fabd6c8c822b2c4acb5 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5967 Tested-by: jenkins

2020-11-06  Adrian Negreanu <adrian.negreanu@nxp.com>

	* : cmsis-dap: don't update the packet size across backends.  The hidapi cmsis-dap backend is using a packet_size of 64+1: 64 is
	the bMaxPacketSize0 and 1 is the hid Report-Id.  In hidapi::hid_write(), the packet_size is decremented by 1 and
	stored for the next transfer.  The packet_size is now valid
	bMaxPacketSize0=64, so when hid_read() is called,
	libusb_bulk_transfer() finishes w/o timeout.  For the libusb bulk backend, the same packet_size of 64+1 is used,
	but there's no hid_write() to decrement and store it for the next
	read.  So the next time a read is done, it will try to read 64+1 bytes.  Fix this by putting the packet logic within each backend.  Use
	calloc() to allocate the struct cmsis_dap to be on safer side.  Change-Id: I0c450adbc7674d5fcd8208dd23062d5cdd209efd Signed-off-by:
	Adrian Negreanu <adrian.negreanu@nxp.com> Reviewed-on:
	http://openocd.zylin.com/5920 Tested-by: jenkins Reviewed-by: Tarek
	BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2020-12-28  Antonio Borneo <borneo.antonio@gmail.com>

	* : drivers/arm-jtag-ew: switch to libusb1 Convert the driver from libusb0 to libusb1.  Change-Id: Idef0b6cf10fab583bc8d13b3b4fadd5cc368c090 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5990 Tested-by: jenkins

2021-03-07  Antonio Borneo <borneo.antonio@gmail.com>

	* : udev rules: add missing Altera USB Blaster devices All Altera USB Blaster devices require a dedicated line in the udev
	rules, but some USB VID/PID present in interface and board config
	file is missing in udev rules.  Add the missing Altera USB Blaster devices in udev rules.  While
	there, fix an incorrect pair VID/PID that are reported swapped
	inside a comment.  Change-Id: I2d67e90b10db99ef2638405585859c1393456f65 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6102 Tested-by: jenkins

2021-03-26  Antonio Borneo <borneo.antonio@gmail.com>

	* : jimtcl: add temporary workaround for memory leak in jimtcl 0.80 The API Jim_CreateCommand() in latest version of jimtcl leaks the
	memory allocated internally by jimtcl when it converts the string
	command-name to a Jim_Obj.  The fix is already merged upstream and
	would be available in next jimtcl 0.81, expected in ~6 months,
	hopefully before the next tag for OpenOCD v0.12.0.  OpenOCD v0.11.0
	is distributed with jimtcl 0.79.  Debian distributes jimtcl as a
	separate library package and today it's still on 0.79.  It make sense to keep using jimtcl 0.80 in current development cycle
	to test it further. But having this background memory leak noise
	hides the eventual new memory leaks that could come from the
	development activity.  This patch uses the internal jimtcl API Jim_CreateCommandObj() and
	correctly free the internal object, avoiding the memory leak.  Being
	an internal API, it is not accessible if OpenOCD is linked with an
	external jimtcl library. Nevertheless, building jimtcl as a
	submodule of OpenOCD makes the trick effective.  The scope of this patch is thus limited at developers that build
	OpenOCD with jimtcl submodule and need to control and debug memory
	leaks.  This patch is supposed to be removed as soon as jimtcl 0.81
	gets available.  The added code is located, on purpose, in an area of the file that
	hopefully will not conflict other patches pending in gerrit.  Change-Id: I4d300ad21bdb6c616c3f0f14b429b4fdf360900d Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reported-by: Tarek
	BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6130 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz> Reviewed-by: Oleksij Rempel
	<linux@rempel-privat.de> Reviewed-by: Jonathan McDowell
	<noodles-openocd@earth.li>

2020-11-03  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : flash/stm32l4x: probe tzen and rdp values introduction of 'enum stm32l4_rdp' enumerating possible RDP levels
	for devices with and without TrustZone.  also in 'stm32l4_flash_bank' structure we added and rdp and tzen
	members to store read values by the helper 'stm32l4_sync_rdp_tzen' these new members are used to display security and protection status
	while probing the flash.  Change-Id: Icf883189715278a3323fe210d295047678b16592 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5541 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2020-11-03  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : flash/stm32l4x: enhance protect handler to use efficiently all
	WRP areas stm32l4_protect: was using one WRP area per bank, without checking
	if it is already protecting some sectors.  protection algo is more
	complicated than that, before using a WRP area we should check if it
	is already used, then either reuse it for extension (or reduction)
	or use a free area.  introduce a new command: stm32l4x wrp_info bank_num
	['bank1'|'bank2'] this command lists the protected areas using WRP.  Note: for some devices like STM32L4R/S in single bank mode, all 4
	WRP areas are usable for that bank, to manage this case an attribute
	'use_all_wrpxx' was introduced into stm32l4_part_info and used later
	in protection handlers example usage:         $ telnet localhost 4444         > flash probe 0           device idcode = 0x10036470 (STM32L4R/L4Sxx - Rev: Y)           flash size = 2048kbytes           flash mode : dual-bank           flash 'stm32l4x' found at 0x08000000         > stm32l4x wrp_info 0           no protected areas         > flash protect 0 0 4 on           set protection for sectors 0 through 4 on flash bank 0         > flash protect 0 8 9 on           set protection for sectors 8 through 9 on flash bank 0         > stm32l4x wrp_info 0           protected areas: [0,4][8,9]         > flash protect 0 6 6 on           the device WRPxy are not enough to set the requested
	          protection failed setting protection for blocks 6 to 6         > flash protect 0 3 5 on           set protection for sectors 3 through 5 on flash bank 0         > stm32l4x wrp_info 0           protected areas: [0,5][8,9]         > flash protect 0 6 7 on           set protection for sectors 6 through 7 on flash bank 0         > stm32l4x wrp_info 0           protected areas: [0,9]         > flash protect 0 5 6 off           cleared protection for sectors 5 through 6 on flash bank 0         > stm32l4x wrp_info 0           protected areas: [0,4][7,9] Change-Id: I42bd84fa66edd93406e18c6d89310faa5267ffa7 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6107 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2020-12-22  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor/atsame5: add SAME51G18A and SAME51G19A devices Change-Id: Icbb49c76594152e9c5da1c7465675de26c86540e Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reported-by:
	mikewolak@users.sourceforge.net Fixes:
	https://sourceforge.net/p/openocd/tickets/288/ Reviewed-on:
	http://openocd.zylin.com/5984 Tested-by: jenkins

2021-03-07  Andrew Wesie <awesie@gmail.com>

	* : tcl/interface/ftdi: Add PLS SPC5 debugger config Change-Id: I694201db0811beebc94e87822c87fbfc6aecc4c4 Signed-off-by:
	Andrew Wesie <awesie@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6081 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2021-03-18  Oleksij Rempel <o.rempel@pengutronix.de>

	* : drivers: USB Blaster II: close file and release USB device if
	firmware handling failed In case of some error, the USB device and firmware file are still
	claimed. Make sure refcounting is properly accounted for both cases.  Change-Id: I933114f68e59280e58372c0941a0062fe96ab340 Signed-off-by:
	Oleksij Rempel <o.rempel@pengutronix.de> Reviewed-on:
	http://openocd.zylin.com/6115 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2021-03-15  Evgeniy Didin <didin@synopsys.com>

	* : target/arc: refactor ARC register numbers defines For Zephyr rtos support it is necessary to define general register
	numbers for architecture. There were some already in arc.h file.
	Let's define ARC registers numbers as a set instead of separate
	defines.  Change-Id: I63742b8608f9556c2ec9bd2661a0fd9cf88e9b74 Signed-off-by:
	Evgeniy Didin <didin@synopsys.com> Reviewed-on:
	http://openocd.zylin.com/6105 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2020-10-14  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : aarch64: handle semihosting in aarch32 state Change-Id: I0e868d617db126a2b258e27b11979b75b5bb72f5 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5860 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de> Reviewed-by: Antonio
	Borneo <borneo.antonio@gmail.com>

2021-03-11  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : telnet: support end and home keys this will help navigate to the line start and end easily Change-Id: I3f42eb5267df64c59a85ece67de5fce39a8843ec Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6094 Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com> Tested-by: jenkins

2020-11-23  Christian Hoff <christian.hoff@advantest.com>

	* : aarch64: add support for "reset halt" Support halting the CPU directly after a reset. If halt is
	requested, the CPU stops directly at the reset vector, before any
	code is executed.  This functionality was implemented using the Reset Catch debug
	event.  Change-Id: If90d54c088442340376f0b588ba10267ea8e7327 Signed-off-by:
	Christian Hoff <christian.hoff@advantest.com> Reviewed-on:
	http://openocd.zylin.com/5947 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by: Tarek
	BOCHKATI <tarek.bouchkati@gmail.com>

2020-11-01  Antonio Borneo <borneo.antonio@gmail.com>

	* : zy1000: drop the code, deprecated in v0.10.0 The code for zy1000 has been marked as deprecated in release
	v0.10.0, 4 years ago.  Time to drop it! Change-Id: I08fca2a2bf8f616f031e15fd37dac3197a40ba50 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6090 Tested-by: jenkins

2020-11-01  Antonio Borneo <borneo.antonio@gmail.com>

	* : oocd_trace: drop the code, deprecated in v0.10.0 The code for oocd_trace has been marked as deprecated in release
	v0.10.0, 4 years ago.  Time to drop it! Change-Id: I989f8345dee4ff2369bcf5e2e2ace86bbd5aa6a5 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6088 Tested-by: jenkins

2020-11-01  Antonio Borneo <borneo.antonio@gmail.com>

	* : target: remove target names already deprecated in v0.8.0 Some target name were marked as deprecated in release v0.7.0 and
	v0.8.0, almost 7 years ago, and replaced with more 'actual' names.
	We can reasonably expect that in these 7 years any user of OpenOCD
	has already migrated to v0.8.0 or to some newer release, thus has
	already updated any local/personal script to get rid of the
	deprecated message.  Drop the target names already deprecated in v0.8.0.  Change-Id: I7c7491496db1b302b4eb1e9fc6090b58d4acf05a Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6086 Reviewed-by: Tarek BOCHKATI
	<tarek.bouchkati@gmail.com> Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2020-11-01  Antonio Borneo <borneo.antonio@gmail.com>

	* : openocd: remove command line flag -p/--pipe deprecated in v0.5.0 The OpenOCD command line flag -p/--pipe was marked as deprecated in
	release v0.5.0, more than 9 years ago.  We can reasonably expect
	that in these 9 years any user of OpenOCD has already migrated to
	v0.5.0 or to some newer release, thus has already updated any
	local/personal script to get rid of the deprecated message.  Drop the command line flag already deprecated in v0.5.0.  Change-Id: I2faeb592ed2c2f67c2d3227f118093e39fcf4a8c Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6084 Tested-by: jenkins Reviewed-by: Tarek
	BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2020-11-01  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/arm720t: remove command 'arm720t cp15' deprecated in
	v0.4.0 The command 'arm720t cp15' was marked as deprecated in release
	v0.4.0, almost 11 years ago.  We can reasonably expect that in these
	years any user of OpenOCD has already migrated to v0.4.0 or to some
	newer release, thus has already updated any local/personal script.
	There is no run-time warning about the deprecation, but it is
	reported in the help and in the documentation.  Drop the command already deprecated in v0.4.0.  Change-Id: I2b325d0312d96ca5e5f0f1bad13bb162b3b75c52 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6082 Tested-by: jenkins Reviewed-by: Tarek
	BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2021-01-08  Antonio Borneo <borneo.antonio@gmail.com>

	* : configure.ac: switch to autoconf 2.69 OpenOCD file configure.ac requires autoconf equal or newer then
	2.64, which is quite old.  These are the release dates so far: - autoconf-2.64 2009-07-26 - autoconf-2.65 2009-11-21 - autoconf-2.66 2010-07-02 - autoconf-2.67 2010-08-02 - autoconf-2.68 2010-09-22 - autoconf-2.69 2012-04-24 - autoconf-2.70 2020-12-08 Switch to autoconf 2.69, which is old enough to be the standard in
	current systems.  This should reduce the effort on configure.ac
	compatibility.  Change-Id: Ia7c78d2fa34c50ed5ccf4fb66ad3484369cf3b4a Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6008 Tested-by: jenkins

2021-02-18  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : tcl/target: add BCM2711 configuration file The Broadcom BCM2711 used in Raspberry Pi 4 No documentation was
	found on Broadcom website Partial information is available in
	raspberry pi website:

	https://www.raspberrypi.org/documentation/hardware/raspberrypi/bcm2711/Change-Id: I3db6c9af520af8ab4c21ad35ff0f2db28efc0325 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6066 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2021-02-20  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : tcl/target: add BCM2836 configuration file The Broadcom chip used in the Raspberry Pi 2 Model B Partial information is available in raspberry pi website:

	https://www.raspberrypi.org/documentation/hardware/raspberrypi/bcm2836Change-Id: I50b040db213c5b72f63d5f5534c552426c7376f9 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6068 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2021-02-01  Marc Schink <dev@zapb.de>

	* : flash/nor/stmqspi: Replace macros with static inline functions There is no good reason to use macros instead of static inline
	functions. The current code is hard maintain. For example, it
	changes variables outside of the macro scope. Also, it is
	conflicting with the C coding style.  Change-Id: I5ac9d2ae076ef73c176d4e32b2e7e0a99fa875ab Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/6046
	Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2021-02-13  Antonio Borneo <borneo.antonio@gmail.com>

	* : jtag/nulink: add a space after PRIx32 Missing the space cause the hex value to be printed together with
	the following field.  Add a space after PRIx32.  Change-Id: I95824a9a8b8c0ad911d6c31f732d926cb3e0c068 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6060 Tested-by: jenkins Reviewed-by:
	Jonathan McDowell <noodles-openocd@earth.li>

2021-02-04  Felipe Balbi <balbi@kernel.org>

	* : Add configuration file for Olimex H405 Change-Id: I34a030f65ebe041408655ea9792346b146bd1092 Signed-off-by:
	Felipe Balbi <balbi@kernel.org> Reviewed-on:
	http://openocd.zylin.com/6049 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2020-11-13  Antonio Borneo <borneo.antonio@gmail.com>

	* : armv7m_trace: get rid of the old tpiu code Remove all the old tpiu code and replace it with a wrapper that uses
	the new commands, prints-out the new commands and informs about the
	deprecation.  All the code that handles the deprecated tpiu commands is enclosed
	between the comments         /* START_DEPRECATED_TPIU */ and         /* END_DEPRECATED_TPIU */ so will be easy to remove it in
	the future.  Change-Id: I70b0486770128203b923346382d9a90b8ec08439 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6030 Tested-by: jenkins Reviewed-by: Adrian
	M Negreanu <adrian.negreanu@nxp.com>

2020-10-12  Antonio Borneo <borneo.antonio@gmail.com>

	* : arm_tpiu_swo: add support for independent TPIU and SWO This is supposed to replace big part of armv7m_trace.[ch], since
	TPIU is not only the one implemented in Cortex-M3 and M4.  Change-Id: I7588d16cbefe9cdb371c52fb0aa5cdfb48518804 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5858 Tested-by: jenkins

2020-11-12  Antonio Borneo <borneo.antonio@gmail.com>

	* : stlink: fix execution order in stlink_config_trace() The change [1] guarantees that the value pointed by 'prescaler' gets
	always set, even when the adapter does not support the specific mode
	requested (e.g. sync), or during trace disabling.  This works fine
	with the code in armv7m_trace_tpiu_config(), but requires all the
	parameters to be valid also to disable the trace (with
	'enable==false'), otherwise returns error on incorrect parameters or
	even causes segmentation fault if pointers 'trace_freq' or
	'prescaler' are NULL.  Another problem in stlink_config_trace(), not linked with [1], is
	caused by a tentative to change the settings on an already enabled
	trace; the trace is disabled before the new parameters are fully
	validated and in case of invalid parameters the trace is not
	re-enabled.  It would be more logical to first check all the
	parameters, then disable the trace, change the settings and
	re-enable the trace.  Practically revert [1] by checking 'enable==false' at function
	entry, then disable trace and exit without any further check on the
	other parameters.  For the case 'enable==true', validate all the
	function parameters then disable the trace, update the trace
	settings and re-enable the trace.  Modify the caller
	armv7m_trace_tpiu_config() to initialize the variable 'prescaler' to
	a safe value to avoid the issue targeted by [1].  [1] commit 38277fa75280 ("jtag/drivers/stlink_usb: fix SWO
	prescaler") Change-Id: Ia6530682162ca2c9f5ac64301f2456f70cc07ed2 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5934 Tested-by: jenkins Reviewed-by: Adrian
	M Negreanu <adrian.negreanu@nxp.com>

2020-11-20  Adrian Negreanu <adrian.negreanu@nxp.com>

	* : armv7m_trace_itm_config: wait for ITMBusy to be cleared pg315 of CoreSight Components: It is recommended that the ITMEn bit is cleared and waits for the
	ITMBusy bit to be cleared, before changing any fields in the Control
	Register, otherwise the behavior can be unpredictable.  Change-Id: Ie9a2b842825c98ee5edc9a35776320c668047769 Signed-off-by:
	Adrian Negreanu <adrian.negreanu@nxp.com> Reviewed-on:
	http://openocd.zylin.com/6043 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2021-01-28  Yasushi SHOJI <yashi@spacecubics.com>

	* : target: Remove redundant initialization of endianness target->endianness is initialized to TARGET_ENDIAN_UNKNOWN at 34
	lines below, before calling target_configure.  This initialization
	is redundant and not needed.  Change-Id: Iea2d5e17a13c1a8b0b209ba7c20043736b520ef6 Signed-off-by:
	Yasushi SHOJI <yashi@spacecubics.com> Reviewed-on:
	http://openocd.zylin.com/6039 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2021-01-26  Marc Schink <dev@zapb.de>

	* : flash/nand/lpc32xx: Remove typedef'd struct The C style guide forbids typedef'd structs, see 'Naming Rules'.  Change-Id: I983dd52307136d1b5adb58d8c44c0c14422d31e2 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/6032
	Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2021-01-01  Jiri Kastner <cz172638@gmail.com>

	* : tcl/target: add Rockchip RK3399 target Change-Id: I28f404b1e53fc9dbb04b3f939294ae248bbde183 Signed-off-by:
	Jiri Kastner <cz172638@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5994 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2020-05-24  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : stlink: separate stlink core from USB functions the introduced stlink_backend_s struct provides an API to separate
	USB internals from stlink core.  this separation aims to ease:  - stlink-server integration [1]  - stlink driver split into modules:    - stlink_core    - stlink_usb    - stlink_tcp [1] [1] refer to http://openocd.zylin.com/#/c/5633/ Change-Id: Iff6790942612ce1769ec4c75990914534e5e9e24 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5632 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2020-11-30  Nishanth Menon <nm@ti.com>

	* : tcl/board: Add AM642 EVM basic support Add basic connection details with AM642 EVM Change-Id: I95dcf6afadb61bfd8456b79274eae863b834167d Signed-off-by:
	Nishanth Menon <nm@ti.com> Reviewed-on:
	http://openocd.zylin.com/5952 Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com> Reviewed-by: Vignesh Raghavendra
	Tested-by: jenkins

2019-05-11  Nishanth Menon <nm@ti.com>

	* : tcl/board: Add J721E EVM basic support Add basic connection details with J721E EVM Change-Id: I0c2d25252432914d8e371e81761a59c05924bd8e Signed-off-by:
	Nishanth Menon <nm@ti.com> Reviewed-on:
	http://openocd.zylin.com/5185 Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com> Tested-by: jenkins

2018-06-08  Nishanth Menon <nm@ti.com>

	* : tcl/target: Add K3 basic support Add basic connection details for AM654 and J721E SoCs from TI.  See AM65x Technical Reference Manual (SPRUID7, April 2018) for
	further details: https://www.ti.com/lit/pdf/spruid7 See J721E Technical Reference Manual (SPRUIL1, May 2019) for further
	details: https://www.ti.com/lit/pdf/spruil1 See J7200 Technical Reference Manual (SPRUIU1, June 2020) for
	further details: https://www.ti.com/lit/pdf/spruiu1 See AM64X Technical Reference Manual (SPRUIM2, Nov 2020) for further
	details: https://www.ti.com/lit/pdf/spruim2 Change-Id: Ie5108c6ad6f1304a6bf5b9f81aa9ebd33b8a559d Signed-off-by:
	Nishanth Menon <nm@ti.com> Reviewed-on:
	http://openocd.zylin.com/5182 Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com> Tested-by: jenkins

2021-03-07  Paul Fertser <fercerpav@gmail.com>

	* : The openocd-0.11.0 release Signed-off-by: Paul Fertser <fercerpav@gmail.com>

2021-02-26  Antonio Borneo <borneo.antonio@gmail.com>

	* : target: avoid polling during 'resumed' event handler OpenOCD is based on a single main loop that schedules all the
	activities.  At the execution of a TCL command, the timestamp is
	checked to eventually trigger the polling of the targets. This means
	that by executing a TCL command the polling can be triggered and
	detect a change of target's state.  When openocd 'resumes' a target, the target can halt again by
	hitting a breakpoint.  The 'resumed' event handler is started just
	after the target has been resumed, but it triggers a polling before
	the execution of its very first instruction.  If the polling finds
	the target halted, it will run the 'halted' event handler, that will
	then be executed 'before' the pending 'resumed' handler.  In case of gdb, a 'continue' command will restart the target but,
	polling (and halt detection) executed before the end of the resume
	process will hide the halt. As a consequence, the gdb will not be
	informed of the halt and will remains waiting as if the target is
	still running without showing the prompt.  This can be verified by running on the target a firmware with a
	loop, run openocd with a dummy 'resumed' event, and let gdb to set a
	breakpoint in the loop. A 'continue' command will cause the target
	to halt again by hitting the breakpoint at the next loop iteration,
	but gdb will loose it and will not return the prompt.          openocd -f board/st_nucleo_f4.cfg -c \                 'stm32f4x.cpu configure -event resumed {echo hello}'         arm-none-eabi-gdb -ex 'target remote :3333' -ex 'b *$pc' -ex
	        c Disable the polling while executing target's resume().  Document it
	and provide hints to developers to cope with future implementation.  Change-Id: I3be830a8e7c2ef6278617cb4547a4d676b0ddeb5 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reported-by:
	–ì–∞–±–∏—Ç–æ–≤ –ê–ª–µ–∫—Å–∞–Ω–¥—Ä –§–∞—Ä–∏—Ç–æ–≤–∏—á
	<gabitov@planarchel.ru> Reviewed-on: http://openocd.zylin.com/6074
	Reviewed-by: Tomas Vanek <vanekt@fbl.cz> Tested-by: jenkins

2020-10-12  Peter Mamonov <pmamonov@gmail.com>

	* : target: use proper macro for parsing watchpoint address Currently wp/rwp commands fail on 64-bit targets:         > wp 0xffffffff80001400 4         addr option value ('0xffffffff80001400') is not valid Change-Id: I94d4af906b02b7bd463c8d79a6235a3646dfc434 Signed-off-by:
	Peter Mamonov <pmamonov@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6058 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2021-01-28  Yasushi SHOJI <yashi@spacecubics.com>

	* : doc/manual: Fix function name typo We have both the singular form, register_command(), and the plural
	form register_commands().  Change-Id: I905ea83988b8ac70dd809b02d53b646aa4d66697 Signed-off-by:
	Yasushi SHOJI <yashi@spacecubics.com> Reviewed-on:
	http://openocd.zylin.com/6042 Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com> Tested-by: jenkins

2021-01-28  Yasushi SHOJI <yashi@spacecubics.com>

	* : doc: Fix type in Hooking up the JTAG Adapter We are talking about adapter connectivity in this chapter. It should
	be "dongles" instead of "cables".  Change-Id: I7bd4307765517375caa2af86dfc929d0ef66c3e6 Signed-off-by:
	Yasushi SHOJI <yashi@spacecubics.com> Reviewed-on:
	http://openocd.zylin.com/6040 Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com> Tested-by: jenkins

2021-01-27  Antonio Borneo <borneo.antonio@gmail.com>

	* : steppenprobe: fix file permission Commit 895d4a599585 ("tcl/interface/ftdi: Add Steppenprobe open
	hardware interface") erroneously set the execution permission to the
	configuration file.  Strip the execution permission.  Change-Id: I556451d5e6fee4aee385451e8c90216a25b6ef46 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Fixes:
	http://openocd.zylin.com/5653 Reviewed-on:
	http://openocd.zylin.com/6038 Reviewed-by: Paul Fertser
	<fercerpav@gmail.com> Tested-by: Paul Fertser <fercerpav@gmail.com>

2021-01-25  Paul Fertser <fercerpav@gmail.com>

	* : The openocd-0.11.0-rc2 release candidate Signed-off-by: Paul Fertser <fercerpav@gmail.com>

2021-01-22  Bohdan Tymkiv <bohdan200@gmail.com>

	* : jlink: fix device discovery when network is off If user specifies a serial number for the jlink device, openocd
	extends the search to network jlink devices too, without checking if
	the host has a valid and functional network connection. If the
	network is not functional, libjaylink returns error. This error
	invalidates the discovery on USB, even if it was successful.  Factor-out parts of the jlink_init into separate jlink_open_device
	function, use that function to firstly discover and match USB
	devices and, if matching device was not found on the USB bus and
	serial number was specified, repeat discovery and matching via TCP.  Fixes: https://sourceforge.net/p/openocd/tickets/294/ Change-Id: Iea0de1640d4e5b21ecc7e9c1dd6d36f214d647c2 Signed-off-by:
	Bohdan Tymkiv <bohdan200@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6025 Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com> Tested-by: jenkins Reviewed-by: Marc
	Schink <dev@zapb.de>

2021-01-08  Antonio Borneo <borneo.antonio@gmail.com>

	* : configure: drop macro 'AC_HEADER_TIME' The macro AC_HEADER_TIME has been obsoleted by autoconf 2.70.  Not all systems provide 'sys/time.h', plus some old system didn't
	allowed to include both 'time.h' and 'sys/time.h' because 'time.h'
	was included by 'sys/time.h' and was not properly protected to allow
	multiple inclusion.  The macro AC_HEADER_TIME helps to detect such
	odd case.  Nowadays all the systems properly protect 'time.h', so
	its safe to unconditionally include 'time.h', even if it is also
	included by 'sys/time.h'.  The case of systems without 'sys/time.h' is already covered by
	configure.ac through the directive         AC_CHECK_HEADERS([sys/time.h]) Remove the obsoleted autoconf macro and simplify the code by
	including 'time.h' unconditionally and check HAVE_SYS_TIME_H to
	include 'sys/time.h'.  Change-Id: Iddb3f3f1d90c22668b97f8e756e1b4f733367a7d Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6010 Tested-by: jenkins Reviewed-by: Marc
	Schink <dev@zapb.de>

2020-03-05  Antonio Borneo <borneo.antonio@gmail.com>

	* : driver/ftdi: skip trst in swd mode When using the adapter olimex arm-jtag-swd (to convert to SWD a
	JTAG-only FTDI adapter), the pin trst on JTAG side is re-used to
	control the direction of pin SWDIO on SWD side.  There is a single
	reset API at adapter driver to assert/deassert either srst and/or
	trst. A request to assert/deassert srst can cause also trst to
	change value, hanging the SWD communication.  In SWD mode, ignore the value passed to trst.  Change-Id: I5fe1eed851177d405d77ae6079da9642dc1a08f1 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6006 Tested-by: jenkins

2021-01-11  Tarek BOCHKATI <tarek.bouchkati@st.com>

	* : target/riscv: fix build error with -Werror=maybe-uninitialized using gcc 9.3 on ubuntu focal fossa with -Werror=maybe-uninitialized
	we get this error:   /src/target/riscv/riscv.c: In function
	  ‚Äòriscv_address_translate‚Äô: /src/target/riscv/riscv.c:1536:13:
	error: ‚Äòpte‚Äô may be used uninitialized Change-Id: I51e180b43f9b6996e4e4058db49c179b9f81bcdc Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@st.com> Reviewed-on:
	http://openocd.zylin.com/6013 Tested-by: jenkins Reviewed-by: Tim
	Newsome <tim@sifive.com> Reviewed-by: Tarek BOCHKATI
	<tarek.bouchkati@gmail.com> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2021-01-02  Antonio Borneo <borneo.antonio@gmail.com>

	* : doc/manual/primer/autotools.txt: fix doxygen warning Commit ab90b8777855 ("configure: remove AM_MAINTAINER_MODE,
	effectively always enabling all the rules") removes the configure
	flag '--enable-maintainer-mode' and its documentation, but have left
	a reference to the removed subsection 'primermaintainermode' and
	        this triggers a warning in doxygen:
	doc/manual/primer/autotools.txt:21: warning: unable to         resolve reference to 'primermaintainermode' for \ref         command Remove the obsoleted paragraph.  Change-Id: I56e69ef033d546d159745bed1b47c6105827e7ae Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Fixes: ab90b8777855
	("configure: remove AM_MAINTAINER_MODE, effectively always enabling
	all the rules") Reviewed-on: http://openocd.zylin.com/6003
	Tested-by: jenkins

2021-01-02  Antonio Borneo <borneo.antonio@gmail.com>

	* : openocd: fix incorrect doxygen comments Use '@param' in front of function's parameters and '@a' when the
	parameter is recalled in the description.  This fixes doxygen complains:         warning: Found unknown command '@buff16' While there, fix a minor typo s/occured/occurred/ in a comment and
	the typo s/@apram/@param/ in a doxygen comment.  Change-Id: I5cd86a80adef552331310a21c55ec5d11354be21 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6001 Tested-by: jenkins

2021-01-02  Antonio Borneo <borneo.antonio@gmail.com>

	* : doc/manual/primer/jtag.txt: remove duplicated section name The section name 'primerjtag' is used twice, causing doxygen to
	complain:         warning: multiple use of section label 'primerjtag',         (first occurrence: doc/manual/primer/jtag.txt, line 107) Rename one of them.  Change-Id: Id307915dbc51a7f647fab4fb28ab431e65344d61 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5999 Tested-by: jenkins

2021-01-02  Antonio Borneo <borneo.antonio@gmail.com>

	* : flash/nor/max32xxx: fix path of include file The relative path should have three times '..'.  Issue identified by doxygen:         src/flash/nor/max32xxx.c:85: warning: include file         ../../contrib/loaders/flash/max32xxx/max32xxx.inc not         found, perhaps you forgot to add its directory to         INCLUDE_PATH? Change-Id: Ie7b4948c6770b8acb9eff26e08eea32945ebb219 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5997 Tested-by: jenkins

2021-01-03  Antonio Borneo <borneo.antonio@gmail.com>

	* : udev: fix permission for Ambiq Micro EVK's Commit 68e204f1e91a ("udev: Add rules for Ambiq Micro EVK's.") was
	initially proposed as http://openocd.zylin.com/3429/ then replaced
	by http://openocd.zylin.com/3980/ The initial proposal was for file
	'99-openocd.rules', in which MODE="664" was the norm.  After merge
	of http://openocd.zylin.com/2804/ the new udev rules in
	'60-openocd.rules' switched to MODE="660", but the evolution of the
	above patch missed this change.  Switch udev rules of Ambiq Micro EVK's to MODE="660" and uniform
	them to the rest of the file.  Change-Id: I4b4eea535184ee8569da3264bff4f1fafb5bce4d Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Fixes: 68e204f1e91a
	("udev: Add rules for Ambiq Micro EVK's.") Reviewed-on:
	http://openocd.zylin.com/6004 Tested-by: jenkins

2021-01-03  Jiri Kastner <cz172638@gmail.com>

	* : contrib: udev file for Cypress SuperSpeed Explorer kit lsusb output: Bus 003 Device 011: ID 04b4:0007 Cypress Semiconductor Corp.
	Couldn't open device, some information will be missing Device
	  Descriptor: bLength                18   bDescriptorType         1   bcdUSB               2.00   bDeviceClass            0 (Defined at Interface level)   bDeviceSubClass         0   bDeviceProtocol         0   bMaxPacketSize0         8   idVendor           0x04b4 Cypress Semiconductor Corp.    idProduct          0x0007   bcdDevice            0.00   iManufacturer           1   iProduct                2   iSerial                 0   bNumConfigurations      1   Configuration Descriptor:     bLength                 9     bDescriptorType         2     wTotalLength          114     bNumInterfaces          4     bConfigurationValue     1     iConfiguration          0     bmAttributes         0xa0       (Bus Powered)       Remote Wakeup     MaxPower              100mA     Interface Association:       bLength                 8       bDescriptorType        11       bFirstInterface         0       bInterfaceCount         2       bFunctionClass          2 Communications       bFunctionSubClass       2 Abstract (modem)       bFunctionProtocol       1 AT-commands (v.25ter)       iFunction               0     Interface Descriptor:       bLength                 9       bDescriptorType         4       bInterfaceNumber        0       bAlternateSetting       0       bNumEndpoints           1       bInterfaceClass         2 Communications       bInterfaceSubClass      2 Abstract (modem)       bInterfaceProtocol      1 AT-commands (v.25ter)       iInterface              0       CDC Header:         bcdCDC               1.10       CDC ACM:         bmCapabilities       0x02           line coding and serial state       CDC Union:         bMasterInterface        0         bSlaveInterface         1       CDC Call Management:         bmCapabilities       0x00         bDataInterface          1       Endpoint Descriptor:         bLength                 7         bDescriptorType         5         bEndpointAddress     0x83  EP 3 IN         bmAttributes            3           Transfer Type            Interrupt           Synch Type               None           Usage Type               Data         wMaxPacketSize     0x0040  1x 64 bytes         bInterval              10     Interface Descriptor:       bLength                 9       bDescriptorType         4       bInterfaceNumber        1       bAlternateSetting       0       bNumEndpoints           2       bInterfaceClass        10 CDC Data       bInterfaceSubClass      0 Unused       bInterfaceProtocol      0       iInterface              0       Endpoint Descriptor:         bLength                 7         bDescriptorType         5         bEndpointAddress     0x01  EP 1 OUT         bmAttributes            2           Transfer Type            Bulk           Synch Type               None           Usage Type               Data         wMaxPacketSize     0x0040  1x 64 bytes         bInterval               0       Endpoint Descriptor:         bLength                 7         bDescriptorType         5         bEndpointAddress     0x82  EP 2 IN         bmAttributes            2           Transfer Type            Bulk           Synch Type               None           Usage Type               Data         wMaxPacketSize     0x0040  1x 64 bytes         bInterval               0     Interface Descriptor:       bLength                 9       bDescriptorType         4       bInterfaceNumber        2       bAlternateSetting       0       bNumEndpoints           3       bInterfaceClass       255 Vendor Specific Class       bInterfaceSubClass      4       bInterfaceProtocol      0       iInterface              0       Endpoint Descriptor:         bLength                 7         bDescriptorType         5         bEndpointAddress     0x04  EP 4 OUT         bmAttributes            2           Transfer Type            Bulk           Synch Type               None           Usage Type               Data         wMaxPacketSize     0x0040  1x 64 bytes         bInterval               0       Endpoint Descriptor:         bLength                 7         bDescriptorType         5         bEndpointAddress     0x85  EP 5 IN         bmAttributes            2           Transfer Type            Bulk           Synch Type               None           Usage Type               Data         wMaxPacketSize     0x0040  1x 64 bytes         bInterval               0       Endpoint Descriptor:         bLength                 7         bDescriptorType         5         bEndpointAddress     0x86  EP 6 IN         bmAttributes            3           Transfer Type            Interrupt           Synch Type               None           Usage Type               Data         wMaxPacketSize     0x0040  1x 64 bytes         bInterval              10     Interface Descriptor:       bLength                 9       bDescriptorType         4       bInterfaceNumber        3       bAlternateSetting       0       bNumEndpoints           0       bInterfaceClass       255 Vendor Specific Class       bInterfaceSubClass      5       bInterfaceProtocol      0       iInterface              0 Change-Id: I62f0300199da3551c8774a4a5a4cd106a3ab2904 Signed-off-by:
	Ricardo Ribalda Delgado <ricardo.ribalda@gmail.com> Signed-off-by:
	Jiri Kastner <cz172638@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3611 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2020-12-23  Paul Fertser <fercerpav@gmail.com>

	* : contrib: rpc_examples: haskell: fix ftbs with current libraries And get rid of some warnings along the way.  Change-Id: I8fdbe1fa304276be6b0f25249b902b3576aa3793 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5987 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2020-12-29  Antonio Borneo <borneo.antonio@gmail.com>

	* : configure.ac: fix build with libusb0 and without libusb1 Driver 'openjtag' requires both libftdi and libusb1.  The current
	check is incorrect and the driver is built when libftdi is present
	with libusb0 and without libusb1, which causes the linker to fail
	resolving the required libusb1 symbols.  Remove the check for libusb0 on driver 'openjtag'.  Create a new
	adapters group LIBFTDI_USB1_ADAPTERS to hold the driver 'openjtag'.  Change-Id: I1f5e554b519e51c829d116ede894639cb55a26aa Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5989 Tested-by: jenkins

2020-12-19  Antonio Borneo <borneo.antonio@gmail.com>

	* : gdb_server: fix HW thread status at gdb attach At gdb attach, the event TARGET_EVENT_GDB_ATTACH is in charge of
	halting the target.  For HW thread, rtos_update_threads() should be
	called after the event to detect and record the new 'halted' status.
	Instead it is called immediately before the event, thus reading the
	status before the halt.  Move after the event the call to rtos_update_threads().  Change-Id: Iab3480ea0f5283ed6580f0f6c11200083197d1e9 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5983 Tested-by: jenkins

2020-12-19  Antonio Borneo <borneo.antonio@gmail.com>

	* : rtos/hwthread: fix register list for armv7a The targets armv7a in file cortex_a.c inherit the register list from
	file armv4_5.c thus, depending on the core status, some register get
	marked as not existing.  For HW threads other than current target,
	the registers in the list are not checked for existence and are all
	forwarded to GDB that in turns complains for too many data:           Remote 'g' packet reply is too long (expected 68 bytes,
	          got 104 bytes) Check all the attributes of the registers and pass to GDB only the
	valid registers.  To test it, use a SMP cortex-a target (2 cores are enough) and add         -rtos hwthread to all the cores. Connect GDB to OpenOCD and
	        issue the GDB command info threads Change-Id: Ie66119fe83a3c8d53e9d18dda39e60fd97769669 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5981 Tested-by: jenkins

2020-12-02  Antonio Borneo <borneo.antonio@gmail.com>

	* : cortex-a: fix reset on dapdirect transports The target code for assert reset on cortex_a has been patched on
	commit b0698501b0e7 ("cortex_a: fix cortex_a_assert_reset() if
	srst_gates_jtag") then in cdba6ba0ad63 ("cortex_a: fix reset for SWD
	transport") to workaround the mismatch between jtag and swd
	implementations. See discussion for the second patch at
	http://openocd.zylin.com/3641/ While all of these mismatches should hopefully be cleaned by the
	reset framework rework, an extension of the workaround of the second
	patch is required for dapdirect transports, either dapdirect_swd and
	dapdirect_jtag.  Extend the existing workaround to all non-jtag transports.  Change-Id: Ia6a9d43bab524cbb3de4c37ce24c45f25187353d Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5979 Tested-by: jenkins

2020-12-13  Jonathan McDowell <noodles@earth.li>

	* : LICENSES: Update GFDL invariant text to match official wording This was flagged by lintian against the Debian package; the text
	stating there are no invariant sections deviates from the official
	GNU wording.  Update it to match the text at the bottom of: https://www.gnu.org/licenses/old-licenses/fdl-1.2.en.html Change-Id: Ie222237a8eede24c1b71218b05e1513b74208a47 Signed-off-by:
	Jonathan McDowell <noodles@earth.li> Reviewed-on:
	http://openocd.zylin.com/5974 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2020-12-03  Luca Lindhorst <l.lindhorst@wut.de>

	* : Correct warning message The warning message regarding wrong verification checksum for
	LPC2000, claims that the verification will fail, but the checksum
	written correctly by openocd. Clarify this in the warning message.  Change-Id: I929ac767f7f9fdad9bace250c8c04a776462800a Signed-off-by:
	Luca Lindhorst <l.lindhorst@wut.de> Reviewed-on:
	http://openocd.zylin.com/5956 Tested-by: jenkins Reviewed-by:
	Jonathan McDowell <noodles-openocd@earth.li> Reviewed-by: Antonio
	Borneo <borneo.antonio@gmail.com>

2020-05-30  Antonio Borneo <borneo.antonio@gmail.com>

	* : The openocd-0.11.0-rc1 release candidate Change-Id: I111fec1304482f5c0f9d6ee988be8a2ea3de3981 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2020-12-05  Antonio Borneo <borneo.antonio@gmail.com>

	* : flash/nor/stmsmi: fix compile error with clang 12.0.0 The git preliminarily version of clang 12.0.0_r370171 f067bc3c0ad6
	reports an error in the expansion of the macro SMI_READ_REG():         error: '(' and '{' tokens introducing statement expression                 appear in different macro expansion contexts                 [-Werror,-Wcompound-token-split-by-macro] Remove one intermediate macro expansion to make clang happy.  Change-Id: I8ae6d9c18808467ba8044d70cbf0a4f76a18d3e6 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5958 Tested-by: jenkins Reviewed-by:
	Xiaofan <xiaofanc@gmail.com>

2020-11-20  Tarek BOCHKATI <tarek.bouchkati@st.com>

	* : flash/nor/sfdp|stmqspi: fix build issue with clang on mac OS Change-Id: I3b3aa4236125523ad65fd615ada0f5647d26f526 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@st.com> Signed-off-by: Antonio
	Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5940 Tested-by: jenkins Reviewed-by: Tarek
	BOCHKATI <tarek.bouchkati@gmail.com>

2020-11-15  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/register: use an array of uint8_t for register's value The use of 'void *' makes the pointer arithmetic incompatible with
	standard C, even if this is allowed by GCC extensions.  The use of
	'void *' can also hide incorrect pointer assignments.  Switch to 'uint8_t *' and add GCC warning flag to track any use of
	pointer arithmetic extension.  Change-Id: Ic4d15a232834cd6b374330f70e2473a359b1607f Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5937 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2020-11-22  Antonio Borneo <borneo.antonio@gmail.com>

	* : arm7_9_common: fix host endianness bug in arm7_9_full_context() The original code passes to ->read_core_regs() and to ->read_xpsr()
	the pointer to the little-endian buffer reg.value.  This is
	incorrect because the two functions above require a pointer to
	uint32_t, since they already run the conversion with
	arm_le_to_h_u32() in the jtag callback.  This causes a mismatch on
	big-endian host and the registers get read with the incorrect
	endianness.  Use an intermediate buffer to read the registers as uint32_t and to
	track the destination reg.value pointer, then copy the value in
	reg.value after the call to jtag_execute_queue().  Tested with qemu-armeb and an OpenOCD built through buildroot
	configured for cortex-a7 big-endian.  Note that if jtag_execute_queue() fails, the openocd register cache
	is not updated, so the already modified flags 'valid' and 'dirty'
	are incorrect. This part should be moved after the call to
	jtag_execute_queue() too.  Change-Id: Iba70d964ffbb74bf0860bfd9d299f218e3bc65bf Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5943 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2020-11-22  Antonio Borneo <borneo.antonio@gmail.com>

	* : armv4_5: fix segmentation fault in command 'arm reg' Commit fed713104904 ("armv4_5: support weirdo ARMv6 secure monitor
	mode") introduces the secure mode 28 of ARMv6 as a synonymous of
	mode 22 (MON), but does not add it in the switch/case in command
	'arm reg'.  When command 'arm reg' scans the array arm_mode_data[]
	on targets without secure modes, it does not detect the new secure
	mode as not supported by the architecture, thus triggers a
	segmentation fault when it try to read the register's value from
	unallocated memory.  Issue detected with target arm926ejs.  Add the new mode in the switch/case and treat it as the mode MON.  Change-Id: I2b72cc558e097879a7ee6ea601200bfda6b60270 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Fixes: fed713104904
	("armv4_5: support weirdo ARMv6 secure monitor mode") Reviewed-on:
	http://openocd.zylin.com/5941 Tested-by: jenkins Reviewed-by: Tarek
	BOCHKATI <tarek.bouchkati@gmail.com>

2020-09-17  Marc Schink <dev@zapb.de>

	* : Add initial RTT support Real Time Transfer (RTT) is an interface specified by SEGGER based
	on basic memory reads and writes to transfer data bidirectionally
	between target and host.  Every target that supports so called
	"background memory access", which means that the target memory can
	be accessed by the debugger while the target is running, can be
	used.  RTT is especially of interest for targets which do not support
	Serial Wire Output (SWO) (e.g. ARM Cortex-M0) or where using
	semihosting is not possible (e.g. real-time applications) [1].  The data transfer is organized in channels where each channel
	consists of an up- and/or down-channel. See [2] for more details.  Channels are exposed via TCP connections. One or more RTT server can
	be assigned to each channel to make them accessible to an unlimited
	number of TCP connections.  The current implementation does not respect buffer flags which are
	used to determine what happens when writing to a full buffer.  Note that the implementation is designed in a way that the RTT
	operations can be directly performed by an adapter (e.g. J-Link).  [1] https://devzone.nordicsemi.com/tutorials/6/ [2]
	https://www.segger.com/jlink-rtt.html Change-Id: I8bc8a1b381fb74e08b8752d5cf53804cc573c1e0 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/4055
	Tested-by: jenkins Reviewed-by: Tomas Vanek <vanekt@fbl.cz>
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2020-06-29  Tomas Vanek <vanekt@fbl.cz>

	* : arm_adi_v5: prevent possibly endless recursion in dap_dp_init() If dap_dp_read_atomic() in 30 trials loop fails, dap->do_reconnect
	is set.  Following dap_dp_read_atomic() calls dap_queue_dp_read()
	which in case of SWD transport calls swd_queue_dp_read(). It starts
	with swd_check_reconnect() and it calls swd_connect() because
	dap->do_reconnect is set. swd_connect() does some initialization,
	reads DPIDR and calls dap_dp_init() again! Moreover if dap_dp_init() is called from cortex_m_reset_(de)assert()
	one level of recursion is necessary to reconnect the target.  Introduce dap_dp_init_or_reconnect() for use in cortex_m reset and
	similar.  Remove loop of 30 atomic reads of DP_STAT to prevent
	unwanted recursion.  Change-Id: I54052fdefe50bf5f7c7b59fe751fe2063d5710c9 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/5729 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2020-11-08  Tomas Vanek <vanekt@fbl.cz>

	* : helper/command: disable logging of registered commands [RFC] Every debug log of OpenOCD contains approximately 130 lines like: Debug: 264 147 command.c:354 register_command_handler(): registering
	'flash'...  Because only root name of the command is logged, most of lines is
	not too informative. E.g. registering 'flash' is repeated 14 times.  Karl Passon submitted the patch [1] changing the logged cmd name
	from root to lowest level. It makes the log better. Unfortunately we
	also have 'reset_config' and 'cortex_m reset_config' and similar
	which looks equal in the log after [1].  Moreover [1] has not been
	reviewed for 5 years.  So my guess is that nobody uses that crap in debug log.  Save more than 10 kbytes in any debug log and make log analyse
	easier by blocking log command in #if 0 block.  If some developer
	eventually needs to debug cmd registering he can easily enable
	logging again.  [1] http://openocd.zylin.com/2765 Change-Id: Ib7e528aadd692fd0da2e3c005b4c5a484551b728 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/5928 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by: Christopher
	Head <chead@zaber.com>

2020-03-22  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : stm32l4x: cosmetic simplification of get_stm32l4_info Change-Id: I2542f946f64388d908b1502f869643080fce9f9e Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5536 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by: Andreas
	Bolsch <hyphen0break@gmail.com> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2020-11-03  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : flash/stm32l4x: introduce table with register offsets This change is a preparation for STM32L5 support on top of L4 driver
	STM32L5 flash is quite similar to L4 flash, mainly register names
	and offsets and some bits are changed.  flash_regs table is introduced within stm32l4_flash_bank struct in
	order to get correct register offsets, by using the driver internal
	function 'stm32l4_get_flash_reg_by_index'.  To use efficiently register indexes, stm32l4
	_[get|read|write]_flash_reg functions are surcharged to accept
	register indexes.  IMPORTANT: stm32l4_write_option is not surcharged, and they always
	accept the option register offset.  tested on NUCLEO-G474RE and STM32L4R9I-DISCO Change-Id: I739d3e97d63b831af6aa569c5629db0000209551 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5509 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2020-11-08  Tomas Vanek <vanekt@fbl.cz>

	* : doc: document CMSIS-DAP v2 Change-Id: Ie54e855901c079b456c26a6239177c7678cdcac7 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/5930 Tested-by: jenkins Reviewed-by: Tarek
	BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2020-07-30  Tomas Vanek <vanekt@fbl.cz>

	* : jtag/drivers/cmsis_dap: fix usb bulk connection logic http://openocd.zylin.com/4831 has following problems in selecting
	USB device/interface to connect: - attempts connection to any device with user class and 2 bulk
	endpoints - regardless of cmsis_dap_vid_pid or cmsis_dap_serial setting   connects to the first suitable device Distinguish between real match and no filtering cases and use that
	info appropriately.  Add debug messages to show why the interface is refused.  Move CMSIS-DAP interface string detection before checking of
	class/endpoints to give more understandable debug log in the case
	the device is refused.  Keep track of reliable matches in both device and interface
	enumeration.  First search for the interface with CMSIS-DAP in the
	interface string.  If it fails, chose the first suitable interface.  Change-Id: Ia1aacd5631a9f5c5db580bfb5745ceb6240d61ad Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/5789 Tested-by: jenkins Reviewed-by: Tarek
	BOCHKATI <tarek.bouchkati@gmail.com>

2020-10-22  Tomas Vanek <vanekt@fbl.cz>

	* : target/armv7m, cortex_m: fix misleading comments Change-Id: I4fea29f07f4d3b8b2578b538ef0eef5f1eea285f Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/5876 Tested-by: jenkins Reviewed-by:
	Christopher Head <chead@zaber.com> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2020-10-22  Tomas Vanek <vanekt@fbl.cz>

	* : target/cortex_m: remove wrong xPSR.ICI/IT bits handling If a Cortex-M (not M0, M0+) target was stopped in the middle of a
	conditional IT block or in the load/store multiple instruction,
	cortex_m_debug_entry() used wrong xPSR bits to detect it and then
	cleared 8 bits of the exception number from xPSR - probably wrong bit mask again.  I believe clearing of the ICI/IT bits in cortex_m_debug_entry() has
	no reason as Cortex-M does not use instruction injecting.  Remove the wrong code.  The change was originally a part of http://openocd.zylin.com/4862 It
	is now re-submitted as #4862 is not ready.  Change-Id: If91cd91d1b81b2684f7d5f10cf20452cde1a7f56 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/5874 Tested-by: jenkins Reviewed-by:
	Christopher Head <chead@zaber.com> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2020-10-21  Antonio Borneo <borneo.antonio@gmail.com>

	* : cortex_m: use the new enum ARMV7M_REGSEL_name Register xPSR is indexed directly with its value 16 or with the
	incorrect enum ARMV7M_xPSR.  Replace them with the new enum ARMV7M_REGSEL_xPSR.  Change-Id: I86600e7f78e39002ce45f66d4792d5067c1f541b Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5873 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2020-10-25  Antonio Borneo <borneo.antonio@gmail.com>

	* : hla: API: specify that read_reg/write_reg use regsel as
	parameter The API of hla have been defined from ST-Link basic operations.  By
	chance, all the current implementation of hla (st-link, ti-icdi and
	nulink) share the same way to handle the parameter 'num' of the API
	read_reg() and write_reg(), that is simply using it to initialize
	the field REGSEL (bits [6:0]) of armv7m Debug Core Register Selector
	Register (DCRSR).  Add a comment in the API definition to highlight this, in case it
	get used by a further hla implementation, then rename as 'regsel'
	the 'num' parameter.  Change-Id: I4b6a2c7d78b4fc4de2b9b2bdba065414b15c6ba3 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5882 Reviewed-by: Edward Fewell
	<edwardfewell@hotmail.com> Tested-by: jenkins Reviewed-by: Zale Yu
	Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2020-10-14  Tomas Vanek <vanekt@fbl.cz>

	* : target/armv7m: rework Cortex-M register handling part 3 Move primask/basepri/faultmask/control packing/unpacking from
	cortex_m.c and hla_target.c to armv7m.c armv7m_read_core_reg() and
	armv7m_write_core_reg() where also the FP 32/64-bit registers
	conversion takes place.  Introduce a new hidden register ARMV7M_PMSK_BPRI_FLTMSK_CTRL for
	packing/unpacking of special registers in the register cache.  The new packing/unpacking is endianess safe.  While on it improve returned error codes and LOG_ messages.  Just minimal changes in cortex_m.c and hla_target.c, will be
	consolidated in the next patch.  Change-Id: Id51e764e243e54b5fdaadf2a202eee7c4bc729fe Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/5863 Tested-by: jenkins Reviewed-by:
	Christopher Head <chead@zaber.com> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2019-10-20  Tomas Vanek <vanekt@fbl.cz>

	* : target/armv7m: rework Cortex-M register handling part 1 Define a new enum with DCRSR.REGSEL selectors.  Introduce
	armv7m_map_id_to_regsel() to unify mapping in one place.  Use
	DCRSR.REGSEL selectors for low level register read/write.  Change-Id: Ida0ccdfa9cdb1257a1900b8bfbf172b076374d39 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/5327 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by: Christopher
	Head <chead@zaber.com>

2020-11-09  Antonio Borneo <borneo.antonio@gmail.com>

	* : flash/stmqspi: minor fixes on coding style Add space around operators; use BIT() macro in place of left
	shifting constant 1; remove space between cast operator and value;
	do not check a pointer before free() it; add parenthesis around
	parameters in macros; fix indentation using only TABs; remove line
	continuation '\' at code lines out of macros.  Change-Id: I809e8ee72d7bfe49d0edf10afb36efe2458de77c Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Fixes: e44539d66c89
	("Flash, FRAM and EEPROM driver for STM32 QUAD-/OCTOSPI interface")
	Reviewed-on: http://openocd.zylin.com/5932 Tested-by: jenkins
	Reviewed-by: Christopher Head <chead@zaber.com>

2020-11-04  Kevin Yang <kangyang@google.com>

	* : target/cortex_m: Change sleep to running state When the core is in sleep mode, the core is no longer retiring
	instructions. Cortext M remains in "unknown" state. This patch
	converts sleep mode to "running" state.  Change-Id: I1e9b6c9be51fd0f1f6ce81af9b1f5f9f1f43c661 Signed-off-by:
	Kevin Yang <kangyang@google.com> Reviewed-on:
	http://openocd.zylin.com/5921 Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Tested-by: jenkins

2020-10-31  Antonio Borneo <borneo.antonio@gmail.com>

	* : stlink: fix computation of trace prescaler Use integer rounding for the computation of prescaler.  Improve the
	test of prescaler range, knowing its value would be decremented
	before being written in TPIU ACPR.  Change-Id: I041dde1dca41323904e36a6b6975028a6de902b3 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5909 Tested-by: jenkins

2020-10-31  Antonio Borneo <borneo.antonio@gmail.com>

	* : drivers/jlink: fix check for max prescaler The value stored in TPIU ACPR is the prescaler value decremented by
	one. Thus, the test should verify that prescaler does not exceed the
	maximum ACPR value plus one. Also, zero value is not allowed for
	prescaler.  Change-Id: I1817f04f2a310b2f413bad726f0cb9dd6a4172e2 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5907 Tested-by: jenkins Reviewed-by: Adrian
	M Negreanu <adrian.negreanu@nxp.com>

2020-11-01  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/arm7tdmi: remove unused/deprecated function parameter The function arm7tdmi_clock_out() has one unused 'deprecated'
	parameter.  Drop the unused 'deprecated' parameter and the FIXME above it.  Change-Id: Ia8de41f5b8258825faccc737bba622e44c81a7ea Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5912 Tested-by: jenkins

2020-11-05  Antonio Borneo <borneo.antonio@gmail.com>

	* : configure.ac: add libutil to the dependency list Jimtcl 0.80 (2020-10-29) adds dependency to libutil, which is part
	of the GNU libc.  The library is searched and used by jimtcl build,
	but still has to be linked in by OpenOCD as indirect dependency.  While OpenOCD is still using jimtcl 0.79, let's prepare to switch to
	the next version.  Add libutil search in configure.ac.  Change-Id: I5a8952161b0e5b93fc00d23be256b5274d31e08c Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5922 Tested-by: jenkins Reviewed-by: Tarek
	BOCHKATI <tarek.bouchkati@gmail.com>

2020-10-12  Kevin Yang <kangyang@google.com>

	* : target: Examine subsequent targets after failure When a target examination fails, continue to examine subsequent
	targets.  Return the number of targets that failed to examine.  Change-Id: I883a0c445edc7eb00f496b79271d773771ec6b66 Signed-off-by:
	Kevin Yang <kangyang@google.com> Reviewed-on:
	http://openocd.zylin.com/5855 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2020-11-02  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : GitHub/WorkFlow: fix for CVE-2020-15228 According the CVE-2020-15228 documented in:  - https://github.com/advisories/GHSA-mfwh-5m23-j46w  - https://nvd.nist.gov/vuln/detail/CVE-2020-15228 the `set-env` commands will be disabled in the near future and
	    should be replaced by: echo "FOO=BAR" >> $GITHUB_ENV idem for `add-path`, should be replaced by:     echo "/path/to/add" >> $GITHUB_PATH Change-Id: I725c9ccd861a0d1580ac22491b6d716ec65973d1 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5866 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2020-11-02  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : contrib/cross-build.sh: build capstone from source tested with capstone 4.0.2, with the following options
	CAPSTONE_CONFIG="CAPSTONE_ARCHS=arm,aarch64                  CAPSTONE_BUILD_CORE_ONLY=yes                  CAPSTONE_STATIC=yes                  CAPSTONE_SHARED=no" Change-Id: I40297772664e85c3d0f9358c85bfd901b5eba8b1 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5914 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2020-11-03  Marc Schink <dev@zapb.de>

	* : doc: Improve 'jlink usb' description Change-Id: Ica44980ac0ba8a4f0ff03b42ce37d1de861d4fb5 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/5918
	Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2020-06-08  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : armv7m: add a TCP channel to stream captured trace When trace capturing the trace is enabled using 'tpiu_config
	internal' (via the internal mode), OpenOCD can collect the trace
	buffers then append it to a specified file or named pipe and
	propagate the trace to 'tcl_trace' command.  This change is allowing
	OpenOCD to stream the captured trace over TCP.  When using this configuration OpenOCD acts like a server and
	multiple clients can connect and receive the captured trace.  Example on STM32F7 running at 216MHz:   itm port 0 on   tpiu config internal :3344 uart off 216000000 Change-Id: Idea43e7e26e87b98a33da7fb9acf7ea50fe3b345 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5345 Tested-by: jenkins Reviewed-by: Karl
	Palsson <karlp@tweak.net.au> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2020-10-29  Antonio Borneo <borneo.antonio@gmail.com>

	* : openocd: convert function setup_command_handler() to static The function setup_command_handler() was used in the eCos build of
	OpenOCD, thus it was exported and a comment was added to remark it
	should remain not-static. Unfortunately the comment was missing the
	relevant information of the special build that requires so.  Also
	unusual is that there is no include file that declares the prototype
	of the function.  The comment above the function was added in two steps, in commit
	ea3e49f4e22d ("fix embedded builds") and commit fb96b8607a0c
	("openocd: setup_command_handler() must not be static"), again
	without info about the special build.  Also the mailing list archive
	does not report any further detail.  The only hint is in the first
	commit above that also adds a test on BUILD_ECOSBOARD in a #if.  Commit 39650e2273bc ("ecosboard: delete bit-rotted eCos code")
	removes all the eCos code, that effectively includes the both the
	prototype and the call to the function setup_command_handler(),         http://openocd.zylin.com/#/c/503/2/src/ecosboard.c@a1092 but
	did not reverted the function to static.  With all the 'external' uses of this function being dropped, set the
	function setup_command_handler() to static and remove the obsoleted
	and misleading comment.  Change-Id: I4d6b83dec2a838119821189fc67949bfca070035 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5902 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2020-10-28  Antonio Borneo <borneo.antonio@gmail.com>

	* : cortex_m: declare local functions as static Functions that are not used outside the file should be declared as
	static.  Change-Id: Ie81f6bdce91e2a1456364b47f30aa4d35c7ee7bc Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5900 Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Reviewed-by: Tarek BOCHKATI
	<tarek.bouchkati@gmail.com> Tested-by: jenkins

2020-10-28  Antonio Borneo <borneo.antonio@gmail.com>

	* : transport: remove unused function transports_are_declared() The only use of this function has been removed with commit
	159f11fefc19 ("jtag: set default "jtag_only" to uninitialized
	transports").  Get rid of the unused function.  Change-Id: I79dd1d55bd54ed8edc39ed3443e6c3c01794f063 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5898 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2020-10-29  Antonio Borneo <borneo.antonio@gmail.com>

	* : jtag: declare local symbols as static Functions and variables that are not used outside the file should be
	declared as static.  Change-Id: I58c9f5557d4809db9ccc34d32182c3797f825da1 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5896 Tested-by: jenkins

2020-10-28  Antonio Borneo <borneo.antonio@gmail.com>

	* : rtos: declare local symbols as static Functions and variables that are not used outside the file should be
	declared as static.  Change-Id: I9731a35496cd1c7421563c8961da5fa0e3cc71c3 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5894 Tested-by: jenkins Reviewed-by:
	Jonathan McDowell <noodles-openocd@earth.li>

2020-10-28  Antonio Borneo <borneo.antonio@gmail.com>

	* : openocd: add support for libftdi 1.5 The new libftdi 1.5 (2020-07-07) changes some API, deprecating the
	old ones. This cause a warning at compile time.  Detect in configure the version of libftdi.  Use the new API in the
	driver's code.  Add an helper include file 'libftdi_helper.h' that
	wraps the old API for backward compatibility with old libftdi.  Change-Id: I7800fbebe17dd0ce62e55b3598d8c08be8875bb7 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Fixes:
	https://sourceforge.net/p/openocd/tickets/286/ Reviewed-on:
	http://openocd.zylin.com/5891 Tested-by: jenkins

2020-10-23  Antonio Borneo <borneo.antonio@gmail.com>

	* : target: handle command 'target current' when no target is
	present Is it possible to run OpenOCD without any target, for example to
	only dump the rom-tables of an arm dap, or to perform low level jtag
	operations.  But without any target created, the command 'target
	current' causes OpenOCD to abruptly exit.  Handle in command 'target current' the case of no targets.  Change-Id: Ide15cb13bec84b88ccc3e7126523c04a6d70e636 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5881 Tested-by: jenkins

2020-10-17  Antonio Borneo <borneo.antonio@gmail.com>

	* : tcl: replace '-ctibase' with '-baseaddr' Replace the deprecated option '-ctibase' with the generic option
	'-baseaddr'.  Change generated with command:         sed -i 's/-ctibase/-baseaddr/g' $(find tcl/ -type f) Change-Id: If776934d2ac106532708768bb3a4ec6fcffb0368 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5870 Tested-by: jenkins

2020-10-12  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/arm_adi_v5: add helper to get mem_ap spot in
	configure/cget This is somehow an extension of existing adiv5_jim_configure(), but
	includes the 'address' in the mem_ap.  Rewrite adiv5_jim_configure()
	using the new helper.  Change-Id: Ia7effeeece044004d459b45126ed4961a98b8568 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5857 Tested-by: jenkins

2020-10-29  Tomas Vanek <vanekt@fbl.cz>

	* : jtag/tcl: fix memory leak in error return Clang static analyzer reported: Warning:        line 196, column 3
	Potential leak of memory pointed to by 'fields' Free allocated memory pointed by 'fields' and fields[i].in_value Change-Id: I0b3935d9a235544afc03e39a4648319047e65815 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/5906 Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com> Tested-by: jenkins Reviewed-by: Jonathan
	McDowell <noodles-openocd@earth.li>

2020-10-29  Tomas Vanek <vanekt@fbl.cz>

	* : helper/command: fix clang static analyzer warning Warning:        line 955, column 3 Argument to free() is the address
	of a global variable, which is not memory allocated by malloc() It is definitely a false alarm. Simplify concatenation of arguments
	and allocate a string always to silence the warning.  Change-Id: I5ac4cc610fc35224df0b16ef4f7102700363249f Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/5904 Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com> Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2020-10-26  Antonio Borneo <borneo.antonio@gmail.com>

	* : tcl/board: fix changed target config filenames In commit a1ce28b118e7 ("rename some target scripts to be consistent
	with the rest") the following renames was applied, but the old names
	        are still referenced: tcl/target/{sam7se512.cfg =>
	        at91sam7se512.cfg} tcl/target/{sam7x256.cfg => at91sam7x256.cfg} Fix the board files to use to correct target config filename.  Change-Id: I7698aa0da7db95c2bd9ba7ab8c260905a975c857 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5888 Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Tested-by: jenkins

2020-04-24  Antonio Borneo <borneo.antonio@gmail.com>

	* : tcl/interface/ti-icdi: remove empty lines at end of file Change-Id: I031dc52c20b8f213b12df13c9c974d9ac3ef2164 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5603 Tested-by: jenkins

2020-10-26  Karl Palsson <karlp@tweak.net.au>

	* : board: drop open-bldc This is a) broken and b) doesn't include anything other than the (broken) target alias.  Don't see any reason for it to exist.  Change-Id: I833635eeac392bf7c0c39f51ff2f76525ba2d406 Signed-off-by:
	Karl Palsson <karlp@tweak.net.au> Reviewed-on:
	http://openocd.zylin.com/5884 Reviewed-by: Tarek BOCHKATI
	<tarek.bouchkati@gmail.com> Tested-by: jenkins Reviewed-by: Antonio
	Borneo <borneo.antonio@gmail.com>

2019-06-14  Christopher Head <chead@zaber.com>

	* : target: restore last run state after profiling Now that it‚Äôs possible to start profiling from either a running or
	a halted state, rather than unconditionally halting after profiling
	finishes, it makes more sense to restore the processor to whatever
	state (running or halted) it was in before profiling started.  Change-Id: If6f6e70a1a365c1ce3b348a306c435c220b8bf12 Signed-off-by:
	Christopher Head <chead@zaber.com> Reviewed-on:
	http://openocd.zylin.com/5237 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2019-06-14  Christopher Head <chead@zaber.com>

	* : target: allow profiling from running There are a handful of implementations of profiling. There is the
	default implementation, which repeatedly halts and resumes the
	target, sampling PC each time. There is the Cortex-M implementation,
	which uses PCSR if available, otherwise falling back to halting and
	resuming and sampling PC. There is the OR1K implementation, which
	reads NPC repeatedly. Finally, there is the NDS32 implementation
	which uses some kind of AICE commands with which I am unfamiliar.  None of these (with the possible exception of the NDS32
	implementation) actually require the target to be halted when
	starting profiling. The Cortex-M and OR1K actually resume the target
	as pretty much their first action. The default implementation
	doesn‚Äôt do this, but is written in such a way that the target just
	flips back and forth between halted and running, and the code will
	do the right thing from either initial state. The NDS32
	implementation I don‚Äôt know about.  As such, for everything except NDS32, it is not really necessary
	that the target be halted to start profiling. For the non-PCSR
	Cortex-M and default implementations, there is no real harm in such
	a requirement, because profiling is intrusive anyway, but there is
	no benefit. For the PCSR-based Cortex-M and the OR1K, requiring that
	the target is halted is annoying because it makes profiling more
	intrusive.  Remove the must-be-halted check from the target_profiling function.
	Add it to the NDS32 implementation because I am not sure if that
	will break when invoked with a running target. Do not add it to any
	of the other implementations because they don‚Äôt need it.  Change-Id: I479dce999a80eccccfd3be4fa192c904f0a45709 Signed-off-by:
	Christopher Head <chead@zaber.com> Reviewed-on:
	http://openocd.zylin.com/5235 Tested-by: jenkins Reviewed-by: Tarek
	BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2020-04-13  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor/nrf5: improve handling of nRF52 flash errors nRF52 devices indicate a flash error by emitting hard fault
	exception (unlike nRF51 series).  Change error message when NVMC READY read fails. A hard fault from
	flash erase/write operation is detected here.  Check exit point of the flash write algo to ensure a failed write is
	recognised.  Change-Id: I637eda268a6bf45f7f41bcb9dcd82db8f5cb41b4 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/5587 Tested-by: jenkins

2020-04-12  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor/nrf5: fix protection setting on nRF51 Protection setting has not ever worked. UICR CLENR0 register cannot
	be simply written but has to programmed because it resides in UICR
	page of the flash.  Enable flash programming before writing CLENR0 and set back to r/o
	afterwards.  Inform the user that reset might be required.  Change-Id: Ib0f96c74ba3583ac33f4394ddb57d8c8895adf53 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/5586 Tested-by: jenkins

2020-10-18  Brian Brooks <brooks.brian@gmail.com>

	* : server/telnet: Handle Ctrl+K Handle Ctrl+K shortcut which clears the line from the cursor
	position to the end of line.  Change-Id: I2ecff5284473cef7c11cf9cb7e1c0c97d55f6c1c Signed-off-by:
	Brian Brooks <brooks.brian@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5868 Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com> Tested-by: jenkins Reviewed-by: Marc
	Schink <dev@zapb.de>

2015-02-02  John Pham <jhnphm@gmail.com>

	* : Added comment to ti-icdi.cfg Added comment to ti-icdi.cfg specifying how to get serial and an
	example of specifying hla_serial for ti-icdi devices. This has been
	implemented in revision 2121a8f92969804611412b705af8114697a647dc Change-Id: I648458a4dea176beae6a3f1a4e5641d0206077eb Signed-off-by:
	John Pham <jhnphm@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2528 Tested-by: jenkins Reviewed-by:
	Matthew Trescott <matthewtrescott@gmail.com> Reviewed-by: Antonio
	Borneo <borneo.antonio@gmail.com>

2020-10-15  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : flash/stm32l4: add support of STM32G4 category 4 devices
	(G491/G4A1) STM32G4 cat.4 devices are up to 512 KB of flash memory (single bank)
	organized into pages of 2KB each.  Reference: RM0440 rev.4 Change-Id: I0f510e2806c8f824fff8083e2d4f90d68f01046b Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5793 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2020-10-12  Sylvain Chouleur <schouleur@graimatterlabs.ai>

	* : cortex_m: support control.FPCA Bit 2 of control register is used if the processor includes the FP
	extension Change-Id: Ie21bc9de8cae5bad9d841e1908eff3aa0bb29d4b Signed-off-by:
	Sylvain Chouleur <schouleur@graimatterlabs.ai> Reviewed-on:
	http://openocd.zylin.com/5853 Reviewed-by: Sylvain Chouleur
	<sylvain.chouleur@gmail.com> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com> Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2020-08-19  Tim Newsome <tim@sifive.com>

	* : Upstream tons of RISC-V changes.  These are all the changes from
	https://github.com/riscv/riscv-openocd (approximately 91dc0c0c) made
	just to src/target/riscv/*. Some of the new code is disabled because
	it requires some other target-independent changes which I didn't
	want to include here.  Built like this, OpenOCD passes: * All single-RV32 tests against spike.  * All single-RV64 tests against spike.  * Enough HiFive1 tests. (I suspect the failures are due to the test
	suite rotting.) * Many dual-RV32 (-rtos hwthread) against spike.  * Many dual-RV64 (-rtos hwthread) against spike.  I suspect this is an overall improvement compared to what's in
	mainline right now, and it gets me a lot closer to getting all the
	riscv-openocd work upstreamed.  Change-Id: Ide2f80c9397400780ff6780d78a206bc6a6e2f98 Signed-off-by:
	Tim Newsome <tim@sifive.com> Reviewed-on:
	http://openocd.zylin.com/5821 Tested-by: jenkins Reviewed-by: Jan
	Matyas <matyas@codasip.com> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com> Reviewed-by: Karl Palsson
	<karlp@tweak.net.au>

2020-09-16  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/aarch64: fix use of 'target->private_config' The function adiv5_jim_configure() casts the void pointer
	'target->private_config' to a struct adiv5_private_config pointer.
	This is tricky in case of aarch64, where the private data are in a
	struct aarch64_private_config that has as first element the struct
	adiv5_private_config.  While the current solution is working fine, it's not clean and
	requires special attention for any further code development.  Override 'target->private_config' to the correct pointer while
	calling adiv5_jim_configure().  Change-Id: Ic2fc047dd1e57013943d96e6d5879a919d1eb7b3 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5847 Tested-by: jenkins Reviewed-by: Tarek
	BOCHKATI <tarek.bouchkati@gmail.com>

2020-10-01  Antonio Borneo <borneo.antonio@gmail.com>

	* : drivers/jlink: fix (again) calculate_swo_prescaler formula The prescaler computation should round at the nearest integer value,
	not to the next integer value.  Change-Id: I957e0774421211f3c4ba4b312738b1c67b87c4a2 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Fixes: 051e80812b1b
	("drivers/jlink: fix calculate_swo_prescaler formula") Reviewed-on:
	http://openocd.zylin.com/5846 Tested-by: jenkins Reviewed-by: Adrian
	M Negreanu <adrian.negreanu@nxp.com>

2020-09-24  Karl Palsson <karlp@etactica.com>

	* : FreeRTOS: strip duplicate line returns Log lines already print a new line, so these superfluous \r\n result
	in blank lines being printed in the log.  Remove per review comment
	request.  Change-Id: I8f5b20776634cf70ce4490fc4f732c916130928a Signed-off-by:
	Karl Palsson <karlp@etactica.com> Reviewed-on:
	http://openocd.zylin.com/5843 Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com> Tested-by: jenkins

2020-04-03  Kevin Burke <kevinb@os.amperecomputing.com>

	* : ARM|Driver: Add DPI Driver for emulation This driver provides support for Cadence JTAG BFM The "jtag_dpi" driver implements a JTAG driver acting as a client
	for the SystemVerilog Direct Programming Interface (DPI) for JTAG
	devices.  DPI allows OpenOCD to connect to the JTAG interface of a
	hardware model written in SystemVerilog, for example, on an
	emulation model of target hardware.  Tested on Ampere emulation with Altra and Altra Max models Change-Id: Iaef8ba5cc1398ee2c888f39a606e8cb592484625 Signed-off-by:
	Kevin Burke <kevinb@os.amperecomputing.com> Signed-off-by: Daniel
	Goehring <dgoehrin@os.amperecomputing.com> Reviewed-on:
	http://openocd.zylin.com/5573 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2019-03-30  Mete Balci <metebalci@gmail.com>

	* : target/aarch64: a64 disassembler Add A64 (AArch64) Disassembler using Capstone framework.  Change-Id: Ia92b57001843b11a818af940a468b131e42a03fd Signed-off-by:
	Mete Balci <metebalci@gmail.com> [Antonio Borneo: Rebased on current
	HEAD] Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>
	Reviewed-on: http://openocd.zylin.com/5004 Tested-by: jenkins

2020-07-09  Jan Kowalewski <jkowalewski@antmicro.com>

	* : tcl/board: Add QuickLogic QuickFeather configuration Add configuration for QuickLogic QuickFeather development kit.  Change-Id: I39120714bf0bcafa86e0071c38da84a7d9f12a0d Signed-off-by:
	Jan Kowalewski <jkowalewski@antmicro.com> Reviewed-on:
	http://openocd.zylin.com/5803 Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com> Tested-by: jenkins

2020-09-07  Adrian Negreanu <adrian.negreanu@nxp.com>

	* : drivers/jlink: fix calculate_swo_prescaler formula a) TPIU_ACPR is defined as:         SWO_baudrate = TRACECLKIN/(TPIU_ACPR +1) b) TPIU_ACPR is set by armv7m_trace_tpiu_config()         target_write_u32(target, TPIU_ACPR, Prescaler-1), so         TPIU_ACPR = Prescaler-1 Replacing TPIU_ACPR in a), we get:         SWO_baudrate = TRACECLKIN/Prescaler, so c)      Prescaler = TRACECLKIN/SWO_baudrate The Prescaler calculated by calculate_swo_prescaler() is greater by
	        1: Prescaler = TRACECLKIN/SWO_baudrate + 1 The second problem is that even in situations when an exact baudrate
	match is possible, the resulting TRACECLKIN/Prescaler already has a
	3% deviation.  For example, TRACECLKIN=88000000, SWO_baudrate=500000,
	calculate_swo_prescaler will return Prescaler=171.  The correct
	value should be Prescaler=176 (TPIU_ACPR=175).  Might be related to https://sourceforge.net/p/openocd/tickets/263/ Change-Id: Ib4d6df6e34685a9be4c2995cb500b2411c76e39b Signed-off-by:
	Adrian Negreanu <adrian.negreanu@nxp.com> Reviewed-on:
	http://openocd.zylin.com/5807 Tested-by: jenkins Reviewed-by: Marc
	Schink <dev@zapb.de> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2020-08-12  Marc Schink <dev@zapb.de>

	* : Use capstone for ARM disassembler Change-Id: I1c9bf3f8178d4a06babe23a918e4411833ebc418 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/4812
	Tested-by: jenkins Reviewed-by: Fredrik Hederstierna
	<fredrik@hederstierna.com> Reviewed-by: Tarek BOCHKATI
	<tarek.bouchkati@gmail.com> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2020-08-11  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : cortex_m: read and display core security state Change-Id: I0fce3c66af7e98df2dc2258daf0d6af661e29ae7 Signed-off-by:
	Laurent LEMELE <laurent.lemele@st.com> Signed-off-by: Tarek BOCHKATI
	<tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5798 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2020-06-02  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : GitHub: add workflow to provide an openocd snapshot binaries for
	win32 This change could be used within OpenOCD GitHub forks.  Once workflow actions are enabled in the GitHub project, this
	workflow will be run automatically on each push into OpenOCD.  This workflow will provide a neutral build of openocd for win32,
	then the package will be available for download in Actions section.
	Note: the artifact will be deleted after 90 day (actual GitHub
	rules) If the push is a tag, the generated package will be uploaded to
	release pane under the corresponding release, and it will resides
	forever.  The built openocd enables libusb1, hidapi and libftdi adapters, and
	could be extended to cover more adapters and Oses PS: ./contrib/cross-build.sh updated to build libftdi from source
	like libusb1 and hidapi.  Change-Id: I290c8aa14a12548e2dcb6a0eee456430ea44ab9f Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5594 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2020-04-24  Antonio Borneo <borneo.antonio@gmail.com>

	* : drivers/buspirate: remove empty lines at end of file Change split from http://openocd.zylin.com/5172/ to avoid conflicts
	with other pending changes in gerrit.  Change-Id: Id3e21c92b3da7ddce7b00664280da2143c06f172 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5604 Tested-by: jenkins

2017-04-05  Stafford Horne <shorne@gmail.com>

	* : openrisc: Fix segv jsp due to free of unallocated data The prompt pointer in the jtag serial port is never zero'd or
	allocated.  Completely remove it since there is not much use for it
	as the target software will provide the actual prompt.  Change-Id: Id95d8ccb9f725e53b9d03386b11d91eba1cd6ef4 Signed-off-by:
	Stafford Horne <shorne@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4093 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2020-08-23  Antonio Borneo <borneo.antonio@gmail.com>

	* : jtag/aice: fix command's usage string The usage string should contain only the command parameters.
	OpenOCD will automatically prepend the command name to the usage
	string while dumping the usage or help message.  Remove the repeated command name from the usage string.  Change-Id: Idbc301b34fab19e221131d232577c1629568e6ea Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5823 Tested-by: jenkins

2020-08-18  Antonio Borneo <borneo.antonio@gmail.com>

	* : openocd: use proper format with uint32_t Modify the format strings to properly handle uint32_t data types.  Change-Id: I4de49bf02c9e37b72240224c23fc83abe8a4fa83 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5819 Tested-by: jenkins

2020-08-18  Antonio Borneo <borneo.antonio@gmail.com>

	* : flash: use proper format with uint32_t Modify the format strings to properly handle uint32_t data types.  Change the type of variable retval in 'nor/ambiqmicro.c' to match
	both the value to carry and the returned type of the function.  Fix the prototype mismatch of function lpc2900_address2sector()
	between the header and the C file.  Change-Id: I68ffba9bd83eec8132f83bff3af993861fd09d84 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5816 Tested-by: jenkins

2020-08-18  Antonio Borneo <borneo.antonio@gmail.com>

	* : jtag/aice: avoid abusing of int32_t type In several cases the 'int' status value returned by libusb and by
	aice internal functions is taken in a variable of type 'int32_t',
	requiring an implicit (but trivial) cast.  This makes compulsory
	using 'PRId32' in the format strings that print such 'int32_t'
	result and requires an additional implicit conversion to return the
	'int32_t' as 'int'.  Replace to type 'int' all the occurrences of 'int32_t result' and
	fix accordingly the format strings.  Plus, all the size of aice commands are stored as int32_t const
	variables with uppercase name, violating the coding style, and are
	then passed as 'int' parameter to the read/write functions.  Replace the variables with C macros carrying an 'int' value.  While there, replace also a 'uint32_t' loop index with 'unsigned'
	and fix the format string in the loop.  Change-Id: Ic57d58770f1af95f003b5a02fbcb7c926ec06fd1 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5814 Tested-by: jenkins

2020-08-17  Antonio Borneo <borneo.antonio@gmail.com>

	* : flash: avoid checking for non NULL pointer to free it The function free() can be called with a NULL pointer as argument,
	no need to check the argument before. If the pointer is NULL, no
	operation is performed by free().  Remove the occurrences of pattern:         if (ptr)                 free(ptr); There are cases where the pointer is set to NULL after free(), but
	then re-assigned within few lines. Drop the setting to NULL when
	this is evident. Anyway, the compiler will remove the useless
	assignment so no reason to be too much aggressive in this change.  Change-Id: I55b2ce7cbe201410016398933e34d33a4b66e30b Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5811 Tested-by: jenkins

2020-07-12  Antonio Borneo <borneo.antonio@gmail.com>

	* : helper: fix minor typos Change-Id: I785e388148c0329e51cb0b39ab30e8ee44f5a7cd Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5801 Tested-by: jenkins

2019-01-26  Antonio Borneo <borneo.antonio@gmail.com>

	* : tcl/target: use command 'jtag newtap' to add a boundary scan TAP A JTAG TAP for boundary scan should be added in the scan chain
	through the command "jtag newtap".  In some TCL target script the
	boundary scan TAP is added through the command "swj_newdap", command
	that is inappropriate in this context because specific for arm
	adi-v5 SWJ-DP.  This situation was probably created to bypass the
	error with HLA framework, caused by missing command "jtag newtap".  Add the command "jtag newtap" in HLA, by reusing the existing code
	for command "hla newtap".  Fix the TCL target scripts to use the
	command "jtag newtap" for the boundary scan TAPs.  The TCL script target/psoc6.cfg has no evident reference to HLA, so
	the reason for using "swj_newdap" is less clear. Nevertheless it
	uses the wrong command and, once HLA is fixed, there is no reason to
	avoid fixing it too.  Change-Id: Ia92f8221430cf6f3d2c34294e22e5e18963bb88c Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4873 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2020-08-11  Samuel Obuch <sobuch@codasip.com>

	* : Fix debug prints when loading to flash While loading to flash with debug level at least 3, OpenOCD tries to
	print the whole loaded bitstream.  This will be very-very-slow due
	to implementation of conversion from buffer to string.  * fix condition on selected debug level in jtag/core.c * replace slow buf_to_str function from helper/binarybuffer.c   with faster but_to_hex_str function Change-Id: I3dc01d5846941ca80736f2ed12e3a54114d2b6dd Signed-off-by:
	Samuel Obuch <sobuch@codasip.com> Reviewed-on:
	http://openocd.zylin.com/5800 Tested-by: jenkins Reviewed-by: Jan
	Matyas <matyas@codasip.com> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2020-06-02  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : Refer to cross-build script in README Change-Id: Ic983d2505e40891ba0d0eea3468a71a7741f5c3a Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5711 Tested-by: jenkins Reviewed-by: Tarek
	BOCHKATI <tarek.bouchkati@gmail.com>

2020-08-10  Christopher Head <chead@zaber.com>

	* : server/gdb_server: fix incorrect condition check The warning message should be printed if the target is NOT halted,
	not if it IS halted.  Change-Id: I0a38292a8a2e20e4a4a5ada92b475d551d4cbf38 Signed-off-by:
	Christopher Head <chead@zaber.com> Reviewed-on:
	http://openocd.zylin.com/5794 Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2020-07-17  Christopher Head <chead@zaber.com>

	* : src/flash/nor/virtual: handle null pointers Either of protect and protect_check driver callbacks can be NULL. In
	virtual_protect, reuse flash_driver_protect which checks for that
	case and generates a nice error message and return code. In
	virtual_protect_check, there is no corresponding flash_driver_*
	function, so add the NULL check directly.  Change-Id: Ia63d85ede640a8382cf5cad0760f5d1ffe4d7cfe Signed-off-by:
	Christopher Head <chead@zaber.com> Reviewed-on:
	http://openocd.zylin.com/5782 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2020-07-17  Christopher Head <chead@zaber.com>

	* : src/flash/nor/stm32h7x: fix format strings * use proper type codes * add 0x in front of hex values * remove some concatenated empty strings Change-Id: I06a8344d0ed62de7a0f3e2dd8fba69b17eeb3626 Signed-off-by:
	Christopher Head <chead@zaber.com> Reviewed-on:
	http://openocd.zylin.com/5783 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-06-04  Antonio Borneo <borneo.antonio@gmail.com>

	* : gdb_server: refuse gdb connection if target is not examined If the target is not examined, many internal data required for the
	gdb connections are not ready nor allocated. This causes OpenOCD to
	hit a segmentation fault.  After the execution of the gdb-attach event handler, check if target
	has been examined and eventually return error to refuse the gdb
	connection.  Plus, since OpenOCD does not implements non-stop mode yet, gdb
	expects the target to be halted by the inferior when the connection
	is established.  Print a warning to inform the user in case the
	target is not halted, but still accept the gdb connection to permit
	the non-intrusive memory inspection with gdb, as explained in
	http://openocd.org/doc/html/GDB-and-OpenOCD.html#gdbmeminspect Change-Id: If727d68f683c3a94e4826e8c62977de41274ceff Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5201 Tested-by: jenkins

2020-04-30  R. Diez <rdiezmail-openocd@yahoo.de>

	* : Fix 2 warnings about obsolete Autoconf macros.  Those changes were automatically suggested by tool "autoupdate".  Change-Id: Id70bdeacc3c80816f3f5c65d1abceabb5cdf3873 Signed-off-by:
	R. Diez <rdiezmail-openocd@yahoo.de> Reviewed-on:
	http://openocd.zylin.com/5638 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2020-07-22  Antonio Borneo <borneo.antonio@gmail.com>

	* : tcl/target/armada370: remove useless 'init' command As the comment states, the 'init' command is issued before the
	command 'dap apsel', otherwise it fails.  This dependency has been
	already fixed in commit e48690cb26e4 ("target/arm_adi_v5: allow
	commands apsel and apcsw during init phase"), so the command 'dap
	apsel' can now be issued directly.  Remove both the unneeded 'init' command and the comment that
	documents and justify its presence.  Change-Id: I50f0a820fa7ead6f5a3bd9cc5180d521070822c9 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5786 Tested-by: jenkins

2020-05-19  Antonio Borneo <borneo.antonio@gmail.com>

	* : target: use one second timeout while halting target at gdb
	attach By default GDB timeouts after 2 seconds, even if this value can be
	modified with GDB command "set remotetimeout".  On OpenOCD side, the
	default event for GDB attach is to halt the target and wait it to
	halt. But here the default timeout of the halt command is 5 seconds!
	If the target cannot be halted (e.g. it's kept in reset by another
	core or the debugger doesn't have enough privileges) then GDB will
	timeout while OpenOCD is still waiting and is unable to communicate
	with GDB.  Decrease the halt timeout to 1 second in the default GDB attach
	event handler.  Change-Id: I231c740816bb6a0d74b0bc679a368a6cbfb34824 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5687 Tested-by: jenkins

2020-07-26  Michael Betz <michibetz@gmail.com>

	* : nor/spi.c: add N25Q032A flash chip this flash is used on the Digilent CMODA7 FPGA board Change-Id: I6749ca3fbebf2e384051a26a3fd253da5d6e25fb Signed-off-by:
	Michael Betz <michibetz@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5787 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2020-04-30  R. Diez <rdiezmail-openocd@yahoo.de>

	* : Make autotools warnings visible.  Change-Id: Ibcdac7100faca7a66d9b3440431e74a8a8c5f042 Signed-off-by:
	R. Diez <rdiezmail-openocd@yahoo.de> Reviewed-on:
	http://openocd.zylin.com/5639 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2020-07-12  Antonio Borneo <borneo.antonio@gmail.com>

	* : target: fix minor typos and duplicated words Change-Id: I8deb0017dc66a243e3dd51e285aa086db500decd Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5766 Tested-by: jenkins

2020-04-04  Antonio Borneo <borneo.antonio@gmail.com>

	* : drivers/linuxgpiod: add led Bitbang interface allows having a LED on one of the GPIO.  Let also linuxgpiod driver to specify and use the LED connection.  Change-Id: Id3d8772ee1808b92354fd073ba3947bacd8253ef Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5770 Tested-by: jenkins

2020-07-13  Antonio Borneo <borneo.antonio@gmail.com>

	* : flash: fix minor typo s/fifo's/fifos/ Change-Id: I21feee50377b13cd0d48749c19abb12d499fe199 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5769 Tested-by: jenkins

2020-07-12  Antonio Borneo <borneo.antonio@gmail.com>

	* : jtag: fix minor typos Change-Id: I3a3370db438f8fd045fb22e7c9fff4e83794a3b7 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5767 Tested-by: jenkins

2020-07-12  Antonio Borneo <borneo.antonio@gmail.com>

	* : transport: fix minor typos Change-Id: I481d69f9953e04c881124b2da4d092213591e4ae Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5764 Tested-by: jenkins

2020-07-12  Antonio Borneo <borneo.antonio@gmail.com>

	* : rtos: fix minor typos Change-Id: I9ed4e2150a0a057397538b608d4a72bc48d0d64f Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5759 Tested-by: jenkins

2020-05-25  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/arm720t: fix memory leak of register cache There is no method to free the register cache, allocated in
	arm720t_init_target().  Issue identified by tracking all calls to
	arm7tdmi_init_target().  Implement the method arm720t_deinit_target() by calling directly
	arm7tdmi_deinit_target().  NOT TESTED on a real arm720t target.  Tested on a arm926ejs
	(SPEAr320) by hacking the target type and pretending it is a xscale:         sed -i s/arm926ejs/arm720t/ tcl/target/spear3xx.cfg Change-Id: I53c1f46c1a355a710e8df01468b19220671569dc Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5697 Tested-by: jenkins

2020-05-25  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/xscale: fix memory leak of register cache There is no method to free the register cache, allocated in
	xscale_build_reg_cache(), so we get a memory leak.  Issue identified
	by tracking all calls to arm_build_reg_cache().  Implement the method xscale_deinit_target() that in turn calls the
	new xscale_free_reg_cache().  Fix leak of struct xscale.  NOT TESTED on a real xscale target.  Tested on a arm926ejs
	(SPEAr320) by hacking the target type and pretending it is a xscale:         sed -i s/arm926ejs/xscale/ tcl/target/spear3xx.cfg Change-Id: Ibb2104c42411b76f4bb77c2fa387d1b85a3d2d5d Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5695 Tested-by: jenkins

2015-10-05  Daniel Krebs <github@daniel-krebs.net>

	* : rtos: add support for RIOT Add threads support for RIOT (https://github.com/RIOT-OS/RIOT).
	Original code is from Daniel Krebs.  Change-Id: I83fe3b91dd75949e800b5aea1015d8fa37b09c61 Signed-off-by:
	Daniel Krebs <github@daniel-krebs.net> Signed-off-by: Vincent Dupont
	<vincent@otakeys.com> Signed-off-by: Benjamin Valentin
	<benpicco@googlemail.com> Reviewed-on: http://openocd.zylin.com/4256
	Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2020-07-11  Marc Schink <dev@zapb.de>

	* : libjaylink: Update to 0.2.0 release Change-Id: Ib53a98d0c715f91bdced1df6f157d2a50326fa8c Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/5757
	Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2020-07-15  Jiri Kastner <cz172638@gmail.com>

	* : src/target/arm_adi_v5.c: add Cortex-A35 related entries ROM Table registers:

	https://developer.arm.com/documentation/100236/0100/debug/rom-table/rom-table-peripheral-identification-registersDebug reisters:

	https://developer.arm.com/documentation/100236/0100/debug/memory-mapped-debug-registers/external-debug-peripheral-identification-registersPMU registers:

	https://developer.arm.com/documentation/100236/0100/debug/pmu-registers/performance-monitors-peripheral-identification-registersCTI registers:

	https://developer.arm.com/documentation/100236/0100/debug/cti-registers/cti-peripheral-identification-registersChange-Id: Ibd57d91fb9b66bc46929f4e93d0bf23c2a32f11a Signed-off-by:
	Jiri Kastner <cz172638@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5773 Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com> Tested-by: jenkins

2020-07-17  Christopher Head <chead@zaber.com>

	* : src/flash/nor/stm32f2x: fix format strings * use proper type codes * add 0x in front of hex values * remove some concatenated empty strings Change-Id: I77e8dd161887f02ecf8019b43d3e8e7cc122ad0e Signed-off-by:
	Christopher Head <chead@zaber.com> Reviewed-on:
	http://openocd.zylin.com/5780 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2020-07-20  Evgeniy Didin <didin@synopsys.com>

	* : Introduce tcl config files for Synopsys HSDK board With this commit we add tcl configure files for ARCv2 HS Development
	kit(HSDK). HSDK board has Quad-core ARC HS38 CPU with L1 and L2
	caches.  Change-Id: I372ef45428c7c7ca1421a6da3e5ed08b86f705e0 Signed-off-by:
	Evgeniy Didin <didin@synopsys.com> Reviewed-on:
	http://openocd.zylin.com/5784 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2020-02-03  Hellosun Wu <wujiheng.tw@gmail.com>

	* : spi: add MX25U1635E flash * Macronix 16 MBit SPI flash *

	https://www.macronix.com/en-us/products/NOR-Flash/Serial-NOR-Flash/Pages/spec.aspx?p=MX25R1635F&m=Serial%20NOR%20Flash&n=PM2161* used e.g. on Andestech ADP-XC7KFF676 Change-Id: Ida701cf3832e3302aa29b4dded1c390c5ff8c482 Signed-off-by:
	Hellosun Wu <wujiheng.tw@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5428 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2020-06-29  Antonio Borneo <borneo.antonio@gmail.com>

	* : cmsis-dap: prevent hidapi to search again for the adapter The code in cmsis_dap_usb_open() already searches for the right HID
	device that corresponds to the adapter. By calling hid_open() it
	asks hidapi to re-search the adapter again based on the VID:PID and
	the serial string of the adapter it has just found! Apart from being a run-time overhead, this has an additional
	drawback; there are USB adapters built as composite USB devices
	that, beside the cmsis-dap HID interface, have other HID interfaces
	for other purposes.  A typical example is the NXP LPC-Link2, that
	        over the 5 interfaces 0) cmsis-dap (HID)         1) VCOM-CDC         2) VCOM-CDC         3) LPCSIO (HID)         4) LPC-LINK2 DATA PORT (HID) has 3 of them of HID class.
	The code in cmsis_dap_usb_open() could select the right interface
	but then cannot propagate this information to hid_open().  Replace the call to hid_open() with hid_open_path(), passing as
	parameter the "unique" path of the HID device already found.  Checking in hidapi source code, the implementation of hid_open()
	consists in enumerating the HID devices, scan for the first one
	matching VID:PID and serial number, and opening it by calling
	hid_open_path(). This analysis highlights that using directly
	hid_open_path() should not introduce any regression.  While applying these changes, move hid_init() before enumerating the
	HID devices. This has no real consequences because the HID API is
	marked as optional but, logically, it should be called before any
	other HID API.  Change-Id: I77ec01dca64223ec597f21f188f363366d0049c6 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Suggested-by: Masatoshi
	Tateishi <tateishim3@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5731 Tested-by: jenkins

2020-07-04  Antonio Borneo <borneo.antonio@gmail.com>

	* : doc: remove duplicated words Remove occurrences of duplicated words in the documentation.  Change-Id: Ib6ef1607fc5e6387764be108b2b9c0c93ac10a62 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5754 Tested-by: jenkins Reviewed-by: Tarek
	BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2020-03-30  Antonio Borneo <borneo.antonio@gmail.com>

	* : contrib/60-openocd.rules: add udev rules for Linux gpiod Change-Id: I767776d3659adddefe81a63f351794318463fd50 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5560 Tested-by: jenkins

2020-04-01  Antonio Borneo <borneo.antonio@gmail.com>

	* : bcm2835gpio: enable only the transport specific gpio Change-Id: Ice6744600079d5994d628bb3b782aa36e71f862e Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5558 Tested-by: jenkins

2020-04-01  Antonio Borneo <borneo.antonio@gmail.com>

	* : sysfsgpio: enable only the transport specific gpio If the configuration file specifies both SWD and JTAG gpios, the
	current code request all of them. In case of overlap a warning is
	generated when the same gpio is released for the second time.  Require and release only the gpio needed by the specified transport.  Change-Id: I41a0970980ceeb559afa98ab34cfe93dffed2e1c Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5556 Tested-by: jenkins

2020-04-01  Antonio Borneo <borneo.antonio@gmail.com>

	* : bitbang: remove superfluous switch between jtag and swd The SWD framework already takes care of switching between JTAG and
	SWD by calling driver's switch_seq() in swd_connect() and in
	swd_quit(); there is no need for the driver to force the switch
	again.  Remove the extra switch between jtag and swd.  Change-Id: I84de4bffb593374b96fce31951c6cc83f92d2578 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5554 Tested-by: jenkins

2020-07-02  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor/kinetis: fix FCF handling Kinetis Flash Configuration Field needs special handling to prevent
	unwanted locking of the device. Warn user about any difference
	between generated FCF and FCF data in the programmed file. Inform
	user that re-programming of already programmed FCF may fail on
	devices with FTFE flash module.  While on it remove useless setting of is_erased flag after erase.  Change-Id: I3911f436674547fa12ef3886c7d5e8cd889f9e2b Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Fixes:
	https://sourceforge.net/p/openocd/tickets/270/ Reported-by: Noel
	Diviney <vk3avm@users.sourceforge.net> Reviewed-on:
	http://openocd.zylin.com/5753 Tested-by: jenkins

2019-09-27  Antonio Borneo <borneo.antonio@gmail.com>

	* : gdb_server: suggest user to prefer GDB extended mode In case of GDB connection not using extended mode, issue a warning
	message to suggest the user to switch using the extended mode.
	Issue the message only once at each run of OpenOCD, to avoid too
	much noise.  Update the documentation to suggest using extended
	mode.  Change-Id: I9326e84f748d5d7912d5a48f00f0fb541ca19221 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5311 Tested-by: jenkins Reviewed-by: Karl
	Palsson <karlp@tweak.net.au>

2019-05-06  Antonio Borneo <borneo.antonio@gmail.com>

	* : coding style: fix space separation The checkpatch script from Linux kernel v5.1 complains about using
	space before comma, before semicolon and between function name and
	open parenthesis.  Fix them! Issue identified using the command         find src/ -type f -exec ./tools/scripts/checkpatch.pl \         -q --types SPACING -f {} \; The patch only changes amount and position of whitespace, thus the
	        following commands show empty diff git diff -w         git log -w -p         git log -w --stat Change-Id: I1062051d7f97d59922847f5061c6d6811742d30e Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5627 Tested-by: jenkins

2020-06-14  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/arm926ejs: fix memory leaks The memory leaks detected and fixed are: - arm register cache; - EmbeddedICE register cache; - arm_jtag_reset_callback internal data; - struct arm926ejs_common.  Issue identified with valgrind.  Tested on SPEAr320 based on
	arm926ejs.  Change-Id: If2bed02c516051ce4d0eb29b204a3f3337fe5d6a Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5698 Tested-by: jenkins

2020-07-01  Marc Schink <dev@zapb.de>

	* : flash/nor/w600: Use 'bool' data type Change-Id: Ia71ffba82b23ed1860acc5daf6c66fa574a0d797 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/5751
	Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2020-07-01  Marc Schink <dev@zapb.de>

	* : flash/nor/stm32h7x: Use 'bool' data type Change-Id: Ib9c567e2287f2a99172bd3bd35a81e3205cea421 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/5749
	Tested-by: jenkins Reviewed-by: Christopher Head <chead@zaber.com>
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2020-07-01  Marc Schink <dev@zapb.de>

	* : flash/nor/pic32mx: Use 'bool' data type Change-Id: I9a0b60bc07781401f26df31303b8c04822b7ddc2 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/5747
	Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2020-07-01  Marc Schink <dev@zapb.de>

	* : flash/nor/mdr: Use 'bool' data type Change-Id: I1eced61e5cb062445078e05507f6ad1a5a594c8d Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/5745
	Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2020-07-01  Marc Schink <dev@zapb.de>

	* : flash/nor/lpcspifi: Use 'bool' data type Change-Id: I0485a7885fe154f983c7a7ce84cbedb0ba32ca31 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/5743
	Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2020-07-01  Marc Schink <dev@zapb.de>

	* : flash/nor/fm3: Use 'bool' data type Change-Id: Ic90ab762488063f6958f5e775c1b2fe5f3f1718f Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/5741
	Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2020-07-01  Marc Schink <dev@zapb.de>

	* : flash/nor/em357: Use 'bool' data type Change-Id: I251b62275d204fdc315cd167685799c15d4e7cf4 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/5739
	Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2020-07-01  Marc Schink <dev@zapb.de>

	* : flash/nor/atsamv: Use 'bool' data type Change-Id: Id4ceaf38dc5eba5b0eb62416fc357fdfc7ea21c0 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/5737
	Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2020-07-01  Marc Schink <dev@zapb.de>

	* : flash/nor/at91sam4: Use 'bool' data type Change-Id: Iade91ac58a995676c412606a63e62b70337427f1 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/5735
	Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2020-07-01  Marc Schink <dev@zapb.de>

	* : flash/nor/ambiqmicro: Use 'bool' data type Change-Id: Ia8492905dc506d518266343d699c3245efbc1ab1 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/5733
	Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2020-06-07  Marc Schink <dev@zapb.de>

	* : flash/nor: Use proper data types in driver API Use 'unsigned int' and 'bool' instead of 'int' where appropriate.
	While at it, fix some coding style issues.  No new Clang analyzer warnings.  Change-Id: I700802c9ee81c3c7ae73108f0f8f06b15a4345f8 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/4929
	Tested-by: jenkins Reviewed-by: Tomas Vanek <vanekt@fbl.cz>
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2020-06-02  Antonio Borneo <borneo.antonio@gmail.com>

	* : target: do not print an error on shutdown in target events Before commit b3ce5a0ae545 ("target: use LOG_USER to print errors in
	events") an error in an event handler was silently lost, while now
	the associated message is printed out.  A "shutdown" command in a target event (e.g. in gdb-detach) causes
	the event to end with error code ERROR_COMMAND_CLOSE_CONNECTION,
	that triggers the error message:         shutdown command invoked         Error executing event <event-name> on target <target-name>: The error code returned by the command "shutdown" is required to
	stop the execution in a script/proc and avoid executing any further
	command in the script/proc.  It is then normal to get an error code
	from the "shutdown" command and it should not be printed out.  Intercept the return code of the event in case of "shutdown", then
	skip scheduling other target events and return without printing the
	incorrect error message.  Change-Id: Ia3085fb46beacb90a5e4bf0abf7c6e28bb9e6a9b Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reported-by: Laurent
	Lemele <laurent.lemele@st.com> Reviewed-on:
	http://openocd.zylin.com/5710 Reviewed-by: Tarek BOCHKATI
	<tarek.bouchkati@gmail.com> Tested-by: jenkins

2020-05-15  Evgeniy Didin <didin@synopsys.com>

	* : target/arc: Introduce L1I,L1D,L2 caches support With this commit we introduce L1 and L2 cache flush and invalidate
	operations which are necessary for getting/setting actual data
	during memory r/w operations.  We introduce L2 cache support, which is not presented on currently
	support EMSK board. But L2 is presented on HSDK board, which soon
	will be introduced.  Change-Id: I2fda505a47ecb8833cc9f5ffe24f6a4e22ab6eb0 Signed-off-by:
	Evgeniy Didin <didin@synopsys.com> Reviewed-on:
	http://openocd.zylin.com/5688 Reviewed-by: Oleksij Rempel
	<linux@rempel-privat.de> Tested-by: jenkins Reviewed-by: Antonio
	Borneo <borneo.antonio@gmail.com>

2020-06-14  Marc Schink <dev@zapb.de>

	* : libjaylink: Update to latest Git version This update is for testing the upcoming 0.2.0 release.  Change-Id: I400b09eb3ead4306c83c7980c621124101aaef7e Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/5723
	Tested-by: jenkins Reviewed-by: Paul Fertser <fercerpav@gmail.com>

2020-06-03  Edward Fewell <efewell@ti.com>

	* : target/icepick.cfg: Add support for Test TAPs in ICEPick C In addition to the debug TAPs, the ICEPick C also supports a bank of
	Test TAPs (limited functionality intended for non-debuggable
	targets). Added support for Test TAPs to the icepick_c_tapenable
	routine. Port numbers of 0 to 15 will continue to be handled as a
	debug TAP number. Test TAPs will be port numbers of 16 to 31.  This functionality will be needed for doing a flash mass erase on
	CC26xx/CC13xx targets. It is possible for user application to block
	even adding the Cortex M TAP to the scan chain, so the only way to
	unbrick the target and erase the flash is using a component on a
	test TAP of the device's ICEPick router.  Change-Id: I0aa52a08d43a00cbd396efdeadd504fc31c98510 Signed-off-by:
	Edward Fewell <efewell@ti.com> Reviewed-on:
	http://openocd.zylin.com/5715 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2020-04-27  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : stlink: code factorization by introducing stlink_usb_exit_mode Change-Id: I4abd6432c4ef969e382bfed96cd19a49d9610000 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Signed-off-by: Tarek
	BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5612 Tested-by: jenkins

2020-05-13  Alistair Francis <alistair.francis@wdc.com>

	* : board: Add the HiFive1 revB board configuration Change-Id: If186afcfd2c87414b9323569a16aed9a6054c883 Signed-off-by:
	Alistair Francis <alistair.francis@wdc.com> Reviewed-on:
	http://openocd.zylin.com/5680 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by: Tim Newsome
	<tim@sifive.com>

2019-05-06  Antonio Borneo <borneo.antonio@gmail.com>

	* : coding style: fix multi-line dereferencing Issue identified by checkpatch script from Linux kernel v5.1 using
	the command         find src/ -type f -exec ./tools/scripts/checkpatch.pl \         -q --types MULTILINE_DEREFERENCE -f {} \; Change-Id: Icba05613e22a72ecc3e6a0aad7cb6b479496146f Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5629 Tested-by: jenkins Reviewed-by: Marc
	Schink <dev@zapb.de>

2020-05-22  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/cortex_a: fix memory leak of register cache There is no method to free the register cache, allocated in armv4_5,
	so we get a memory leak.  Issue identified by valgrind.  Implement the method arm_free_reg_cache() and call it in cortex_a
	deinit and to exit for error during arm_dpm_setup().  Tested on dual
	cortex-A stm32mp15x.  This change is inspired from similar fix in
	commit b01b5fe13a67 ("armv7m: Fix memory leak in register
	caching.").  The same allocation is also used by target types "arm7tdmi",
	"arm9tdmi", "arm11" and "xscale" but they all lack the deinit method
	and I do not have relevant HW to test the fix. For such reasons they
	are not addressed in this patch.  Change-Id: I4da1e1f12e36ec245d1f3b11a4eafcbd9a1d2e25 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5693 Tested-by: jenkins

2020-05-25  Antonio Borneo <borneo.antonio@gmail.com>

	* : libusb_helper: fix memory leak when no adapter is found When jtag_libusb_open() fails to find the adapter, it returns error
	but left libusb initialized causing memory leak of libusb internal
	data.  Issue found with valgrind when no adapter or board is
	connected to the host, e.g.          valgrind openocd -f board/st_nucleo_f4.cfg Close the libusb operations if jtag_libusb_open() has to return
	error.  Change-Id: Ieb2f110be15705dafe80c099e7d83c07056c2a41 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5701 Tested-by: jenkins

2020-05-29  Antonio Borneo <borneo.antonio@gmail.com>

	* : log: fix kept_alive() and report expired timeout The kept_alive() function is called to inform the keep-alive code
	that a keep-alive as been just kicked through some other path.  But
	kept_alive() erroneously resets the timeout counter without checking
	if it has already expired, thus masking a potential timeout.  Check if timeout counter has expired during kept_alive().  While
	there, put the timeout values in macros and explicit the units in
	the timeout messages.  Change-Id: Iaf6368b44e5b5352b1cc4e7efbb2368575dcfa08 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5705 Reviewed-by: <jonatan_zeidler@gmx.de>
	Tested-by: jenkins

2020-05-31  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : arm_adi_v5: dap_ti_be_32_quirks_command minor simplification use handle_command_parse_bool within dap_ti_be_32_quirks_command to
	make it shorter and simpler.  Change-Id: Ice179cc477933b27e27235dc2ade23fe655e233d Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5708 Tested-by: jenkins Reviewed-by: Marc
	Schink <dev@zapb.de> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2020-04-06  tscn92 <tscn@kamstrup.com>

	* : jtag/drivers/bcm2835gpio: bcm2835gpio_init has been updated For jtag/drivers/bcm2835gpio dev_mem_fd has been updated within
	bcm2835gpio_init with the add on of gpio to mem. This permits the
	access to memory of GPIO without the need for root access.  For
	failed attempt, a fallback to original memory follows.  It should be
	noted that any printed error is relative to original memory
	("dev/mem").  Tested on EFM32GG12B390F board Change-Id: I4540bdf62fb3b91a51221e277881adfae138dcc5 Signed-off-by:
	tscn92 <tscn@kamstrup.com> Reviewed-on:
	http://openocd.zylin.com/5568 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2020-02-26  Marc Schink <dev@zapb.de>

	* : tcl/boards: Rename 'ek-tm4c123gxl.cfg' to 'ti_ek-tm4c123gxl.cfg' The new filename has a proper vendor prefix. Keep the old
	configuration file for now but show a "deprecated" warning at
	runtime.  Change-Id: I13871ec13709055843e23b1b6da90694fd60505e Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/5477
	Tested-by: jenkins Reviewed-by: Karl Palsson <karlp@tweak.net.au>
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2020-06-02  Diego Elio PettenÚ <flameeyes@flameeyes.com>

	* : Update Autotools Mythbuster link to avoid multiple redirects.  While I'm hoping to maintain the chain of redirects for the
	foreseeable future, it makes sense to point at the final URL now
	that Autotools Mythuster has had its domain for a long while.  Change-Id: I6d912e3be0f81b25bec14746ebfee58f29f144b6 Signed-off-by:
	Diego Elio Petten√≤ <flameeyes@flameeyes.com> Reviewed-on:
	http://openocd.zylin.com/5709 Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com> Tested-by: jenkins Reviewed-by: Tarek
	BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2020-05-12  Antonio Borneo <borneo.antonio@gmail.com>

	* : openocd: properly use jim data types The jim library exports all the data types through typedef, so there
	is no need to use the internal struct types.  Fix the few remaining inconsistencies in the code.  Change-Id: Id4ae0083563ea7a371833374e7b39f17158f66a4 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5662 Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Tested-by: jenkins

2019-10-20  Antonio Borneo <borneo.antonio@gmail.com>

	* : helper/command: strip replicated command name in log After commit 0840414f0e57 ("helper/command: do not replace new
	commands with ocd_ prefix"), the command name is present in argv[0],
	so there is no need to pass it directly. The current code causes the
	command name to be logged twice, once explicitly and then from the
	        content of argv[0]: openocd -c 'debug_level 3; echo hello; shutdown'         <snip>         Debug: 13 3 command.c:142 script_debug(): command - echo
	        echo hello <snip>         Debug: 16 4 command.c:142 script_debug(): command - shutdown
	        shutdown Remove the command name from the arguments of the function
	script_debug().  Change-Id: I57860774f450ff717ee71ef9dc07590549a84319 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5660 Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Tested-by: jenkins

2020-05-15  Antonio Borneo <borneo.antonio@gmail.com>

	* : stlink: fix incorrectly returned error on v2j28 Firmware v2j28 introduces the API to open and close the AP, but
	closing AP always returns error 0x1d (STLINK_BAD_AP_ERROR).  Ignore the error returned by the bogus firmware on closing AP.  Change-Id: I992ddbf7acb10f1d376ed8f781eeb3344605b85d Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5683 Tested-by: jenkins

2020-03-29  Ake Rehnman <ake.rehnman@gmail.com>

	* : stm8 target: make adapter speed settings work Previously the adapter speed settings were hard-coded to connect
	with low speed then switch over to high speed regardless what was
	mentioned in the cfg files. Now the stm8 target intercept adapter
	speed settings and configure the stm8 control registers accordingly.  Change-Id: I7419514e5214e4b43b9d51253cf5b7f04a233533 Signed-off-by:
	Ake Rehnman <ake.rehnman@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5548 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2020-03-19  Antonio Borneo <borneo.antonio@gmail.com>

	* : Revert "adapter: expose HLA interface in struct adapter_driver" No reason to keep longer this temporary hack.  Remove it by
	reverting the original commit.  Change-Id: I5c6dcdb1f4755b7dba4c03a5033913ef8db35e18 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5533 Tested-by: jenkins

2020-02-04  Antonio Borneo <borneo.antonio@gmail.com>

	* : stlink: simplify mem R/W with SWIM Thanks to API separation between SWIM and the other transports, we
	can easily split the memory read/write for SWIM from the rest of the
	code.  While there, use the macro STLINK_DATA_SIZE as size of data
	chunks that can be read/write in SWIM. This was not implemented
	before.  Change-Id: I7d913c92539007e4d914480bacc0126a8f0e9705 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5531 Tested-by: jenkins

2020-02-04  Antonio Borneo <borneo.antonio@gmail.com>

	* : swim: fix adapter speed handling SWIM transport only supports two adapter speeds: - "low speed"  equal to 363 kHz (8 MHz / 22) - "high speed" equal to 800 kHz (8 MHz / 10) Replace the previous convention that use "0" or "1" for "low" or
	"high" speed with the effective speed in kHz.  Rework the
	implementation of stlink_speed_swim().  Set low speed in the stm8
	config files, because only low speed is permitted at debug
	connection; the previous code ignores the initial value.  Change-Id: I2484c9419a2c554c59eb6b9216339393ab0b54f3 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5529 Tested-by: jenkins

2020-01-26  Antonio Borneo <borneo.antonio@gmail.com>

	* : adapter: expose HLA interface in struct adapter_driver The transition of STM8/SWIM out of HLA will require a new struct
	swim_ops in struct adapter_driver.  To simplify the development,
	make the HLA interface temporarily accessible through the struct
	adapter_driver.  This commit will be reverted after the swim rework.  Change-Id: I1e4f370cf64641164d7bcaa22f75ac58c9240052 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5527 Tested-by: jenkins

2020-05-04  Marc Schink <dev@zapb.de>

	* : flash/nor/sh_qspi: Fix dead assignment Change-Id: I6a99076fea30062535e615244895698e51107441 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/5645
	Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2020-05-14  Edward Fewell <efewell@ti.com>

	* : nor/flash: Add keep_alive() during flash write handler Added keep_alive() call inside main flash write loop. Large files
	where causing a gdb timeout warning.  Change-Id: I525dad2d644e248dd9ecf678e4d8e33c22eefdf2 Signed-off-by:
	Edward Fewell <efewell@ti.com> Reviewed-on:
	http://openocd.zylin.com/5682 Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com> Tested-by: jenkins Reviewed-by: Tarek
	BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2019-03-06  Marc Schink <openocd-dev@marcschink.de>

	* : rtos/ChibiOS: Fix some coding styles Change-Id: I2648479df1a2dd95f8a57868c4ed4259e0fbbe11 Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/4989 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2018-01-30  Paul Fertser <fercerpav@gmail.com>

	* : flash: nor: jtagspi: make read_status report errors This is a follow-up to 3c9bd7c6f30a34e3930e44dd2e8ce5f5a877b4eb.  Change-Id: If430f7fcfbba084d9cd74b32344ad43508a96a77 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4383 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2020-04-09  iosabi <iosabi@protonmail.com>

	* : cortex_m: make bit fields in cortex_m unsigned.  Expression like (0xffff << 16) evaluate to type int, which is not
	able to hold that value, producing a warning when compiling with
	-fsanitize=undefined. This patch makes most of the cortex_m
	constants unsigned using the BIT() macro or appending "ul" when
	possible to fix the undefined behavior warning.  Signed-off-by: iosabi <iosabi@protonmail.com> Change-Id:
	I7af194305ef612d7a32e74eaf9f11dd85fa87f32 Reviewed-on:
	http://openocd.zylin.com/5583 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by: Christopher
	Head <chead@zaber.com> Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2019-05-06  Antonio Borneo <borneo.antonio@gmail.com>

	* : coding style: open function's brace at beginning of new line Issue identified by checkpatch script from Linux kernel v5.1 using
	the command         find src/ -type f -exec ./tools/scripts/checkpatch.pl \         -q --types OPEN_BRACE -f {} \; Change-Id: I6d1356ed11e2699525f384efb7556bc2efdc299f Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5628 Tested-by: jenkins Reviewed-by: Marc
	Schink <dev@zapb.de>

2019-05-06  Antonio Borneo <borneo.antonio@gmail.com>

	* : coding style: join consecutive string fragments The re is no need to split a long string, apart for fitting the
	predefined line width.  Join the consecutive string fragments.  Issue identified by checkpatch script from Linux kernel v5.1 using
	the command         find src/ -type f -exec ./tools/scripts/checkpatch.pl \         -q --types STRING_FRAGMENTS -f {} \; Change-Id: I8de52d572b0e3d4788c1d4d2b0cf8f94c7f08409 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5625 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-05-06  Antonio Borneo <borneo.antonio@gmail.com>

	* : coding style: remove useless return statement from void
	functions For void functions, a return as last statement is useless.  Remove
	it.  Issue identified by checkpatch script from Linux kernel v5.1 using
	the command         find src/ -type f -exec ./tools/scripts/checkpatch.pl \         -q --types RETURN_VOID -f {} \; Change-Id: Ie0616fe98623f30d2d7b04ac9517d669774092de Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5622 Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Tested-by: jenkins

2019-05-06  Antonio Borneo <borneo.antonio@gmail.com>

	* : coding style: add missing space when split strings Long strings are split across few lines; usually split occurs at the
	white space between two words.  Check that the space between the two
	words is still present.  While there, adjust the amount of space
	between words.  Issue identified by checkpatch script from Linux kernel v5.1 using
	the command         find src/ -type f -exec ./tools/scripts/checkpatch.pl \         -q --types MISSING_SPACE -f {} \; Change-Id: I28b9a65564195ba967051add53d1c848c7b8fb30 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5620 Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Tested-by: jenkins

2019-05-06  Antonio Borneo <borneo.antonio@gmail.com>

	* : coding style: add parenthesis around the argument of sizeof The script checkpatch available in new Linux kernel offers an
	experimental feature for automatically fix the code in place.  While
	still experimental, the feature works quite well for simple fixes,
	like parenthesis.  This patch has been created automatically with the script under
	review for inclusion in OpenOCD, using the command:         find src/ -type f -exec ./tools/scripts/checkpatch.pl \         -q --types SIZEOF_PARENTHESIS --fix-inplace -f {} \; Change-Id: I8adb325bdb0e13211f8bae8b4770ec1979c176bf Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5618 Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Tested-by: jenkins

2020-04-26  Antonio Borneo <borneo.antonio@gmail.com>

	* : tcl: remove trailing whitespace The script checkpatch available in new Linux kernel offers an
	experimental feature for automatically fix the code in place.  While
	still experimental, the feature works quite well for simple fixes,
	like spacing.  This patch has been created automatically with the script under
	review for inclusion in OpenOCD, using the command:         find tcl/ -type f -exec ./tools/scripts/checkpatch.pl \         -q --types TRAILING_WHITESPACE --fix-inplace -f {} \; The patch only changes amount and position of whitespace, thus the
	        following commands show empty diff git diff -w         git log -w -p         git log -w --stat Change-Id: Ie7e3a236f4db9c70019e3b3c7e851edbd3a9dd84 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5616 Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Tested-by: jenkins

2020-04-26  Antonio Borneo <borneo.antonio@gmail.com>

	* : doc: fix typo and spelling Identified by checkpatch script from Linux kernel v5.7-rc1 using the
	        command find doc/ -type f -exec ./tools/scripts/checkpatch.pl \         -q --types TYPO_SPELLING --strict -f {} \; Change-Id: I1269ac966027439e16eb6e63179e43925bec37fa Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5614 Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Tested-by: jenkins

2020-04-27  Antonio Borneo <borneo.antonio@gmail.com>

	* : helper/ioutil: silence gcc-8 on strncpy Starting from version 8, gcc issues a warning if strncpy could be
	able to truncate a string (so without adding the zero-termination
	char in destination) by copying exactly "size" char from a source
	string not shorter than "size".  Such truncation from strncpy could
	actually be the desired code behaviour, but the way to silent gcc
	only locally (without global disabling with
	-Wno-stringop-truncation) through pragma has other side effects on
	portability.  In current code, the source string is always "eth0", because has
	been checked right above. So this is a false positive from gcc,
	being always strlen("eth0") < 16, the sizeof(ifreq.ifr_name).  Silent gcc by decrementing the "size" and remove:         error: ‚Äòstrncpy‚Äô specified bound 16 equals destination                 size [-Werror=stringop-truncation] This file is only optionally compiled together with ZY1000 driver
	with --enable-zy1000 --enable-ioutil. This combination is not
	checked in jenkins, so the error passed unnoticed.  Plus, the
	configure flags above are both deprecated! Change-Id: I229e66227cfd3513139feeaffa47a6e1ec00767b Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5631 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2020-05-05  Antonio Borneo <borneo.antonio@gmail.com>

	* : tcl: stm32mp15x: fix "reset halt" on CM4 in engineering boot The state machine of cortex-m have to pass through a set of state
	before it get in "halted".  Add one more "arp_poll" to achieve the proper state during a "reset
	halt" command in engineering boot.  Change-Id: I90828bf20ef75bd4018f8b911f727ae69c4d6e8f Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5649 Tested-by: jenkins Reviewed-by:
	Richard Braun <rbraun@sceen.net>

2016-04-13  Marc Schink <openocd-dev@marcschink.de>

	* : server/telnet: Fix history output Restore the prompt after the "history" command is invoked.  Change-Id: I3d0744abbc58e82b039e06f21675efa180e8e1b0 Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/3414 Tested-by: jenkins Reviewed-by: Marc
	Schink <dev@zapb.de> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2020-02-20  Marc Schink <dev@zapb.de>

	* : flash/nor/avrf: Minor code cleanups Change-Id: I64aa8e41f336584b524445e0ee7f986a0032852a Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/5461
	Tested-by: jenkins Reviewed-by: Lars Poeschel
	<poeschell+openocd@mailbox.org> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2020-03-16  Evgeniy Didin <didin@synopsys.com>

	* : target/arc: introduce breakpoint functionality With this patch we introduce set/unset breakpoints routines and
	add/remove bp handlers.  Currently soft breakpoints are only
	supported.  Changes since v1: * Change if-statement in arc_remove_breakpoint * Squash changes from http://openocd.zylin.com/#/c/5641/   in this commit to fix build.  Change-Id: Ib10ccdb02fd1606e4f407f012b1bee106a8ffccd Signed-off-by:
	Evgeniy Didin <didin@synopsys.com> Reviewed-on:
	http://openocd.zylin.com/5641 Tested-by: jenkins Reviewed-by:
	Oleksij Rempel <linux@rempel-privat.de>

2020-03-18  Evgeniy Didin <didin@synopsys.com>

	* : target/arc: Add initial stepping functions Change-Id: I84845f2ec6f1cff975990f0a495165a02de33227 Signed-off-by:
	Evgeniy Didin <didin@synopsys.com> Reviewed-on:
	http://openocd.zylin.com/5643 Tested-by: jenkins Reviewed-by:
	Oleksij Rempel <linux@rempel-privat.de>

2020-04-13  Tomas Vanek <vanekt@fbl.cz>

	* : loaders/flash/nrf5: add CPU type to loader source Change-Id: Ia65ac21bd99d76c8dace4e9ede060e870cad14de Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/5588 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2020-03-15  Andreas Bolsch <hyphen0break@gmail.com>

	* : revision id for STM32L4P5/Q5 corrected According to RM0432 rev. 6, only 0x1001 "Z" rev. applies for
	STM32L4P5/Q5.  Verified on real device. Whether other revisions
	exist is unclear.  Change-Id: I761ae077d089b06925fc0fe1ff2b1e478b8a66fa Signed-off-by:
	Andreas Bolsch <hyphen0break@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5521 Tested-by: jenkins Reviewed-by: Tarek
	BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2020-04-22  Antonio Borneo <borneo.antonio@gmail.com>

	* : jtag: remove unused function adapter_driver_modules_load() Commit c2cecc74b0ac ("Move JTAG interface list to new files.")
	merged in mid 2009 introduces an unused and empty function that the
	developer expects to use for loading adapter drivers from shared
	libraries. This have never happened and the function is still empty
	and unused.  Remove it.  Change-Id: I7c88dbf8a9747e96e5ca4e6e7038ac0f232604fd Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5601 Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Tested-by: jenkins

2019-05-12  Antonio Borneo <borneo.antonio@gmail.com>

	* : coding style: contrib: remove empty lines at end of text files Empty lines at end of text files are useless.  Remove them.  Change-Id: I4efbd9af5be7e16213dcc7cb95de936ecde2fcef Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5173 Tested-by: jenkins

2019-05-12  Antonio Borneo <borneo.antonio@gmail.com>

	* : coding style: tcl: remove empty lines at end of text files Empty lines at end of text files are useless.  Remove them.  Change-Id: I503cb0a96c7ccb132f4486c206a48831121d7abd Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5171 Tested-by: jenkins

2020-04-16  Ilya Kharin <akscram@gmail.com>

	* : flash/nor/stm32l4x: cast wrpxxr_mask to uint16_to to print Fix build error on Mac OS X Catalina (10.15.4) caused by formatting
	stm32l4_info->wrpxxr_mask, which is uint32_t, as uint16_t in the
	debug log message. Adding casting to uint16_t before substitution
	because only lower 16 bits are significant for debug purposes.  Change-Id: Iddb87cd156dfc84ab1f91cd15a1ddee6b646d412 Signed-off-by:
	Ilya Kharin <akscram@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5590 Tested-by: jenkins Reviewed-by:
	Andreas Bolsch <hyphen0break@gmail.com> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2019-11-04  Kevin Burke <kevinb@os.amperecomputing.com>

	* : target/armv8: Add ARM target name on halt status The CPU target name is added to the HALT status message so the user
	can see which target halted at the designated program counter.  Tested on an Ampere eMAG8180 and Quicksilver silicon Change-Id: I51e6f21296c85a822df28c5b7c4068e8ff66f29e Signed-off-by:
	Kevin Burke <kevinb@os.amperecomputing.com> Signed-off-by: Daniel
	Goehring <dgoehrin@os.amperecomputing.com> Reviewed-on:
	http://openocd.zylin.com/5571 Tested-by: jenkins Reviewed-by: Tarek
	BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2018-11-22  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor: add flash mdw/h/b commands Some flash banks are not mapped in the target memory (e.g. SPI
	flash, some special pages).  Add flash version of mdw/h/b which reads data using the flash
	driver.  Change-Id: I66910e0a69cf523fe5ca1ed6ce7b9e8e176aef4a Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4776 Tested-by: jenkins Reviewed-by:
	Andreas Bolsch <hyphen0break@gmail.com> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2019-08-06  AurÈlien Martin <martaurel@gmail.com>

	* : nrf5: Comment the flash loader Change-Id: Ia84b5b8ede53f59299a02dc6163d6bbaa31e0fbd Signed-off-by:
	Aur√©lien Martin <martaurel@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5272 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-07-23  AurÈlien Martin <martaurel@gmail.com>

	* : nrf5: Include generated loader code Dump legacy hexadecimal machine code Change-Id: I336efa461058bccc3894131cb22473785b68479c Signed-off-by:
	Aur√©lien Martin <martaurel@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5267 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2020-04-03  Liming Sun <lsun@mellanox.com>

	* : jtag/drivers/rshim: Disable the driver by default This is a follow-up change of commit 6d6a69d5 to disable it by
	default. The driver was introduced in 6d6a69d5 and enabled by
	default in order to run the jenkins build.  Signed-off-by: Liming Sun <lsun@mellanox.com> Change-Id:
	I5c5fc6711b971b65dd5846a6163025879044ec40 Reviewed-on:
	http://openocd.zylin.com/5563 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2019-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* : tools/checkpatch.sh: remove flag --no-tree Commit c5d89883165e02ea4f318e3cb0ba40d1fb6f04d1 ("checkpatch.pl:
	check for openocd tree, not for kernel tree") has already fixed the
	check for OpenOCD tree, thus we do not need to skip it in the shell
	wrapper.  Remove flag --no-tree from the shell wrapper.  Change-Id: I8be497258624d89bde7742fee141a8f56bf9188e Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5110 Tested-by: jenkins

2020-02-14  Antonio Borneo <borneo.antonio@gmail.com>

	* : tcl: stm32mp15x: add target and board config files The stm32mp15x has one or two Cortex-A7 (depending on the P/N) and
	one Cortex-M4.  The second core is automatically detected by the
	target script.  In "engineering boot" all the cores are accessible.
	In "production boot" the Cortex-M4 is kept in reset state after
	power-on or NRST.  The board DK2 includes a ST-Link/V2, but only SWD is connected.  Change-Id: Ib6ebefcc696b1716e0f98694cadf0b04fd7d11d6 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5454 Tested-by: jenkins Reviewed-by:
	Oleksij Rempel <linux@rempel-privat.de>

2020-03-13  Tomas Vanek <vanekt@fbl.cz>

	* : jtag/drivers/ulink: fix clang static analyzer warning scan-build-9: Description: Access to field 'payload_in' results in a
	 dereference of a null pointer (loaded from field 'queue_start')
	File: src/jtag/drivers/ulink.c Line: 2216 Set input/output_signals conditionally if
	ulink_append_get_signals_cmd() and ulink_execute_queued_commands()
	returns no error.  Do not fail driver initialisation as the signals
	are only printed.  Change-Id: I6c842f0e9a604712abf7444a2fa95ba5810de1ff Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/5520 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by: Oleksij
	Rempel <linux@rempel-privat.de>

2020-03-13  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nand/core: fix clang static analyzer warning core.c:446: The left operand of '>>' is a garbage value There are many places where an error code returned from
	nand->controller operations are ignored. To keep the change minimal,
	the error checks are added only to reading of extended nand info as
	it was suspected to be the cause of the warning.  Addition of the error checks did not fix the warning.  scan-build-9
	report was inspected and IMHO the warning is bogus: the term
	(nand->device->erase_size == 0) cannot give false at line 395 and
	then evaluate true at line 462. Fixed by zeroing id_buff.  Change-Id: I97ed7ce0fdf1aa23d746d5fb898bacd050e20ae8 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/5518 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by: Oleksij
	Rempel <linux@rempel-privat.de>

2019-11-28  Evgeniy Didin <didin@synopsys.com>

	* : Add documentation section for ARCv2 Changes since v1: -Moved from http://openocd.zylin.com/#/c/5332/4  into separate commit.  28.02.2020: -Removed multiple cpu configuration section, currently  only ARC EM is supported.  17.03.2020: -Some cleanup -For "arc set-reg-exists" command limitize
	 the number of arguments (50 maximum).  17.03.2020(v2): -Revert limitation for "arc set-reg-exist" command Change-Id: I4b06f89df95f2773bfde6e1bd2ae2b6b880bfaa8 Signed-off-by:
	Evgeniy Didin <didin@synopsys.com> Cc: Alexey Brodkin
	<abrodkin@synopsys.com> Reviewed-on: http://openocd.zylin.com/5351
	Tested-by: jenkins Reviewed-by: Oleksij Rempel
	<linux@rempel-privat.de>

2020-04-05  Tomas Vanek <vanekt@fbl.cz>

	* : Revert "rtos/FreeRTOS: Fix FreeRTOS thread list reading" This reverts commit 6568d29cc1d0d94daafec5bdb73de7d4f17da257.  The
	reverted change caused some tasks were missing in thread list.  While on it add a comment explaining the relation of
	uxTopUsedPriority and configMAX_PRIORITIES, introduce
	config_max_priorities and change types to unsigned.  Change-Id: I4371c8882470d13ee7360ef21b132c56ecb95af8 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/5577 Tested-by: jenkins

2020-04-06  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : server: set connection::input_pending type to bool Change-Id: Ifae8ac2761a7a8fa12732b71c2de456e7558bd2b Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5565 Tested-by: jenkins Reviewed-by: Marc
	Schink <dev@zapb.de>

2020-03-29  Ake Rehnman <ake.rehnman@gmail.com>

	* : Entering SWIM mode on ST-LINK does not update swim status word.  As a consequence of a previous failed SWIM command any subsequent
	attempts to enter SWIM mode fails. Change stlink_usb_mode_enter to
	use stlink_usb_xfer_noerrcheck instead.  Change-Id: I5c6a1a8e68d3dc77ec37264880383366fa6a75d9 Signed-off-by:
	Ake Rehnman <ake.rehnman@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5547 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2020-02-03  Antonio Borneo <borneo.antonio@gmail.com>

	* : jtag: flush queue after reset for drivers using old reset model Not all the jtag drivers have been migrated to the new reset model
	and for those only we need to flush the jtag queue to make the reset
	working with command 'adapter [de]assert ...'.  Add a queue flush and a FIXME comment to remove both when all the
	drivers would be migrated.  Change-Id: Ib6667f987b1be2bce492841040302e742dd1cad1 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5430 Tested-by: jenkins

2020-03-10  Antonio Borneo <borneo.antonio@gmail.com>

	* : cortex_m: remove deprecation for soft_reset_halt The command "soft_reset_halt" is deprecated since mid 2013 with the
	commit 146dfe32956d ("cortex_m: deprecate soft_reset_halt").
	Nevertheless it is still extremely useful with multicore chips where
	it allows to reset only one of the cores, option not available
	through asserting the chip-wide srst.  It also get useful to handle
	the reset on some problematic chip, as in
	http://openocd.zylin.com/5489 Replace the warning about deprecation with a more light debug
	message.  Change-Id: I52de6359475ba31014ae77e596a87fe88b252177 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5514 Tested-by: jenkins Reviewed-by: Edward
	Fewell <efewell@ti.com> Reviewed-by: Tarek BOCHKATI
	<tarek.bouchkati@gmail.com>

2020-03-26  Antonio Borneo <borneo.antonio@gmail.com>

	* : stlink: remove only instance of useconds_t The usleep() function, and its associated useconds_t type specifier,
	has been obsoleted by POSIX.1-2008.  OpenOCD has 28 call to usleep(), that should be migrated to the
	replacement nanosleep(), but due to the different prototype         int nanosleep(const struct timespec *req, struct timespec
	        *rem); this can take some effort.  The type useconds_t is used in only one case, where it's used both
	as parameter of usleep() and as value passed to LOG_DEBUG(). Due to
	different implementation of useconds_t, there are cases that trigger
	a compile warning in LOG_DEBUG() when useconds_t is more than 32
	bit.  E.g. with unistd.h in MinGW 4.x, useconds_t is defined as
	unsigned long, thus being 32 or 64 bits depending on the target.  Replace the only instance of useconds_t.  Change-Id: I21724f8b06780abdb003a57222ff1d6840ff5419 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5544 Tested-by: jenkins Reviewed-by: Ake
	Rehnman <ake.rehnman@gmail.com>

2020-03-29  Antonio Borneo <borneo.antonio@gmail.com>

	* : sysfsgpio: minor fix for bool types Return bool value in functions that return bool.  Change return type
	to bool to function is_gpio_valid().  Change-Id: Ic2e62be737772b22e69881c034956549f659370b Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5552 Tested-by: jenkins Reviewed-by: Marc
	Schink <dev@zapb.de>

2020-04-01  Jan Matyas <matyas@codasip.com>

	* : target: added events TARGET_EVENT_STEP_START and _END Events TARGET_EVENT_STEP_START and TARGET_EVENT_STEP_END have been
	added - analogous to already existing events TARGET_EVENT_RESUME_*.  This is an example of a concrete use case where having these events
	is important: In RISC-V processors without Debug Program Buffer, OpenOCD cannot
	execute fence/fence.i when resuming or single- stepping. With these
	events implemented, the user can instead provide custom operations
	to achieve that same effect prior to resuming the processor.  Change-Id: I786348ff08940759d99b0f24e9e0ed5a44581094 Signed-off-by:
	Jan Matyas <matyas@codasip.com> Reviewed-on:
	http://openocd.zylin.com/5551 Tested-by: jenkins Reviewed-by: Tim
	Newsome <tim@sifive.com>

2020-03-10  Edward Fewell <efewell@ti.com>

	* : tcl/target: Use vectreset for CC13xx/CC26xx targets.  nSRST and sysreqreset are both broken for these targets. Upon a hard
	reset, the target disables the TDO/TDI pins and the ICEPick router
	will remove the target's TAP from the scan chain. The scripts to do
	these tasks are run, but then OpenOCD throws the reset again
	breaking the debug connection.  Until that issue can be resolved, vectreset is the only reset that
	works without breaking the debug connection.  Update: original patch didn't have the correct reset command.  Change-Id: If7c985b703c87399a13364609d370d6222f4a66c Signed-off-by:
	Edward Fewell <efewell@ti.com> Reviewed-on:
	http://openocd.zylin.com/5511 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2020-02-12  Laurent LEMELE <laurent.lemele@st.com>

	* : stlink: fix speed setting in dap mode stlink accepts a set of values for "adapter speed".  Fix the api
	khz() to return one of the allowed speed values.  Change-Id: Iac640b6f76935891ca25ac168cab3809707f19d9 Signed-off-by:
	Laurent LEMELE <laurent.lemele@st.com> Signed-off-by: Antonio Borneo
	<borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5464 Tested-by: jenkins Reviewed-by: Tarek
	BOCHKATI <tarek.bouchkati@gmail.com>

2020-02-21  Marc Schink <dev@zapb.de>

	* : flash/nor/cfi: Minor code cleanups Change-Id: I2d45fcc5b9d232db66218aab5fef3add5830bcd7 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/5463
	Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2020-03-22  Roman Elshin <roxmail@list.ru>

	* : cmsis_dap_usb: Light up the leds while connected Tested with Keil ULINK2 CMSIS-DAP.  Change-Id: I331224d23412bed8b2dea25abacbf9096ddd18b1 Signed-off-by:
	Roman Elshin <roxmail@list.ru> Reviewed-on:
	http://openocd.zylin.com/5385 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2020-03-02  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : doc: add missing target types missing target types are arm946e, avr32_ap7k, cortex_r4, dsp5680xx,
	hla_target, mips_mips64, nds32_v2, nds32_v3, nds32_v3m, quark_d20xx,
	quark_x10xx, riscv, stm8 and testee Change-Id: I38f6ed78ee88c09add4b779cd409ebb1e219304f Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5487 Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com> Tested-by: jenkins Reviewed-by: Tim
	Newsome <tim@casualhacker.net> Reviewed-by: Oleksij Rempel
	<linux@rempel-privat.de>

2020-03-02  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : doc: fix OpenRISC target documentation OpenRISC correct target name is 'or1k' not 'openrisc'
	http://openocd.zylin.com/3096 introduced a conflict between
	'openrisc' and 'ls1_sap' documentations Change-Id: Iedebbf9809300e1272334c5b63d0b31a41062282 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5485 Tested-by: jenkins Reviewed-by: Esben
	Haabendal <esbenhaabendal@gmail.com> Reviewed-by: Oleksij Rempel
	<linux@rempel-privat.de>

2019-02-14  Marc Schink <openocd-dev@marcschink.de>

	* : target: Add possibility to remove all breakpoints Change-Id: I46acd57956846d66bef974e0538452462b197cd0 Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/4916 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2019-11-05  Lars Poeschel <poeschell+openocd@mailbox.org>

	* : avrf.c: Add ATmega256RFR2 to known flash list This adds the ATmega256RFR2 to the list of know devices for
	flashing.  Change-Id: Ib24a508762aaa84ba08ba37409db2ae674b46288 Signed-off-by:
	Lars P√∂schel <poeschell+openocd@mailbox.org> Reviewed-on:
	http://openocd.zylin.com/5504 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2020-03-06  Antonio Borneo <borneo.antonio@gmail.com>

	* : jtag: fix command "adapter [de]assert" with dap direct The commit fafe6dfc9cd8 ("adapter: add command "adapter [de]assert
	srst|trst [[de]assert srst|trst]"") was proposed in gerrit well
	before commit a61ec3c1d73d ("adi_v5_dapdirect: add support for
	adapter drivers that provide DAP API") get merged, so it didn't
	include a complete support for dap direct.  The merge upstream of
	the two commits lacks the support by command "adapter [de]assert"
	for dap direct Let command command "adapter [de]assert" handle dap direct.  Change-Id: I1a69f8ee877c8fd57598ed4ad9d71da61d15457c Fixes: commit
	fafe6dfc9cd8 ("adapter: add command "adapter [de]assert srst|trst
	[[de]assert srst|trst]"") Signed-off-by: Antonio Borneo
	<borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5515 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2020-03-02  Edward Fewell <efewell@ti.com>

	* : tcl/target: Enable using vectreset for CC3320SF targets On CC32xx family of devices, sysrequest is disabled, and vectreset
	is blocked by the boot loader (stops in a while(1) statement). srst
	reset can leave the target in a state that prevents debug.  This change enables using vectreset on SF variants by moving the PC
	to the start of the user application in internal flash. This allows
	for a more reliable reset, but with two caveats: 1) This only works for the SF variant with internal    flash.  2) This only resets the CPU and not any peripherals.  Tested on CC3220SF rev B Launchpad in both SWD and JTAG modes.
	Confirmed proper behavior of reset, reset init, reset halt, and
	reset run commands.  Update: reworked per comment in code review. Re-tested with CC3220SF
	Launchpad as both CC3220SF and as CC32xx board to confirm reset
	behavior as expected.  Update: Added adapter srst delay 1100 line to the CC3200 LaunchXL
	configuration file.  Change-Id: Ibc042d785c846c2223ae55b8f2410b75ed2df354 Signed-off-by:
	Edward Fewell <efewell@ti.com> Reviewed-on:
	http://openocd.zylin.com/5489 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2020-03-04  Edward Fewell <efewell@ti.com>

	* : drivers: xds110: Clean up command syntax and documentation Arrange all commands under a top level xds110 command. Fix
	documentation to properly reflect the current functionality.  Also updated the links in the document to the new permanent links
	for the XDS110 only support.  Patch updated for comments from code review. Return
	ERROR_COMMAND_SYNTAX_ERROR for wrong number of args in commands.
	Added deprecated commands to src/jtag/startup.tcl.  Change-Id: Ica45f65e1fdf7fa72866f4e28c4f6bce428d8ac9 Signed-off-by:
	Edward Fewell <efewell@ti.com> Reviewed-on:
	http://openocd.zylin.com/5495 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2020-03-04  Edward Fewell <efewell@ti.com>

	* : drivers: xds110: Add support TCK changes in firmware update Starting with XDS110 firmware version 3.0.0.0, the peak TCK
	frequency became 14,000 kHz. So the delay count calculation in the
	current driver has been updated to use the new formula for setting
	the TCK speed depending on which version of the firmware is
	detected. And because of the changes, the default TCK settings for
	the XDS110 based Launchpads can be adjusted to take advantage of the
	higher TCK performance.  Note that the values used have been
	determined through testing in the automated test labs to be the
	highest TCK frequency with the XDS110 that are still reliable.
	Different boards have a different peak TCK setting that should be
	safe.  Change-Id: I4d66e90d8fac8272641ba4db4a3a510e3b444d86 Signed-off-by:
	Edward Fewell <efewell@ti.com> Reviewed-on:
	http://openocd.zylin.com/5493 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2020-03-09  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : flash/stm32l4x: add support of STM32WLEx devices STM32WLEx devices are based on arm Cortex-M4 running at 48MHz,
	contains a single bank of maximum 256 Kbytes of flash memory.  there is 3 variants with different Flash/RAM sizes:   STM32WLE5JC : 256K/64K   STM32WLE5JB : 128K/48K   STM32WLE5J8 :  64K/20K the work-area size is set to 20 kb to fit in STM32WLE5J8 Change-Id: Ie8e186fe4be97cbc25c53ef0ade4b4dbbcee6f66 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5450 Tested-by: jenkins Reviewed-by:
	Andreas Bolsch <hyphen0break@gmail.com> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2020-03-06  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : jtag/libusb_helper: permit adapters to compute their custom
	serials introduce a callback function that could be passed to
	jtag_libusb_open to permit adapters to compute their custom/exotic
	serials.  the callback should return a non NULL value only when the serial
	could not be retrieved by the standard
	'libusb_get_string_descriptor_ascii' Change-Id: Ib95d6bdfc4ee655eda538fba8becfa183c3b0059 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5496 Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com> Tested-by: jenkins Reviewed-by: Oleksij
	Rempel <linux@rempel-privat.de>

2020-03-03  Christopher Head <chead@zaber.com>

	* : flash/nor: check fill pattern fits in word size Change-Id: Idad527a428ceed2b53f3da41fb0c64bf8e62614a Signed-off-by:
	Christopher Head <chead@zaber.com> Reviewed-on:
	http://openocd.zylin.com/5492 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz> Reviewed-by: Tarek BOCHKATI
	<tarek.bouchkati@gmail.com>

2020-03-01  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : flash/startup.tcl: add STM32G0 and G4 aliases STM32G0 and G4 uses the same flash driver as the stm32l4x Change-Id: Ic1c4be70aaee809536912e0390f07893efb9a082 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5482 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2020-02-08  Marek Vasut <marek.vasut@gmail.com>

	* : tcl/target: Fix naming of RZ/A1 SoC The RZ/A1 is not part of the R-Car family, but is rather an RZ
	family.  Fix the naming.  Change-Id: I5f882b2467e87e534e0f1c827554e664a7d55664 Signed-off-by:
	Marek Vasut <marek.vasut@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5445 Tested-by: jenkins Reviewed-by:
	Oleksij Rempel <linux@rempel-privat.de>

2019-06-25  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/cortex_a: add hypervisor mode Hypervisor mode is present only if the optional virtualization
	extensions are available. Moreover, virtualization extensions
	require that also security extensions are implemented.  Add the required infrastructure for the shadowed registers in
	hypervisor mode.  Make monitor shadowed registers visible in
	hypervisor mode too.  Make hypervisor shadowed registers visible in
	hypervisor mode only.  Check during cortex_a examine if
	virtualization extensions are present and then conditionally enable
	the visibility of both hypervisor and monitor modes shadowed
	registers.  Change-Id: I81dbb1ee8baf4c9f1a2226b77c10c8a2a7b34871 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5261 Tested-by: jenkins

2019-06-24  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/armv4_5: remove unused macro The macro ARMV4_5_CORE_REG_MODENUM() is unused.  Remove it! Change-Id: I183df57bd86c9428710ea3583e43fba88fd26e0a Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5260 Tested-by: jenkins Reviewed-by:
	Muhammad Omair Javaid <omair.javaid@linaro.org>

2019-06-24  Antonio Borneo <borneo.antonio@gmail.com>

	* : arm: fix reg num for Monitor mode Commit 2efb1f14f611 ("Add GDB remote target description support for
	ARM4") inserts two additional registers "sp" and "lr" in the table
	arm_core_regs[], thus shifting by two the position of the last three
	        registers already present "sp_mon" moved from index 37 to 39         "lr_mon" moved from index 38 to 40         "spsr_mon" moved from index 39 to 41 Part of the code is
	updated (e.g. enum defining ARM_SPSR_MON and array
	arm_mon_indices[]), but it's missing the update of mapping in
	armv4_5_core_reg_map[].  Fix armv4_5_core_reg_map[].  Change-Id: I0bdf766183392eb738206b876cd9559aacc29fa0 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Fixes: 2efb1f14f611 ("Add
	GDB remote target description support for ARM4") Reviewed-on:
	http://openocd.zylin.com/5257 Tested-by: jenkins

2019-10-19  Antonio Borneo <borneo.antonio@gmail.com>

	* : jimtcl: update to tag 0.79 OpenOCD is stuck at jimtcl tag 0.77 that is 3 years old.  The latest
	tag 0.79 (2019-11-20) is already used by debian build, which packs
	jim library separately, as shown in [1]. Today only the build for
	architecture powerpcspe is still not updated to latest package
	version.  I have been using jim 0.79 since the day of the release,
	without any issue.  Switch jimtcl to latest tag 0.79 [1] https://packages.debian.org/sid/openocd Change-Id: I3426e68c32f88ecde74d4278303925423db451e0 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5403 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2020-02-24  Antonio Borneo <borneo.antonio@gmail.com>

	* : jtag: report API reset as synchronous The jtag API reset() is synchronous, but this was not highlighted in
	the description.  Change-Id: I76ffb7eec97c8608cfbef0b9268ee18a5f50b221 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Fixes: 8850eb8f2c51 ("swd:
	get rid of jtag queue to assert/deassert srst") Reviewed-on:
	http://openocd.zylin.com/5471 Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Tested-by: jenkins

2019-04-11  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : cortex_a: warn on broken debug_base setting A common problem with target configurations appears to be broken
	debug base address configuration. ARM DDI0406C.d specifies in App.
	D, 1.4.1, that bit 31 of the debug base address serves as
	identification of an external debugger, as opposed to an internal
	access to memory mapped debug registers by the CPU. External
	accesses are treated as privileged and require no debug
	authentification via the lock access register.  Sometimes the base address of a debug component is wrong even in the
	targets' ROM table. In this case, the correct base address must be
	specified using the -dbgbase argument when creating the target.  This patch adds a warning when bit 31 of the debug base address is
	not set, as a hint to the user.  Change-Id: I9c41d85a138123c657ef655e3436a2aa39249dcc Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com> Reviewed-on:
	http://openocd.zylin.com/5105 Tested-by: jenkins Reviewed-by: Tommy
	Vestermark <tov@vestermark.dk> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2019-12-04  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : target/aarch64: fix soft breakpoint when PE is in AArch32 state Before this patch aarch64_set_breakpoint was using either A64, or
	A32 HLT opcode by relying on armv8_opcode helper.  This behaviors
	ignores the fact that in AArch32 state the core could execute
	Thumb-2 instructions, and gdb could request to insert a soft bkpt in
	a Thumb-2 code chunk.  In this change, we check the core_state and bkpt length to know the
	correct opcode to use.  Note: based on



	https://sourceware.org/gdb/current/onlinedocs/gdb/ARM-Breakpoint-Kinds.htmlif bkpt length/kind == 3, we should replace a 32-bit Thumb-2 opcode,       then we use twice the 16 bits Thumb-2 bkpt opcode and we
	      fix-up the length to 4 bytes, in order to set correctly the
	bpkt.  Change-Id: I8f3551124412c61d155eae87761767e9937f917d Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5355 Tested-by: jenkins Reviewed-by:
	Muhammad Omair Javaid <omair.javaid@linaro.org> Reviewed-by: Antonio
	Borneo <borneo.antonio@gmail.com>

2017-11-04  Tomas Vanek <vanekt@fbl.cz>

	* : target: add examine-fail event A configuration script may want to check the reason why examine
	fails e.g. device has security lock engaged.  tcl/target/kx.cfg and klx.cfg is modified to use the new event for
	testing of the security lock of Kinetis MCU Change-Id: Id1d3a79d24e84b513f4ea35586cd2ab0437ff9b3 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4289 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2020-02-25  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : semihosting: reorganize semihosting commands the same semihosting handlers chain is declared twice:  1. in src/target/armv4_5.c  2. in src/target/riscv/riscv.c to make it simpler we moved the declaration into
	'src/target/semihosting_common.c' under
	semihosting_common_handlers[].  then we used this into both of
	armv4_5.c and riscv.c Change-Id: If813b3fd5eb2476658f1308f741c4e805141f617 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5473 Tested-by: jenkins Reviewed-by:
	Muhammad Omair Javaid <omair.javaid@linaro.org> Reviewed-by: Tim
	Newsome <tim@sifive.com> Reviewed-by: Liviu Ionescu <ilg@livius.net>

2020-01-15  Marek Vasut <marek.vasut@gmail.com>

	* : tcl/target: Unify Renesas R-Car JTAG reset config Both Gen2 and Gen3 used the same init_reset{} implementation, pull
	it into common file and include it from both generations.  Moreover,
	this behavior is SoC specific, not board specific, so move the
	common init_reset into target/ directory.  Change-Id: I5489a4bff9a786da8cb7fd7a515b0c9ce9dc16e3 Signed-off-by:
	Marek Vasut <marek.vasut@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5400 Tested-by: jenkins Reviewed-by:
	Oleksij Rempel <linux@rempel-privat.de>

2020-01-08  luca vinci <luca.vinci@st.com>

	* : bluenrg-x: simplyfied the driver Adopted only fast algorithm for flash programming: - write_word and write_byte methods have been removed.  - start and end write alignments have been defined.  Moved flash
	controller registers offsets in a common file shared with the flash
	algorithm.  - the flash base address is passed to the flash algorithm   as a parameter.  Removed unused functions Change-Id: I80aeab3994e477044bbcf02e66d9525dae0cb491 Signed-off-by:
	luca vinci <luca.vinci@st.com> Reviewed-on:
	http://openocd.zylin.com/5393 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz> Reviewed-by: Michele Sardo
	<msmttchr@gmail.com>

2019-12-20  Tomas Vanek <vanekt@fbl.cz>

	* : helper/binarybuffer: fix clang static analyzer warnings Writing bits to an uninitialized buffer generated false warnings.
	Zero buffers before setting them by buf_set_u32|64() (do it only if
	bit-by-bit copy loop is used, zeroed buffer is not necessary if a
	fast path write is used) Change-Id: I2f7f8ddb45b0cbd08d3e249534fc51f4b5cc6694 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/5383 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2019-12-20  Tomas Vanek <vanekt@fbl.cz>

	* : rtos/linux: fix use of memory after it is freed Discovered by clang static analyzer Change-Id: I9f64a67f281b95562d8fd6e2ebb0ae3f79ae8039 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/5371 Tested-by: jenkins Reviewed-by:
	Oleksij Rempel <linux@rempel-privat.de>

2019-12-20  Tomas Vanek <vanekt@fbl.cz>

	* : jtag/aice: fix clang static analyzer warnings Change-Id: I6c801c2406cd117f2bcf930a5b329c441ab5f1ff Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/5368 Tested-by: jenkins Reviewed-by:
	Oleksij Rempel <linux@rempel-privat.de>

2019-12-20  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor/fm4,tms470: fix clang static analyzer warnings Change-Id: I18c1501918d40453fea6aeeb6f035e46d41fc524 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/5366 Tested-by: jenkins Reviewed-by:
	Oleksij Rempel <linux@rempel-privat.de>

2020-01-28  Marc Schink <dev@zapb.de>

	* : flash/nor/stm32f1x: Group and cleanup device list Group device list based on the device family and add clear device
	family names.  Change-Id: I7a2dab1d1c0c8d141df02656c1964cb2c3fcbcd1 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/5423
	Tested-by: jenkins Reviewed-by: Tarek BOCHKATI
	<tarek.bouchkati@gmail.com> Reviewed-by: Tomas Vanek <vanekt@fbl.cz>
	Reviewed-by: Oleksij Rempel <linux@rempel-privat.de>

2020-02-05  Marc Schink <dev@zapb.de>

	* : drivers: libusb1_common code cleanup Remove unncessary wrapper functions and 'jtag_' prefixes.  Change-Id: I0fd866ff1e1cf7386c4d58a808dfda2c1c0a1518 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/5433
	Tested-by: jenkins Reviewed-by: Oleksij Rempel
	<linux@rempel-privat.de>

2020-02-03  Oleksij Rempel <linux@rempel-privat.de>

	* : remove libusb0_common support Supporting two libusb versions provides additional development
	challenges without additional advantage. In most cases we need to
	patch libusb0_common and libusb1_common without real ability to test
	libusb0_common.  Change-Id: Icbb19c6809b14533fe2acf7a877377b3be4cbd61 Signed-off-by:
	Oleksij Rempel <linux@rempel-privat.de> Reviewed-on:
	http://openocd.zylin.com/5432 Tested-by: jenkins

2020-01-07  Marek Vasut <marek.vasut@gmail.com>

	* : tcl/target: Add unified config for Renesas R-Car Gen2 targets Add configuration for the Renesas R-Car Generation 2 targets.  These
	are SoCs with Cortex A15s and A7s. All cores currently supported by
	OpenOCD are supported here as well as two new cores, M2N and V2H,
	for the sake of support completeness.  Change-Id: Ib6fe70a91360b4f8bd69822ee28b6dea530cfa0a Signed-off-by:
	Marek Vasut <marek.vasut@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5397 Tested-by: jenkins Reviewed-by:
	Oleksij Rempel <linux@rempel-privat.de>

2020-02-07  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : flash/stm32h7x: add support of STM32H7Ax/H7Bx devices this new device has the following features:  - single core cortex-M7  - 2MB flash - dual bank     - page size 8k     - write protection grouped by 4 sectors     - write block size 128 bits (16 bytes) the bit definition of FLASH_CR is different than STM32H74x, that's
	why we introduced a helper to compute the FLASH_CR value Change-Id: I4da10cde8dd215b1b0f2645f0efdba9d198038d1 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5441 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2020-02-28  Evgeniy Didin <didin@synopsys.com>

	* : target/arc: fix clang static analyzer warnings Fixes: * Removed typo in *bitfields initializations.  * Removed potentional memory leak allocating   reg_data_type_struct_field/reg_data_type_flags_field objects.  * Initialize buffers with "0" before usage in buf_set_u32().  * Removed memory leak in jim_arc_add_reg().  Change-Id: Iefde57cd4a48c4f3350c376475df8642607f52ff Signed-off-by:
	Evgeniy Didin <didin@synopsys.com> Reviewed-on:
	http://openocd.zylin.com/5480 Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Tested-by: jenkins Reviewed-by: Oleksij Rempel
	<linux@rempel-privat.de>

2019-05-12  Antonio Borneo <borneo.antonio@gmail.com>

	* : coding style: doc: remove empty lines at end of text files Empty lines at end of text files are useless.  Remove them.  Change-Id: I30e4d3d03c4ce846aa7bcefa7366f88732275557 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5170 Tested-by: jenkins

2019-05-12  Antonio Borneo <borneo.antonio@gmail.com>

	* : coding style: tools: remove empty lines at end of text files Empty lines at end of text files are useless.  Remove them.  Change-Id: Iea4c8425e137d6252fb2e5b62e0b124c73a01cb6 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5168 Tested-by: jenkins

2019-05-05  Antonio Borneo <borneo.antonio@gmail.com>

	* : coding style: fix space around pointer's asterisk The script checkpatch available in new Linux kernel offers an
	experimental feature for automatically fix the code in place.  While
	still experimental, the feature works quite well for simple fixes,
	like spacing.  This patch has been created automatically with the script under
	review for inclusion in OpenOCD, using the command         find src/ -type f -exec ./tools/scripts/checkpatch.pl \         -q --types POINTER_LOCATION --fix-inplace -f {} \; then
	manually reviewed.  OpenOCD coding style does not mention the space around pointer's
	asterisk, so no check is enforced. This patch only makes the style
	uniform across the files.  The patch only changes amount and position of whitespace, thus the
	        following commands show empty diff git diff -w         git log -w -p         git log -w --stat Change-Id: Iefb4998e69bebdfe0d1ae65cadfc8d2c4f166d13 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5197 Tested-by: jenkins

2020-01-23  Antonio Borneo <borneo.antonio@gmail.com>

	* : adi_v5_dapdirect: fix connect under reset Deassert the reset only if connect under reset is not required;
	otherwise, assert the reset.  This fix aligns the behavior of
	connect under reset in dapdirect with the behavior in jtag and swd.  Change-Id: I937ef4320b44e51ef6cb0e349e12348dbfbe4abb Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5415 Tested-by: jenkins

2020-02-10  Marc Schink <dev@zapb.de>

	* : flash/nor/stm32h7x: Minor code cleanups Change-Id: Ia212b1877abeda27f507de29a3aee2b171c1b8c6 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/5448
	Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com> Reviewed-by: Christopher Head
	<chead@zaber.com>

2020-02-12  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : tcl/board: update ST NUCLEO-H745ZI-Q configuration file to use
	dapdirect this board embeds and STLINK DAP capable firmware Change-Id: I276e9f44ad6cf7d1ff664898bbc884676bdbc967 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5316 Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2020-02-07  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : flash/nor/tcl.c: add filld command to write double-word with
	64-bit value Change-Id: I2eeda7af7d855ed1284083d025994f8fa9531969 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5443 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2020-02-01  Leonard Crestez <leonard.crestez@nxp.com>

	* : tcl/board: Add imx8mp-evk Board includes an internal adapter (interface/ftdi/imx8mp-evk.cfg)
	and a standard external ARM-10 connector.  Change-Id: Ibb301011665b1edfb95be1213d8100143f6839dd Signed-off-by:
	Leonard Crestez <leonard.crestez@nxp.com> Reviewed-on:
	http://openocd.zylin.com/5427 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2020-01-03  Christopher Head <chead@zaber.com>

	* : flash/stm32h7x: use alignment infrastructure Report the 32-byte alignemnt requirement via the bank structure
	rather than enforcing it ad-hoc in the write routine. This allows
	people to do non-32-byte-aligned writes if they want, with the
	infrastructure fixing up the addresses passed to the low-level
	driver.  Change-Id: I2c4f532f2000435954a900224dbc9f2c30d1cc94 Signed-off-by:
	Christopher Head <chead@zaber.com> Reviewed-on:
	http://openocd.zylin.com/5388 Reviewed-by: Tarek BOCHKATI
	<tarek.bouchkati@gmail.com> Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2020-01-27  Christopher Head <chead@zaber.com>

	* : flash/nor/stm32h7x: check OPTCHANGEERR Without this, a failed attempt to change option bytes will silently
	appear to succeed but without actually changing the option bytes (confusingly, the option bytes will still read back as if they had
	been changed until a reboot as well!).  Change-Id: Id529c6c384a8a16be75f5702310670d99d8fac79 Signed-off-by:
	Christopher Head <chead@zaber.com> Reviewed-on:
	http://openocd.zylin.com/5418 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2019-07-18  Antonio Borneo <borneo.antonio@gmail.com>

	* : stlink: add trace support in DAP direct mode Reuse the existing tracing functionality of HLA mode to support
	tracing in DAP direct mode.  Change-Id: I75a01e88ba5d3e45717e4108b99697ac3225db9e Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5409 Tested-by: jenkins Reviewed-by:
	Oleksij Rempel <linux@rempel-privat.de>

2019-05-06  Antonio Borneo <borneo.antonio@gmail.com>

	* : coding style: use ARRAY_SIZE() when possible We have the macro ARRAY_SIZE() already available. Use it! Issue identified by checkpatch script from Linux kernel v5.1 using
	the command         find src/ -type f -exec ./tools/scripts/checkpatch.pl \         -q --types ARRAY_SIZE -f {} \; Change-Id: Ic7da9b710edf118eacb08f9e222f34208c580842 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5198 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-05-06  Antonio Borneo <borneo.antonio@gmail.com>

	* : jtag/startup.tcl: remove trailing whitespaces Change-Id: I1d6f4f47ee6f8985c84ddb2647e029c5f4e6a55a Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5194 Tested-by: jenkins Reviewed-by: Marc
	Schink <dev@zapb.de>

2020-02-06  Marc Schink <dev@zapb.de>

	* : flash/nor/stm32lx: Minor code cleanups Change-Id: I6440a4eb1f65a2f8ae2914b38f21a59955e85e0d Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/5438
	Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2018-12-08  Piotr Kasprzyk <ciri@ciri.pl>

	* : Include start-of-region address When $ADDRESS == $BASE that address used to be excluded.  After this commit $ADDRESS == $BASE is within the range.  Now the rule for "iswithin" is: $BASE <= $ADDRESS < ($BASE + $LEN) Thanks to Antonio Borneo <borneo.antonio@gmail.com> for noticing
	this.  Change-Id: I74373c6010e069372d886fa7ecd8120892616834 Signed-off-by:
	Piotr Kasprzyk <ciri@ciri.pl> Reviewed-on:
	http://openocd.zylin.com/4799 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2020-02-05  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : flash/startup.tcl: update stm32 flash driver aliases This will enable us to use either name when calling flash driver
	commands.  For example the stm32wbx family use the same flash driver as the
	stm32l4x, so the user has to use 'stm32l4x lock 0' which can be
	confusing.  Now the user can also use 'stm32wbx lock 0' with the
	same result.  Change-Id: Ic0d8da9afc202d7cc82d9b9949827e958a1cc824 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5436 Tested-by: jenkins Reviewed-by: Marc
	Schink <dev@zapb.de> Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2020-01-28  Marc Schink <dev@zapb.de>

	* : tcl: Remove executable bit Change-Id: Ib452435b13c3cb8d14453d983151936238b9601d Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/5419
	Reviewed-by: Paul Fertser <fercerpav@gmail.com> Tested-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2020-01-06  Antonio Borneo <borneo.antonio@gmail.com>

	* : stlink: fix max packet size for 8 bit R/W on stlink-v3 While ST internal documentation for STLINK-V3 reports that 8 bits
	read/write commands handle 512 bytes of data, a firmware bug makes
	it crashing on high data size.  This is fixed with firmware V3J6
	(shipped together with V2J36).  Check for firmware version to use the proper data size.  Change-Id: Iaba6cd26bbe130097c1c19de610680e0e8b69bfc Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Fixes:
	https://sourceforge.net/p/openocd/tickets/259/ Reviewed-on:
	http://openocd.zylin.com/5408 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2020-01-21  Christopher Head <chead@zaber.com>

	* : Switch to HTTPS for submodules repo.or.cz already redirects HTTP requests to HTTPS. There is
	therefore no possible benefit to keeping the submodule URLs using
	HTTP‚Äîanyone who can‚Äôt access via HTTPS will fail anyway,
	immediately after the redirect.  Changing the submodule URLs
	eliminates one unnecessary HTTP request and, more importantly,
	eliminates SSLStrip-style attacks.  Change-Id: I9faf1ec8aa87bcfd1acafe2c445a0baf2abfbd09 Signed-off-by:
	Christopher Head <chead@zaber.com> Reviewed-on:
	http://openocd.zylin.com/5406 Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com> Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-06-28  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : tcl: Add interface config for isodebug isolated JTAG/SWD+UART Currently only used internally at Unjo.  Change-Id: I7786e95e1bd755a73156ecad5b6d7f6273d8ddef Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5251 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2019-04-13  Marek Vasut <marek.vasut@gmail.com>

	* : flash/nor: Add Renesas RPC HF driver Add driver for the RPC block in HF mode on Renesas R-Car Gen3 SoCs.
	This driver allows operating the on-SIP HF memory.  Note that HF is CFI compliant flash, but it is not memory mapped,
	hence the need to replace all the memory accessors and read/write
	functions. The write function is entirely replaced to increase
	performance and is Spansion/AMD specific, since there is no known
	SIP with other HF from another vendor.  Add the following two lines to board TCL file to bind the driver on
	R-Car Gen3 SoC using HyperFlash:   set _FLASHNAME $_CHIPNAME.flash   flash bank $_FLASHNAME rpchf 0x08000000 0x4000000 2 2
	  $_CHIPNAME.a57.0 Change-Id: Ie18729d017eeb46e1363333ffe002d010dfc5ead Signed-off-by:
	Marek Vasut <marek.vasut@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5149 Tested-by: jenkins Reviewed-by:
	Oleksij Rempel <linux@rempel-privat.de>

2020-01-27  Leonard Crestez <leonard.crestez@nxp.com>

	* : jtag: Fix jtag_reset fallback The fallback provided for the jtag_reset command always fails with a
	strange message: 'Error: invalid command name "de"' This is caused by incorrect quoting inside the warning message.  Fixes: c07b774e8f49 ("jtag: replace command "jtag_reset" with
	"adapter [de]assert"") Change-Id: Icd47fca2b5a7b33474bfb0040e88193a0968f301 Signed-off-by:
	Leonard Crestez <leonard.crestez@nxp.com> Reviewed-on:
	http://openocd.zylin.com/5416 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2019-08-23  Antonio Borneo <borneo.antonio@gmail.com>

	* : doc: replace example command "interface" with "adapter driver" Keep documentation consisted after commands renaming.  Change-Id: I97b43887cae9d7c224b07e4ba0b7d04915a19fc4 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5285 Tested-by: jenkins Reviewed-by: Marc
	Schink <dev@zapb.de> Reviewed-by: Oleksij Rempel
	<linux@rempel-privat.de>

2019-08-23  Antonio Borneo <borneo.antonio@gmail.com>

	* : openocd: fix minor inconsistencies after renaming "adapter"
	command Replace in the code any reference to the deprecated commands.  Change-Id: I75d28064017d664990b4024967900f32e196230a Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5282 Tested-by: jenkins Reviewed-by: Marc
	Schink <dev@zapb.de> Reviewed-by: Oleksij Rempel
	<linux@rempel-privat.de>

2018-11-19  Oleksij Rempel <o.rempel@pengutronix.de>

	* : jtag: adapter: rework adapter related commands currently we have different types of same command group: - starting with adapter_* - starting with interface* - without adapter or interface prefix.  Since interface name is already used, we can only use "adapter"
	command group by keeping old commands as well.  Change-Id: Id0a1cb63a2ea6860c67ae1e7a3a06a37ddf464f4 Signed-off-by:
	Oleksij Rempel <o.rempel@pengutronix.de> Reviewed-on:
	http://openocd.zylin.com/4774 Reviewed-by: Marc Schink <dev@zapb.de>
	Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com> Reviewed-by: Oleksij Rempel
	<linux@rempel-privat.de>

2019-12-14  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor/stm32l4x: use flash infrastructure to align write The original code paded the write chunk with random bytes by
	overrunning the buffer. An user can easily regard the random bytes
	to be a programming error.  Change-Id: Ib0f47b5bc406bc6a7c32f3d929bf324a17c7c1e1 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/5359 Tested-by: jenkins Reviewed-by: Tarek
	BOCHKATI <tarek.bouchkati@gmail.com>

2019-12-16  Tomas Vanek <vanekt@fbl.cz>

	* : target/arm_cti: fix regression from Tcl_return_values series Since commit 7f260f5009a774f2d66b5f3037f8f595c6881d4d native OpenOCD
	command handlers should not directly use Jim_SetResult functions.
	The Tcl result of a native command is built as concatenation of
	command_print() strings and Jim_SetResult() is called after return
	of the command handler.  Replace "wrong number of args" error messages (now not delivered to
	user) by simply return ERROR_COMMAND_SYNTAX_ERROR Change-Id: I40c1374a13859cefbdef68e0f1c13ab93538bd50 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/5363 Tested-by: jenkins Reviewed-by: Tarek
	BOCHKATI <tarek.bouchkati@gmail.com>

2020-01-17  Antonio Borneo <borneo.antonio@gmail.com>

	* : jtag: drivers: xlnx-pcie-xvc: fix build after merge Commit [1] was submitted in gerrit well before the conflicting
	commit [2] get merged in master branch. While it was fine committing
	in master branch [1] alone, it should not be committed "as is" after
	[2].  Unfortunately gerrit did not complained committing [1] after
	[2].  The result is that master branch does not build anymore when
	the driver xlnx-pcie-xvc is enabled at configure time by the
	optional flag --enable-xlnx-pcie-xvc.  Apply to the driver the required changes as in [2].  While there,
	remove the duplicated struct xlnx_pcie_xvc_transports and the struct
	field already implicitly initialized to zero.  [1] ff6d0704ecd6 ("jtag: drivers: xlnx-pcie-xvc: Add support for     Xilinx XVC/PCIe") [2] efd1d642220a ("adapter: switch from struct
	    jtag_interface to adapter_driver") Change-Id: I5498479b802a231afbee1b845ae9775e1da7c728 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5402 Reviewed-by: Moritz Fischer
	<moritzf@google.com> Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2018-07-05  Oleksij Rempel <o.rempel@pengutronix.de>

	* : jtag_libusb_bulk_read|write: return error code instead of size A USB bulk write/read operation may fail with different errors:  LIBUSB_ERROR_TIMEOUT if the transfer timed out (and populates
	 transferred) LIBUSB_ERROR_PIPE if the endpoint halted  LIBUSB_ERROR_OVERFLOW if the device offered more data, see Packets
	 and overflows LIBUSB_ERROR_NO_DEVICE if the device has been
	 disconnected another LIBUSB_ERROR code on other failures Current OpenOCD code is using the transfer size based error
	detection.  Which may not always work. For example for
	LIBUSB_ERROR_OVERFLOW as libusb documentation says: "Problems may
	occur if the device attempts to send more data than can fit in the
	buffer. libusb reports LIBUSB_TRANSFER_OVERFLOW for this condition
	but other behaviour is largely undefined: actual_length may or may
	not be accurate, the chunk of data that can fit in the buffer
	(before overflow) may or may not have been transferred." This patch is refactoring code to use actual error return value for
	error detection instead of size.  Change-Id: Iec0798438ca7b5c76e2e2912af21d9aa76ee0217 Signed-off-by:
	Oleksij Rempel <o.rempel@pengutronix.de> Reviewed-on:
	http://openocd.zylin.com/4590 Tested-by: jenkins Reviewed-by:
	Oleksij Rempel <linux@rempel-privat.de>

2019-10-03  Moritz Fischer <moritzf@google.com>

	* : jtag: drivers: xlnx-pcie-xvc: Add support for Xilinx XVC/PCIe Add support for Xilinx Virtual Cable over PCIe JTAG controller.  It
	is commonly used in Xilinx based PCI Express designs with JTAG IP in
	the FPGA fabric.  Access to the JTAG registers happens via the PCI Express extended
	configuration space.  This can be used to debug soft-cores instantiated in the FPGA
	fabric.  The clang static checker doesn't find any new problems with this
	change.  Change-Id: Ib12ede0d1f26dacfda808d5e05b947b640c5bde7 Signed-off-by:
	Moritz Fischer <moritzf@google.com> Reviewed-on:
	http://openocd.zylin.com/5314 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by: Marex
	Reviewed-by: Oleksij Rempel <linux@rempel-privat.de>

2020-01-05  Marek Vasut <marek.vasut@gmail.com>

	* : flash/nor: Rename get_cfi_info() to cfi_get_info() This is a preparatory change, align the function name with the rest
	of the API, no functional change.  Change-Id: Ib967520f027b03eb1792b36ede52335df8e23941 Signed-off-by:
	Marek Vasut <marek.vasut@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5390 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2020-01-05  Marek Vasut <marek.vasut@gmail.com>

	* : flash/nor: Drop size argument of
	cfi_target_{read,write}_memory() The size argument is always set to bank->bus_width and bank pointer
	is now passed into cfi_target_{read,write}_memory(), so the size can
	be accessed through the bank pointer inside the function instead of
	being explicitly passed in.  Change-Id: I0abc1cc3bf513281c10cb5de7a21cb0e75cb7676 Signed-off-by:
	Marek Vasut <marek.vasut@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5389 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-12-20  Tomas Vanek <vanekt@fbl.cz>

	* : target/xscale: remove duplicated command Reported by clang static analyzer.  Change-Id: I893af10852af4885507ed62d024008159a80dd56 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/5382 Tested-by: jenkins Reviewed-by:
	Oleksij Rempel <linux@rempel-privat.de>

2019-12-20  Tomas Vanek <vanekt@fbl.cz>

	* : target/semihosting_common: fix minor memory leak Reported by clang static analyzer.  Change-Id: Ie663f49d92588c0d8b502cfdd8fc34004b308066 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/5380 Reviewed-by: Liviu Ionescu
	<ilg@livius.net> Tested-by: jenkins Reviewed-by: Oleksij Rempel
	<linux@rempel-privat.de>

2019-12-20  Tomas Vanek <vanekt@fbl.cz>

	* : target/avr32_jtag: fix error returns Fixed only 2 error returns discovered by clang static analyzer.
	There are obviously many more missing error tests in avr32_jtag.c
	These was not fixed to keep this change minimal.  Not tested with
	hw.  Change-Id: I6c79f6248db774990ddb42c0dacdb621651ed69e Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/5378 Tested-by: jenkins Reviewed-by:
	Oleksij Rempel <linux@rempel-privat.de>

2019-12-20  Tomas Vanek <vanekt@fbl.cz>

	* : target/arm946e: add missing error detection Discoverd by clang static analyzer.  While on it remove useless type
	casts from arm946e_read_cp15() parameter.  Change-Id: I549e19685b431400243800ee0f7d1bbe6cdb14b4 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/5376 Tested-by: jenkins Reviewed-by:
	Oleksij Rempel <linux@rempel-privat.de>

2019-12-20  Tomas Vanek <vanekt@fbl.cz>

	* : xsvf: fix memory leak Discovered by clang static analyzer.  Change-Id: I2980586aea5ee43226adb1f4cf72e7ba1dfddd83 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/5372 Tested-by: jenkins Reviewed-by:
	Oleksij Rempel <linux@rempel-privat.de>

2020-01-06  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : flash/nor: add support of STM32WB on top STM32L4 flash driver Change-Id: I9fb6700085d817d35a691f6484193f67939a4e0f Signed-off-by:
	Laurent LEMELE <laurent.lemele@st.com> Signed-off-by: Tarek BOCHKATI
	<tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4933 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2020-01-05  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : flash/nor/stm32l4x : add structure containers to hold devices'
	information This rework is inspired from the 'flash/nor/stm32h7x.c' This rework
	  will ease the support of new devices on top of this driver: for
	example: STM32WB have different flash base and size addresses Notes:  - stm32l4_probe modified in order to charge the correct part_info
	   from the defined stm32l4_parts according to the device id  - stm32l4_flash_bank.bank2_start is replaced by
	 .part_info->bank1_sectors - STM32_FLASH_BASE is removed , part_info->flash_regs_base will be
	   used instead based on that flash register addresses are changed to
	   offsets, >> stm32l4_get_flash_reg was modified accordingly  - stm32l4_read_option and stm32l4_write_option was modified to
	   accept an offset instead of an absolute address, luckily this is
	   the commands' argument by default  - stm32l4_mass_erase modifications :      - use MER2 only on top of dual bank devices      - wait for BUSY bit before starting the mass erase Change-Id: Ib35bfc3cbadc76bbeaaaba9005b82077b9e1e744 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4932 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz> Reviewed-by: Andreas Bolsch
	<hyphen0break@gmail.com>

2019-02-28  Antonio Borneo <borneo.antonio@gmail.com>

	* : stlink: fix handling of DPv1 and DPv2 banked registers Arm DPv1 and DPv2 support banked registers by setting the bank in
	field DPBANKSEL of register DP_SELECT.  Old ST-Link firmware don't
	support banked registers and setting a bank other than bank zero on
	DPv1 or DPv2 cause issues in the firmware because it cannot set back
	bank zero to read CTRL/STAT.  New ST-Link firmware mask away
	DPBANKSEL bits while writing in DP_SELECT but support banked
	register using the same packed method used by OpenOCD:         #define BANK_REG(bank, reg) (((bank) << 4) | (reg)) Add a new macro STLINK_F_HAS_DPBANKSEL for firmware that support arm
	DPv1 and DPv2, plus trigger an error if banked registers are
	requested on old firmware.  Prevent changing DPBANKSEL on old
	firmware.  Log a debug message when changing DPBANKSEL will be
	ignored.  Change-Id: Iaa592517831d63f8da2290db54f6b32504e3081b Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4978 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-01-23  Antonio Borneo <borneo.antonio@gmail.com>

	* : adi_v5_dapdirect: add support for adapter drivers that provide
	DAP API Some high level adapters, like STLINK-V3 and new firmware for
	ST-Link/V2, provide API to directly access the DAP registers hiding
	the details of the physical transport JTAG or SWD.  OpenOCD has
	already the intermediate API in struct dap_ops that are suitable for
	such adapters, but are not exposed to the adapter drivers.  Add in struct adapter_driver two independent struct dap_ops for the
	cases of physical JTAG and SWD transport.  Add new transport names
	"dapdirect_jtag" and "dapdirect_swd", to be used by the drivers that
	provide one or both DAP API.  Add the necessarily glue in
	target/adi_v5_dapdirect.c Change-Id: I2bb8e3a80fba750f2c218d877cfa5888428e3c28 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4903 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-01-22  Antonio Borneo <borneo.antonio@gmail.com>

	* : adapter: switch from struct jtag_interface to adapter_driver To reorganize the adapters code, introduce an adapter_driver struct
	that contains all the adapter generic part, while keeping in two
	separate struct the specific API jtag_ops and swd_ops.  Move the
	allocation of *adapter_driver from the JTAG-specific file core.c to
	the more adapter-specific file adapter.c While splitting the old
	jtag_interface for every driver, put the fields in the same order as
	in the struct declaration so we keep a consistent code across all
	the drivers.  While other transport specific API could/would be added as separate
	ops, nothing is done here for HLA.  Change-Id: I2d60f97ac514c0dd2d93a6ec9be66fd9d388dad5 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4900 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-01-14  Antonio Borneo <borneo.antonio@gmail.com>

	* : hla: remove empty JTAG execute_queue method We do not rely on JTAG queue anymore.  Remove the remaining JTAG
	heritage.  Change-Id: I6c87d9ffebaa383c998cf273188b3e7f28b3fe95 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4898 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-09-06  Antonio Borneo <borneo.antonio@gmail.com>

	* : hla: use the new system_reset API HLA uses its own internal driver's API to control the adapter's
	system reset, but at the same time it calls jtag_add_reset() to
	avoid breaking the internal logic of OpenOCD. This implicitly forces
	HLA to rely on jtag queue mechanism, even if HLA has no link with
	JTAG state machine. It requires HLA to implement an empty
	execute_queue() to comply with the JTAG queue.  Modify the HLA framework and the HLA targets to use the new adapter
	API for system_reset and decouple HLA from JTAG queue.  Rename the
	HLA static functions adapter_assert_reset() and
	adapter_deassert_reset() to avoid overlap with the global functions
	with same name.  While there, fix a minor typo in a comment
	s/incase/in case/.  Do not remove from HLA the JTAG specific API execute_queue(), even
	if not required anymore, because OpenOCD code still has calls to
	jtag_execute_queue() in case of non JTAG transport.  Change-Id: I0e65e3e557bd665bd3d3aeaa84ea609b55a05e48 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4896 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-08-31  Antonio Borneo <borneo.antonio@gmail.com>

	* : swd: get rid of jtag queue to assert/deassert srst The transport SWD uses the JTAG queue to assert/deassert the system
	reset srst. This is the major inconsistency that has to be removed
	to properly split JTAG and SWD.  Introduce a new driver API, reset(), to controls both the signals
	trst and srst in the driver, skipping the JTAG queue. Put the new
	API in struct jtag_interface, even if in this patch it's used for
	SWD only; the goal is to get it reused by the other transports.  Add the implementation of the API in all the drivers that implement
	SWD. Such implementation is almost the same of the old code in JTAG
	queue.  Create a wrapper adapter_system_reset() to use the new API and
	remove the SWD specific swd_add_reset(). In the wrapper replace
	jtag_add_sleep() with jtag_sleep(), because the former uses the JTAG
	queue too.  Rename the old jtag_add_reset() as
	legacy_jtag_add_reset() with the target to remove it when all
	drivers would be ported to the new reset API. Create a new
	jtag_add_reset() that calls the legacy function for drivers still on
	the old reset API.  Use the new API also on JTAG transport for the drivers that can
	support both SWD and JTAG.  For the moment, do not modify the implementation of JTAG-only
	drivers, which will continue using the usual method. This should be
	cleaned-up in future commits.  Change-Id: I32331c88313f6059b25e12c6bb0156aebc1c074f Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4895 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-04-19  Marek Vasut <marek.vasut@gmail.com>

	* : flash/nor: Factor out cfi_spansion_unlock_seq() Factor out the spansion unlock sequence to deduplicate the code.  Change-Id: Id78522e9a2f0e701870ef816772289d08257476a Signed-off-by:
	Marek Vasut <marek.vasut@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5144 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2019-01-23  Antonio Borneo <borneo.antonio@gmail.com>

	* : arm_adi_v5: add API send_sequence() and use it The method to send an arbitrary sequence to DAP depends on the
	transport and is thus different on JTAG and SWD. This is already
	coded in dap_to_jtag() and dap_to_swd().  Add a new API send_sequence() in struct dap_ops.  Add the
	implementations of send_sequence() in adi_v5_jtag.c and adi_v5_swd.c
	Rewrite dap_to_jtag() and dap_to_swd() using the new API.  Move the
	enum swd_special_seq in arm_adi_v5.h to solve a circular
	dependencies among swd.h and arm_adi_v5.h Change-Id: I9db13a00f129761eab283783c094cfff2dd92610 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4902 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-08-14  Antonio Borneo <borneo.antonio@gmail.com>

	* : jtag: replace command "jtag_reset" with "adapter [de]assert" Replace the JTAG transport specific command with a more generic one.
	Deprecate "jtag_reset" and update the documentation.  While there,
	fix an error in the documentation, where the command "jtag_reset"
	was used in place of command "reset_config".  Change-Id: I41a988d37ce69f7b35a960cbaf5306aab0299b99 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5286 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-10-21  Jan Matyas <matyas@codasip.com>

	* : jtag_vpi: multiple improvements - Fix: Proper handling of read_socket() and write_socket() in case
	of "partial" read/write.  - Added low-level JTAG IO debug capability (_DEBUG_JTAG_IO_) - Zero-fill packet buffers, avoid sending pieces of uninitialized
	memory over the network (memset struct vpi_cmd) - Use close_socket() instead of close() - needed for Win32 - Fixed usage messages of jtag_vpi_command_handlers Change-Id: I8bd19bc5c9512fe8e798600212e8a95213f50f5b Signed-off-by:
	Jan Matyas <matyas@codasip.com> Reviewed-on:
	http://openocd.zylin.com/5177 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-05-20  Marc Schink <openocd-dev@marcschink.de>

	* : contrib/rpc_examples: Add (dis)connect methods Add these methods such that the OpenOcd class can also be used
	outside of a 'with' statement.  Change-Id: I927c93fff2dc05cc74daa56360a7262e736a639f Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/5189 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2019-12-10  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor/kinetis: fix clang static analyzer warnings Use assert to remove "Dereference of null pointer" warnings.  Change-Id: Ie204c234a71758e6470351e1d9f22da3dd887f56 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/5357 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2019-12-16  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : flash/nor/stm32h7: (minor) use proper variable names and enhance
	logging -fsize_base should be fsize_addr as it is the address of FLASH_SIZE
	register -flash_base should be flash_regs_base to avoid confusion
	with flash block start -add LOG_ERROR to functions
	stm32x_[read|write]_flash_reg(...) Change-Id: I86f035314bcd616fc0bdf445692d945a85c15481 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5362 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2016-12-02  Marc Schink <openocd-dev@marcschink.de>

	* : target/armv7m_trace: Improve SWO frequency auto-detection The SWO frequency auto-detection with J-Link adapters does not work
	properly in the current implementation. This is because the trace
	layer has only information about the highest possible SWO frequency
	supported by the adapter. With that the trace layer calculates the
	SWO prescaler which usually leads to a frequency deviation greater
	than what is permitted by J-Link adapters.  Move the calculation of the SWO prescaler from the trace layer into
	the trace configuration of the adapter to overcome this problem.
	The adapter has the necessary information to choose a suitable SWO
	frequency and calculate the corresponding prescaler that complies
	with the maximum allowed frequency deviation.  Tested with:   - STM32L152RC Discovery Kit (ST-Link)   - EFM32GG-STK3700 (J-Link) Change-Id: I38ff2b89d32f0a92c597989b590afe5c75cf4902 Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/3903 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2019-06-24  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/armv4_5: use c99 array designator to init arm_core_regs[] During code analysis and development, counting again and again the
	lines to find the index of the register is a boring error-prone
	brain-damaging activity.  Use the c99 syntax and add once forever
	the array designators to specify the index values.  The code
	behavior is not changed.  Change-Id: I2c70f70794475679efb91a8dfadc00f50715bd3f Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5256 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-09-27  Antonio Borneo <borneo.antonio@gmail.com>

	* : gdb_server: fix extended_protocol for multi-target The flag extended_protocol is currently a single static variable
	thus, in case of multiple targets, it is shared among all the gdb
	connections. This is an issue if the gdb connections are not all
	using extended protocol, but also when one connection get closed
	because the code sets the flag to zero impacting the other
	connections still open.  Move the flag extended_protocol in the per-connection struct
	gdb_connection.  Change-Id: I19d565f925df6a31767fd8d392242f60867109f2 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5310 Tested-by: jenkins Reviewed-by: Moritz
	Fischer <moritzf@google.com> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2019-12-10  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor/stm32f2x: fix clang static analyzer warning Using a signed variable as a parameter of FLASH_SNB() macro
	generated "warning: The result of the left shift is undefined
	because the left operand is negative" Change-Id: I8b3fe840f9308962460906097df6ddd848c07b25 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/5356 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2019-05-09  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor/nrf5: remove check for protected sector The new "Access control list" flash protection scheme used in
	nRF52840 is not yet supported. Do not prevent sector erase if
	protection state is unknown.  Change-Id: Iae9a869a54ffbdc888fb3ec478dafb5c942d9ea0 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/5348 Tested-by: jenkins

2019-11-06  Paul Fertser <fercerpav@gmail.com>

	* : server: gdb_server: fix memory map generation on a 32-bit BE
	host Due to lack of printf format check wrong specifier was used and it
	actually broke operation on a 32-bit BE host.  So fix this and add the necessary function attributes so that the
	bugs like that can be uncovered automaticaly.  Reported and pinpointed by Karl Palsson on IRC.  Change-Id: I254ec28fcd9bb30594d607f74a6dba5456c2c7a1 Tested-by: Karl
	Palsson <karlp@tweak.net.au> Signed-off-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-on: http://openocd.zylin.com/5342
	Tested-by: jenkins Reviewed-by: Karl Palsson <karlp@tweak.net.au>
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2014-09-23  Peter Mamonov <pmamonov@gmail.com>

	* : mips64: Add generic mips64 target support Change-Id: I2bdd2573f23e65652686d18031698f423eec77c0 Signed-off-by:
	Konstantin Kostyukhin <kost@niisi.msk.ru> Signed-off-by: Aleksey
	Kuleshov <rndfax@yandex.ru> Signed-off-by: Peter Mamonov
	<pmamonov@gmail.com> Signed-off-by: Oleksij Rempel
	<linux@rempel-privat.de> CC: Dongxue Zhang <elta.era@gmail.com> CC:
	Paul Fertser <fercerpav@gmail.com> CC: Salvador Arroyo
	<sarroyofdez@yahoo.es> CC: Spencer Oliver <spen@spen-soft.co.uk>
	Reviewed-on: http://openocd.zylin.com/2322 Tested-by: jenkins
	Reviewed-by: Paul Fertser <fercerpav@gmail.com>

2018-10-28  Christopher Head <chead@zaber.com>

	* : target/stm32h7x: Use AP2 to access DBGMCU when non HLA adapter
	is used The STM32H7 has three access ports. The DBGMCU component is
	available through AP0 at 0x5C001000 and through AP2 at 0xE00E1000.
	Using the latter is preferable for early configuration because it
	works in all power states and while SRST is asserted, whereas the
	former does not.  Change-Id: Iaf8f01d769efb6655040060a8e1e951e1f7e50ab Signed-off-by:
	Christopher Head <chead@zaber.com> Signed-off-by: Tarek BOCHKATI
	<tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4742 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2019-08-29  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : flash/nor/stm32h7x: fix option bytes handling to work with both
	banks To achieve that we need to avoid using FLASH_REG_BASE_B0, and use
	bank registers instead:    For dual bank devices, each option register is mapped in 2
	   addresses at the same offset from flash_bank_reg_base.     This is true for OPTCR, OPTKEYR, OPTSR_CUR/PRG, OPTCCR according
	   to RM0433 Rev6 (refer to section 3.9: FLASH registers) In stm32x_write_options, according to RM0433 Rev6, after OBL launch
	we should wait for OPTSR_CUR.BSY bit instead of FLASH_SR.QW Change-Id: Ie24a91f069d03c9233797390fc2e925c737dad90 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5291 Tested-by: jenkins Reviewed-by:
	Christopher Head <chead@zaber.com> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2019-01-23  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor/nrf5: fix allocation of driver_priv and sector array Drop static pointer to allocated struct nrf5_info, iterate over the
	flash bank list to find previously allocated nrf5 instances.  nrf5
	is swd only device, so static allocation makes no harm, but we
	should avoid copying the wrong code to other flash drivers.  Free sector array before allocating it to avoid memory leak on
	re-probing device.  Change-Id: I781d8f4418a91c043f2393e5ecc5278fc6df3566 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4910 Tested-by: jenkins

2019-01-21  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor/nrf5: do not check FICR PPFC on nRF52 Change-Id: I6beee9b85a542040f2495513b5ba51bd8e1389db Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4867 Tested-by: jenkins

2019-01-20  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor/nrf5: refactor sector allocation to use
	alloc_block_array() Change-Id: Ied8ea917cec492fc6bb8836a92d8c4ceaf3b499b Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4865 Tested-by: jenkins

2019-01-13  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor/nrf5: detect newer devices without HWID table nrf5 flash driver detected devices by looking up the HWID in the
	table of known devices. Unfortunately chips are produced with many
	different HWIDs for each type.  All nRF52 devices have FICR INFO field suitable for device
	identification without need of HWID lookup.  Some newer nRF51
	devices have FICR INFO too although undocumented.  Use this
	information to identify the device.  nrf5_info() is reworked to show just concise info.  Decoding FICR
	and UICR registers was moved from nrf5_info() to a new command 'nrf5
	info' without functional changes.  The flash bank for UICR page has the same size as program flash
	sector.  Change-Id: I900095b9ae23ee995f8e2bef8539b75d00300da5 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4848 Tested-by: jenkins

2019-10-08  Antonio Borneo <borneo.antonio@gmail.com>

	* : helper: skip including sys/sysctl.h on Linux Starting from glibc 2.30, the header file sys/sysctl.h gets
	deprecated on Linux, after the commit 744e82963716 ("Linux:
	Deprecate <sys/sysctl.h> and sysctl")
	https://sourceware.org/git/?p=glibc.git;a=commitdiff;h=744e82963716The associated NEWS reports         The Linux-specific <sys/sysctl.h> header and the sysctl         function have been deprecated and will be removed from a         future version of glibc.  Latest automake 1.16.1 still does not handle this case.  Current
	OpenOCD build fails with warning and requires configure with
	"--disable-werror" to build.  Prevent including sys/sysctl.h on Linux build.  Change-Id: I5310976573352a96e5aef123352f73475f0c35fe Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5317 Tested-by: jenkins Reviewed-by: Moritz
	Fischer <moritz.fischer.private@gmail.com> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2019-10-27  Ake Rehnman <ake.rehnman@gmail.com>

	* : STM8 Target relicensing to GPLv2 and later Change-Id: I21126945c0475399aaf12239b8972fde5fddd845 Signed-off-by:
	Ake Rehnman <ake.rehnman@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5331 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Reviewed-by: Tarek BOCHKATI
	<tarek.bouchkati@gmail.com>

2019-10-29  Alexandru Gagniuc <mr.nuke.me@gmail.com>

	* : jtag: jtag_vpi: Add missing 'default' to switch statement If a new JTAG command is added, then GCC will complain that
	enumeration value not handled in switch. Make this consistent with
	other drivers, and add a 'default' case.  Change-Id: I66d6d0db3fcae93ea246f2d4882ffff5dec14693 Signed-off-by:
	Alexandru Gagniuc <mr.nuke.me@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5340 Tested-by: jenkins Reviewed-by: Jan
	Matyas <matyas@codasip.com> Reviewed-by: Franck Jullien
	<franck.jullien@gmail.com> Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2019-01-11  Mirko Vogt <mirko.vogt@sensorberg.com>

	* : nrf5: update links to compatibility matrixes for nrf5x variants Change-Id: If51aa992ccbb8c9a2e502b74827a36a62010546d Signed-off-by:
	Mirko Vogt <mirko.vogt@sensorberg.com> Reviewed-on:
	http://openocd.zylin.com/4843 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-05-06  Antonio Borneo <borneo.antonio@gmail.com>

	* : drivers/gw16012: remove useless cast on gw16012_port The variable gw16012_port is of type uint16_t.  There is no need for
	a cast to print it.  Change the format modifier to PRIx16 Change-Id: I16fe688b9d235bae46525635d07849a00fba9548 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5195 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2019-05-17  Alexey Brodkin <abrodkin@synopsys.com>

	* : gdb-server: Create arch-specific structure type for every
	feature As it is mentioned here [1] type's ID is unique name within
	containing feature.  That said if regs of the same type located in different features
	it's required to insert type definition at least in each feature.  See more details in discussion here [2].  [1]

	https://sourceware.org/gdb/onlinedocs/gdb/Target-Description-Format.html#Types[2]

	https://github.com/foss-for-synopsys-dwc-arc-processors/openocd/commit/2a5f5125ac8fa0e1359b6be03b209f9f5d1ade82#r33460077Change-Id: Id92b061cfbf47d5c032a02c2c406b28affd0b02a Signed-off-by:
	Alexey Brodkin <abrodkin@synopsys.com> Reviewed-on:
	http://openocd.zylin.com/5179 Tested-by: jenkins Reviewed-by:
	Muhammad Omair Javaid <omair.javaid@linaro.org> Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2019-02-26  Bohdan Tymkiv <bhdt@cypress.com>

	* : adi_v5_jtag: avoid RAM exhaustion by limiting jtag queue size Issue has been found when I tried to read 64 MiB QSPI flash bank.
	Bank is memory mapped, default_flash_read() is used for 'flash
	read_bank' command. OpenOCD consumed as much as 6.8 GiB of RAM
	during this process. Investigation showed that this happens because
	JTAG queue is not limited in any way. OpenOCD queues 16 millions of
	AP reads allocating all corresponding data structures.  Most of this memory is allocated in: cmd_queue_alloc (commands.c) -
	4.2 GiB dap_cmd_new (adi_v5_jtag.c) - 2.25GiB This patch implements a pool of "struct dap_cmd" objects using
	linked list. Objects are taken from a pool in "dap_cmd_new()" and
	returned to the pool when they are not needed. Size of the pool is
	limited to 64K of objects, JTAG queue is forcibly executed when this
	limit is reached.  Checked with Valgrind and Clang analyzer - no new warnings.  Change-Id: I5aaaecce5ed71414f7965a2598f49742f6a6b2b5 Signed-off-by:
	Bohdan Tymkiv <bhdt@cypress.com> Reviewed-on:
	http://openocd.zylin.com/4948 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2018-11-21  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : nrf5: Fix misuse of flash bank number Make driver_priv point directly into the corresponding chip bank
	structure and add a pointer to it to get back to its chip when it's
	needed. This removes the need to keep track of any bank number,
	either global or chip- local.  In addition, it simplifies the cases where the chip structure was
	just used to access the chip bank fields; now they are directly
	accessible.  Change-Id: Iaa353cd4fa7d8ff94c2ef69028c7cb32fade0420 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4775 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2016-07-14  Felipe Balbi <balbi@kernel.org>

	* : stm32l0|l1: don't corrupt RCC registers instead of overwriting Reset settings, let's read-modify-write RCC
	registers.  Change-Id: I21b7e26e6007d3c3d73803c681c980c6947f5910 Signed-off-by:
	Felipe Balbi <balbi@kernel.org> Reviewed-on:
	http://openocd.zylin.com/3601 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2019-09-25  Al Dyrius <aldyrius42@gmail.com>

	* : Update FTDI C232HM cfg, and add two new cfgs from cable modem
	research Change-Id: Idbeffcd5ff4380b1e7c9fd5ef6ba3ca77cc22d99 Signed-off-by:
	Al Dyrius <aldyrius42@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5307 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2019-09-20  Tomas Vanek <vanekt@fbl.cz>

	* : doc: emphasize the role of 'reset init' before flash commands Change-Id: I4a4061ad0fa6e5dfb1e33f01d62145ca9bf12148 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/5304 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2018-11-14  Tim Newsome <tim@sifive.com>

	* : Add wall clock timeout warning to mpsse_flush() I think that libusb_handle_events_timeout_completed is supposed to
	make progress or time out, but sometimes we hit a case where it
	makes no progress, and mpsse_flush() loops forever. This wall clock
	timeout notifies the user that this is going on.  When I wrote this code, this bug would reproduce every hour or two,
	but right now it's not happening for me.  Change-Id: I7eb66f43462298e263a48048aa0c8769095661eb Signed-off-by:
	Tim Newsome <tim@sifive.com> Reviewed-on:
	http://openocd.zylin.com/4767 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2019-09-12  Seth LaForge <sethml@google.com>

	* : src/jtag/aice: Fix obviously incorrect bit op.  Fix expression "(pin_status | 0x4)" which was always true rather
	than testing a bit. Untested - was clearly not expressing the intent
	of the author by inspection. Found by automated tooling and
	rtrieu@google.com.  Signed-off-by: Seth LaForge <sethml@google.com> Change-Id:
	I4bb91e60e8ce9757bf21976cc48de6f85a39c68d Reviewed-on:
	http://openocd.zylin.com/5301 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2019-09-11  Marc Schink <openocd-dev@marcschink.de>

	* : flash/nor/tcl: Fix usage of 'flash erase_sector' command Change-Id: I2141e377a0531cab8d1140049a2ee7721d30cfdc Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/5299 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-05-20  Khem Raj <raj.khem@gmail.com>

	* : esirisc_flash: Rename PAGE_SIZE to FLASH_PAGE_SIZE PAGE_SIZE is defined in system includes on some systems, this would
	avoid the unintended conflict Fixes | src/flash/nor/esirisc_flash.c:95:9: error: 'PAGE_SIZE' macro
	redefined [-Werror,-Wmacro-redefined] | #define PAGE_SIZE
	4096 |         ^ |

	/mnt/a/yoe/build/tmp/work/core2-64-yoe-linux-musl/openocd/0.10+gitrAUTOINC+7ee618692f-r0/recipe-sysroot/usr/include/limits.h:89:9: note: previous definition is here | #define
	PAGE_SIZE PAGESIZE Change-Id: I195b303fc88a7c848ca4e55fd6ba893796df55cc Signed-off-by:
	Khem Raj <raj.khem@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5180 Tested-by: jenkins Reviewed-by: Steven
	Stallion <sstallion@gmail.com> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2019-08-27  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : flash/nor/stm32h7x: remove flash size information from device
	name There is no sense in displaying the max size (2M) as there is
	variants of this device with reduced flash size Change-Id: I40574064d75fdf2a038044c81038a6d7abc6c4dd Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5288 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by: Christopher
	Head <chead@zaber.com> Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2019-06-17  Han Hartgers <Han.Hartgers@gmail.com>

	* : target/dsp563xx: dsp563xx restore reg support Added "exist=true" field to the reg_list struct to make access to
	the dsp563xx registers again possible. Without it defaults to
	exist=false and all the reg related functions will return nothing.  Fixes regression from b5964191f0d2fc3ace607af001df3d57cbfbaf2b Change-Id: I9c256346735b8d66919c4ba83f528a8afca46ff9 Signed-off-by:
	Han Hartgers <han.hartgers@gmail.com> Signed-off-by: Tomas Vanek
	<vanekt@fbl.cz> Reviewed-on: http://openocd.zylin.com/5239
	Tested-by: jenkins

2019-04-08  Tim Newsome <tim@sifive.com>

	* : gdb_server, rtos: Fine-grained RTOS register access 1. Add get_thread_reg() to rtos. It's used in rtos_get_gdb_reg() to
	read the value of a single register, instead of reading all register
	values by calling get_thread_reg_list().  2. Add set_reg() to rtos. gdb_server uses this to change a single
	register value for a specific thread.  3. Add target_get_gdb_reg_list_noread() so it's possible for gdb to
	get a list of registers without attempting to read their contents.  The clang static checker doesn't find any new problems with this
	change.  Change-Id: I77f792d1238cb015b91527ca8cb99593ccc8870e Signed-off-by:
	Tim Newsome <tim@sifive.com> Reviewed-on:
	http://openocd.zylin.com/5114 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2019-07-01  Marc Schink <openocd-dev@marcschink.de>

	* : contrib/rpc_examples: Adapt to new command line handling Change-Id: I844ef7fbf57a22097a936f4614b4a4c7e980bef6 Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/5248 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2019-06-26  Marc Schink <openocd-dev@marcschink.de>

	* : configure.ac: Fix ST-Link adapter description The ST-Link driver supports not only JTAG but also SWD and SWIM.  Change-Id: I9f0e7b018cae54ed8e73a724151647e050e7bb49 Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/5247 Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com> Tested-by: jenkins

2019-06-08  Antonio Borneo <borneo.antonio@gmail.com>

	* : helper/options: simplify the code using command_run_linef() Thanks to command_run_linef() there is no need to pre-build the
	command using alloc_printf().  Change-Id: Iccfebd6063d1ac162f090fe2309b1f51bebf0214 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5226 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-06-12  Kevin Gillespie <kgills@gmail.com>

	* : doc: makeinfo extra whitespace Extra whitespace in file creating build errors with makeinfo.  Change-Id: Ib764850c1c8ff596d3c753eadd8e27f8c5982d20 Signed-off-by:
	Kevin Gillespie <kgills@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5229 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-06-05  Marc Schink <openocd-dev@marcschink.de>

	* : tcl/target: Add initial Microchip SAML1x support There is not flash bank support at the moment.  Change-Id: I833c009d9d21cdeb70b57d67eb557d50ed0fb4de Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/5205 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz> Reviewed-by: Matthias Welwarsky
	<matthias@welwarsky.de>

2019-06-14  Marc Schink <openocd-dev@marcschink.de>

	* : target/arm_adiv5: Add type for AHB5-AP This access port type comes with the AMBA 5 protocol specification,
	see 'C1.3 AP' in ARM IHI 0031D.  Change-Id: I3c4f0a69230daaf4f5f979de6213fe3c025a089a Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/5231 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by: Muhammad
	Omair Javaid <omair.javaid@linaro.org>

2019-03-21  Omair Javaid <omair.javaid@linaro.org>

	* : Support for debugging on ARMv8-M CPUs This patch adds ARMv8-M CPUs detection logic in ARMv7m target
	specific code.  Also adds a slightly different watchpoint manipulation logic for
	ARMv8-M.  This is based on ARMv8-M architecture reference manual.  Tested on ARM Musca A board.  Change-Id: I0652560954ef02c378a7067fab586edf39d3e9cc Signed-off-by:
	Omair Javaid <omair.javaid@linaro.org> Reviewed-on:
	http://openocd.zylin.com/4997 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-02-24  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/aarch64: remove dependency from jtag queue Replace jtag specific API jtag_add_reset() with transport
	independent API adapter_{de}assert_reset().  Change-Id: I32c43e2e47366363521fa3f387de9e2fb1c20852 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4943 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2019-02-26  Antonio Borneo <borneo.antonio@gmail.com>

	* : target: fix error on TCL command "return" in target event
	handler The TCL command "return" always returns error code JIM_RETURN, to
	indicate that the effective error code and message are elsewhere.  In the current implementation, the caller of target's event only
	checks for return code JIM_OK and considers any other value,
	including JIM_RETURN, as an error condition, thus dumping the
	call-trace. The execution is not stopped because the error is not
	further propagated, but the error message is annoying and
	misleading.  It can be tested running         openocd -f ./test.cfg using the following script "test.cfg".
	You can replace the board file in line 1, to use a board available
	  in your lab: 1     source [find board/st_nucleo_f4.cfg]   2     [target current] configure -event reset-start {}   3     [target current] configure -event reset-end {return}   4     init   5     proc a {} {[target current] invoke-event reset-start}   6     proc b {} {[target current] invoke-event reset-end}   7     proc c {} {a;b;echo "arrived at the end"}   8     c   9     shutdown The execution produces:         ./test.cfg:7: Error:         in procedure 'c' called at file "./test.cfg", line 8         in procedure 'b' called at file "./test.cfg", line 7         arrived at the end that shows the call-trace but does not
	halt the execution.  The developer can avoid using the "return" command in the event body
	by defining a TCL procedure that implements the handler and that
	contains the "return" command, reducing the handler body to a simple
	call to the procedure above. But this approach is either not
	documented nor always intuitive while writing the handler, causing
	waste of time to look for the false error.  Modify target_handle_event() to detect the specific return value of
	the "return" command and to test the real error code that is,
	eventually, specified to the TCL "return" command.  Change-Id: I2b860bab7233c6ed13ee4098e348d7533e1c4626 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4974 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-06-03  Tilman Sauerbeck <tilman@code-monkey.de>

	* : jtag: drivers: buspirate: chunk SWD switch sequence transfer.  Commit c2e18bfaeafd changed the size of the JTAG-to-SWD sequence
	from 15 bytes to 17 bytes. This broke SWD switch sequence transfer
	for buspirate, since buspirate packets can only hold a payload of up
	to 16 bytes and we tried to fit the whole sequence in a single
	packet.  Splitting up the sequence transfer in appropriately sized packets
	makes buspirate SWD work again (successfully tested with buspirate
	firmwares v6.1 and v7.0).  Change-Id: Ib5b412b9e77287d705d2762e31c16d30318b50e3 Signed-off-by:
	Tilman Sauerbeck <tilman@code-monkey.de> Reviewed-on:
	http://openocd.zylin.com/5200 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2019-04-26  Tomas Vanek <vanekt@fbl.cz>

	* : target: make target re-configuration possible again Before commit 877cec20dca6e78f9f029f0f173879cda101a6c2 ("command:
	check command mode for native jim commands") all the jim commands
	were erroneously treated as they had mode COMMAND_ANY.  The command '$_TARGET configure -xxx' was therefore applicable on
	running OpenOCD to change the target configuration. It is handy e.g.
	for changing an event handler or changes of the work area.  Change 'configure' command .mode to COMMAND_ANY to make it possible
	again.  The only parameter which cannot be re-configured after init is
	-gdb-port.  Test the command mode and refuse setting of gdb port
	after init.  Change-Id: I88493ac10a46647dc52a88fbc9f8ce6b5ba3bcd0 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/5214 Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com> Tested-by: jenkins Reviewed-by: Matthias
	Welwarsky <matthias@welwarsky.de>

2019-03-15  Antonio Borneo <borneo.antonio@gmail.com>

	* : mem_ap: fix format of logged addresses The macro TARGET_ADDR_FMT, defined in helper/types.h, already
	includes the prefix "0x" in front of the hexadecimal number, being
	        defined as: #define TARGET_ADDR_FMT "0x%8.8" TARGET_PRIxADDR An
	additional "0x" is present in mem_ap; it prints debug messages with
	        a double "0x" before the address: Debug: 2921 34180 mem_ap.c:153
	        mem_ap_write_memory(): Writing memory at physical address
	        0x0x5000000c; size 4; count 1 Remove the incorrect hexadecimal prefix.  Change-Id: I38f19ed2a2f542bd5df53e947a2604f1cbe80e08 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5222 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2019-03-19  Florian Fainelli <f.fainelli@gmail.com>

	* : armv7a_mmu: Add support for decoding Super Sections The ARMv7-A architecture supports super sections which allows
	mapping physical addresses up to 40-bit into a 32-bit virtual
	address using the short descriptor format (see ARM DDI 0406C.c
	section B4.1.112 for details).  Change-Id: I8e64d0e93e36ae7a7da7b7bf2a8342856bb044f1 Signed-off-by:
	Florian Fainelli <f.fainelli@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5212 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by: Matthias
	Welwarsky <matthias@welwarsky.de>

2019-06-05  Florian Fainelli <f.fainelli@gmail.com>

	* : armv7a_mmu: Remove armv7a_mmu_translate_va() This function is not used anywhere in the tree, remove it, such that
	we only have a single function moving forward that might need to
	deal with short vs. long format specifics.  Change-Id: I80e81cd7eba1e028d1afaeaedb675b46c0ca6fa1 Signed-off-by:
	Florian Fainelli <f.fainelli@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5213 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by: Matthias
	Welwarsky <matthias@welwarsky.de>

2019-05-31  Antonio Borneo <borneo.antonio@gmail.com>

	* : contrib/rpc_examples: remove 'ocd_' command prefix from haskell
	example The prefixed commands has been removed in commit 0840414f0e57
	("helper/command: do not replace new commands with ocd_ prefix").  Change-Id: I9f101beb85533973041386896bbb215bb141962f Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5191 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2019-06-05  Tomas Vanek <vanekt@fbl.cz>

	* : target/armv7m: fix register number in armv7m_get_core_reg() armv7m_get_core_reg() calls arm->read_core_reg()
	arm->read_core_reg() expects the register number as an index to core
	reglist, not an ARMv7M specific register code.  Use reg->number
	instead of armv7m_reg->num.  The change solves assert   src/target/armv7m.c:222: armv7m_read_core_reg: Assertion   `num < (int)armv7m->arm.core_cache->num_regs' failed.  when gdb
	'info reg' is issued on a Cortex-M target and no
	cortex_m_debug_entry() has been called since OpenOCD start (target
	was halted before OpenOCD start).  Change-Id: I32a2294693ef979b613be93aeceb3b0eb06ee6df Ticket:
	https://sourceforge.net/p/openocd/tickets/216/ Signed-off-by: Tomas
	Vanek <vanekt@fbl.cz> Reviewed-on: http://openocd.zylin.com/5203
	Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2019-02-13  Antonio Borneo <borneo.antonio@gmail.com>

	* : gdb_server: remove call to jtag_execute_queue() In the initial commit 6c9b804d6187edda4f46f8458deec0b17ec76bb9 in
	2007's svn://svn.berlios.de/openocd/trunk@246 a target script
	gdb_program_config was called before gdb flash programming. To
	guarantee the script does not left any pending command in the jtag
	queue, a call to jtag_execute_queue() was inserted after the
	execution of the script.  In following commit ef1cfb23947bd32798077c6abb5c25a049460ae9 in
	2008's svn://svn.berlios.de/openocd/trunk@975 the script was
	replaced by the event "old-gdb_program_config" and the call to
	jtag_execute_queue() get executed in every case, even if the event
	handler was not present.  At last, commit bb3793c9a4ccd232c4ee3ce0a36bf200589ca0bb ("target:
	remove legacy target events") stripped away the obsolete event but
	left the call to jtag_execute_queue(), now completely useless.  Remove the call to jtag_execute_queue() and clean-up the code around
	it.  Change-Id: I284f54d656d431ad6cdc25ca18218c09db31bd25 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4911 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-01-28  Antonio Borneo <borneo.antonio@gmail.com>

	* : helper: add bitmap helper primitives Mainly copied/inspired from Linux kernel code in - include/linux/types.h - include/linux/bitmap.h - include/linux/bitops.h Change-Id: I317b542993ab81530c86553f339b79505d0fef0f Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4894 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2018-08-06  Antonio Borneo <borneo.antonio@gmail.com>

	* : swd: remove unused API frequency() The specific SWD API to change/query the adapter speed is never
	called because the equivalent JTAG API is used in place of it.  In
	the restructure of struct jtag_interface, the JTAG API is promoted
	as global adapter API, thus a specific SWD one is not anymore
	required.  Change-Id: I1e810d255b4dfcd5791b4fac8ae1260c31a057fd Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4891 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-04-16  Bohdan Tymkiv <bhdt@cypress.com>

	* : gdb_server: fix GDB_BUFFER_SIZE usage, fix unaligned access
	during bulk transfers Currently size of the GDB buffer is 16384 bytes but it is treated as
	nul-terminated string in most of the code, so effective size of the
	buffer is actually 16383 bytes. OpenOCD responds with
	`PacketSize=3fff` to qSupported request. Result of GDB's `m` command
	is encoded in hex so each data byte uses two bytes in the buffer. As
	a result GDB will split bulk read requests into chunks 0x1fff bytes
	each. This causes troubles on targets (or memory regions) which
	support only aligned, word-sized access (such as MMIO buffers).  Steps to reproduce (psoc6 target): gdb> dump binary memory dump.bin
	0x040320000 (0x040320000 + 65536) OpenOCD: Error: Failed to read memory at 0x40321ffe Error: Failed to
	read memory at 0x40321000 Error: Failed to read memory at 0x40323000
	Error: Failed to read memory at 0x40325ffe Error: Failed to read
	memory at 0x40329ffa Error: Failed to read memory at 0x40329ffc
	Error: Failed to read memory at 0x4032bffc Error: Failed to read
	memory at 0x4032dffa Consolidate GDB_BUFFER_SIZE usage: ensure size of each buffer is
	(GDB_BUFFER_SIZE + 1), add explicit comment that additional byte is
	used for nul-termination. Report correct size of the buffer to GDB
	(0x4000) as recommended in GDB's docummentation: `if the stub stores
	packets in a NUL-terminated format, it should allow an extra byte in
	its buffer for the NUL` Checked with clang-asan, clang-analyzer, valgrind - no new errors.  Change-Id: I909e8a2c6b010c5d4a304641808d4a807a4ec18d Signed-off-by:
	Bohdan Tymkiv <bhdt@cypress.com> Reviewed-on:
	http://openocd.zylin.com/5109 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-05-06  Marc Schink <openocd-dev@marcschink.de>

	* : jtag/drivers/jtag_usb_common: Fix variable name Change-Id: I3773afa75724dc71801af39cc9135b7b9585bc47 Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/5154 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-05-06  Marc Schink <openocd-dev@marcschink.de>

	* : jtag/drivers/jtag_usb_common: Remove warning The warning appears for every possible device during enumeration and
	provides no useful information for an end-user.  Change-Id: I56e7889a5d9d4656de13ad9e21be3a6e1906e05f Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/5155 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2018-11-22  Tomas Vanek <vanekt@fbl.cz>

	* : target: make handle_md_output() global Remove a copy of handle_md_output() from src/target/dsp563xx.c Change-Id: Iadd003fd1dcdbc7990d46a58ee2e7c30826ac6af Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/5175 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2019-05-05  Antonio Borneo <borneo.antonio@gmail.com>

	* : guess-rev.sh: fix minor typo s/reecognized/recognized/ Change-Id: I7129090d464d780632c0b7504e48fb90e847b30d Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5163 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-05-07  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : cortex_m: set the debug reason to DBGRQ when NVIC_DFSR indicates
	EXTERNAL By definition the EXTERNAL bit in Debug Fault Status Register
	indicates that an external debug request (EDBGRQ) signal was
	asserted.  Usage example: this could be done by CTI in multicore devices in
	order to halt all the cores together.  Change-Id: I7830455ce5da6702b7d08c8fa7bfe80e4d8a5055 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5157 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-05-05  Antonio Borneo <borneo.antonio@gmail.com>

	* : target: remove unused function target_buffer_get_u8() Left unused after commit "target: unify memory read/write commands",
	can be removed.  Change-Id: Iea6ef9204c8071283a66a679b3d6edbb0c929c5c Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5153 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-05-21  Steven Stallion <stallion@squareup.com>

	* : doc/openocd.texi: fix bad aarch64 merge The documentation added for commit
	b3d29cb5441ee5d38e8f7b561a58f03eb269dbe4 was merged after the end of
	the eSi-RISC section rather than AARCH64.  This patch relocates this
	hunk to the correct location.  Change-Id: I46a2d24442556e9e8000b46a5e1af03b83de6d98 Signed-off-by:
	Steven Stallion <stallion@squareup.com> Reviewed-on:
	http://openocd.zylin.com/5181 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2018-10-05  Marek Vasut <marek.vasut@gmail.com>

	* : tcl/target: Add Renesas RZ/A1H target Add configuration for the Renesas RZ/A1H target.  This is an SoC
	with one Cortex A9 ARMv7a core and up to 10 MiB of on-SoC SRAM.  Change-Id: I20fd54b385fe1ba1cc325451c3fdfa3a835d4884 Signed-off-by:
	Marek Vasut <marek.vasut@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5141 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2019-05-15  Antonio Borneo <borneo.antonio@gmail.com>

	* : helper/command: print the command output in case of error In case of error, a command should use command_print() to report the
	error message, so it get printed only on the session that run the
	command itself, and the message can be intercepted with the tcl
	command catch if it has to be handled differently.  Current code
	drops the command output when the command returns error, claiming
	that it's the command that *should* have printed it already. This is
	true only if we *abuse* of the LOG functions, but accepting the side
	issue of having the LOG printed in every session and being unable to
	catch{} the error message.  Since we have switched to command_print(), change the code to
	propagate the command output also in case of error.  Change-Id: I95de424a65e63702bdb3b2277749a0ac6aaaa503 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5178 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-05-15  Jan Matyas <matyas@codasip.com>

	* : jtag/drivers/imx_gpio: fixed calls to command_print Two calls to command_print() in imx_gpio fixed - the first parameter
	adjusted (CMD_CTX -> CMD) per the changes from this commit:
	6cb5ba6f1136df2986850f5c176cb38e34ca1795 Change-Id: I6cb0909439a632d3109edfc68070b9b561f86d49 Signed-off-by:
	Jan Matyas <matyas@codasip.com> Reviewed-on:
	http://openocd.zylin.com/5176 Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com> Tested-by: jenkins

2019-05-06  Jan Matyas <matyas@codasip.com>

	* : jtag_vpi: fixed state transitions in "stableclocks" In jtag_vpi_stableclocks() the TMS line needs to be set properly
	based on the current JTAG TAP state (TMS=1 in TAP_RESET state vs.
	TMS=0 in other cases).  Change-Id: Id49622ba83015f97b61b6a896edde4448f1fbdc6 Signed-off-by:
	Jan Matyas <matyas@codasip.com> Reviewed-on:
	http://openocd.zylin.com/5151 Tested-by: jenkins Reviewed-by: Franck
	Jullien <franck.jullien@gmail.com> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2019-04-29  Marc Schink <openocd-dev@marcschink.de>

	* : target: Fix breakpoint usage Change-Id: I28630e5062ffb16939250f7ec7549200f3a9b285 Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/5139 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-04-07  Antonio Borneo <borneo.antonio@gmail.com>

	* : helper/command: send command output only to the right server When opening multiple telnet connections, the command output on one
	console is broadcast to all the other console.  Send the command output only to the output handler that has been set
	for that context.  For the moment, still broadcast the errors.  Note that contexts which doesn't explicitly set the output handler
	(e.g. gdb_server), will inherit the global output handler
	configuration_output_handler() that will broadcast the output.  Change-Id: I1f2d6e6a3bbf730f5fa77246730fce1445742a1e Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5093 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-03-28  Antonio Borneo <borneo.antonio@gmail.com>

	* : tcl/psoc4: remove "ocd_" prefixed commands The commands prefixed with "ocd_" are removed.  Remove them from
	configuration files.  Change-Id: Ib44627ee17a39f3d06b479507ab5a025073bf9a8 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5090 Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Tested-by: jenkins

2019-03-28  Antonio Borneo <borneo.antonio@gmail.com>

	* : doc: remove references to "ocd_" prefixed commands The commands prefixed with "ocd_" are removed.  Remove any reference
	in the documentation.  Change-Id: I27cebaa4752752ec8700757bf1c98b267c24f15b Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5088 Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Tested-by: jenkins

2019-04-03  Paul Fertser <fercerpav@gmail.com>

	* : helper/command: remove command "command type" Once the wrapper "ocd_bouncer" is removed (which was the only user
	of this command), there is no reason to keep the command any longer.  Remove it.  This change was part of http://openocd.zylin.com/1815 from Paul
	Fertser and has been extracted and rebased to simplify the review.  Change-Id: I979ce1c147babedb44dd77418751133f589f827c Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Signed-off-by: Tomas Vanek
	<vanekt@fbl.cz> Signed-off-by: Antonio Borneo
	<borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5084 Tested-by: jenkins

2019-04-04  Paul Fertser <fercerpav@gmail.com>

	* : helper/command: do not capture log in script_command_run() Command's output should be put in JimTcl result.  We should not
	anymore capture the log output and pack it as a JimTcl result.  Remove the log capture feature in script_command_run().  This change was part of http://openocd.zylin.com/1815 from Paul
	Fertser and has been extracted and rebased to simplify the review.  Change-Id: Id326c8719e1cee9156d7fc15ae8355ec79a74951 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Signed-off-by: Tomas Vanek
	<vanekt@fbl.cz> Signed-off-by: Antonio Borneo
	<borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5085 Tested-by: jenkins

2019-04-03  Paul Fertser <fercerpav@gmail.com>

	* : flash/nor: use command_print() in command "flash banks" The command uses LOG_USER() instead of command_print().  Fix it.  This change was part of http://openocd.zylin.com/1815 from Paul
	Fertser and has been extracted and rebased to simplify the review.  Change-Id: I92e5e5954a75b96093b3ed6af73a7536c063b639 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Signed-off-by: Tomas Vanek
	<vanekt@fbl.cz> Signed-off-by: Antonio Borneo
	<borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5083 Tested-by: jenkins

2019-04-03  Antonio Borneo <borneo.antonio@gmail.com>

	* : helper/command: change prototype of
	command_print/command_print_sameline To prepare for handling TCL return values consistently, all calls to
	command_print/command_print_sameline should switch to CMD as first
	parameter.  Change prototype of command_print() and command_print_sameline() to
	pass CMD instead of CMD_CTX.  Since the first parameter is currently
	not used, the change can be done though scripts without manual
	coding.  This patch is created using the command:         sed -i PATTERN $(find src/ doc/ -type f) with all the
	        following patters: 's/\(command_print(cmd\)->ctx,/\1,/'         's/\(command_print(CMD\)_CTX,/\1,/'         's/\(command_print(struct command_\)context
	        \*context,/\1invocation *cmd,/'
	's/\(command_print_sameline(cmd\)->ctx,/\1,/'         's/\(command_print_sameline(CMD\)_CTX,/\1,/'         's/\(command_print_sameline(struct command_\)context
	        \*context,/\1invocation *cmd,/' This change is inspired by http://openocd.zylin.com/1815 from Paul
	Fertser but is now done through scripting.  Change-Id: I3386d8f96cdc477e7a2308dd18269de3bed04385 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Signed-off-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5081 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-04-01  Paul Fertser <fercerpav@gmail.com>

	* : target/esirisc_trace: change prototype of trace dump functions To prepare for handling TCL return values consistently, all calls to
	command_print/command_print_sameline should be ready to switch to
	CMD as first parameter.  Change prototype of esirisc_trace_dump*() functions to pass CMD
	instead of CMD_CTX.  This change was part of http://openocd.zylin.com/1815 from Paul
	Fertser and has been extracted and rebased to simplify the review.  Change-Id: Ia43bff112372cbb76e1aea9f59f4a9b6df05c15d Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Signed-off-by: Tomas Vanek
	<vanekt@fbl.cz> Signed-off-by: Antonio Borneo
	<borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5079 Tested-by: jenkins Reviewed-by: Steven
	Stallion <sstallion@gmail.com>

2019-04-01  Paul Fertser <fercerpav@gmail.com>

	* : target: change prototype of binprint() To prepare for handling TCL return values consistently, all calls to
	command_print/command_print_sameline should be ready to switch to
	CMD as first parameter.  Change prototype of binprint() to pass CMD instead of CMD_CTX.  This change was part of http://openocd.zylin.com/1815 from Paul
	Fertser and has been extracted and rebased to simplify the review.  Change-Id: I5ebdc50417d97c791c98ac0cfe2218319809eb7f Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Signed-off-by: Tomas Vanek
	<vanekt@fbl.cz> Signed-off-by: Antonio Borneo
	<borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5077 Tested-by: jenkins

2019-04-01  Paul Fertser <fercerpav@gmail.com>

	* : target: change prototype of handle_bp_command_list() To prepare for handling TCL return values consistently, all calls to
	command_print/command_print_sameline should be ready to switch to
	CMD as first parameter.  Change prototype of handle_bp_command_list() to pass CMD instead of
	CMD_CTX.  This change was part of http://openocd.zylin.com/1815 from Paul
	Fertser and has been extracted and rebased to simplify the review.  Change-Id: Ibff636d476bcd59784ce3da5409d930225cfe637 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Signed-off-by: Tomas Vanek
	<vanekt@fbl.cz> Signed-off-by: Antonio Borneo
	<borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5075 Tested-by: jenkins

2019-04-01  Paul Fertser <fercerpav@gmail.com>

	* : target/arm_adi_v5: change prototype of dap_rom_display() To prepare for handling TCL return values consistently, all calls to
	command_print/command_print_sameline should be ready to switch to
	CMD as first parameter.  Change prototype of dap_rom_display() and dap_info_command() to pass
	CMD instead of CMD_CTX.  This change was part of http://openocd.zylin.com/1815 from Paul
	Fertser and has been extracted and rebased to simplify the review.  Change-Id: Idb97b20759c03fcecbac1184c354966f469caa5f Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Signed-off-by: Tomas Vanek
	<vanekt@fbl.cz> Signed-off-by: Antonio Borneo
	<borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5073 Tested-by: jenkins

2019-04-01  Paul Fertser <fercerpav@gmail.com>

	* : target/x86_32_common: change prototype of handle_iod_output() To prepare for handling TCL return values consistently, all calls to
	command_print/command_print_sameline should be ready to switch to
	CMD as first parameter.  Change prototype of handle_iod_output() to pass CMD instead of
	CMD_CTX.  This change was part of http://openocd.zylin.com/1815 from Paul
	Fertser and has been extracted and rebased to simplify the review.  Change-Id: I67f594c80d6bbbbf6c9567069a545f16877b1e94 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Signed-off-by: Tomas Vanek
	<vanekt@fbl.cz> Signed-off-by: Antonio Borneo
	<borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5071 Tested-by: jenkins

2019-04-01  Paul Fertser <fercerpav@gmail.com>

	* : target/armv7a: change prototype of
	armv7a_handle_cache_info_command() To prepare for handling TCL return values consistently, all calls to
	command_print/command_print_sameline should be ready to switch to
	CMD as first parameter.  Change prototype of armv7a_handle_cache_info_command() to pass CMD
	instead of CMD_CTX.  This change was part of http://openocd.zylin.com/1815 from Paul
	Fertser and has been extracted and rebased to simplify the review.  Change-Id: I27f507869cb41c74722a759e69dfd45658fcd4be Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Signed-off-by: Tomas Vanek
	<vanekt@fbl.cz> Signed-off-by: Antonio Borneo
	<borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5069 Tested-by: jenkins

2019-04-01  Paul Fertser <fercerpav@gmail.com>

	* : target/dsp563xx: change prototype of handle_md_output() To prepare for handling TCL return values consistently, all calls to
	command_print/command_print_sameline should be ready to switch to
	CMD as first parameter.  Change prototype of handle_md_output() to pass CMD instead of
	CMD_CTX.  This change was part of http://openocd.zylin.com/1815 from Paul
	Fertser and has been extracted and rebased to simplify the review.  Change-Id: Ib0b84c933689ac8c940c9bbe62d9c95fd015c4f5 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Signed-off-by: Tomas Vanek
	<vanekt@fbl.cz> Signed-off-by: Antonio Borneo
	<borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5067 Tested-by: jenkins

2019-04-01  Paul Fertser <fercerpav@gmail.com>

	* : target/xscale: change prototype of xscale_display_instruction() To prepare for handling TCL return values consistently, all calls to
	command_print/command_print_sameline should be ready to switch to
	CMD as first parameter.  Change prototype of xscale_display_instruction() and of
	xscale_analyze_trace() to pass CMD instead of CMD_CTX.  This change was part of http://openocd.zylin.com/1815 from Paul
	Fertser and has been extracted and rebased to simplify the review.  Change-Id: I8420f19c1b2ff0d2a2f2a8d3627767f7acda437c Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Signed-off-by: Tomas Vanek
	<vanekt@fbl.cz> Signed-off-by: Antonio Borneo
	<borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5065 Tested-by: jenkins

2019-04-01  Paul Fertser <fercerpav@gmail.com>

	* : target/mips_m4k: change prototype of mips_m4k_verify_pointer() To prepare for handling TCL return values consistently, all calls to
	command_print/command_print_sameline should be ready to switch to
	CMD as first parameter.  Change prototype of mips_m4k_verify_pointer() to pass CMD instead of
	CMD_CTX.  This change was part of http://openocd.zylin.com/1815 from Paul
	Fertser and has been extracted and rebased to simplify the review.  Change-Id: I9fa3e883d2ca9cc858caaefd33586f78638702f5 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Signed-off-by: Tomas Vanek
	<vanekt@fbl.cz> Signed-off-by: Antonio Borneo
	<borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5063 Tested-by: jenkins

2019-04-01  Paul Fertser <fercerpav@gmail.com>

	* : target/cortex_m: change prototype of cortex_m_verify_pointer() To prepare for handling TCL return values consistently, all calls to
	command_print/command_print_sameline should be ready to switch to
	CMD as first parameter.  Change prototype of cortex_m_verify_pointer() to pass CMD instead of
	CMD_CTX.  This change was part of http://openocd.zylin.com/1815 from Paul
	Fertser and has been extracted and rebased to simplify the review.  Change-Id: Icf6d1e5f8b4a3ce115c4253e49769df19a5211ae Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Signed-off-by: Tomas Vanek
	<vanekt@fbl.cz> Signed-off-by: Antonio Borneo
	<borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5061 Tested-by: jenkins

2019-04-01  Paul Fertser <fercerpav@gmail.com>

	* : target/arm720t: change prototype of arm720t_verify_pointer() To prepare for handling TCL return values consistently, all calls to
	command_print/command_print_sameline should be ready to switch to
	CMD as first parameter.  Change prototype of arm720t_verify_pointer() to pass CMD instead of
	CMD_CTX.  This change was part of http://openocd.zylin.com/1815 from Paul
	Fertser and has been extracted and rebased to simplify the review.  Change-Id: I7fa0628fabacd9ceb62ce921192f88edca659c15 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Signed-off-by: Tomas Vanek
	<vanekt@fbl.cz> Signed-off-by: Antonio Borneo
	<borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5059 Tested-by: jenkins

2019-04-01  Paul Fertser <fercerpav@gmail.com>

	* : target/arm926ejs: change prototype of arm926ejs_verify_pointer() To prepare for handling TCL return values consistently, all calls to
	command_print/command_print_sameline should be ready to switch to
	CMD as first parameter.  Change prototype of arm926ejs_verify_pointer() to pass CMD instead
	of CMD_CTX.  This change was part of http://openocd.zylin.com/1815 from Paul
	Fertser and has been extracted and rebased to simplify the review.  Change-Id: Ibbb03429a7fe8b9979f9bb9e513f9eb86aee3b5b Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Signed-off-by: Tomas Vanek
	<vanekt@fbl.cz> Signed-off-by: Antonio Borneo
	<borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5057 Tested-by: jenkins

2019-04-01  Paul Fertser <fercerpav@gmail.com>

	* : nor/at91sam4: change prototype of get_current_sam4() To prepare for handling TCL return values consistently, all calls to
	command_print/command_print_sameline should be ready to switch to
	CMD as first parameter.  Change prototype of get_current_sam4() to pass CMD instead of
	CMD_CTX.  This change was part of http://openocd.zylin.com/1815 from Paul
	Fertser and has been extracted and rebased to simplify the review.  Change-Id: I8dfa66f3f6be318d6ba89649279b1b4502f375d9 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Signed-off-by: Tomas Vanek
	<vanekt@fbl.cz> Signed-off-by: Antonio Borneo
	<borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5055 Tested-by: jenkins

2019-03-31  Paul Fertser <fercerpav@gmail.com>

	* : nand/tcl: pass CMD to nand_list_walker() To prepare for handling TCL return values consistently, all calls to
	command_print/command_print_sameline should be ready to switch to
	CMD as first parameter.  Pass CMD instead of CMD_CTX as parameter to nand_list_walker().  This change was part of http://openocd.zylin.com/1815 from Paul
	Fertser and has been extracted and rebased to simplify the review.  Change-Id: Ia11887dfc6dc58d5458a88ba84780cd895b8c253 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Signed-off-by: Tomas Vanek
	<vanekt@fbl.cz> Signed-off-by: Antonio Borneo
	<borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5053 Tested-by: jenkins

2019-04-03  Antonio Borneo <borneo.antonio@gmail.com>

	* : target_request: replace command_print() with
	command_output_text() To prepare for handling TCL return values consistently, all calls to
	command_print/command_print_sameline should be ready to switch to
	CMD as first parameter.  When dumping traces or semihosting text, the command that enabled it
	is already completed, so CMD is not a valid value.  Plus, we want
	the dump to be printed in the command context where the enable
	command was executed.  Replace command_print() with command_output_text().  Change-Id: I297a2b799a914233499641062407cf6e8b9fe012 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5051 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-04-01  Antonio Borneo <borneo.antonio@gmail.com>

	* : target: use LOG_USER to print errors in events Events are supposed to be executed asynchronously and not linked
	with any command, so it's incorrect printing out an eventual error
	using command_print().  Even in the case of events triggered by the
	        command <target> invoke-event <event-name> the eventual error in the
	event handler is not propagated to the command, so the
	command_print() is still not appropriate.  Replace command_print() with LOG_USER() in target_handle_event().
	Add further info in the log to identify which event has generated
	the error and its associated target.  Before return, clean-up the
	error message and the stacktrace from the error already displayed,
	to avoid propagate them.  Change-Id: I5966aa25e7c81348f4ad4d6e7ce5d4dee44ea4c8 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5049 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-03-31  Antonio Borneo <borneo.antonio@gmail.com>

	* : helper/command: add macro CMD Accessing the variable "cmd" in a COMMAND_HANDLER is confusing
	because the variable definition is not visible in the prototype,
	thus "cmd" can be identified by the reader as a global variable
	defined somewhere else.  Add the new macro CMD to make more evident it is a part of the
	COMMAND_HANDLER.  Change-Id: I8f63da593a931045cc404323f143b88c5c80ab5e Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5047 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-03-13  Tomas Vanek <vanekt@fbl.cz>

	* : target: rewrite jim_target_event_list to
	handle_target_event_list jim_target_event_list handler used command_print() in jim handler.  Rewriting the jim handler to the OpenOCD command is easy as
	get_current_target() returns proper target for prefixed commands
	since bb9d9c60264a905926e0d15f84842858d0de80b7 Change-Id: I3e937249386ca5dbd7a5dd6ebb0ccde0911325d8 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Signed-off-by: Antonio Borneo
	<borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4993 Tested-by: jenkins

2019-02-07  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : flash/nor/stm32h7x: use of wait queue flag instead of the busy
	flag Based on RM0433.rev5 > Section 3.3.9 : Flash program operations:   QW1/2: this bit indicates that a write, erase or option byte
	  change operation is pending in the write queue or command queue
	  buffer.  It remains high until the write operation is complete.    It supersedes the BSY1/2 status bit.  On this basis, stm32x_wait_status_busy is renamed accordingly to be   'stm32x_wait_flash_op_queue' Note : In this commit there is a fix of SR_ERROR_MASK value in flash
	loader algo Note : This modification is mandatory for revision X,
	  and backward compatible with old revisions Change-Id: I59d2973317d76b01fbb0fb5e4a472a47d0a7a5b5 Signed-off-by:
	Laurent LEMELE <laurent.lemele@st.com> Signed-off-by: Tarek BOCHKATI
	<tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4883 Tested-by: jenkins Reviewed-by:
	Christopher Head <chead@zaber.com> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2019-04-08  Tim Newsome <tim@sifive.com>

	* : flash/fespi: Use COMMAND_PARSE_ADDRESS Signed-off-by: Tim Newsome <tim@sifive.com> Change-Id:
	If4d22fe1440f926271274820f96428718a127ac2 Reviewed-on:
	http://openocd.zylin.com/5100 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-04-04  Leonard Crestez <leonard.crestez@nxp.com>

	* : target/imx6ul: Initial support Unlike the rest of imx6 the 6UL 6ULL 6ULZ chips are based on
	Cortex-A7 which is at a different address so a custom script is
	required.  Tested on imx6ull-14x14-evk Change-Id: I72822d2241045c318389fadbc66d7aaabaaf4cb5 Signed-off-by:
	Leonard Crestez <leonard.crestez@nxp.com> Reviewed-on:
	http://openocd.zylin.com/5040 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2019-04-04  Leonard Crestez <leonard.crestez@nxp.com>

	* : target/imx7ulp: Initial support Unlike imx7d/solo supported by imx7.cfg the M4 core is on a
	different AP and is always running by default so no -defer-examine
	is required.  There is also only one Cortex-A7 Tested on imx7ulp-evk Change-Id: Ifa923d1b9a372c788e6654bc2233fd4d9073a32d Signed-off-by:
	Leonard Crestez <leonard.crestez@nxp.com> Reviewed-on:
	http://openocd.zylin.com/5043 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2019-04-11  Tommy Vestermark <tov@vestermark.dk>

	* : armv7a: Improve parsing of MPIDR register to avoid error message
	for Cortex R5 References: - ARM DDI0406C ARMv7 Architecture Reference Manual, section B4.1.106 - ARM DDI0460D Cortex-R5 Technical Reference Manual section 4.3.6 - ARM 100048_0002_0 Cortex-A73 Technical Reference Manual section
	4.5.2 Tested on: TMS570LC4357 Change-Id: Ie0d45fb697697f78cc4ad4e7a0116be9772590ba Signed-off-by:
	Tommy Vestermark <tov@vestermark.dk> Reviewed-on:
	http://openocd.zylin.com/5108 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2019-04-15  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/cortex_a: use extensively cortex_a_wait_dscr_bits() We have the function to wait for bits in dscr. Use it whenever
	possible.  When the bit to test is DSCR_INSTR_COMP, use instead the wrapper
	function cortex_a_wait_instrcmpl().  Change-Id: I5c54c239a00f489712af448eb97752210b4b38b8 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5113 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2019-04-15  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/cortex_a: fix waiting for target halted after step Depending on adapter speed, the function cortex_a_poll() can take
	time to execute and can complete successfully when the timeout is
	already expired. Checking the timeout at function return causes a
	timeout error while that could be avoided.  Check the target status at cortex_a_poll() return, before checking
	for the timeout.  Change-Id: I4c1581f6e718298c566df7b1359255e16e3955d5 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5111 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2019-03-30  Mete Balci <metebalci@gmail.com>

	* : fix for sanitizer errors in left shifts The modified lines cause "runtime error: left shift of <X> by <Y>
	places cannot be represented in type 'int'", because integer literal
	is cast to int by default.  Change-Id: Ie38119b5eb46ee470e0d149959e523b48ac4d66d Signed-off-by:
	Mete Balci <metebalci@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5005 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2018-10-30  Christopher Head <chead@zaber.com>

	* : flash/stm32h7x: include IO_HSLV in user3_options Bit 29 of OPTSR is IO_HSLV. It ought to be read in
	stm32x_read_options and written in stm32x_write_options. Adjust the
	bitmasks to do this.  Change-Id: I785a5291c991c98b774177f960dc58f2b5e045e2 Signed-off-by:
	Christopher Head <chead@zaber.com> Reviewed-on:
	http://openocd.zylin.com/4745 Tested-by: jenkins Reviewed-by: Tarek
	BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2018-08-10  Leonard Crestez <leonard.crestez@nxp.com>

	* : target/imx6: Update list of supported TAPIDs Copy all SJC TAPIPs from imx6 reference manuals.  Some imx6 chips are based on Cortex-A7 or have an additional
	Cortex-M4 and need separate scripts.  Change-Id: I3b07d94058c2c5e6313cfc8bb43134a90682a62e Signed-off-by:
	Leonard Crestez <leonard.crestez@nxp.com> Reviewed-on:
	http://openocd.zylin.com/5034 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2018-08-10  Leonard Crestez <leonard.crestez@nxp.com>

	* : target/imx6: Add -ignore-version Looking through imx6 manuals all of them claim that "In follow-on
	silicon revisions the ID value is subject to change by incrementing
	the first nibble".  Handle this by passing -ignore-version to jtag newtap command.  Change-Id: I7fc4779f9757d527ea20a5174a8c90f919580013 Signed-off-by:
	Leonard Crestez <leonard.crestez@nxp.com> Reviewed-on:
	http://openocd.zylin.com/5031 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2018-08-10  Leonard Crestez <leonard.crestez@nxp.com>

	* : jtag: tcl: Add cget -idcode This can be used to dynamically distinguish between similar chips in
	tcl code.  Change-Id: Ic4dfb61693e78616355173142dc7f9b9683a9f73 Signed-off-by:
	Leonard Crestez <leonard.crestez@nxp.com> Reviewed-on:
	http://openocd.zylin.com/5033 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2019-04-01  Christopher Head <chead@zaber.com>

	* : Document the mem_ap target type Change-Id: I56e971b38f20db8c4ad0cdee5cc42b42a25319ea Signed-off-by:
	Christopher Head <chead@zaber.com> Reviewed-on:
	http://openocd.zylin.com/5029 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2019-04-07  Rocco Marco Guglielmi <roccomarco.guglielmi@gmail.com>

	* : topic: Remapped Flash over ITCM region in STM32F7x script This patch remaps the Flash over ITCM region as virtual to ensure
	that any breakpoint placed in this area will be automatically set as
	an hardware breakpoint. This patch is a fix to a regression
	introduced with changes #4429.  Change-Id: I03d46d8537ef06b33a3d4a2328274667c6481969 Signed-off-by:
	Rocco Marco Guglielmi <roccomarco.guglielmi@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5097 Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com> Tested-by: jenkins

2019-01-04  Antonio Borneo <borneo.antonio@gmail.com>

	* : Set empty usage field for commands that do not need parameters The missing field causes runtime debug message         BUG: command '%s' does not have the '.usage' field filled
	        out While there, fix some minor typo in the help messages:         s/deasert/deassert/         s/Deasert/Deassert/ Change-Id: If3dd18265cda103ca0d05609f67f4ca58e7cbb27 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5024 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-03-30  Antonio Borneo <borneo.antonio@gmail.com>

	* : drivers/at91rm9200: fix help and usage to command
	"at91rm9200_device" Add usage and fix the help text of the command Change-Id: I0e157d76f5d87bcda80f82a110912994908c8e03 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5023 Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Tested-by: jenkins

2019-03-30  Antonio Borneo <borneo.antonio@gmail.com>

	* : flash/nor/at91samd: set usage for command "set-security" The only allowed parameter is the string "enable" Change-Id: Iefdad38f1b4177e4194e58caf2be654357299ded Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5021 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-01-04  Antonio Borneo <borneo.antonio@gmail.com>

	* : drivers/bcm2835gpio: fix usage messages The notation "(tck tms tdi tdo)* " is incorrect, because it means
	the quadruple of gpio can be repeated on the command-line.  The
	correct syntax of the command requires instead to provide either all
	the four gpio numbers (in order to set the values) or to pass an
	empty command-line (to dump the values previously set).  Change the .usage field to "[tck tms tdi tdo]".  Change similarly
	the corresponding .usage field for SWD command.  Add the .usage
	field for the commands that individually set each gpio or gpio
	property.  Dump the previously set values when commands
	bcm2835gpio_speed_coeffs or bcm2835gpio_peripheral_base are executed
	with empty command-line.  Change-Id: Ie45d8268c1de331aded0bb52d5e6b8f0e8766a5b Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5019 Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Tested-by: jenkins

2019-01-04  Antonio Borneo <borneo.antonio@gmail.com>

	* : command_registration: add empty usage field to chained commands Chained command require a subcommand as first argument. The usage
	field for chained commands is not really important because the
	"help" command will list all the subcommands with their respective
	usage.  Add a empty usage field on all chained command.  The command "jlink
	config" can be either followed by a subcommand or used alone, so use
	a dedicated usage string.  Change-Id: I43c3f8a766f96a9bdab4e709e3c90713be41fcef Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5017 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-01-04  Antonio Borneo <borneo.antonio@gmail.com>

	* : flash/xmc4xxx: use coherent indentation in struct initialization Keep using the same indentation rules while initializing struct
	command_registration.  Change-Id: I900924600753ee7a72ca45da13db4112ab4b1522 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5015 Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Tested-by: jenkins

2019-01-04  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/riscv: use coherent syntax in struct initialization While initializing struct command_registration, the field's name
	"name" is not specified, thus relying on the fact that it is the
	first field declared in the struct and it's initialization value can
	be listed as the first one.  Be coherent in the struct initialization and always use the field's
	name.  Change-Id: Iefaeb15cc051db9f1e0f0140fe2f231b45f5bb12 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5013 Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Tested-by: jenkins Reviewed-by: Tim Newsome
	<tim@sifive.com>

2019-01-04  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/armv4_5: use coherent syntax in struct initialization While initializing struct command_registration, the field's name
	"name" is not specified, thus relying on the fact that it is the
	first field declared in the struct and it's initialization value can
	be listed as the first one.  Be coherent in the struct initialization and always use the field's
	name.  Change-Id: I9ef7ac08e7cd5b82a6a7896c47017943d668925f Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5011 Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Tested-by: jenkins

2019-01-04  Antonio Borneo <borneo.antonio@gmail.com>

	* : log: add const qualifier to commands struct The struct log_command_handlers[] is never modified.  Add const
	qualifier to it.  Change-Id: I5785aeb09ae9c23eaf7c34a05b88d0c7285f2d78 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5009 Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Tested-by: jenkins

2019-01-20  Peter Lawrence <majbthrd@gmail.com>

	* : tcl_server: fix minor typo in comment ctrl-z usage is incorrectly commented as ctrl-d Change-Id: I54fe1775760ee984154bbae380baa38bcaffa04e Signed-off-by:
	Peter Lawrence <majbthrd@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4863 Tested-by: jenkins Reviewed-by:
	Christopher Head <chead@zaber.com> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2018-11-16  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor/core.h: clarify comment flash_sector::is_erased Setting of flash_sector::is_erased in flash erase and mass erase is
	popular folklore. Make clear it is useless.  Change-Id: Ide397eb6d24fc8fa38931e6c8a0693d39668a5d2 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4768 Tested-by: jenkins Reviewed-by:
	Christopher Head <chead@zaber.com>

2019-03-30  Florian Fainelli <f.fainelli@gmail.com>

	* : armv7a_mmu: Remove warning on va = pa Depending on how the MMU is configured it is possible to have a 1:1
	mapping between virtual and physical addresses, thus making this
	warning bogus. We already check that the MMU is enabled in the
	caller: cortex_a_virt2phys().  Change-Id: I09f4c53ef933c8d1e268da5215a769449be014bc Signed-off-by:
	Florian Fainelli <f.fainelli@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5007 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by: Kamal Dasu
	<kdasu.kdev@gmail.com> Reviewed-by: Matthias Welwarsky
	<matthias@welwarsky.de>

2019-01-24  Tomas Vanek <vanekt@fbl.cz>

	* : target/cortex_m: remove fp_code_available counting fp_code_available looses sync with the real number of free
	comparators as soon as cortex_m_set_breakpoint() returns an error.
	Remove the counter and always go through the fp_comparator_list to
	find a free one.  Change-Id: I9f6e06c36d8a57ad11df5155e8a1a3aff6d833a5 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4870 Tested-by: jenkins Reviewed-by: JƒÅnis
	Skujenieks <janis.skujenieks@gmail.com> Reviewed-by: Christopher
	Head <chead@zaber.com> Reviewed-by: Matthias Welwarsky
	<matthias@welwarsky.de>

2018-12-13  Christopher Head <chead@zaber.com>

	* : Constify struct flash_driver instances Instances of struct flash_driver are never written to at runtime.
	For a small amount of memory saving and also robustness (fewer
	things for stray pointer writes to hit), mark them const.  Change-Id: Iadbbbc2fac0976d892699200000c5f02856729f3 Signed-off-by:
	Christopher Head <chead@zaber.com> Reviewed-on:
	http://openocd.zylin.com/4803 Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com> Tested-by: jenkins Reviewed-by: Matthias
	Welwarsky <matthias@welwarsky.de>

2018-07-19  Antonio Borneo <borneo.antonio@gmail.com>

	* : smp: replace commands smp_on/smp_off with "smp [on|off]" Seams over-engineered having two separate commands to turn SMP
	on/off. Plus it is missing the possibility to dump the current
	status of SMP and would be weird adding an additional command for
	it. Moreover, such commands are replicated in few targets so it
	would make sense centralizing them.  - Deprecate the commands "smp_on" and "smp_off".  - Add a new command "smp" that accepts optional parameters   "[on|off]" and prints the SMP status when run without   parameters. This replaces the two commands above.  - Put the deprecated and the new command handlers in smp.c - Update the documentation, except for mips_m4k, since it is not   available yet.  - Promote the macro foreach_smp_target to global context and use   it where possible.  Change-Id: Ia72841c1a3bd6edd4db4cc809046322f498617e6 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4615 Tested-by: jenkins Reviewed-by: Graham
	Sanderson <graham.sanderson@gmail.com> Reviewed-by: Matthias
	Welwarsky <matthias@welwarsky.de>

2019-03-02  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor/core: adjust flash_iterate_address_range_inner() for
	64-bit Use target_addr_t exclusively for comparison of sector boudaries and
	address range.  Use the last addres for both address range end and sector end.  It
	avoids problems with a flash bank mapped at the very end of target
	address space.  Change-Id: Idf97c837453d97cbc4cf8a1c76ad799f4142f19e Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4985 Tested-by: jenkins Reviewed-by: Tim
	Newsome <tim@sifive.com> Reviewed-by: Matthias Welwarsky
	<matthias@welwarsky.de>

2018-12-22  Frans-Willem Hardijzer <fw@hardijzer.nl>

	* : stlink: Set speed before entering JTAG/SWD mode Some boards require a slower clock speed because of passive
	components on the JTAG/SWD lines. The previous implementation would
	first try to discover the chips on the default speed, and only after
	discovery switch to the requested adapter_khz speed.  This patch moves the speed change to just before entering the
	SWD/JTAG mode, which should alleviate this problem.  Tested on an STLink V2 clone.  Change-Id: I9734452dcc8bb28d6629e64d9a7e32ef92868cf9 Signed-off-by:
	Frans-Willem Hardijzer <fw@hardijzer.nl> Reviewed-on:
	http://openocd.zylin.com/4818 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2019-03-01  Marek Vasut <marek.vasut@gmail.com>

	* : mips32: pracc: Fix UPPER/LOWER macros These macros are missing parenthesis around the argument, which can
	lead to side effects, add them. Replace the argument name to avoid
	conflict with uint32_t data type, since the macro can be applied to
	other data types as well.  Change-Id: I32d2ffec6c062795d7c8bb23d1dfa3378bfc3a58 Signed-off-by:
	Marek Vasut <marek.vasut@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4994 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2019-02-26  Marc Schink <openocd-dev@marcschink.de>

	* : target/xscale: Use 'bool' data type Change-Id: I4e117f4e6c8c0850f565587f68f41d88da0d6b0b Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/4968 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2018-10-30  Christopher Head <chead@zaber.com>

	* : flash/stm32h7x: remove IWDG1_SW separate variable Bit 4 in OPTSR is IWDG1_SW (the code originally called it IWDG1_HW,
	but the reference manual refers to it as IWDG1_SW). This is broken
	out into a separate variable, independent_watchdog_selection, in
	stm32x_options.  However, this is not necessary: bit 4 is included
	in the user_options field, which includes all of bits 2 through 7,
	and independent_watchdog_selection is not referenced anywhere else.
	Delete the field and just rely on user_options to transport that
	bit, along with all the other bits it contains, between
	stm32x_read_options and stm32x_write_options.  Change-Id: I4da63df9272cf091267b956c412b95671ea1d3c9 Signed-off-by:
	Christopher Head <chead@zaber.com> Reviewed-on:
	http://openocd.zylin.com/4744 Tested-by: jenkins Reviewed-by: Tarek
	BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2019-02-28  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/adi_v5_swd: update cached value on write to DP_SELECT When the register DP_SELECT is written directly, e.g. with command         <dap> dpreg 8 <value> the cached value in OpenOCD is not
	completely updated with the new value, thus creating issues in the
	following AP and DP read/write that rely on the cached value.  Update the cached value while writing to DP_SELECT.  Change-Id: I8221b10cd6fc1fbe73e6b834b68820b43480e1a2 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4979 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-02-27  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor/tcl.c: use COMMAND_PARSE_ADDRESS instead of conditional compilation #if BUILD_TARGET64 Change-Id: I005ae0b3a4ed127c0f59219b1c6b185a2c76c76e Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4977 Tested-by: jenkins Reviewed-by: Tim
	Newsome <tim@sifive.com>

2019-02-25  Tim Newsome <tim@sifive.com>

	* : gdb_server, target: Add target_address_bits() Targets can use this to expose how many address bits there are.
	gdb_server uses this to send gdb the appropriate upper limit in the
	memory-map. (Before this change the upper limit would only be
	correct for 32-bit targets.) Change-Id: Idb0933255ed53951fcfb05e040674bcdf19441e1 Signed-off-by:
	Tim Newsome <tim@sifive.com> Reviewed-on:
	http://openocd.zylin.com/4947 Tested-by: jenkins Reviewed-by: Peter
	Mamonov <pmamonov@gmail.com> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2018-12-20  Antonio Borneo <borneo.antonio@gmail.com>

	* : drivers/stlink_usb: use command STLINK_DEBUG_APIV2_READ_IDCODES API v2 deprecates using command STLINK_DEBUG_READCOREID to read the
	core ID.  Switch to STLINK_DEBUG_APIV2_READ_IDCODES on new stlink
	firmware version.  Change-Id: Iabadfc116c57f2c31f08f2e77baefea0cf90bdc3 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4826 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2018-12-07  Antonio Borneo <borneo.antonio@gmail.com>

	* : drivers/stlink_usb: fix stlink_usb_read_regs() for API v2 API v2 implementation for command READALLREGS returns the status in
	the first two bytes, followed by two bytes of padding.  This makes
	the reply 4 bytes longer and changes the offset of the first
	register value to 4.  Fix it for the case API v2 and clean-up the management of the return
	value.  Change-Id: I448c82bcc0baa72d66fdfe7f0c525b94f8a4468b Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4824 Tested-by: jenkins Reviewed-by: Tarek
	BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2019-02-03  Antonio Borneo <borneo.antonio@gmail.com>

	* : stlink: handle error bad-AP The new firmwares for ST-Link support handling multiple AP, but are
	(actually) limited to the AP number in range [0..8].  Any tentative
	to operate on AP number higher than 8 returns an error "bad AP".
	Add the error code and the related message.  Change-Id: I78a98b2612d10e580d03fc43ed9f2b09619d39d8 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4981 Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Tested-by: jenkins

2019-02-26  Marc Schink <openocd-dev@marcschink.de>

	* : target/openrisc/or1k: Use 'bool' data type Change-Id: I6393bb8503d64947a1f2349e1d14c1552cabf927 Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/4971 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2019-02-26  Marc Schink <openocd-dev@marcschink.de>

	* : target/feroceon: Use 'bool' data type Change-Id: I30b8d07ee198e8f67cd98f83c4bec15bcfe8be08 Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/4967 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2019-02-26  Marc Schink <openocd-dev@marcschink.de>

	* : target/arm_semihosting: Use 'bool' data type Change-Id: I05245b7dc9c37ea8e0e40672070fb3e87cb7683f Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/4965 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2019-02-26  Marc Schink <openocd-dev@marcschink.de>

	* : target/cortex_a: Use 'bool' data type Change-Id: I055767f1c20af539159ee59e35de8dd20b399fa4 Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/4963 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2019-02-26  Marc Schink <openocd-dev@marcschink.de>

	* : target/arm926ejs: Use 'bool' data type Change-Id: I3016a8ba37942d674017c09e4540d9813c832872 Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/4960 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2019-02-26  Marc Schink <openocd-dev@marcschink.de>

	* : target/arm720t: Use 'bool' data type Change-Id: I9838d0d0ba472f029169ab37597ef367a6084fbf Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/4958 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2019-02-26  Marc Schink <openocd-dev@marcschink.de>

	* : target/armv8: Use 'bool' data type Change-Id: I65def33f24187ab336db5732ce35200ca5cd8f5f Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/4956 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2019-02-26  Marc Schink <openocd-dev@marcschink.de>

	* : target/arm11: Use 'bool' data type Change-Id: Ia09adeab88eaf66c009f94be25ab82b0b8f88f61 Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/4954 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2019-02-26  Marc Schink <openocd-dev@marcschink.de>

	* : target/armv4_5: Use 'bool' data type Change-Id: I82e3963ea662844bb96943aee849dab35ea96bb3 Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/4952 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2019-02-26  Marc Schink <openocd-dev@marcschink.de>

	* : target/cortex_m: Use 'bool' instead of 'int' Change-Id: I273d24997e2c844015e144a15981f8f0af522261 Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/4950 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2019-02-26  Antonio Borneo <borneo.antonio@gmail.com>

	* : helper/command: return proper JIM error code The function command_unknown() is expected to return a value
	recognized as JIM error code, as it is correctly done in the other
	cases it returns.  Fix the only case in which command_unknown() does not return a JIM
	error code, by s/ERROR_FAIL/JIM_ERR/ Change-Id: Ib98b75755ae36870bd68c17f8839ddbfa06c6312 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4973 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-02-16  Antonio Borneo <borneo.antonio@gmail.com>

	* : gdb_server: fix 'null' pointer passed as 'nonnull' parameter The null pointer used as second parameter to gdb_put_packet() is
	passed as second parameter to the memcpy() in line 408 of
	gdb_put_packet_inner(). In this case memcpy() does not segfault
	because also the parameter length is zero. Nevertheless, the
	prototype of memcpy() requires a nonnull pointer.  Fixed by passing an empty string in place of the null pointer.  Issue highlighted by clang 7.0.0 with warning message: "Null pointer
	passed as an argument to a 'nonnull' parameter" Change-Id: Ib3dde95d76fcc5fb245ee2d6669e5535d0e0b127 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4946 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2018-11-07  Antonio Borneo <borneo.antonio@gmail.com>

	* : gdb_server: remove warning for stepi after gdb_sync The command "gdb_sync" is used to resynchronize gdb with OpenOCD.
	It is supposed to be follow by the gdb command "stepi" that will be
	ignored by OpenOCD.  Don't annoy the user with a warning message when the stepi command
	is ignored, but simply log a debug message.  Change-Id: Ie4cffa89e761d7335e5961900b62e31f209d4b1b Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4764 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2019-02-15  Marc Schink <openocd-dev@marcschink.de>

	* : Use enum for target_register_timer_callback() Change-Id: I268e8c5d783914aa97cbde301448b2c5bc3cb9e6 Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/4921 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-01-21  Moritz Fischer <moritz.fischer@ettus.com>

	* : flash: stm32f2/f4/f7: Add One-Time-Porgrammable (OTP) support The OTP is part of the flash memory. It has 512 (1024 for F7) bytes
	and is organized in 16 sectors with 32 (64 for F7) bytes each.  The
	OTP is exposed as separate flash bank 1 and can be used with the
	usual flash commands.  Writing the OTP can be done as follows: > stm32f2x otp 1 enable > flash write bank 1 foo.bin 0 > mdw
	0x1fff7800 4 > verify_image foo.bin 0x1fff7800 > stm32f2x otp 1
	disable Note: This patch is largely a rebase/cleanup of a patch from 2012 by
	Laurent Charpentier and he did most of the work.  No new Clang-Analyzer warnings.  Change-Id: I5e6371f6a7c7a9929c1d7907d6ba4724f9d20d97 Signed-off-by:
	Moritz Fischer <moritz.fischer@ettus.com> Reviewed-on:
	http://openocd.zylin.com/829 Tested-by: jenkins Reviewed-by: Tarek
	BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2019-02-15  Antonio Borneo <borneo.antonio@gmail.com>

	* : aarch64: fix a potential memory leak in aarch64_target_create() If the function aarch64_target_create() exits for an error, the
	value of pointer aarch64 get lost, causing a memory leak.  Move the allocation of aarch64 after the check on the parameters.
	While there, add a check on the value returned by calloc().  Issue highlighted by clang 7.0.0.  Change-Id: Ib9ad27f4acd940da308c01fdbf33cfe51ab0c639 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4924 Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Tested-by: jenkins Reviewed-by: Matthias Welwarsky
	<matthias@welwarsky.de>

2019-02-15  Antonio Borneo <borneo.antonio@gmail.com>

	* : cortex_a: fix a potential memory leak in
	cortex_a_target_create() If the function cortex_a_target_create() or the function
	cortex_r4_target_create() exit for an error, the value of pointer
	cortex_a get lost, causing a memory leak.  Move the allocation of cortex_a after the check on the parameters.
	While there, add checks on the value returned by calloc().  Issue highlighted by clang 7.0.0.  Change-Id: Ic6eeb9c3b39922d016f6d0319eada1a97a6681f0 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4925 Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Tested-by: jenkins Reviewed-by: Matthias Welwarsky
	<matthias@welwarsky.de>

2019-02-14  Armin van der Togt <armin@otheruse.nl>

	* : Fix support for single-bank stm32l4 processors Recent patches for STM32L4+ assumed all STM32L4 processors have a
	dual- bank option. This is not the case for STM32L4{3,4,5,6}xx
	processors and therefore, these processors (like STM32L433) failed
	when attempting to flash the second half of the flash memory. This
	patch fixed this issue.  Tested on STM32L433xC, STM32L476xG and
	STM32L471xG.  Change-Id: I8262ba4f05190802c5868d753f3e7af50e581811 Signed-off-by:
	Armin van der Togt <armin@otheruse.nl> Reviewed-on:
	http://openocd.zylin.com/4913 Tested-by: jenkins Reviewed-by: Peter
	Tettelaar <peter@float-iot.nl> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Reviewed-by: Mark Schulte <mschulte@lyft.com>

2019-01-24  Tomas Vanek <vanekt@fbl.cz>

	* : target, breakpoints: improve error handling handle_bp_command_set() showed the error message "Failure setting
	breakpoint, the same address(IVA) is already used" on any error
	returned from (xxx_)breakpoint_add().  Paradoxically
	breakpoint_add() returned ERROR_OK if it detected duplicated bp
	address.  context_breakpoint_add() and hybrid_breakpoint_add()
	returned -1 instead of OpenOCD compatible error if they detected
	duplicity.  Introduce ERROR_TARGET_DUPLICATE_BREAKPOINT Unify error handling to
	LOG_ERROR() any error in (xxx_)breakpoint_add() Remove misleading
	error messages from handle_bp_command_set() handle_bp_command_set()
	returns error if the target does not implement
	add_context_breakpoint or add_hybrid_breakpoint.  Change-Id: If17dfad1756d82a77028ebdc4b305f9c8e1365ba Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4871 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2019-02-09  Tomas Vanek <vanekt@fbl.cz>

	* : doc/openocd.texi: fix xref warning Xref without trailing '.' or ',' was introduced in
	deaf3d264123391d8fe5c4cccbf8fb8852e1be23 Change-Id: I99afd40e1ffeddd1298b7b07e4deba3dcc41799f Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4905 Tested-by: jenkins

2019-01-29  Marc Schink <openocd-dev@marcschink.de>

	* : jlink: Use correct SWD buffer size Currently, the SWD buffer size is adjusted corresponding to the free
	device memory. However, the adjusted size is not used.  This fixes SWD operations on devices with small device memory, such
	as EFM32PG12 Pearl Gecko STK. It should also fix #184.  Change-Id: I2ec5cf25c62f18bd9e99a2f4aa1aa8d85ed0821b Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/4878 Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Tested-by: jenkins

2019-02-07  Antonio Borneo <borneo.antonio@gmail.com>

	* : command: fix the mode for command "jtag configure" Before commit 877cec20dca6e78f9f029f0f173879cda101a6c2 ("command:
	check command mode for native jim commands") all the jim commands
	were erroneously treated as they had mode COMMAND_ANY.  The commit
	above fixes the code in order to check the mode and permit running
	the commands only if the mode is respected.  Those jim commands that have incorrect mode were not detected nor
	fixes because the wrong mode was masked by the missing mode check.
	After the commit above, the wrong mode triggers error in several
	existing configuration scripts.  A complete list of commands that
	now does not run anymore as CONFIG_ANY is reported in ticket 225,
	but most of them have the mode set correctly.  At least two
	instances of command "jtag configure" have the wrong mode.  Fix the mode to CONFIG_ANY for command "jtag configure" in files
	src/jtag/aice/aice_transport.c and src/jtag/tcl.c Change-Id: I3f96c5fd24d7d463712cbaf1295284fe0dc56b23 Ticket:
	https://sourceforge.net/p/openocd/tickets/225/ Reported-by: Bill
	Paul <wpaul@users.sourceforge.net> Fixes: 877cec20dca6 ("command:
	check command mode for native jim commands") Signed-off-by: Antonio
	Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4886 Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Tested-by: jenkins

2019-01-31  Tomas Vanek <vanekt@fbl.cz>

	* : target/cortex_m: fix clang static analyzer warning Fix "Potential leak of memory pointed to by 'cortex_m'" and test for
	NULL return from calloc in cortex_m_target_create() Change-Id: I4d2bb5bccc57f0ed60696f3d588297a858b8ea60 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4881 Tested-by: jenkins Reviewed-by: Moritz
	Fischer <moritz.fischer@ettus.com> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2019-01-30  Kevin Vermilion <kevin.vermilion@gmail.com>

	* : at91samd: Add flash programming support for SAMC2?N* parts Added id, name, flash size and RAM size for following parts to
	samc20_parts[]: SAMC20N18A SAMC20N17A And the following to
	samc21_parts[]: SAMC21N18A SAMC21N17A Change-Id: Ie8cf1c531a60bfaed6e814d436d232afb89dae3f Signed-off-by:
	Kevin Vermilion <kevin.vermilion@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4880 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2018-09-04  Jan Vojtech <honza.vojtech@gmail.com>

	* : flash/nor/stm32f1x: Ability to change user option bytes.  Adds ability to change the user data in STM32F1x/STM32F3x MCU's
	option byte.  Since OpenOCD prints the content of user data in
	option byte registers, it is seems logical to also provide a way how
	to change this data.  Change-Id: Ie6cb756b4f11b5c6dabd34bc89434a358eb758ff Signed-off-by:
	Jan Vojtech <honza.vojtech@gmail.com> Signed-off-by: Tomas Vanek
	<vanekt@fbl.cz> Reviewed-on: http://openocd.zylin.com/4663
	Tested-by: jenkins Reviewed-by: Tarek BOCHKATI
	<tarek.bouchkati@gmail.com>

2019-01-11  Antonio Borneo <borneo.antonio@gmail.com>

	* : drivers/imx_gpio: fix polarity of srst and trst The comment above the function is correct, but the code set the GPIO
	with wrong (reversed) polarity.  Change-Id: Ifd09688150d3d2018af73521e0da3926bb1b7f84 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4847 Tested-by: jenkins Reviewed-by:
	Grzegorz Kostka <kostka.grzegorz@gmail.com> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2017-10-27  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor: flash driver and cfg for SAM E54, E53, E51 and D51 The new Microchip (former Atmel) series powered by Cortex-M4 looks
	very similar to older M0+ powered SAM D2x at the first sight.
	Unfortunately the new series differs a lot in important details.
	NVMCTRL has different register addresses, moved important bits and
	even changed binary command set. An universal driver for all SAM D/E
	would be very complicated. That's why a new driver was derived.  Tested on Microchip SAM E54 Xplained Pro kit (board cfg included).  Adjusted for the restructured dap support.  Checked by valgrind and
	clang static analyzer.  Change-Id: I26c67047a552076f4b207b9b89285a53d69b4ca4 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4272 Tested-by: jenkins Reviewed-by: Andres
	Vahter <andres.vahter@gmail.com>

2019-01-19  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor/stm32f1x: fix minor error messages Change-Id: I1e9e62979c4629c8ba1d5ae89ca7392259969eb6 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4858 Tested-by: jenkins Reviewed-by:
	Christopher Head <chead@zaber.com>

2019-01-14  Guillaume Revaillot <g.revaillot@gmail.com>

	* : flash/nor/at91samd: add samr34j18.  samr34/r35 combine SAML21 and SX1276 (lora transceiver). This one
	was found on xplaned pro evaluation kit. Ids for other r34/r35 chips
	are apparently not yet documented.  Change-Id: I4054dd56ea53c9bae8d17abd5a3e4e65e1b9c8b1 Signed-off-by:
	Guillaume Revaillot <g.revaillot@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4872 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2018-04-18  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: support for aarch32 ARM_MODE_SYS Treat ARM_MODE_SYS like all other Aarch32 processor modes, except
	for the special case of missing SPSR.  Change-Id: I60b21703659b264f552884cdc0f85fd45f7836de Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com> Reviewed-on:
	http://openocd.zylin.com/4494 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de> Reviewed-by: Antonio
	Borneo <borneo.antonio@gmail.com>

2019-01-09  Tomas Vanek <vanekt@fbl.cz>

	* : command: check command mode for native jim commands The command mode was checked only for simple type of commands.
	Native commands (handled by jim_handler) was treated as they had
	mode COMMAND_ANY Change-Id: Iab1d8cbb0b8c6f6b9f3cf942600432dec9a703ff Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4841 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2019-01-08  Tomas Vanek <vanekt@fbl.cz>

	* : command: Log the failed command by full name Commit 44009186cfabe77fb260af221ebd6272d1e78f44 added logging of
	failed cmd name but it used c->name only. It might be confusing: Debug: 244 105 command.c:644 run_command(): Command 'init' failed
	 with error code -4 User : 245 106 command.c:711 command_run_line():
	Debug: 246 107 command.c:644 run_command(): Command 'init' failed
	 with error code -4 The command on line 244 is 'dap init' Use full name of cmd including
	parents.  Change-Id: Iff131ce6454ef70b353ce1bc6d0a480b92820545 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4837 Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com> Tested-by: jenkins Reviewed-by:
	Jean-Christian de Rivaz <jcamdr70@gmail.com>

2019-01-20  Antonio Borneo <borneo.antonio@gmail.com>

	* : command: initialize the command mode for every command All the commands in OpenOCD have been inspected and have the command
	mode initialize, apart for two of them.  This is not critical,
	because the uninitialized value (0) is equivalent to the enum
	COMMAND_EXEC, that is also the correct value for the two mentioned
	commands.  To keep the code consistent, initialize the command mode to
	COMMAND_EXEC.  Change-Id: Iaf043364cbd1005418d787ed045a3ec653612382 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4861 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-01-11  Antonio Borneo <borneo.antonio@gmail.com>

	* : jtag: cmsis-dap: use macro SWJ_PIN_SRST in place of magic value While connecting under reset, use the already defined macro
	SWJ_PIN_SRST to assert the srst pin.  Change-Id: Icebed462c0fe8f8c15f6522dc56625aa580b8858 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4846 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-01-14  Jonathan McDowell <noodles@earth.li>

	* : Correct ZynqMP configuration to be appropriately named The xilinx_ultrascale.cfg target is actually the configuration for a
	ZynqMP, which is a combination of an UltraScale+ FPGA core and a
	quad core A53. Update the filename/comments to reflect this, and
	include the tap IDs for all known FPGA cores for this part.  Change-Id: I70dfcc99861a482b83b6a795e83021d9cf1fe047 Signed-off-by:
	Jonathan McDowell <noodles@earth.li> Reviewed-on:
	http://openocd.zylin.com/4850 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2018-08-29  Antonio Borneo <borneo.antonio@gmail.com>

	* : arm_adi_v5: fix and update sequences to spec IHI 0031E Fix the SWD line reset sequence accordingly to Arm specification IHI
	0031E that requires at least 2 idle clocks after the 50 clocks with
	SWDIO high.  Fix the value of the activation code in the (currently
	unused) sequence dormant-to-SWD.  Make each sequence's length
	multiple of 8, so it is compatible with adapters that have such
	limitation (e.g. buspirate) and try to split and comment each part
	of the sequence (when possible keep each part byte aligned, inspired
	from commit 3ef9beb52cd0). This slightly increases the sequence
	length but does not impact run-time performance because these are
	rarely used sequences.  Add the missing sequence dormant-to-JTAG and
	JTAG-to-dormant, not used yet.  On devices that implements the dormant state, IHI 0031E deprecates
	the direct switching between SWD and JTAG, and recommends using a
	transition through dormant. This is not implemented.  Change-Id: Iad18c0e736cfd9366be175d22658d664b0c61eab Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4851 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2019-01-11  Mirko Vogt <mirko.vogt@sensorberg.com>

	* : nrf5: add nrf5 device definition for HWID 0x00E3 This hardware id is e.g. used by the Insight SiP ISP1507-AX.  Change-Id: I82568d292f9882372ab061d8e3e36906b0cc5882 Signed-off-by:
	Mirko Vogt <mirko.vogt@sensorberg.com> Reviewed-on:
	http://openocd.zylin.com/4845 Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Tested-by: jenkins

2019-01-03  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : cortex_a_poll: minor code factorization to enhance readability cortex_a_debug_entry and update_halt_gdb are called in two
	consecutive conditions which are complementary, so externalizing the
	common code makes the conditions' body lighter With the removal of LOG_DEBUG(" ") since it does not look too
	informative Change-Id: I0c54e413619576bb3af164f2dcf256c5a862c5fd Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4832 Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Tested-by: jenkins

2019-01-08  Antonio Borneo <borneo.antonio@gmail.com>

	* : helper/command: check for malloc failure in __command_name If malloc fails in __command_name, the following strcpy will
	segfault, thus preventing __command_name to return.  The actual
	calls to command_name() implement the correct check for the NULL
	pointer, but propagate error -ENOMEM, that is not an error value
	coherent within OpenOCD. Plus, in one case it overwrites an already
	detected error.  Check the pointer returned by malloc and, in case of failure, issue
	an error message and return the NULL pointer.  Let the caller of
	command_name() to keep the already detected error or to return
	ERROR_FAIL in case of end of memory.  Change-Id: I151a24569409777dd5bc09a3daf5dba2b8e2829b Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4838 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-01-04  Antonio Borneo <borneo.antonio@gmail.com>

	* : drivers/sysfsgpio: fix usage messages The notation "(tck tms tdi tdo)* " is incorrect, because it means
	the quadruple of gpio can be repeated on the command-line.  The
	correct syntax of the command requires instead to provide either all
	the four gpio numbers (in order to set the values) or to pass an
	empty command-line (to dump the values previously set).  Change the .usage field to "[tck tms tdi tdo]".  Change similarly
	the corresponding .usage field for SWD command.  Add the .usage
	field for the commands that individually set each gpio.  Change-Id: If5b3c618097b71dfe7fcf988fb3c1499ae03a6d5 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4833 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2018-04-07  Austin Phillips <austin_phillips@hotmail.com>

	* : stlink_usb: Submit multiple USB URBs at once to improve
	performance Commands to stlink devices are typically comprised of multiple
	transactions with each transaction completing before moving to the
	next.  This change allows for multiple USB transactions to be issued
	at once followed by a check that all transactions completed
	successfully.  This improves performance on some machines where
	there is a large turn-around time between USB transfers such as is
	seen on some virtual machines.  This change is only supported when compiled with libusb1 as libusb1
	supports and asynchronous interface.  Multi-transaction queueing introduced in this change paves the way
	for improving speed of other transactions in the future such as
	memory and register reads where multiple USB transactions in
	succession are required to complete a command.  Multiple USB
	transactions can be submitted at once using
	jtag_libusb_bulk_transfer_n function.  Change-Id: I924e049217a789ef445b14e00aa1983576970fbf Signed-off-by:
	Austin Phillips <austin_phillips@hotmail.com> Reviewed-on:
	http://openocd.zylin.com/4484 Tested-by: jenkins Reviewed-by:
	Andreas Bolsch <hyphen0break@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2018-10-04  Antonio Borneo <borneo.antonio@gmail.com>

	* : jtag/drivers/usb_common: return oocd error values Where possible, keep the same style for returning error.  Change-Id: I3a04220c0b9f129a36e9fe83038b7c19dd57fe61 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4699 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2018-11-01  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/aarch64: add support for multi-architecture gdb GDB can be built for multi-architecture through the command         ./configure --enable-targets=all && make Such
	multi-architecture GDB requires the target's architecture to be
	selected either manually by the user through the GDB command "set
	architecture" or automatically by the target description sent by the
	remote target (i.e. OpenOCD).  Commit e65acd889c61a424c7bd72fdee5d6a3aee1d8504 ("gdb_server: add
	support for architecture element") already provides the required
	infrastructure to support multi-architecture gdb.  aarch64-linux-gnu-gdb 8.2 uses "aarch64" as default architecture,
	but also supports the value "aarch64:ilp32" and all the values
	supported by arm-none-eabi-gdb.  These values can be displayed on
	arm gdb prompt by typing "set architecture " followed by a TAB for
	autocompletion.  Set the gdb architecture value for aarch64 target to "aarch64".  Change-Id: I63e9769f47d8e73f048eb84fa73e082dd1c8e52c Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4755 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2018-11-01  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/stm8: add support for multi-architecture gdb GDB can be built for multi-architecture through the command         ./configure --enable-targets=all && make Such
	multi-architecture GDB requires the target's architecture to be
	selected either manually by the user through the GDB command "set
	architecture" or automatically by the target description sent by the
	remote target (i.e. OpenOCD).  Commit e65acd889c61a424c7bd72fdee5d6a3aee1d8504 ("gdb_server: add
	support for architecture element") already provides the required
	infrastructure to support multi-architecture gdb.  The gdb patches for stm8 are still not merged in the official
	repository and are temporarily hosted in         https://stm8-binutils-gdb.sourceforge.io/ The latest patch
	        set stm8-binutils-gdb-sources-2018-03-04.tar.gz define only one
	possible value ("stm8") for this architecture; it can be displayed
	typing "set architecture " followed by a TAB for autocompletion in
	gdb for stm8.  Set the gdb architecture value for stm8 to "stm8".  Change-Id: I643ceba662de46cecf061d1dc672b9178a077f1b Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4753 Tested-by: jenkins Reviewed-by: Ake
	Rehnman <ake.rehnman@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2018-12-05  Edward Fewell <efewell@ti.com>

	* : icepick.cfg: add cancel reset bit to TAP register writes The Agama family of devices (CC26x2/CC13x2) required an additional
	bit to be set when adding the core's TAP into the scan chain. The
	cancel reset bit 0x10000 tells the ICEPick to take the bus out of
	reset so that the other bits will take effect. This bit is a NOP on
	other devices and ICEPicks, so the change shouldn't adversely affect
	other devices.  Change-Id: I9245eef0936ea7eea28ae84ab5e8ce05fa63af40 Signed-off-by:
	Edward Fewell <efewell@ti.com> Reviewed-on:
	http://openocd.zylin.com/4789 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2018-12-14  Jerome Forissier <jerome.forissier@linaro.org>

	* : HACKING: add note about refs/for/master The fact that one needs to always push contributions to a single
	remote reference (refs/for/master) might seem odd to people
	unfamiliar with Gerrit. GitHub, for instance, hosts personal
	repositories where developers typically create topic branches for
	each contribution and use a proprietary mecanism to request a review
	(the "pull request").  More generally, one normally does not expect
	to be able to push non-fast-forwarding stuff to a remote branch.  This commit adds a clarifying note to the patch guidelines.  Change-Id: Ia750b815b82b18e92b6109c07f451000dcbecf9b Signed-off-by:
	Jerome Forissier <jerome.forissier@linaro.org> Reviewed-on:
	http://openocd.zylin.com/4806 Tested-by: jenkins Reviewed-by:
	Christopher Head <chead@zaber.com> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2018-12-16  Rod Boyce <developer@teamboyce.co.uk>

	* : NOR: lpc2000 Add support for LPC84x devices These devices differ from LPC8xx devices in that they have a
	different IAP entry point, but everything else is the same.  Using
	Tcl to pass different IAP entry point.  no new Clang analyser
	warnings and no new build sanitizers issues.  Change-Id: I2d654dd250f416e74262c0228cad8713a283402f Signed-off-by:
	Rod Boyce <developer@teamboyce.co.uk> Reviewed-on:
	http://openocd.zylin.com/4684 Reviewed-by: Jean-Christian de Rivaz
	<jcamdr70@gmail.com> Tested-by: jenkins Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2018-12-26  JƒÅnis Skujenieks <janis.skujenieks@gmail.com>

	* : flash/nor/nrf5: set correct timeout for nvmc operations Longest erase all FLASH for nRF5 series is 295.3 ms for nRF52832.
	Timeout period now is set to 340 ms (295.3 + 15%) Change-Id: Iae00ed7b634f111b9798db11e35e4e066d4aaa95 Signed-off-by:
	JƒÅnis Skujenieks <janis.skujenieks@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4822 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2018-12-20  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : target/arm_cti: add debug message when an incorrect CTI register
	name is used the patch also contains some typo fixes Change-Id: Ia4267036068455144cdcbfdffed15518d48f445e Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4816 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de> Reviewed-by: Antonio
	Borneo <borneo.antonio@gmail.com>

2018-05-02  Jean-Christian de Rivaz <jcamdr70@gmail.com>

	* : Add LPC8Nxx and NHS3xx support.  Change-Id: I0bdbca8dd9b234aca355230af7269463c9f70bd1 Signed-off-by:
	Jean-Christian de Rivaz <jcamdr70@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4515 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2018-12-10  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor/spi: add adesto AT25DF081A 8Mbit SPI flash on SAM D21 Xplained board Change-Id: Iec087f5d889c1cbdd4fed90863e73511f6101cec Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4802 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2018-12-07  Tomas Vanek <vanekt@fbl.cz>

	* : target: move all working_area functions to one block The block of code moved without any changes Change-Id: I70b82dc3315dcc3f34de0537b362bee230007d02 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4796 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2018-12-07  Tomas Vanek <vanekt@fbl.cz>

	* : target/cortex_m: do not use VECTRESET on Cortex-M0, M0+ and M1 Cortex-M0, M0+ and M1 do not support VECTRESET bit in AIRCR.
	Without this change the 'reset' command silently fails if VECTRESET
	is requested.  Detect these cores, show warning if VECTRESET is about to use and
	use SYSRESETREQ instead.  Change-Id: Ief174373e3ef0e6b287c57911c0aca4dfa8209f2 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4794 Tested-by: jenkins Reviewed-by:
	Jean-Christian de Rivaz <jcamdr70@gmail.com> Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2018-12-03  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/cortex_a: enable DSCR_HALT_DBG_MODE during examine Arm architecture reference manual DDI0406C reports at page 2024 in
	table C3-1 the processor behaviour on debug events depending on the
	debug-mode (none, monitor or halt), mode selected through the bits
	MDBGen and HDBGen in DSCR register.  The halt request is served independently from the debug-mode. Thus
	it's useless to enable the halt debug-mode in cortex_a_halt() by
	setting the bit HDBGen (macro DSCR_HALT_DBG_MODE).  On the other side, halting for a breakpoint, a watchpoint or a
	vector catch requires being in halt debug-mode.  Today HDBGen is set
	only in cortex_a_halt(), so we are forced to halt the core at least
	once before it can be halted for hitting a
	breakpoint/watchpoint/vector-catch. This is annoying since there is
	no need to halt the target to set a HW breakpoint.  Move in cortex_a_init_debug_access() the selection of the halt
	debug-mode, so the mode is set during examine.  To prevent a
	misconfigured hardware breakpoint/watchpoint/vector catch to halt
	the target when OpenOCD has already quit, return to debug-mode none
	at OpenOCD exit.  Change-Id: I68a1c51de3572ca1b89e90caf7eb20374268e926 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4783 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2018-10-22  Antonio Borneo <borneo.antonio@gmail.com>

	* : helper/startup.tcl: fix execution stack frame of wrapped
	commands The OpenOCD commands that have been wrapped with 'ocd_bouncer' are
	executed within two levels of nested proc's:         # see register_command_handler() in src/helper/command.c         proc my_command {args} {eval ocd_bouncer my_command $args}         # see ocd_bouncer in src/helper/startup.tcl         proc ocd_bouncer {name args} {                 ... [eval ocd_my_command $args] ...          } This causes the stack frame of 'ocd_my_command' to be the
	same one of proc 'ocd_bouncer', thus two levels below the stack
	frame of the caller of 'my_command'. This is an issue with commands
	that receive a variable by name and have to resolve them to access
	the value.  E.g. the command         <target> mem2array arrayname bitwidth address count is
	wrapped; it receives the name of the array but fails to resolve it
	        in the current stack frame. Instead, the commands mem2array
	        arrayname bitwidth address count ocd_<target> mem2array arrayname
	bitwidth address count are not wrapped and can directly access the
	array because they share the same stack frame of the caller.  Same
	situation with the symmetric commands 'array2mem'.  How to test: within a telnet connection, run the following set of
	commands, eventually replacing the address 0x08000000 with a valid
	readable address of your <target>,         unset -nocomplain v1 v2 v3         info vars v?         mem2array v1 32 0x08000000 1         <target> mem2array v2 32 0x08000000 1         ocd_<target> mem2array v3 32 0x08000000 1         info vars v? and notice that only v1 and v3 are now
	allocated. The array v2 has been allocated in the temporarily stack
	frame of proc ocd_bouncer, together with its local variables, and
	then lost when proc ended.  Fixed by executing the wrapped commands with the command 'uplevel'
	instead of 'eval'. The amount of levels to skip is checked to avoid
	errors in the unusual case 'ocd_bouncer' is called directly without
	the first level of wrapper.  Change-Id: Iff90fb8921faf9b5ab04f61062a530578cc20d78 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4731 Tested-by: jenkins Reviewed-by:
	Christopher Head <chead@zaber.com> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2018-12-06  Steven Stallion <stallion@squareup.com>

	* : flash/esirisc: refactor register write protection This patch removes use of register write protection in protect() and
	protect_check() now that Change 4765 has merged.  Change-Id: I42c429dc283c5b53989a6b98ebfc58214274ff16 Signed-off-by:
	Steven Stallion <stallion@squareup.com> Reviewed-on:
	http://openocd.zylin.com/4791 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2018-12-06  Jiri Kastner <cz172638@gmail.com>

	* : fix cc32xx related changes original CC3200 launchpad works only with ti-icdi driver which
	stopped to work after merging to master commit
	d02de3a8a92091b9761ebaf44dff1a71f5b2edcb Change-Id: I247b5d99831fa744de1fdc5b8a7cffdf49fe953c Signed-off-by:
	Jiri Kastner <cz172638@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4792 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2018-10-08  Antonio Borneo <borneo.antonio@gmail.com>

	* : libusb0: add compatibility define for transfer type bulk For compatibility with libusb1, define LIBUSB_TRANSFER_TYPE_BULK in
	libusb0.  Remove the #ifdef HAVE_LIBUSB1 in jtag/driver/aice This also fixes a compile error in jtag/drivers/openjtag with
	libusb0.  Change-Id: I827b77eac10216759eb31aab461b2b63cabaf195 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4700 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2018-12-05  Edward Fewell <efewell@ti.com>

	* : flash/nor: update cc3220sf for issue found in code review Remove inappropriate use of bank_number.  Change-Id: I11be1f2540cb09a3ccede35312f90bc8276af338 Signed-off-by:
	Edward Fewell <efewell@ti.com> Reviewed-on:
	http://openocd.zylin.com/4788 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2018-12-02  Reto Schneider <code@reto-schneider.ch>

	* : jtag: sysfsgpio: clean up swd gpios All SWD GPIOs should be un-exported when no longer needed, not just
	srst.  Change-Id: I998377afe43b72446cab3da2d4406fc2912ff8c3 Signed-off-by:
	Reto Schneider <code@reto-schneider.ch> Reviewed-on:
	http://openocd.zylin.com/4784 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2015-11-08  Tomas Vanek <vanekt@fbl.cz>

	* : jtag: cmsis-dap: developer tool - enter a command by hex nuber Handy to test vendor commands in a CMSIS-DAP adapter.  Change-Id: Ieeaa276edf770b1a3076a186e9056b4e5180362a Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/3103 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2018-10-04  Antonio Borneo <borneo.antonio@gmail.com>

	* : doc: fix some typo about STMicroelectronics name s/ST/STMicroelectronics/ s/ST Micro/STMicroelectronics/ s/ST
	Microelectronics/STMicroelectronics/ Change-Id: I62aef331d172db22a70841a089c1889e37997cde Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4718 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2018-10-01  Antonio Borneo <borneo.antonio@gmail.com>

	* : stlink: fix printed version for new STM8 nucleo board The ST-LINK/V2.1 embedded in the new nucleo boards for STM8 does not
	follow the normal versioning rules, and puts mass-storage and swim
	version in the field normally used respectively for jtag and
	mass-storage version.  Apply the check suggested by STMicroelectronics to discriminate the
	two cases and print the correct version.  Change-Id: I0dd1da11013be3f1e56084489e28cfba98bb07af Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4716 Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk> Tested-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2018-09-24  Antonio Borneo <borneo.antonio@gmail.com>

	* : stlink: add STLINK_F_HAS_GETLASTRWSTATUS2 Starting from stlink V2J15 the API
	STLINK_DEBUG_APIV2_GETLASTRWSTATUS is obsoleted and replaced by the
	new API STLINK_DEBUG_APIV2_GETLASTRWSTATUS2.  Manage the two cases to be prepared for an eventual future removal
	of the obsolete API.  Change-Id: Ic4498a652865b2eb6148825138c2f6855a06ba47 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4714 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2018-09-23  Antonio Borneo <borneo.antonio@gmail.com>

	* : stlink: simplify api version handling The API version is hardcoded in the STLINK device and depends on the
	specific firmware version. There is no way to switch between
	different API. Thus, it make no sense to keep in two separate
	variables the current and the max API supported because they are
	always equal to "the only" API supported by the specific STLINK.  Collapse h->version.jtag_api_max and h->jtag_api in a single
	variable h->version.jtag_api Remove an extra print of api version;
	this is already advertised while printing the STLINK version.  Change-Id: I0519694a34748e5a0aa330932c1256080a6d5f20 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4712 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2018-09-23  Antonio Borneo <borneo.antonio@gmail.com>

	* : stlink: add STLINK_F_HAS_JTAG_SET_FREQ Change-Id: I591543f218c6bb30aaeb6321ba8a9425a2b5b6e2 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4710 Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk> Tested-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2018-09-23  Antonio Borneo <borneo.antonio@gmail.com>

	* : stlink: add STLINK_F_HAS_TARGET_VOLT Use an alias to STLINK_F_HAS_TRACE, both are added in the same
	version Change-Id: Iabf2fdac407f5c4737c3da942323d60ee50c3470 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4708 Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk> Tested-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2018-09-20  Antonio Borneo <borneo.antonio@gmail.com>

	* : stlink: simplify maintenance of version and features The number of stlink firmware version is growing, each carrying new
	features. Today's code has several check distributed here and there
	and it's already hard to track them and verify the correctness.  The
	introduction of STLINK-V3 will make the situation much worst, and
	the code much less readable.  Add a "flags" bitmask in the struct stlink_usb_version to allow
	setting individual bits for each feature available or for specific
	quirks and workarounds.  This patch does not implement setting nor
	testing "flags"; it would be introduced in following patches, one
	bit at a time.  Change-Id: I09d78202646a6c8330731f8aa96dc9d295fa5655 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4706 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2018-09-19  Laurent LEMELE <laurent.lemele@st.com>

	* : stlink: add support for 16 bit memory read/write Recent stlink version V2J26 introduces support for 16 bit memory
	read/write.  Add the new API and modify the wrappers
	stlink_usb_{read|write}_mem For older version of stlink keep the
	same behavior as in current code.  While there, fix some minor typo
	in comments inside the wrappers.  This fixes ticket #204 ("st-link
	can't flash stm32f2x based flash without target algorithms").  Change-Id: Id7d404e588f10a4b0f8a93d7ca44cef8e4c49b4f Author: Laurent
	LEMELE <laurent.lemele@st.com> Rebased-by: Antonio Borneo
	<borneo.antonio@gmail.com> Ticket:
	https://sourceforge.net/p/openocd/tickets/204/ Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4704 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2018-09-23  Antonio Borneo <borneo.antonio@gmail.com>

	* : stlink: add usb pid for v2.1 without mass storage device New version of ST-Link/V2.1 without mass storage device.  From debug
	point of view, it is compatible with existing ST-Link/V2.1 It uses a
	new USB PID because the USB endpoints and interfaces are different
	from usual ST-Link/V2.1 Add the new PID in the driver, in the tcl interface script and in
	the udev configuration script.  Change-Id: Id2e1b5a5d0347c5d951a86a9cdb76be52cfd4ea3 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4702 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2018-11-26  Steven Stallion <stallion@squareup.com>

	* : mem_helper: add mrh command This patch adds support for reading halfword values from memory.
	This command compliments existing support for writing halfwords
	(mwh).  Change-Id: I8ec628e65c05a7f00aa57e3af0f228eb8bd4d14e Signed-off-by:
	Steven Stallion <stallion@squareup.com> Reviewed-on:
	http://openocd.zylin.com/4781 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2018-11-15  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor: use default_flash_blank_check() instead of dummy Some flash drivers had a dummy method for erase_check.  Use
	default_flash_blank_check() instead if possible.  Change-Id: Iddfeff45ce477007328d061fcb5c553d93c3be98 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4766 Tested-by: jenkins Reviewed-by:
	Christopher Head <chead@zaber.com>

2018-05-22  Darius Rad <darius@bluespec.com>

	* : Set TCP_NODELAY for local connections to jtag_vpi.  This increases performance drematically for local connections, which
	is the most likely arrangement for a VPI connection.  Change-Id: Id15b29ae663f5d8100b2175357649bd03d05b7c8 Signed-off-by:
	Darius Rad <darius@bluespec.com> Reviewed-on:
	http://openocd.zylin.com/4549 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2018-11-12  Tomas Vanek <vanekt@fbl.cz>

	* : tcl/target, board: remove useless gdb-attach event definitions Since commit bae76053dc515252dc5c8235b9a848e461080c66 gdb-attach
	event is defined as halt by default.  Remove useless and in case of
	bcm281xx wrong definitions of the event.  Change-Id: I8e69780a93722eb9392673303f54d502e71eceb6 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4763 Tested-by: jenkins Reviewed-by: Steven
	Stallion <sstallion@gmail.com>

2018-11-12  Tomas Vanek <vanekt@fbl.cz>

	* : tcl/target: ti_tms570.cfg restructure dap support ti_tms570 was probably omitted in commit
	2231da8ec4e7d7ae9b652f3dd1a7104f5a110f3f Change-Id: Idd4828fd5ea3641bda6c73c7f07a598c1e512ef6 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4762 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2018-08-10  Bohdan Tymkiv <bhdt@cypress.com>

	* : target/image: Add support for S6 record in Motorola SREC files S6 record is equivalent to S5 but it uses 24-bit value (instead of
	16-bit) to store total number of data records. It can be found in
	big srec files with total number of data records bigger than 65535 Handle S6 record in the same way as S5 (simply ignore it) Change-Id: I3e15a4e8f784fd38803c00accf422f803e8469cd Signed-off-by:
	Bohdan Tymkiv <bhdt@cypress.com> Reviewed-on:
	http://openocd.zylin.com/4645 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2018-10-18  Christopher Head <chead@zaber.com>

	* : Permit null target on TCL connection In previous versions of OpenOCD, it was possible to connect to the
	TCL RPC interface without a current target. In `tcl_new_connection`,
	the curent target would be queried by number, and the possibility of
	a null current target was handled properly.  In commit bb9d9c60264a905926e0d15f84842858d0de80b7, the
	`get_target_by_num` call was replaced by a `get_current_target`
	call, without noticing that `get_current_target` aborts if there is
	no current target, whereas `tcl_new_connection` is perfectly able to
	handle that situation.  Provide a `get_current_target_or_null` function for use by consumers
	who are OK with a null current target, and use it in
	`tcl_new_connection`.  Change-Id: I06f7e1e149f1169e23c73ba328c7ad9f9425cc2a Signed-off-by:
	Christopher Head <chead@zaber.com> Reviewed-on:
	http://openocd.zylin.com/4730 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz> Reviewed-by: Franck Jullien
	<franck.jullien@gmail.com>

2018-11-01  Spencer Oliver <spen@spen-soft.co.uk>

	* : docs: fix typo in manual Change-Id: I28717105eb2a907b0cb4b03f4b5ff1f47194413b Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/4751 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2018-10-23  xuguangxiao <szgxxu@qq.com>

	* : jtag/bitq: array boundary overflow The for loop inside bitq_path_move function is not correct, this
	will overflow the cmd->path array and produces an unpredictable
	result.  Change-Id: I81e3bc9ee6d1dd948acd2fe4c667103ac22bb26f Signed-off-by:
	xuguangxiao <szgxxu@qq.com> Reviewed-on:
	http://openocd.zylin.com/4733 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2018-10-07  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/cortex_a: remove duplicate code to read target registers The functions cortex_a_dap_{read,write}_coreregister_u32() are
	duplicate of the functions dpm_{read,write}_reg().  Remove both duplicated functions in cortex_a.c while export only
	dpm_read_reg(), since dpm_write_reg() is currently not used.  Rename
	dpm_read_reg() as arm_dpm_read_reg() to keep uniform the naming
	style.  Change-Id: I501bc99dc402039e630c47917a086a0bb382782c Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4747 Reviewed-by: Matthias Welwarsky
	<matthias@welwarsky.de> Tested-by: jenkins

2018-10-31  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/cortex_a: remove buggy memory AP accesses The armv7m debug port provides a direct access to the CPU memory
	bus, allowing the debugger to bypass the CPU for every memory
	operation.  The armv7a debug port doesn't offer the same feature,
	mainly because CPU caches and MMU makes the direct memory access
	more tricky. Nevertheless most SoC with armv7a provide direct memory
	access through an AHB bus available on another DAP access port,
	different from the debug port.  The original port of cortex_a in OpenOCD was inspired from the
	working cortex_m code, and provided optional memory access through
	the AHB, if present.  The code for AHB access is problematic and
	partially buggy due to incomplete management of cache coherency and
	missing check of page boundary during virtual address operations.  With the commit 5d458cf72734a4474f38bbed10eea4d9acfe93a2
	("target/mem_ap: generic mem-ap target") we have a clean support for
	memory access through system buses connected to DAP AP, which
	obsoletes the buggy memory AP hack in cortex_a.  Remove any code that uses the memory AP accesses in cortex_a.  Change-Id: I7cd1f94885e5817448058953e043d8da90dea3cc Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4748 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2018-07-12  Dominik Peklo <dom.peklo@gmail.com>

	* : flash/nor/stm32f1x: Use of protection blocks, improved option
	bytes handling Handle write protection status in blocks instead of sectors,
	removing unnecessary complexity in the process. Now closer to
	stm32f2x.  Support sequential modification of option bytes by
	read/modify/write directly to option bytes area instead of always
	starting with the currently loaded bytes from FLASH_OBR/WRPR
	registers.  Added new command 'options_load' to force re-load of
	option bytes w/o having to power cycle target.  Change-Id: I5c76191e29c17a1e11482df06379d10ca8d6d04d Signed-off-by:
	Dominik Peklo <dom.peklo@gmail.com> Signed-off-by: Tomas Vanek
	<vanekt@fbl.cz> Reviewed-on: http://openocd.zylin.com/4576
	Tested-by: jenkins Reviewed-by: Jan Vojtƒõch
	<honza.vojtech@gmail.com>

2018-10-23  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor/at91samd: add SAMR21E19A DID While on it correct RAM amount of SAMR21x16A devices Change-Id: Ie9ab9de1551bdceff17af7597a9a2ee41f5aebe0 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4734 Reviewed-by: Eduardo Montoya
	Tested-by: jenkins

2017-03-23  Tomas Vanek <vanekt@fbl.cz>

	* : drivers/cmsis-dap: speed up sending multiple HID requests The performance of CMSIS-DAP in long data transfers was improved
	substantially in ef02b69b14d133b061217a91add5a028a77e86bc. But it
	not as good as some other USB/MCU based adapters. Using HID and
	therefore interrupt endpoint is slower than USB bulk transfer.  CMSIS-DAP adapter implements multiple HID buffer handling and
	OpenOCD already reads number of buffers from info command.  This change adds capability to sumbit more than one HID requests
	before driver waits for a HID response. This scenario is used for
	long transfers only.  Results show about double speed on USB FS and
	~140% speed on USB HS:                                          | w/o this change | with
	                                         multi HIDrq

	-----------------------------------------+-----------------+-----------------Open source CMSIS-DAP, USB FS, adapter_khz 1000 dump_image
	ram32k.bin 0x1fffe000 0x8000  |   23.225 KiB/s  |   45.901 KiB/s
	load_image ram32k.bin 0x1fffe000         |   23.324 KiB/s  |
	46.552 KiB/s Cypress' Kitprog in CMSIS-DAP mode, USB FS, adapter_khz 1000 (over
	firmware limit) dump_image ram64k.bin 0x20000000 0x10000 |   15.537
	KiB/s  |   42.558 KiB/s load_image ram64k.bin 0x20000000         |
	15.605 KiB/s  |   43.291 KiB/s Atmel's EDBG, USB HS, adapter_khz 10000 (#3945 applied) dump_image
	ram384k.bin 0x20400000 0x6000 |  248.402 KiB/s  |  345.250 KiB/s
	load_image ram384k.bin 0x20400000        |  256.039 KiB/s  |
	365.945 KiB/s Change-Id: I9edbe018086176d357c6aaba5d6b657a5e5e1c64 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4080 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2017-07-05  Moritz Fischer <moritz.fischer@ettus.com>

	* : zynq_7000: Add zynqpl_program command This allows for programming the PL part of the Xilinx Zynq 7000 Change-Id: I89e86c0f381951091f6948c46802d17d7f1f3500 Signed-off-by:
	Moritz Fischer <moritz.fischer@ettus.com> Reviewed-on:
	http://openocd.zylin.com/4177 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2018-02-22  William D. Jones <wjones@wdj-consulting.com>

	* : xilinx-xc7: Add additional IDCODEs.  Add/detect missing IDCODEs for the Spartan 7 family and Artix 25T
	and Artix 12T.  Change-Id: Ib6c83c5592e90df1eb8e715e79b279da9a95f9c6 Signed-off-by:
	William D. Jones <wjones@wdj-consulting.com> Reviewed-on:
	http://openocd.zylin.com/4428 Reviewed-by: Robert J√∂rdens
	Tested-by: jenkins Reviewed-by: Rohit Singh <rohit91.2008@gmail.com>
	Reviewed-by: Matthias Welwarsky <matthias@welwarsky.de>

2018-09-21  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/arm_adi_v5: fix sync CSW cache on apreg write Commit 0057c71ab6b81d0679b232318fc5f84b4becc471 updates the OpenOCD
	cached values of CSW and TAR registers if these registers are
	modified by an apreg command.  The condition to force the update of
	CSW cache is incorrect and it will erase the default CSW value.
	Moreover, calling mem_ap_setup_csw() does not honor the value
	requested in the apreg command because such value is incorrectly
	bitwise or-ed with csw_default.  Fix it by updating csw_value, instead of erasing csw_default, and
	writing directly in CSW register the new value from the command
	line.  Change-Id: I40273cb64d22ccfb9b6d3499bd39b586eb60de38 Fixes:
	0057c71ab6b8 ("target/arm_adi_v5: sync CSW and TAR cache on apreg
	write") Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>
	Reviewed-on: http://openocd.zylin.com/4679 Tested-by: jenkins
	Reviewed-by: Christopher Head <chead@zaber.com> Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2017-05-01  Steven Stallion <stallion@squareup.com>

	* : ftdi: demote unhelpful debug messages Some protocols make use of empty scan fields for optional padding,
	which causes the log to fill with unhelpful messages that a field is
	empty.  The remaining LOG_DEBUG messages in ftdi_execute_scan have
	been demoted to DEBUG_JTAG_IO such that these messages are only seen
	when debugging JTAG.  Change-Id: I61fd4551411ce851da34e67d003bca5d7a71cd92 Signed-off-by:
	Steven Stallion <stallion@squareup.com> Reviewed-on:
	http://openocd.zylin.com/4112 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2018-08-28  Steven Stallion <stallion@squareup.com>

	* : esirisc: support eSi-RISC targets eSi-RISC is a highly configurable microprocessor architecture for
	embedded systems provided by EnSilica. This patch adds support for
	32-bit targets and also includes an internal flash driver and
	uC/OS-III RTOS support. This is a non-traditional target and
	required a number of additional changes to support non-linear
	register numbers and the 'p' packet in RTOS support for proper
	integration into EnSilica's GDB port.  Change-Id: I59d5c40b3bb2ace1b1a01b2538bfab211adf113f Signed-off-by:
	Steven Stallion <stallion@squareup.com> Reviewed-on:
	http://openocd.zylin.com/4660 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2017-03-21  Steven Stallion <stallion@squareup.com>

	* : gdb_server: add support for architecture element This change adds optional support for a target to report
	architecture information in the target description to GDB. This is
	needed by some GDB implementations to properly support remote target
	with custom behavior.  More information on the architecture element
	can be found here:
	https://sourceware.org/gdb/onlinedocs/gdb/Target-Description-Format.html#Target-Description-FormatChange-Id: I57b19cae5ac3496256e4e5cc52cf6526ca5c322d Signed-off-by:
	Steven Stallion <stallion@squareup.com> Reviewed-on:
	http://openocd.zylin.com/4078 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by: Matthias
	Welwarsky <matthias@welwarsky.de>

2017-05-01  Steven Stallion <stallion@squareup.com>

	* : register: support non-existent registers This patch fixes a number of bugs caused by incomplete support for
	non-existent registers. This is needed for targets that provide
	optional registers or non-linear register numbers.  Change-Id: I216196e0051f28887a2c3da410959382369eed80 Signed-off-by:
	Steven Stallion <stallion@squareup.com> Reviewed-on:
	http://openocd.zylin.com/4113 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2018-09-25  Anders Westrup <anders@westrup.se>

	* : flash/nrf5: support for nRF52810 Change-Id: I01c430bfa593d20ea7a51c90d67052e374d239b3 Signed-off-by:
	Anders Westrup <anders@westrup.se> Reviewed-on:
	http://openocd.zylin.com/4680 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz> Reviewed-by: Slowcoder <slowcoder@gmail.com>

2018-09-10  Adam Bass <adam.bass@renesas.com>

	* : tcl/target: Add Renesas R-Car Gen3 targets Add configuration for the Renesas R-Car Generation 3 targets.  These
	are SoCs with Cortex A57s, A53s, and R7s. All cores are supported.  Change-Id: I795233210e4f647a1a2a0adea7c058ae98b5db70 Signed-off-by:
	Adam Bass <adam.bass@renesas.com> Reviewed-on:
	http://openocd.zylin.com/4669 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2018-09-19  Christopher Head <chead@zaber.com>

	* : target/atsamv: make APCSW cacheable Change-Id: Ic00d3192642c682f370a6f7f8b70ae29744eb746 Signed-off-by:
	Christopher Head <chead@zaber.com> Reviewed-on:
	http://openocd.zylin.com/4678 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2018-08-27  Antonio Borneo <borneo.antonio@gmail.com>

	* : contrib/60-openocd.rules: provide hint to reload udev rules No need to reboot the Linux box when new rules are added to udev.
	Suggest the command in the script header.  Change-Id: Ie95383bfd73914a3d2e2c05d77fa3eb32e68b7e2 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4665 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2018-08-24  Tim Newsome <tim@sifive.com>

	* : Clarify what exactly the RISC-V code supports.  Change-Id: I8da657426cc52c738ab41bfb0164cbc6721c0aef Signed-off-by:
	Tim Newsome <tim@sifive.com> Reviewed-on:
	http://openocd.zylin.com/4655 Tested-by: jenkins Reviewed-by:
	Philipp Guehring <pg@futureware.at> Reviewed-by: Liviu Ionescu
	<ilg@livius.net> Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2018-09-04  Antonio Borneo <borneo.antonio@gmail.com>

	* : doc: fix use of deprecated config file in the example Commit 31c58c139d85 ("jtag: drivers: stlink: handle all versions
	with single config") deprecates the use of
	"interface/stlink-v2-1.cfg" in favor of a unique config file
	"interface/stlink.cfg".  Update the example in the documentation.  Change-Id: I1aed7c70e15f4edb4f81a3ee8e3bce575fde873b Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4667 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2018-08-13  Kai Geissdoerfer <kai.geissdoerfer@tu-dresden.de>

	* : flash/nrf5: time-based timeout waiting for flash controller Change-Id: Id214df154dc359ca130c8d8fe1554d106621b9cd Signed-off-by:
	Kai Geissdoerfer <kai.geissdoerfer@tu-dresden.de> Reviewed-on:
	http://openocd.zylin.com/4648 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2018-08-09  Guido G¸nther <agx@sigxcpu.org>

	* : tcl/board: Add Emcraft imx8 SOM BSB support Tested with Olimex ARM-USB-TINY-H adapter Simple commands work fine but there are currently issues when
	attaching remote gdb or running virt2phys:     https://sourceforge.net/p/openocd/tickets/201/ Change-Id: I86ccf1d93c5d23870bb522f92b3e2af190d529e8 Signed-off-by:
	Guido G√ºnther <agx@sigxcpu.org> Reviewed-on:
	http://openocd.zylin.com/4646 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2018-08-04  Oleksij Rempel <o.rempel@pengutronix.de>

	* : ftdi: extend ftdi_location format To existing <bus>:<port>,<port> format add <bus>-<port>.<port>
	support.  The last format is used by kernel and other drivers.  Change-Id: I6528970d3af4f6a8bf7b27a0f7a763b5957fdf2b Signed-off-by:
	Oleksij Rempel <o.rempel@pengutronix.de> Reviewed-on:
	http://openocd.zylin.com/4631 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2017-02-20  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : target/mem_ap: generic mem-ap target This pseudo target allows attaching to any access point on the DAP
	at the MEM-AP level and read and write addresses on the connected
	bus. For example, one can create a mem_ap target on the APB-AP and
	read and write registers of debug components directly. This allows
	many diagnostic and other features be programmed entirely using TCL,
	without necessity of adding drivers to OpenOCD.  Change-Id: I53229ffd68fb0f96fb68be15b0f3a76cc8843c8e Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com> Reviewed-on:
	http://openocd.zylin.com/4002 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by: Leonard
	Crestez <cdleonard@gmail.com>

2018-08-28  Steven Stallion <stallion@squareup.com>

	* : rtos-helpers: fix minor typo in uC/OS-III helper This patch corrects a spelling error in uCOS-III-openocd.c.  Change-Id: I6d1923ff1f5e6361358c45cec3dd6c08ca9ccef0 Signed-off-by:
	Steven Stallion <stallion@squareup.com> Reviewed-on:
	http://openocd.zylin.com/4659 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2018-05-21  Antonio Borneo <borneo.antonio@gmail.com>

	* : gdb_server: add per target option "-gdb-port" The argument passed to global config command "gdb_port" is usually,
	but not always, a TCP port number. In case of multiple targets, this
	numeric value is used as the first port of a set of consecutive TCP
	ports assigned one per target.  If the argument is not a numeric
	value (e.g. "pipe", "disabled", ...) then incrementing it for the
	next target has no sense.  Add the option "-gdb-port number" to the commands "target create"
	and "$target_name configure" to override, for the specific target,
	the general global configuration.  This permits to use a per target "-gdb-port disabled", when no gdb
	port is required for that specific target.  It also makes possible to choose a custom TCP port number for each
	target, overriding the usual sequence of consecutive port numbers.  Change-Id: I3b9a1910b28ab4bc757e839d0e5d08ffc29f7ab4 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4530 Tested-by: jenkins Reviewed-by:
	Christopher Head <chead@zaber.com> Reviewed-by: Matthias Welwarsky
	<matthias@welwarsky.de>

2018-08-10  Guido G¸nther <agx@sigxcpu.org>

	* : target: armv8: Ensure target is halted for virt2phys Othewise the error reported as     Timeout waiting for dpm prepare Change-Id: Ieed2fdcd94ae4e877a749df3eec07a01dbf80b10 Closes:
	https://sourceforge.net/p/openocd/tickets/201/ Found-by: Matthias
	Welwarsky <matthias@welwarsky.de> Signed-off-by: Guido G√ºnther
	<guido.gunther@puri.sm> Reviewed-on: http://openocd.zylin.com/4647
	Tested-by: jenkins Reviewed-by: Matthias Welwarsky
	<matthias@welwarsky.de>

2018-08-05  Tomas Vanek <vanekt@fbl.cz>

	* : flash/at91sam4: fix clang static analyzer warning Change-Id: I5e5319d855c868adfa012f68086f7f809ec5a069 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4639 Tested-by: jenkins

2018-07-21  Tomas Vanek <vanekt@fbl.cz>

	* : flash/at91sam4: emit flash bank info Change related LOG_INFO to LOG_DEBUG Change-Id: I0c09b1ec83da631b26980dc8632b9031fe2921a3 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4610 Tested-by: jenkins Reviewed-by: Erwin
	Oegema <blablaechthema@hotmail.com> Reviewed-by: Svetoslav Enchev
	<svetoslav.enchev@gmail.com>

2016-07-14  Kevin Gillespie <kgills@gmail.com>

	* : max32xxx: Support for MAX32XXX devices.  Adding flash programming support for Maxim Integrated MAX32XXX
	devices.  Change-Id: I5b0f57a885f9d813240e4bc2d9f765b743e1cfc3 Signed-off-by:
	Kevin Gillespie <kgills@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3543 Tested-by: jenkins Reviewed-by: Ismail
	H. KOSE <ihkose@gmail.com> Reviewed-by: Tomas Vanek <vanekt@fbl.cz>
	Reviewed-by: Andreas Fritiofson <andreas.fritiofson@gmail.com>

2018-03-07  Cody P Schafer <openocd@codyps.com>

	* : tcl/board: update all uses of interface/stlink-v2-1 to
	interface/stlink Change-Id: I5e27e84d022f73101376e8b4a1bdc65f58fd348a Signed-off-by:
	Cody P Schafer <openocd@codyps.com> Reviewed-on:
	http://openocd.zylin.com/4456 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2018-07-31  Christopher Head <chead@zaber.com>

	* : doc: fix typo in cortex_m maskisr command Change-Id: I37795c320ff7cbf6f2c7434e03b26dbaf6fc6db4 Signed-off-by:
	Christopher Head <chead@zaber.com> Reviewed-on:
	http://openocd.zylin.com/4621 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2018-07-24  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/armv7a_cache: add gdb keep-alive and fix a missing dpm
	finish Depending on range size, the loop on cache operations can take quite
	some time, causing gdb to timeout.  Add keep-alive to prevent gdb to timeout.  Add also a missing
	dpm->finish() to balance dpm->prepare().  Change-Id: Ia87934b1ec19a0332bb50e3010b582381e5f3685 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4627 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2018-07-25  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/arm_adi_v5: allow commands apsel and apcsw during init
	phase The current implementation of apsel cannot be executed during the
	initialization phase because it queries the DAP AP to retrieve and
	print the content of IDR register, and the query is only possible
	later on during the exec phase.  But IDR information is already
	printed by the dedicated command apid, making redundant printing it
	by apsel too.  Being unable to run apsel during initialization,
	makes also apcsw command (that depends on apsel) not usable in such
	phase.  Modify the command apsel to only set the current AP, without making
	any transfer to the (possibly not initialized yet) DAP. When run
	without parameters, just print the current AP number.  Change mode
	to COMMAND_ANY to apsel and to apcsw.  Change-Id: Ibea6d531e435d1d49d782de1ed8ee6846e91bfdf Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4624 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2018-07-07  Dominik Peklo <dom.peklo@gmail.com>

	* : tcl/target/stm32f0x: Allow overriding the Flash bank size Copy & paste from another stm32 target.  Change-Id: I0f6cbcec974ce70c23c1850526354106caee1172 Signed-off-by:
	Dominik Peklo <dom.peklo@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4575 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2016-12-19  Marc Schink <openocd-dev@marcschink.de>

	* : server/server: Add ability to remove services Add the ability to remove services while OpenOCD is running.  Change-Id: I4067916fda6d03485463fa40901b40484d94e24e Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/4054 Tested-by: jenkins Reviewed-by:
	Fredrik Hederstierna <fredrik@hederstierna.com> Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2018-07-20  Jim Paris <jim@jtan.com>

	* : nrf5: add free_driver_priv Change-Id: I429a9868deb0c4b51f47a4bbad844bdc348e8d21 Signed-off-by:
	Jim Paris <jim@jtan.com> Reviewed-on: http://openocd.zylin.com/4608
	Tested-by: jenkins Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2018-05-03  Bohdan Tymkiv <bhdt@cypress.com>

	* : flash/nor/tcl.c: fix flash bank bounds check in 'flash fill'
	command handler Steps to reproduce ( STM32F103 'Blue Pill', 128KiB of flash ): >
	flash fillh 0x0801FFFE 00 1 wrote 2 bytes to 0x0801fffe in 0.019088s
	(0.102 KiB/s) > flash fillw 0x0801FFFE 00 1 Error: stm32f1x.cpu --
	clearing lockup after double fault Error: error waiting for target
	flash write algorithm Error: error writing to flash at address
	0x08000000 at offset 0x0001fffe Change-Id: I145092ec5e45bc586b3df48bf37c38c9226915c1 Signed-off-by:
	Bohdan Tymkiv <bhdt@cypress.com> Reviewed-on:
	http://openocd.zylin.com/4516 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2018-06-01  Antonio Borneo <borneo.antonio@gmail.com>

	* : server: explicitly call "shutdown" when catch CTRL-C or a signal Every TCL command can be renamed (or deleted) and then replaced by a
	TCL proc that has the same name of the original TCL command.  This
	can be used either to completely replace an existing command or to
	wrap the original command to extend its functionality.  This applies
	also to the OpenOCD command "shutdown" and can be useful, for
	example, to set back some default value to the target before
	quitting OpenOCD.  E.g. (TCL code):         rename shutdown original_shutdown         proc shutdown {} {                 puts "This is my implementation of shutdown"                 # my own stuff before exit OpenOCD                 original_shutdown         } Unfortunately, sending a signal (or pressing CTRL-C) to terminate
	OpenOCD doesn't trigger calling the original "shutdown" command nor
	its (eventual) replacement.  Detect if the main loop is terminated by an external signal and in
	such case execute explicitly the command "shutdown".  Replace with
	enum the magic numbers assumed by "shutdown_openocd".  Please notice that it's possible to write a custom "shutdown" TCL
	proc that does not call the original "shutdown" command. This is
	useful, for example, to prevent the user to quit OpenOCD by typing
	"shutdown" in the telnet session.  Such case will not prevent
	OpenOCD to terminate when receiving a signal; OpenOCD will quit
	after executing the custom "shutdown" command.  Change-Id: I86b8f9eab8dbd7a28dad58b8cafd97caa7a82f43 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4551 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2018-06-28  Oleksij Rempel <o.rempel@pengutronix.de>

	* : target|board: Add Intel (Altera) Arria 10 target and related
	board Target information about this SoC can be found here:

	https://www.altera.com/products/fpga/arria-series/arria-10/overview.htmlAchilles Instant-Development Kit Arria 10 SoC SoM:

	https://www.reflexces.com/products-solutions/development-kits/arria-10/achilles-instant-development-kit-arria-10-soc-somChange-Id: Id78c741be6a8b7d3a70f37d41088e47ee61b437a Signed-off-by:
	Oleksij Rempel <o.rempel@pengutronix.de> Reviewed-on:
	http://openocd.zylin.com/4583 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2018-02-19  Oleksij Rempel <linux@rempel-privat.de>

	* : tcl/board: add DPTechnics DPT-Board-v1 it is Atheros AR9331 based IoT dev board.  Change-Id: I6fc3cdea1bef49c53045018ff5acfec4d5610ba6 Signed-off-by:
	Oleksij Rempel <linux@rempel-privat.de> Reviewed-on:
	http://openocd.zylin.com/4424 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2018-02-19  Oleksij Rempel <linux@rempel-privat.de>

	* : tcl/target/atheros_ar9331: add DDR2 helper this helper works on many different boards, so it is good to have it
	in target config Change-Id: I068deac36fdd73dbbcedffc87865cc5b9d992c1d Signed-off-by:
	Oleksij Rempel <linux@rempel-privat.de> Reviewed-on:
	http://openocd.zylin.com/4422 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2018-01-31  Oleksij Rempel <linux@rempel-privat.de>

	* : tcl/board: add config for 8devices LIMA board More information about this board can be found here:
	https://www.8devices.com/products/lima Change-Id: Id35a35d3e986630d58d37b47828870afd107cc6a Signed-off-by:
	Oleksij Rempel <linux@rempel-privat.de> Reviewed-on:
	http://openocd.zylin.com/4406 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2018-02-10  Oleksij Rempel <linux@rempel-privat.de>

	* : mips_m4k: add optional reset handler In some cases by using SRST we can't halt CPU early enough. And
	option PrRst is not available too. In this case the only way is to
	set BOOT flag over EJTAG and reset CPU or SoC from CPU itself.  For
	example by writing to some reset register.  This patch is providing possibility to use user defined reset-assert
	handler which will be enabled only in case SRST is disabled. It is
	needed to be able switch between two different reset variants on run
	time.  Change-Id: I6ef98f1871ea657115877190f7cc7a5e8f3233e4 Signed-off-by:
	Oleksij Rempel <linux@rempel-privat.de> Reviewed-on:
	http://openocd.zylin.com/4404 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2018-07-17  Christopher Head <chead@zaber.com>

	* : target/cortex_m: make a variable local The vec_ids variable is not referenced anywhere other than the
	vector catch command handler. Make it local to that function.  Change-Id: Ie5865e8f78698c19a09f0b9d58269ced1c9db440 Signed-off-by:
	Christopher Head <chead@zaber.com> Reviewed-on:
	http://openocd.zylin.com/4606 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2016-07-15  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : cortex_a: fix virt2phys when mmu is disabled When the MMU is not enabled on debug state entry, virt2phys cannot
	perform a translation since it is unknown whether a valid MMU
	configuration existed before. In this case, return the virtual
	address as physical address.  Change-Id: I6f85a7a5dbc200be1a4b5badf10a1a717f1c79c0 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com> Reviewed-on:
	http://openocd.zylin.com/4480 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by: Matthias
	Welwarsky <matthias@welwarsky.de>

2018-07-18  Tim Newsome <tim@sifive.com>

	* : Add RISC-V support.  This supports both 0.11 and 0.13 versions of the debug spec.  Support for `-rtos riscv` will come in a separate commit since it
	was easy to separate out, and is likely to be more controversial.  Flash support for the SiFive boards will also come in a later
	commit.  Change-Id: I1d38fe669c2041b4e21a5c54a091594aac3e2190 Signed-off-by:
	Tim Newsome <tim@sifive.com> Reviewed-on:
	http://openocd.zylin.com/4578 Tested-by: jenkins Reviewed-by: Liviu
	Ionescu <ilg@livius.net> Reviewed-by: Matthias Welwarsky
	<matthias@welwarsky.de>

2018-04-16  Antonio Borneo <borneo.antonio@gmail.com>

	* : drivers: cmsis_dap_usb: implement cmd JTAG_TMS Simply add a wrapper around cmsis_dap_cmd_DAP_SWJ_Sequence() Change-Id: Icf86f84b24e9fec56e2f9e155396aac34b0e06d2 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4517 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2018-05-22  Darius Rad <darius@bluespec.com>

	* : Avoid dereferencing NULL pointer.  If a NULL pointer is passed, don't attempt to increment it.  This
	avoids passing the now not-NULL pointer on and eventually
	segfaulting.  Also remove some unnecessary temporary variables.  Change-Id: I268e225121aa283d59179bfae407ebf6959d3a4e Signed-off-by:
	Darius Rad <darius@bluespec.com> Reviewed-on:
	http://openocd.zylin.com/4550 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2017-02-01  Brent Roman <genosensor@gmail.com>

	* : server: Improve signal handling under Linux Commit 5087a955 added custom signal handlers for the openocd server
	process.  Before this commit, when openocd is run as a background process
	having the same controlling terminal as gdb, Control-C would be
	handled by gdb to stop target execution and return to the gdb
	prompt.  However, after commit 5087a955, the SIGINT caused by pressing
	Control-C also terminates openocd, effectively crashing the
	debugging session.  The only way to avoid this is run openocd in a
	different controling terminal or to detach openocd from its
	controlling terminal, thus losing all job control for the openocd
	process.  This patch improves the server's handling of POSIX signals: 1) Keyboard generated signals (INT and QUIT) are ignored    when server process has is no controlling terminal.  2) SIGHUP and SIGPIPE are handled to ensure that .quit functions    for each interface are called if user's logs out of X    session or there is a network failure.  SIG_INT & SIG_QUIT still stop openocd when it is running in the
	foreground.  Change-Id: I03ad645e62408fdaf4edc49a3550b89b287eda10 Signed-off-by:
	Brent Roman <genosensor@gmail.com> Signed-off-by: Tomas Vanek
	<vanekt@fbl.cz> Reviewed-on: http://openocd.zylin.com/3963
	Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2016-12-10  Marc Schink <openocd-dev@marcschink.de>

	* : target/armv7m_trace: Use prefix for enums Change-Id: I3f199e6053146a1094d96b98ea174b41bb021599 Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/3905 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2018-04-04  Marc Schink <openocd-dev@marcschink.de>

	* : target: Fix segfault for 'mem2array' Call 'mem2array' without arguments to reproduce the segmentation
	fault.  Change-Id: I02bf46cc8bd317abbb721a8c75d7cbfac99eb34e Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/4534 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by: Christopher
	Head <chead@zaber.com>

2018-07-15  Liviu Ionescu <ilg@livius.net>

	* : Avoid null target->semihosting references.  The new common semihosting code introduced a bug, in certain
	conditions target->semihosting was used without semihosting being
	initialised.  The solution was to explicitly test for target->semihosting before
	dereferencing it.  Change-Id: I4c83e596140c68fe4ab32e586e51f7e981a40798 Signed-off-by:
	Liviu Ionescu <ilg@livius.net> Reviewed-on:
	http://openocd.zylin.com/4603 Tested-by: jenkins Reviewed-by:
	Jonathan Larmour <jifl@eCosCentric.com> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2018-07-13  Erwin Oegema <>

	* : flash/nor/at91sam4: fix sam4sa16c flash banks and its gpnvms
	count There was already a github fork that had this fixed, but as we try
	to use the latest, non-modified version of all software we use, I
	would like to have this fix in the next releases of OpenOCD so that
	if people uses $packagemanager, they will not have issues flashing
	the last part of the flash of sam4sa16c chips.  Additionally, I've added some more logging related to the flash bank
	that was used, and the chip ID that was detected.  Change-Id: I7ea5970105906e4560b727e46222ae9a91e41559 Signed-off-by:
	Erwin Oegema <blablaechthema@hotmail.com> Reviewed-on:
	http://openocd.zylin.com/4599 Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Tested-by: jenkins

2016-04-13  Karl Palsson <karlp@tweak.net.au>

	* : drivers: cmsis-dap: Print version info when available No need to wait until after connecting, might help diagnose part
	information by printing earlier.  Change-Id: I51eb0d584be306baa811fbeb1ad6a604773e602c Signed-off-by:
	Karl Palsson <karlp@tweak.net.au> Reviewed-on:
	http://openocd.zylin.com/3404 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2018-06-24  Dominik Peklo <dom.peklo@gmail.com>

	* : flash/nor/tcl: Distinguish between sectors and blocks in status
	messages Use the right word in flash protect command status messages based on
	whether the target bank defines num_prot_blocks. Minor message style
	tidy-up.  Change-Id: I5f40fb5627422536ce737f242fbf80feafe7a1fc Signed-off-by:
	Dominik Peklo <dom.peklo@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4573 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz> Reviewed-by: Christopher Head
	<chead@zaber.com>

2018-07-10  Christopher Hoover <ch@murgatroid.com>

	* : Adds SAMD11D14AU flash support.  Corrects names of SAMD11D14AM and SAMD11D14ASS per datasheet.  Change-Id: I8beb15d5376966a4f8d7de76bfb2cbda2db440dc Signed-off-by:
	Christopher Hoover <ch@murgatroid.com> Reviewed-on:
	http://openocd.zylin.com/4597 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2016-04-13  Karl Palsson <karlp@tweak.net.au>

	* : target: atmel samd10 xplained mini cortex m0+ on a tiny board, with an mEDBG (CMSIS-DAP) debug
	interface.  Change-Id: Iaedfab578b4eb4aa2d923bd80f220f59b34e6ef9 Signed-off-by:
	Karl Palsson <karlp@tweak.net.au> Reviewed-on:
	http://openocd.zylin.com/3402 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2018-04-30  Christopher Head <chead@zaber.com>

	* : target/stm32f7x: Clear stuck HSE clock with CSS Change-Id: Ica0025ea465910dd664ab546b66f4f25b271f1f5 Signed-off-by:
	Christopher Head <chead@zaber.com> Reviewed-on:
	http://openocd.zylin.com/4570 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2018-07-02  Antonio Borneo <borneo.antonio@gmail.com>

	* : gdb_server: set current_target from connection's one In a multi-target environment we are supposed to have a single gdb
	server for each target (or for each group of targets within a SMP
	node).  By default, the gdb attached to a server sends its command
	to the target (or to the SMP node targets) linked to that server.  This is working fine for the normal gdb commands, but it is broken
	for the native OpenOCD commands executed through gdb "monitor"
	command. In the latter case, gdb "monitor" commands will be executed
	on the current target of OpenOCD configuration script (that is
	either the last target created or the target specified in a
	"targets" command).  Fixed in gdb_new_connection() by replacing the current target in the
	connection's copy of command context.  Change-Id: If7c8f2dce4a3138f0907d3000dd0b15e670cfa80 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4586 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz> Reviewed-by: Christopher Head
	<chead@zaber.com>

2018-07-09  Andreas F‰rber <afaerber@suse.de>

	* : tcl: board: Add NXP Freedom FRDM-LS1012A config An update for the K20 CMSIS-DAP firmware can be found here:

	https://community.nxp.com/thread/387080?commentID=840141#comment-840141Change-Id: I149d7f8610aa56daf1aeb95f14ee1bf88f7cb647 Signed-off-by:
	Andreas F√§rber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/4595 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2018-07-08  Andreas F‰rber <afaerber@suse.de>

	* : target: armv8: Avoid semihosting segfault on halt Avoid a NULL pointer dereference when halting an aarch64 core.  Change-Id: I333d40475ab26e2f0dca5c27302a5fa4d817a12f Signed-off-by:
	Andreas F√§rber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/4593 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2018-05-23  Omair Javaid <omair.javaid@linaro.org>

	* : Add ARM v8 AArch64 semihosting support This patch implements semihosting support for AArch64. This picks
	code from previously submitted AArch64 semihosting support patch and
	rebases on top of reworked semihosting code. Tested in AArch64 mode
	on a Lemaker Hikey Board with NewLib and GDB.  Change-Id: I228a38f1de24f79e49ba99d8514d822a28c2950b Signed-off-by:
	Omair Javaid <omair.javaid@linaro.org> Reviewed-on:
	http://openocd.zylin.com/4537 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2018-05-14  Christopher Head <chead@zaber.com>

	* : flash/nor/stm32h7: Fix incorrect comment The name of the bit according to the reference manual is
	inconsistency error, not increment error.  Change-Id: Ie3b73c0312db586e35519e03fd1a5cb225673d97 Signed-off-by:
	Christopher Head <chead@zaber.com> Reviewed-on:
	http://openocd.zylin.com/4521 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2018-05-14  Christopher Head <chead@zaber.com>

	* : flash/nor/stm32: Report errors in wait_status_busy Flash operation errors that occur during algorithm programming are
	reported via the algorithm return value. However, Flash operation
	errors that occur during non-algorithm work (erasing, programming
	without a work area, programming the last non-multiple-of-32-bytes
	on an H7, etc.) generally end with a call to
	stm32x_wait_status_busy, which reads the status register and clears
	the error flags but fails to actually report that something went
	wrong should an error flag (other than WRPERR) be set. Return an
	error status from stm32x_wait_status_busy in those cases. Correct a
	log message accordingly.  Change-Id: I09369ea5f924fe58833aec1f45e52320ab4aaf43 Signed-off-by:
	Christopher Head <chead@zaber.com> Reviewed-on:
	http://openocd.zylin.com/4519 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2018-06-23  Antonio Borneo <borneo.antonio@gmail.com>

	* : jtag/drivers/cmsis-dap: fix connect in
	cmsis_dap_swd_switch_seq() The proc cmsis_dap_swd_switch_seq() is part of the SWD API for this
	interface driver. It is valid only when the interface is used in SWD
	mode.  In this proc there is the need to call, in sequence, first
	cmsis_dap_cmd_DAP_Disconnect() then cmsis_dap_cmd_DAP_Connect().
	The latter call requires the connection mode as parameter, that
	inside cmsis_dap_swd_switch_seq() can only be CONNECT_SWD.  The current implementation is not correct and in some cases can pass
	mode CONNECT_JTAG. Moreover, JTAG is optional in CMSIS-DAP and
	passing mode CONNECT_JTAG triggers an error with SWD-only
	interfaces.  Use mode CONNECT_SWD in SWD specific cmsis_dap_swd_switch_seq().  Change-Id: Ib455bf5b69cb2a2d146a6c8875387b00c27a5690 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4571 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2018-04-21  Marek Vasut <marek.vasut@gmail.com>

	* : tcl/board: Add Renesas R-Car R8A7794 E2 Silk board Add configuration for the Renesas R-Car R8A7794 E2 based Silk
	evaluation board.  Change-Id: I504b5630b1a2791ed6967c6c2af8851ceef9723f Signed-off-by:
	Marek Vasut <marek.vasut@gmail.com> --- NOTE: This requires SW7[1]
	in position 1 (default is 0) Reviewed-on:
	http://openocd.zylin.com/4532 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2018-04-16  Marek Vasut <marek.vasut@gmail.com>

	* : tcl/board: Add Renesas R-Car R8A7790 H2 Stout board Add configuration for the Renesas R-Car R8A7790 H2 based Stout ADAS
	board.  Change-Id: Ib880b5d2e1fab5c8c0bc0dbcedcdce8055463fe2 Signed-off-by:
	Marek Vasut <marek.vasut@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4497 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2018-06-15  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/arm_adi_v5: keep CSW and TAR cache updated The call to dap_queue_ap_write() can fail and the value in CSW and
	TAR becomes unknown.  Invalidate the OpenOCD cache if dap_queue_ap_write() fails.  Change-Id: Id6ec370b4c5ad07e454464780c1a1c8ae34ac870 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4564 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2018-06-20  Liviu Ionescu <ilg@livius.net>

	* : mips_m4k.c: Fix build with --disable-target64 Replace PRIx64 with TARGET_PRIxADDR to avoid build problems when
	--disable-target64 is used during configure.  Change-Id: I054a27a491e86c42c9386a0488194320b808ba96 Signed-off-by:
	Liviu Ionescu <ilg@livius.net> Reviewed-on:
	http://openocd.zylin.com/4566 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz> Reviewed-by: Tim Newsome <tim@sifive.com>

2018-06-11  Antonio Borneo <borneo.antonio@gmail.com>

	* : flash/nor/psoc5lp: fix compile issue on GCC 8.1.0 Issue already identified by Alex https://sourceforge.net/u/alexbour/
	in ticket #191 https://sourceforge.net/p/openocd/tickets/191/         src/flash/nor/psoc5lp.c:237:2: error: ‚Äòstrncpy‚Äô output         truncated before terminating nul copying 2 bytes from a         string of the same length [-Werror=stringop-truncation] Fix it by assigning the value to the array elements.  Change-Id: I22468e5700efa64ea48ae8cdec930c48b4a7d8fb Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4563 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2018-02-09  Tomas Vanek <vanekt@fbl.cz>

	* : src/flash/tms470: remove testing of sectors[].is_erased state The erase check routine checked sectors only if is_erased != 1 Check sector unconditionally.  While on it fix clang static analyzer warnings.  Change-Id: I9988615fd8530c55a9b0c54b1900f89b550345e9 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4401 Tested-by: jenkins

2018-01-18  Edward Fewell <efewell@ti.com>

	* : flash/nor: Add support for TI CC26xx/CC13xx flash Added cc26xx flash driver to support the TI CC26xx and CC13xx
	microcontrollers. Driver is capable of determining which MCU is
	connected and configures itself accordingly. Added config files for
	four specific variants: CC26x0, CC13x0, CC26x2, and CC13x2.  Note that the flash loader code is based on the sources used to
	support flash in Code Composer Studio and Uniflash from TI.  Removed cc26xx.cfg file made obsolete by this patch.  Change-Id: Ie2b0f74f8af7517a9184704b839677d1c9787862 Signed-off-by:
	Edward Fewell <efewell@ti.com> Reviewed-on:
	http://openocd.zylin.com/4358 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz> Reviewed-by: Fredrik Hederstierna
	<fredrik@hederstierna.com>

2018-06-06  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor/psoc5lp: fix bad commit
	2d5f2ede55150235352773a976166c3ab68297bc Change #3432 was merged into git master without adapting it to #4297
	"prepare infrastructure for multi-block blank check".  This is a
	fast fix of PSoC5LP specific blank check.  Not tested on real
	PSoC5LP device.  Change-Id: I7dc13ee7bd1f07b2bfe5a93a5030c0c482d30f00 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4557 Tested-by: jenkins

2016-05-03  Andreas F‰rber <afaerber@suse.de>

	* : psoc5lp: Add EEPROM flash driver Tested on CY8CKIT-059.  Change-Id: Ib02262e8eebf0df3d29492b8a7daa65b262da580 Signed-off-by:
	Andreas F√§rber <afaerber@suse.de> Signed-off-by: Tomas Vanek
	<vanekt@fbl.cz> Reviewed-on: http://openocd.zylin.com/3433
	Tested-by: jenkins

2017-12-28  Edward Fewell <efewell@ti.com>

	* : flash/nor: Add support for TI CC3220SF internal flash Added cc3220sf flash driver to support the TI CC3220SF
	microcontrollers. Implemented flash driver to support the internal
	flash of the CC3220SF. The implementation does not support the
	serial flash of the CC32xx family that requires connection over
	UART, and not via JTAG/SWD debug. Added config files for both CC32xx
	devices (no flash) and CC3220SF (with flash).  Updated to implement comments from code review.  Additional updates
	to handle remaining comments from review.  Additional updates per
	review.  Added code to only request aligned writes and full 32-bit words down
	to flash helper algorithm. Updated for recent changes in OpenOCD
	flash code.  Removed cc32xx.cfg file made obsolete by this patch.  Change-Id:
	I58fc1478d07238d39c7ef02339f1097a91668c47 Signed-off-by: Edward
	Fewell <efewell@ti.com> Reviewed-on: http://openocd.zylin.com/4319
	Tested-by: jenkins Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2018-06-05  Liviu Ionescu <ilg@livius.net>

	* : target/target.c: free semihosting member When destroying the target, if the semihosting pointer is set, free
	it.  Change-Id: I07d34918bb3fddab1eee11219dd66f4842708ec1 Signed-off-by:
	Liviu Ionescu <ilg@livius.net> Reviewed-on:
	http://openocd.zylin.com/4552 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2018-04-26  Christopher Head <chead@zaber.com>

	* : target/cortex_m: constify some variables Change-Id: I1f3fddd89597333fc1bb9535c0cd76ca3e008324 Signed-off-by:
	Christopher Head <chead@zaber.com> Reviewed-on:
	http://openocd.zylin.com/4503 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2018-04-27  Bohdan Tymkiv <bhdt@cypress.com>

	* : flash/nor/core: fix double-free crash with 'virtual' flash banks flash_bank structure of 'virtual' flash driver is a full copy of the
	master flash_bank structure including bank->sectors and
	bank->prot_blocks pointers. These pointers point to memory locations
	allocated by the master driver and thus master driver is responsible
	for deallocating them.  Do not free bank->sectors and
	bank->prot_blocks of 'virtual' driver since they were already
	released by master flash driver.  Change-Id: I01f373d4adb3fc79e2724964926b9276442c5c52 Signed-off-by:
	Bohdan Tymkiv <bhdt@cypress.com> Reviewed-on:
	http://openocd.zylin.com/4504 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2018-05-27  Antonio Borneo <borneo.antonio@gmail.com>

	* : target: fix syntax in help message The name of the command is already printed before the string in
	->usage, thus it appears twice.  E.g.          > help examine           stm32f4x.cpu arp_examine arp_examine ['allow-defer']                 used internally for reset processing           stm32f4x.cpu examine_deferred examine_deferred                 used internally for reset processing           stm32f4x.cpu was_examined was_examined                 used internally for reset processing Remove the command name from the string in ->usage.  Change-Id: If3b1368ffff8a94eb629ae3679e2e5f2f11ae92e Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4536 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2018-05-13  Liviu Ionescu <ilg@livius.net>

	* : Rework/update ARM semihosting In 2016, ARM released the second edition of the semihosting specs
	("Semihosting for AArch32 and AArch64"), adding support for 64-bits.  To ease the reuse of the semihosting logic for other platforms (like
	RISC-V), the semihosting code was isolated from the ARM target and
	updated to the latest specs.  The new code is already in use since January (in GNU MCU Eclipse
	OpenOCD) and no problems were reported, neither for ARM nor for
	RISC-V targets, after more than 7K downloads.  The 2 new files were formatted with uncrustify.  Change-Id: Ie84dbd86a547323bb8a5d24eab68fc7dad013d96 Signed-off-by:
	Liviu Ionescu <ilg@livius.net> Reviewed-on:
	http://openocd.zylin.com/4518 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2018-01-02  Edward Fewell <efewell@ti.com>

	* : jtag/drivers: Add support for TI XDS110 debug probe Add support for the XDS110 debug probe using the APIs in the probe's
	firmware. Includes support for older versions of the firmware (with
	reduced performance) and support for a newer version that includes
	OpenOCD specific APIs. Tested on various TI LauchPads including
	MSP432P4, MSP432E4, CC2650, CC2652, and CC3220SF.  Updated to add better support for swd switch. Removed issues found
	with clang static analysis.  Updated to add rules entry for the XDS110 probe and Tiva DFU mode
	(which affects both XDS110 and ICDI probes).  Change-Id: Ib274143111a68e67e80003797c6a68e3e80976b2 Signed-off-by:
	Edward Fewell <efewell@ti.com> Reviewed-on:
	http://openocd.zylin.com/4322 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2018-01-16  Marc Schink <openocd-dev@marcschink.de>

	* : configure.ac: Fix required libjaylink version Change-Id: I9ede86eeef8991db52ffa188ff293c14bd50a1f4 Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/4450 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2018-04-27  Philipp Tomsich <philipp.tomsich@theobroma-systems.com>

	* : arm_dpm: flush both scratch registers (R0 and R1) Neither the initial loop to clear dirty registers (which visits all
	registers starting at R2 and counting upwards) nor the final
	explicit flushes ensure a write-back in
	arm_dpm_write_dirty_registers.  This change makes sure that both our scratch registers (i.e. R0 and
	R1) are written back to the target.  Change-Id: If65be4f371cd40af9a0cfa97f3730b070b92e981 Signed-off-by:
	Philipp Tomsich <philipp.tomsich@theobroma-systems.com> Reviewed-on:
	http://openocd.zylin.com/4506 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2018-04-09  Faisal Shah <faisal.shah@gmail.com>

	* : ChibiOS thread states: Update thread state to label mapping Fixed style issue.  Removed #define with list of strings, and just
	put the strings in the array initialization directly.  Removed empty
	space at the start of line.  Change-Id: I76580be203d7d69b8c5b5440f820156543e0d5cc Signed-off-by:
	Faisal Shah <faisal.shah@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4488 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2018-03-01  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor, contrib/loaders: add stm32 loaders Makefile and
	generated .inc Flash loaders refactored to the new style - use generated .inc
	instead of hexadecimal machine code in the flash driver source.  Change-Id: If65a2099589e210f9450819b467d67819fd841fc Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4439 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2018-04-11  Marek Vasut <marek.vasut@gmail.com>

	* : tcl/target: Add Renesas R-Car R8A7790 H2 target Add configuration for the Renesas R-Car R8A7790 H2 target.  This is
	an SoC with four Cortex A15 and four Cortex A7 ARMv7a cores, only
	the four A15 cores are supported.  Change-Id: I6099b257cc0f04e6858ed5f5f8c8d8ad82ef7650 Signed-off-by:
	Marek Vasut <marek.vasut@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4490 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2018-04-09  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : target: add Cortex-M4 target to VF6xx target The Vybrid VF6xx SoCs contain an additional Cortex-M4 core connected
	to AP number 3 of the main DAP.  Change-Id: I59c020fdfc53e909b1f0dac1a8627a62cdaa74f2 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com> Reviewed-on:
	http://openocd.zylin.com/3640 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2018-03-26  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : armv8: valgrind memleak fixes Various fixes for memory leaks, adds a target cleanup for aarch64
	and ARM CTI objects.  Change-Id: I2267f0894df655fdf73d70c11ed03df0b8f8d07d Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com> Reviewed-on:
	http://openocd.zylin.com/4478 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2017-09-20  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : tcl/board: add board configuration for NXP IMX7SABRE configuration also contains a reset-init procedure that disables the
	watchdog and initilizes the boards DDR memory so that you can upload
	baremetal (e.g. boot loader) code into DDR and start it from there.  Change-Id: I4d2311b3708a5fcb5174a3447f34ae3904de7243 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com> Reviewed-on:
	http://openocd.zylin.com/4227 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2018-02-15  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor/kinetis: implement flash bank deallocation Change-Id: I8ef80eae646d3b3eb7f6dd42067f8516adc5abef Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4415 Tested-by: jenkins

2017-11-23  Tomas Vanek <vanekt@fbl.cz>

	* : target armv7m: multi-block erase check Tested on PSoC6 (Cortex-M0+ core), onboard KitProg2 in CMSIS-DAP
	mode, adapter_khz=1000.  Plain read:         flash read_bank 0 /dev/null takes 48 seconds.  erase_check without this change:         flash erase_check 0 takes horrible 149 seconds!! And the same command with the change applied takes 1.8 seconds.
	Quite a difference.  Remove the erase-value=0 version of algorithm as the new one can
	check for any value.  If the target is an insane slow clocked CPU (under 1MHz) algo
	timeouts. Blocks checked so far are returned and the next call uses
	increased timeout.  Change-Id: Ic0899011256d2114112e67c0b51fab4f6230d9cd Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4298 Tested-by: jenkins Reviewed-by: Jonas
	Norling <jonas.norling@cyanconnode.com> Reviewed-by: Andreas Bolsch
	<hyphen0break@gmail.com>

2018-04-07  Niklas Sˆderlund <niklas.soderlund@ragnatech.se>

	* : tcl/target: Add Renesas R-Car R8A7791 M2W target Add configuration for the Renesas R-Car R8A7791 M2W target.  This is
	an SoC with two Cortex A15 ARMv7a cores, both cores are supported.  This patch is based on initial submission by Adam Bass and
	improvements by Niklas S√∂derlund.  Change-Id: I297da62b9ce71ad222a401d98e6bcb8502427673 Signed-off-by:
	Marek Vasut <marek.vasut@gmail.com> Cc: Adam Bass
	<adam.bass@renesas.com> Cc: Niklas S√∂derlund
	<niklas.soderlund@ragnatech.se> Reviewed-on:
	http://openocd.zylin.com/4485 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2018-03-21  Paul Fertser <fercerpav@gmail.com>

	* : configure: disable all drivers when zy1000 is enabled This also fixes the transport_is_hla FIXME.  Change-Id: I33960f373f11e3e203f9aed9c6d02bf7ca48ac97 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4473 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2017-03-02  Armin van der Togt <armin@otheruse.nl>

	* : rtos: Fix XPSR_OFFSET for cortex_m4f stacking Structures rtos_standard_Cortex_M4F_stacking and
	rtos_standard_Cortex_M4F_FPU_stacking in rtos_standard_stackings.c
	where using rtos_standard_Cortex_M3_stack_align for the stack-align
	function. This function calls rtos_Cortex_M_stack_align with
	XPSR_OFFSET = 0x3c. This offset is correct for cortex-M3 but not for
	cortex-M4F and cortex-M4F with fpu. This patch adds stack_align
	functions for M4F an M4F_FPU Change-Id: If6a90b1898fccbb85619a10f3aef5277dd88ce47 Signed-off-by:
	Armin van der Togt <armin@otheruse.nl> Reviewed-on:
	http://openocd.zylin.com/4037 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2018-02-23  Tomas Vanek <vanekt@fbl.cz>

	* : target/arm_adi_v5: extend apcsw command to accept arbitrary bits apcsw command was limited to SPROT bit only.  Now user can manipulate any bit except size and addrinc fields.  Can
	be used e.g. to set bus signal 'cacheable' on Cortex-M7 Change-Id: Ia1c22b208e46d1653136f6faa5a7aaab036de7aa Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4431 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2018-04-03  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : arm_adi_v5: Add ability to ignore the CSYSPWRUPACK bit The CTRL/STAT register in the ARM DAP DP has a debug power up ack
	bit and a system power up ack bit. Some devices do not set the
	system power up ack bit until sometime later. To avoid having the
	initial target examination fail due to this or to have a sticky bit
	error report claim power failure due to this a user can now specify
	that this bit should be ignored.  Change-Id: I2451234bbe904984e29562ef6f616cc6d6f60732 Signed-off-by:
	Eric Katzfey <eric.katzfey@mentalbee.com> Signed-off-by: Matthias
	Welwarsky <matthias.welwarsky@sysgo.com> Reviewed-on:
	http://openocd.zylin.com/3710 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2018-02-27  Tomas Vanek <vanekt@fbl.cz>

	* : nrf51: Add HWID 0x008F again HWID originally added in commit
	7829f31a6dd61297e97d8e94fe98a1658eac833e was accidentally omited
	during refactoring in commit
	52885d2b538dcd4184aae14cf2706fb97acccbd9 While on it move old ingeneering sample of 51822 to block of 51822
	rev 1 Change-Id: Ie9f15563792a27a72e71df6edbcc6b04490370ed Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4437 Tested-by: jenkins

2018-03-07  Cody P Schafer <openocd@codyps.com>

	* : target/cortex_m: avoid dwt comparator overflow Avoid ever overflowing the DWT_COMPARATOR array by allocating space
	for 16 comparators (the field is masked by 0xf).  On a stm32f767zi chip (on a nucleo-767zi board) I've been seeing
	crashes with address sanitizer enabled due to its (apparent) 10
	present comparators. This appears to be due to
	https://sourceforge.net/p/openocd/tickets/178/.  In non-address sanitizer builds, this would likely cause some random
	memory to be written to in some cases. (see above bug for
	observations).  Change-Id: I2b7d599eb326236dbc93f74b350c442c9a502c4b Signed-off-by:
	Cody P Schafer <openocd@codyps.com> Reviewed-on:
	http://openocd.zylin.com/4458 Tested-by: jenkins Reviewed-by:
	Christopher Head <chead@zaber.com> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2018-02-15  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor: implement flash bank deallocation in drivers with
	simple alloc All drivers which simply allocate one driver_priv memory block per
	each bank now use default_flash_free_driver_priv() Change-Id: I425bf4213c3632f02dbe11ab819c31eda9b2db62 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4417 Tested-by: jenkins Reviewed-by: Liviu
	Dudau <liviu@dudau.co.uk> Reviewed-by: Matthias Welwarsky
	<matthias@welwarsky.de>

2018-01-29  Robert Jordens <jordens@gmail.com>

	* : tcl/fpga/xilinx-xadc.cfg: add support for XADC The 7 Series FPGAs contain an on-chip 12 bit ADC that can probe die
	temperature, internal power supply rail voltages as well as external
	voltages. The XADC is available both from fabric as well as through
	the JTAG TAP.  This code implements access throught the JTAG TAP.
	https://www.xilinx.com/support/documentation/user_guides/ug480_7Series_XADC.pdfChange-Id: I6cef4d0244add71749fa28b58a736302151cc4dd Signed-off-by:
	Robert Jordens <jordens@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4395 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2018-03-22  Tomas Vanek <vanekt@fbl.cz>

	* : target: fix display halt message logic If a target is run from gdb and then stopped from OpenOCD telnet
	interface, halt does not show message with status and PC registers.  While on it rename 'display' to 'verbose_halt_msg' and use bool type
	instead of int.  Change-Id: Ibe6589015b302e0be97258b06938c297745436a5 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4475 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2018-01-15  Robert Jordens <jordens@gmail.com>

	* : tcl/board: add support for Kasli Kasli is an open hardware FPGA board. It is part of the Sinara
	family of devices designed to control quantum physics experiments
	(see Sayma_AMC for other boards already suppported by openocd).  Kasli was developed as part of the opticlock project. It features a
	Xilinx Artix 7 100T FPGA, DDR3 RAM, a clock reconstruction and
	distribution network, four 6 Gb/s transceiver links (three SFP and
	one SATA) as well as interfaces to up to 12 Eurocard Extension
	Modules (EEMs).  https://github.com/m-labs/sinara/wiki/Kasli
	http://www.opticlock.de/en/ Change-Id: I88b5e9f16b79e1e731056c45da6b5e1448d2c0e7 Signed-off-by:
	Robert Jordens <jordens@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4341 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2017-08-03  Robert Jordens <jordens@gmail.com>

	* : kcu105: add support for Xilinx KCU105 * Development board with Kintex Ultrascale XCKU040 * Dual SPI 256 MBit flash, supported through xilinx_bscan_spi Change-Id: I478ec7481beedd270bfba8af56a93301b0ee3028 Signed-off-by:
	Robert Jordens <jordens@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4189 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2018-03-23  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : target: restructure dap support - add 'dap create' command to create dap instances - move all dap subcmmand into the dap instance commands - keep 'dap info' for convenience - change all armv7 and armv8 targets to take a dap   instance instead of a jtag chain position - restructure tap/dap/target relations, jtag tap no   longer references the dap, daps are now independently   created and initialized.  - clean up swd connect - re-initialize DAP also on JTAG errors (e.g. after reset,   power cycle) - update documentation - update target files Change-Id: I322cf3969b5407c25d1d3962f9d9b9bc1df067d9 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com> Reviewed-on:
	http://openocd.zylin.com/4468 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2017-04-10  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : arm_cti: add cti command group Extend the CTI abstraction to be accessible from TCL and change the
	'target' command to accept a cti 'object' instead of a base address.
	This also allows accessing CTI instances that are not related to a
	configured target.  Change-Id: Iac9ed0edca6f1be00fe93783a35c26077f6bc80a Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com> Reviewed-on:
	http://openocd.zylin.com/4031 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2018-03-08  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : tdesc: bitfields may carry a type a bitfield may carry a type (bool or int), add support for that.  Change-Id: Ic831a9b8eac8579e8fdd7d0f01b7f1c9259e6739 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com> Reviewed-on:
	http://openocd.zylin.com/4459 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2018-01-13  Paul Fertser <fercerpav@gmail.com>

	* : server: bind to IPv4 localhost by default Since OpenOCD basically allows to perform arbitrary actions on
	behalf of the running user, it makes sense to restrict the exposure
	by default.  If you need network connectivity and your environment is safe
	enough, use "bindto 0.0.0.0" to switch to the old behaviour.  Change-Id: I4a4044b90d0ecb30118cea96fc92a7bcff0924e0 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4331 Reviewed-by: Jonathan McDowell
	<noodles-openocd@earth.li> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com> Tested-by: jenkins

2018-03-05  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : gdb_server: fake step if thread is not current rtos thread gdb assumes that a rtos can make any thread active at will in
	response to a 'Hg' packet. It further assumes that it needs to
	step-over after setting a breakpoint on frame #0 of any non-current
	thread. Both assumptions are not valid for an actual rtos. We fake
	the step-over to not trigger an internal error in gdb. See
	https://sourceware.org/bugzilla/show_bug.cgi?id=22925 for details.  Change-Id: Ida60cd134033c1d58ada77b87fe664a58f61e2c0 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com> Reviewed-on:
	http://openocd.zylin.com/4448 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2018-02-16  Tomas Vanek <vanekt@fbl.cz>

	* : gdb_server: prevent false positive valgrind report Change-Id: Ia59fdf8a23043889840122859b0c5bdb5f757703 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4420 Tested-by: jenkins

2018-02-15  Tomas Vanek <vanekt@fbl.cz>

	* : src/jtag/hla: free allocated memory in hl_interface_quit() Change-Id: If6ead00e47021c88e4c106b4aeaf038db87ff50b Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4413 Tested-by: jenkins

2018-02-15  Tomas Vanek <vanekt@fbl.cz>

	* : jtag/core: free all taps and daps in adapter_quit() Change-Id: I74496f6ddfb0a72b2933e8d682a73a694b8d107b Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4411 Tested-by: jenkins

2018-02-14  Tomas Vanek <vanekt@fbl.cz>

	* : openocd.c: call server_quit() for cmd line with -c shutdown If OpenOCD command line contains -c shutdown, server_quit() is not
	called.  Though if -c init is also on command line, gdb_server is
	already initialized.  Call server_quit() on both successful and failure exit from command
	line.  Change-Id: I6df41c5df045b61d84a5515d1abaa5dc96bc30ac Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4409 Tested-by: jenkins

2018-03-13  Paul Fertser <fercerpav@gmail.com>

	* : doc: fix xref texinfo warning Change-Id: Iff1ba5836e3a4f352903c3a5ae73c7d992306d42 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4466 Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Tested-by: jenkins

2017-09-03  Matej Kogovsek <matej@hamradio.si>

	* : jtag: drivers: add support for FT232R sync bitbang JTAG
	interfaces Change-Id: Ib88a9e270f5c2a50902a137bcc97fdefd5aad1c6 Signed-off-by:
	Matej Kogovsek <matej@hamradio.si> Reviewed-on:
	http://openocd.zylin.com/4215 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2018-01-28  Paul Fertser <fercerpav@gmail.com>

	* : target: arm: disassembler: fix Thumb2 BLX decoding address Since BLX in Thumb2 always switches mode to ARM, the PC needs to be
	4-bytes aligned.  Change-Id: I4f4c194fe21093cecfd9872e1d30588f4adc7257 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4382 Reviewed-by: Philipp Guehring
	<pg@futureware.at> Tested-by: jenkins Reviewed-by: Paul Sokolovsky
	<pfalcon@users.sourceforge.net>

2018-01-18  Paul Fertser <fercerpav@gmail.com>

	* : svf: improve robustness when processing invalid SVF files Uninitialized argument value warnings reported by clang static
	analizer.  Change-Id: I30af4900f517ffc0a7282689b58c7a224cdc080a Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4356 Tested-by: jenkins

2018-03-12  Paul Fertser <fercerpav@gmail.com>

	* : jtag: drivers: buspirate: fix abuse of "char" type Change occurrences of char to uint8_t where appropriate as a binary
	protocol is used to talk to this adapter.  This fixes a build issue with modern clang.  Change-Id: I21cc82c8cad148bd0977533c12c74a9d6ba2faff Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4462 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2017-05-12  Hellosun Wu <wujiheng.tw@gmail.com>

	* : nds32: Add jtag scan_chain command Create new command to refresh idcode list during runtime and update
	Tap idcode.  Change-Id: Ie889a39a6f57cea207b2b9c9e42c51c97cfe4d8e Signed-off-by:
	Hellosun Wu <wujiheng.tw@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4133 Tested-by: jenkins Reviewed-by:
	Hsiangkai Wang <hsiangkai@gmail.com> Reviewed-by: penny chen
	<penny6610231@gmail.com> Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2018-03-07  Cody P Schafer <openocd@codyps.com>

	* : helper/types: cast to uint32_t,uint16_t to avoid UB by shifting
	int too far Without this, we have some types promoted to `int` when they need to
	be `unsigned int`.  Here's some ubsan output hitting this: Unfortunately, what happens is that things get promoted to `int`,
	but need to be `unsigned int`. Here's the ubsan output: src/helper/types.h:126:65: runtime error: left shift of 255 by 24
	    places cannot be represented in type 'int' #0 0x55978a612060 in
	    le_to_h_u32 src/helper/types.h:126 #1 0x55978a61ff9e in
	    stlink_usb_read_reg src/jtag/drivers/stlink_usb.c:1539 #2
	    0x55978a8cfd45 in adapter_load_core_reg_u32
	    src/target/hla_target.c:67 #3 0x55978a9f48e3 in
	    armv7m_read_core_reg src/target/armv7m.c:236 #4 0x55978a8d24fc in
	    adapter_load_context src/target/hla_target.c:372 #5 0x55978a8d261b
	    in adapter_debug_entry src/target/hla_target.c:396 #6 0x55978a8d3123
	    in adapter_poll src/target/hla_target.c:457 #7 0x55978a528357 in
	    target_poll src/target/target.c:535 #8 0x55978a539fd4 in
	    target_wait_state src/target/target.c:2914 #9 0x55978a556e20 in
	    jim_target_wait_state src/target/target.c:5256 #10 0x55978a5cca62 in
	    command_unknown src/helper/command.c:1030 #11 0x55978aaed894 in
	JimInvokeCommand /home/cody/d/openocd-code/jimtcl/jim.c:10364 Change-Id: I24f6abfd26b6980100657397d69c84f2b80a005a Signed-off-by:
	Cody P Schafer <openocd@codyps.com> Reviewed-on:
	http://openocd.zylin.com/4455 Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Tested-by: jenkins Reviewed-by: Christopher Head
	<chead@zaber.com>

2015-11-15  Matthias Welwarsky <matthias@welwarsky.de>

	* : armv7a: cache ttbcr and ttb0/1 on debug state entry Instead of re-reading ttbcr and ttb0/1 whenever a virt2phys
	translation is done, cache the values once when entering debug
	state. Use the cached values in armv7a_mmu_translate_va().  Change-Id: I1bc5349ad2f19b2dd75bdd48468a2c1f1e028699 Signed-off-by:
	Matthias Welwarsky <matthias@welwarsky.de> Reviewed-on:
	http://openocd.zylin.com/3112 Tested-by: jenkins

2018-03-05  Omair Javaid <omair.javaid@linaro.org>

	* : Support for AArch32 SIMD/Floating-point registers This patch adds support for read/write of SIMD and floating-point
	register in AArch32 mode.  This patch is tested using Raspberry Pi3
	halted in AArch32 mode with FP/SIMD enabled.  Software need to make
	sure floating-point and SIMD unit is enabled.  Change-Id: I2b3b8af02257c6420e5a70c6f4c91f839c1f5ee5 Signed-off-by:
	Omair Javaid <omair.javaid@linaro.org> Reviewed-on:
	http://openocd.zylin.com/4446 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2018-01-22  Omair Javaid <omair.javaid@linaro.org>

	* : Allow generation of nested target defined types in gdb target
	xml This patch adds support to generate multiple nested architecture
	defined data types in gdb target xml generated by openOCD.
	Architecture defined structs, unions, vectors nested in one or more
	architecture defined types can be generated now.  Example:   <vector id="v2d" type="ieee_double" count="2"/>   <vector id="v2u" type="uint64" count="2"/>   <vector id="v2i" type="int64" count="2"/>   <union id="vnd">     <field name="f" type="v2d"/>     <field name="u" type="v2u"/>     <field name="s" type="v2i"/>   </union> Change-Id: I0f3c5c6daf3d22cde7e4b7b4165d2e97e25872f7 Signed-off-by:
	Omair Javaid <omair.javaid@linaro.org> Reviewed-on:
	http://openocd.zylin.com/4372 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2018-02-14  Tomas Vanek <vanekt@fbl.cz>

	* : helper/configuration: free script_search_dirs and
	config_file_names Although the leak is negligible, the clean heap on exit will ease
	valgrind testing.  Change-Id: If43f02fe594c30ceb1bea3259ea3e098d4b2d239 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4408 Tested-by: jenkins Reviewed-by: Marc
	Schink <openocd-dev@marcschink.de>

2016-12-16  Marc Schink <openocd-dev@marcschink.de>

	* : server/server.h: Add missing #include Change-Id: I9d0615f9218470d190223f7f6b5b406e5c7f2b11 Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/4051 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2016-12-15  Marc Schink <openocd-dev@marcschink.de>

	* : helper/command.h: Add missing #includes Change-Id: I84650a51cdb015f5e8ae933a3288f6e87f9fb80b Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/4049 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2017-01-07  Marc Schink <openocd-dev@marcschink.de>

	* : server/server: Remove all connections on shutdown This patch fixes a memory leak in the internal server. Steps for
	reproduction:  * valgrind --leak-check=full --show-reachable=yes
	 ./build/src/openocd * Establish more than one connection to OpenOCD (e.g. telnet)  * Shutdown OpenOCD  * Check for memory leaks in add_connection() Change-Id: I0ae6fcf2918fd9bdec350446d3e26742d08ff698 Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/4053 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2018-02-09  Luca Dariz <l.dariz@imamoter.cnr.it>

	* : Fix ChibiOS FPU detection.  This is needed for Cortex-M7 devices, which have newer FPU.  This
	issue caused the registry integrity check to fail if FPU was
	enabled.  Currently the code must use FPUv4_SP anyway, since other
	configurations are not supported by ChibiOS.  Change-Id: Ie8a2cb8282ccff6c2a3eb0ffeaddaf149d55d685 Signed-off-by:
	Luca Dariz <luca.dariz@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4398 Tested-by: jenkins Reviewed-by: Karl
	Palsson <karlp@tweak.net.au> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2018-02-21  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor/psoc4: fix protection on devices with 256k flash Protection read and setting of the second flash macro did not work.
	Tested on CY8CKIT-046 Change-Id: I67789399ad1e89bbfc23a95547ecca7753130701 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4425 Tested-by: jenkins

2018-01-18  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor/core: fix warning in flash_iterate_address_range_inner Refactor the code to improve readability.  Reported by Clang static analyzer.  Change-Id: I671447050e93c6f067917c4456b36ac11abb4663 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4355 Tested-by: jenkins

2017-11-21  Tomas Vanek <vanekt@fbl.cz>

	* : target: use correct target in target-prefixed commands and event
	handlers This change contains an alternative to Matthias Welwarsky's #4130
	(target-prefixed commands) and to #4293 (event handlers).  get_current_target() must retrieve the target associated to the
	current command. If no target associated, the current target of the
	command context is used as a fallback.  Many Tcl event handlers work with the current target as if it were
	the target issuing the event.  current_target in command_context is a number and has to be
	converted to a pointer in every get_current_target() call.  The solution: - Replace current_target in command_context by a target pointer - Add another target pointer current_target_override - get_current_target() returns current_target_override if set,
	        otherwise current_target - Save, set and restore current_target_override to the current
	        prefix in run_command() - Save, set and restore current_target_override to the event
	        invoking target in target_handle_event() While on it use calloc when allocating a new command_context.  Change-Id: I9a82102e94dcac063743834a1d28da861b2e74ea Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Suggested-by: Matthias Welwarsky
	<matthias.welwarsky@sysgo.com> Reviewed-on:
	http://openocd.zylin.com/4295 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2018-02-23  Tomas Vanek <vanekt@fbl.cz>

	* : gdb_server: run control fixes for vCont this patch contains several changes to run control and state
	handling together with gdb: - graceful handling of target/gdb desync on resume, step and halt - a default gdb-attach event executing the "halt" command, to meet
	  gdb expectation of target state when it attaches - call target_poll() after Ctrl-C command from gdb - call target_poll() after resume and step through a vCont packet - fix log message forwarding on vCont stepping, also move an aarch64   log message from INFO to DEBUG level to prevent messing up the gdb   console during source-line stepping - fix oversight in vCont support that messes up breakpoint handling   during stepping Change-Id: Ic79db7c2b798a35283ff752e9b12475486a1f31a Fixes:
	d301d8b42f0bfe67d76d6f340db6570cc71c876e Signed-off-by: Tomas Vanek
	<vanekt@fbl.cz> Signed-off-by: Matthias Welwarsky
	<matthias.welwarsky@sysgo.com> Reviewed-on:
	http://openocd.zylin.com/4432 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2017-05-08  Girts Folkmanis <opensource@girts.me>

	* : Expand target_run_flash_async_algorithm() doc comment.  Change-Id: I5d1e8401cbcf0e116a233a2839a06d2c9dbc85ce Signed-off-by:
	Girts Folkmanis <opensource@girts.me> Reviewed-on:
	http://openocd.zylin.com/4127 Tested-by: jenkins Reviewed-by:
	Christopher Head <headch@gmail.com> Reviewed-by: Andreas Bolsch
	<hyphen0break@gmail.com> Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2018-01-23  Ake Rehnman <ake.rehnman@gmail.com>

	* : stm8: fix compilation warning Change-Id: Iedad040384316356442ec87769855fa2960893c5 Signed-off-by:
	Ake Rehnman <ake.rehnman@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4377 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2017-02-15  Peter Mamonov <pmamonov@gmail.com>

	* : target: fix target.working_area type Change-Id: I15cfbe6984656fb0b48d2af5a7e1afa10d47b6ab Signed-off-by:
	Peter Mamonov <pmamonov@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3977 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2017-02-17  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : rtos: run rtos create hook only once on autodetect Whenever a "qSymbol" from gdb is received, the rtos "create"
	function was called. Make sure this happens only once and only if
	rtos autodetection is used.  Change-Id: Ie5f8632cfce2d64a38dbdb63468302c4e8a784f4 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com> Reviewed-on:
	http://openocd.zylin.com/3998 Tested-by: jenkins Reviewed-by: Sergey
	A. Borshch <sb-sf@users.sourceforge.net> Reviewed-by: Matthias
	Welwarsky <matthias@welwarsky.de>

2017-09-20  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : gdb_server: add support for vCont Make gdb use target support for single-stepping if available.  Change-Id: Ie72345a1e749aefba7cd175ccbf5cf51d4f1a632 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com> Reviewed-on:
	http://openocd.zylin.com/3833 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2017-03-26  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : icepick-d: extend access to core control register The ICEPick-D jtag router has core control registers that provide
	the same (or similar) functionality as the tap control register, for
	individual cores accessible through the same tap (e.g. through a
	DAP).  Core control registers are located at address "0x60 + core-id" of
	the ROUTER address space (IR=ROUTER).  It is sometimes helpful or even necessary to modify the core control
	register. This patch renames the "icepick_d_coreid" function to the
	more appropriate "icepick_d_core_control" and adds a "value"
	argument that allows writing of arbitrary value.
	"icepick_d_tapenable" is extended by an optional value argument so
	that core control can be written as the tap is enabled.  Change-Id: I0e7f91b596cb5075364c6c233348508f58e0a901 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com> Reviewed-on:
	http://openocd.zylin.com/4141 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2017-10-17  Jonas Norling <jonas.norling@cyanconnode.com>

	* : efm32: Refactor EFM32 chip family data, add more chips Add support for more EFM32/EFR32 Series 1 families. The family IDs
	come from the DEVICE_FAMILY list in the EFM32GG11 reference manual,
	which is the most up to date source I could find. Register locations
	have been checked against SiLab's header files.  No datasheets or headers were available for EFR32MG2, EFR32xG14 and
	EFM32TG11B, so they are just assumed to follow the pattern.
	EFM32GG11B has the MSC registers on a different address compared to
	other chips.  This commit attempts not to change current behavior when detecting
	chips. One detail that has changed is that PAGE_SIZE is read before
	applying the workaround for old Giant and Leopard Gecko revisions,
	but this is believed to be OK because the register exists but just
	has an invalid value in it.  The manuals disagree on which of 120 and 121 is WG, so this commit
	leaves it as is.  Change-Id: Ia152b0b9e323defc5158cb02d9a6b04a27008f2a Signed-off-by:
	Jonas Norling <jonas.norling@cyanconnode.com> Reviewed-on:
	http://openocd.zylin.com/4263 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz> Reviewed-by: Fredrik Hederstierna
	<fredrik@hederstierna.com>

2017-10-28  Andreas Bolsch <hyphen0break@gmail.com>

	* : Handle improperly build image files gracefully Images build improperly (by simply concatenating separate images)
	were accepted, but anything after the first end-of-file record
	*silently* ignored. Now emit warning for intel and motorola images
	upon non-whitespace after first end-of-file record but continue
	reading anyway.  ST ships some images broken that way in their
	CubeMX packages ...  Change-Id: I0c5d08fa90070fed11fb805c5f0dc39817048176 Signed-off-by:
	Andreas Bolsch <hyphen0break@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4281 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2017-10-30  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor/at91samd: add SAM R30 family Microchip SAM R30 consist of a MCU SAM L21 and a radio.  Similarly
	SAM R21 = SAM D21 + radio. Therefore SAM R devices was incorporated
	into SAM D21 and L21 device groups.  Change-Id: I3448d784cae888070b57c2f504583760ddffc97f Suggested-by:
	Martin Deicke <martin.deicke@an-solutions.de> Signed-off-by: Tomas
	Vanek <vanekt@fbl.cz> Reviewed-on: http://openocd.zylin.com/4282
	Tested-by: jenkins

2018-01-21  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor/kinetis_ke: fix warning retval set but not used I see no reason for not returning error from target_run_algorithm()
	to higher level.  Reported by Clang static analyzer.  Change-Id: Iaaa8b66e487ecae88c0cf4ae2addba63341c032c Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4391 Tested-by: jenkins Reviewed-by: Ivan
	Meleca <ivan@artekit.eu>

2017-09-23  Tomas Vanek <vanekt@fbl.cz>

	* : Kinetis_ke: add KEAx family to texi and cfg comment Change-Id: Id8f676b027f57fc540473c1a3a01bdd2ec49a200 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4232 Tested-by: jenkins Reviewed-by: Joakim
	Nohlg√•rd <joakim.nohlgard@eistec.se>

2018-01-14  Paul Fertser <fercerpav@gmail.com>

	* : flash: nor: jtagspi: fix jtagspi_read_status() warning Clang static analyzer says that in certain cases "Assigned value is
	garbage or undefined" there.  Change-Id: Ib35a4cf7a553ba9461270a0dc4c4b9b205091e73 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4338 Tested-by: jenkins

2018-01-17  Paul Fertser <fercerpav@gmail.com>

	* : x86_32_common: fix some warnings Mostly "Dead assignment" reported by Clang static analyzer.  Change-Id: Ibf81d2ba2462570ee3a40e57a60c55a1d1fa0c00 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4351 Tested-by: jenkins

2018-01-16  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: clean up scan-build errors scan-build reported a couple of problems with code in aarch64.c,
	this patch cleans them up. No functional changes.  Change-Id: Ie210237ddc840a8bbcd535f86a3a5faf473132f2 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com> Reviewed-on:
	http://openocd.zylin.com/4346 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2018-01-13  Daniel Kucera <daniel.kucera@gmail.com>

	* : nor/nrf5: added nrf51822 QFAAH2 Change-Id: I59725e098371c63ec3e6aa1d91bfed36b824a182 Signed-off-by:
	Daniel Kucera <daniel.kucera@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4334 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2017-12-13  Tim Newsome <tim@sifive.com>

	* : Add read buffer to bitbang, improving performance.  Previously for every bit scanned OpenOCD would write the bit, wait
	for that bit to be scanned, and then read the result. This involves
	at least 2 context switches. Most of the time the next bit scanned
	does not depend on the last bit we read, so with a buffer we now
	write a bunch of bits to be scanned all at once, and then we wait
	for them all to be scanned and have a result.  This reduces the time for one testcase where OpenOCD connects to a
	simulator from 12.30s to 5.35s! Running all our tests went from 13m13s to 3m55s.  Change-Id: Ie9fcea043ac1d7877a521125334ed47d4b3e1615 Signed-off-by:
	Tim Newsome <tim@sifive.com> Reviewed-on:
	http://openocd.zylin.com/4312 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2018-01-24  Christopher Head <chead@zaber.com>

	* : Add timeval_compare helper function Change-Id: Id75727a150912ff778a4fa32ad56467da33a6324 Signed-off-by:
	Christopher Head <chead@zaber.com> Reviewed-on:
	http://openocd.zylin.com/4379 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2017-10-15  Tomas Vanek <vanekt@fbl.cz>

	* : flash Kinetis: add K27 and K28 devices Tested on FRDM-K28F. Thanks to Thomas Varghese for donating the kit.  Change-Id: Idcdd8bcf992acebd19e5335f7f833356500c45dd Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4255 Tested-by: jenkins Reviewed-by: Joakim
	Nohlg√•rd <joakim.nohlgard@eistec.se> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2018-01-18  Paul Fertser <fercerpav@gmail.com>

	* : flash: nor: stm32l4x: fix warning in probe Reading options word can fail, so this needs to be handled.  Reported by Clang static analyzer.  Change-Id: I9754cab9c4446fa2b20d4b44b0e20724d1bc1beb Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4352 Tested-by: jenkins Reviewed-by: Tim
	"mithro" Ansell <mithro@mithis.com> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2018-01-14  Tomas Vanek <vanekt@fbl.cz>

	* : target, arm_adi_v5: catch two allocation errors Command         mdw 0 0x40000000 triggers Segmentation fault on an arm.
	Size parameter is a nonsence that may happen e.g. if you mistype mdw
	instead of mww.  Add checking for calloc() NULL return in mdb/h/w.  Use calloc() instead of malloc() as multiplication count *
	sizeof(uint32_t) overflows for size >= 0x40000000.  Change-Id: I968c944d863d1173ef932a7077d526fccb9381ae Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4349 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2017-06-14  Oleksij Rempel <linux@rempel-privat.de>

	* : target: add initial imx7.cfg Change-Id: I899a215049ff0bc8840463c71018867ef71b5b90 Signed-off-by:
	Oleksij Rempel <linux@rempel-privat.de> Reviewed-on:
	http://openocd.zylin.com/4190 Reviewed-by: Matthias Welwarsky
	<matthias@welwarsky.de> Tested-by: jenkins

2017-04-06  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: simplify mode and state handling Aarch32 and Aarch64 modes don't conflict in CPSR, no need to
	deconflict ARMv7-M profile modes either.  Change-Id: I4c437dfa657f9e8a1da3687bc9f21435384b7881 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com> Reviewed-on:
	http://openocd.zylin.com/4144 Tested-by: jenkins Reviewed-by: Yao Qi
	<qiyaoltc@gmail.com> Reviewed-by: Matthias Welwarsky
	<matthias@welwarsky.de>

2017-06-12  Jiri Kastner <cz172638@gmail.com>

	* : arm_adi_v5: added some partnumbers found in tegra 186 and tegra
	210 Change-Id: Icd4137f3e266364d9728672bd2359fbd9a6c8ce9 Signed-off-by:
	Jiri Kastner <cz172638@gmail.com> Signed-off-by: Forest Crossman
	<cyrozap@gmail.com> Reviewed-on: http://openocd.zylin.com/4160
	Tested-by: jenkins Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2016-04-13  Marc Schink <openocd-dev@marcschink.de>

	* : server/telnet: Use proper data types Change-Id: Ie7588e311fa5155d5ee73148dee3d0d931bfc7f5 Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/3413 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2016-10-04  Paul Fertser <fercerpav@gmail.com>

	* : checkpatch: fix more "unescaped left brace" warnings Unescaped left brace in string literals is deprecated since perl
	v5.21.1.  Not a Perl programmer here so please review! Change-Id: I724d8fa616d603e032e07afb9b8933e0ec95045b Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3801 Tested-by: jenkins

2017-12-26  Tim Newsome <tim@sifive.com>

	* : Support listening on port 0.  When listening on port 0, the system will assign a random open port.
	We use this to run multiple OpenOCD instances against multiple
	simulators as part of regression testing. This mechanism means the
	various test instances don't have to coordinate to ensure they don't
	reuse any ports.  The required changes are minimal: 1. Don't increment the port number when it's 0.  2. Print out which port was assigned by the system.  Change-Id: I404c801fc405e9d8eb8420562c02e78d4db6242f Signed-off-by:
	Tim Newsome <tim@sifive.com> Reviewed-on:
	http://openocd.zylin.com/4316 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2015-10-04  Marc Schink <openocd-dev@marcschink.de>

	* : server/telnet: Handle Ctrl+A and Ctrl+E Handle the Ctrl+A and Ctrl+E shortcuts which move the cursor to the
	beginning and end of the command line, respectively.  Change-Id: I89fa5fd3c5edeb08a3f9320fda766f72ce9d7f64 Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/3415 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2017-09-08  Karl Palsson <karlp@tweak.net.au>

	* : hla_target: allow non-intrusive profiling on cortex-m Leverages the existing work that added profiling via DWT_PCSR.  hla_target doesn't have direct access to the mem_ap for doing a bulk
	repeated read, but simply reading the DWT_PCSR register repeatedly
	is still ~2 order of magnitude faster than halt/resume.  Change-Id: Ibe451aa95143694398370fdad6939cfb6191d56f Signed-off-by:
	Karl Palsson <karlp@tweak.net.au> Reviewed-on:
	http://openocd.zylin.com/4220 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2017-02-24  Felipe Balbi <felipe.balbi@linux.intel.com>

	* : target: lakemon: implement assert_reset and deassert_reset We're using an I/O port reset by default. The only board currently
	supported (Galileo) doesn't have SRST routed on the JTAG connector.  When using 'reset halt', we must rely on Reset Break because our
	adapters don't have support for PREQ#/PRDY# signals.  Tested with Intel Galileo GEN2.  Change-Id: Ia406e31c156f8001717d5b6a08bd03f71de790d3 Signed-off-by:
	Felipe Balbi <felipe.balbi@linux.intel.com> Reviewed-on:
	http://openocd.zylin.com/4016 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2017-02-24  Felipe Balbi <felipe.balbi@linux.intel.com>

	* : target: type: fix indentation No functional changes, cleanup only Change-Id: I53c422be16d0a4ff157745d31362f6483093e5eb Signed-off-by:
	Felipe Balbi <felipe.balbi@linux.intel.com> Reviewed-on:
	http://openocd.zylin.com/4014 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2017-02-20  Felipe Balbi <felipe.balbi@linux.intel.com>

	* : target: quark_x10xx: adding missing 'static' keyword These symbols are only used within this C source file. They don't
	need to be exposed to the outside.  Change-Id: Idb04550ecca7f12c3fdc8c6447eeeb871961add3 Signed-off-by:
	Felipe Balbi <felipe.balbi@linux.intel.com> Reviewed-on:
	http://openocd.zylin.com/4012 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2016-12-11  barthess <barthess@yandex.ru>

	* : XCF (Xilinx platfrom flash) support.  Change-Id: I4ee6db5f0abdb9fd279cc0edd13f71952a9d295d Signed-off-by:
	Uladzimir Pylinski <barthess@yandex.ru> Reviewed-on:
	http://openocd.zylin.com/3914 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2017-05-17  Paul Fertser <fercerpav@gmail.com>

	* : server: gdb: always print target information in multi-target
	setups When multiple targets are declared, it's not always obvious which
	target the connection was made for, this can lead to very confusing
	errors.  Reported by zjason on IRC.  Change-Id: I52906320394e89cb6cfe82054a3f94b27c999689 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4135 Tested-by: jenkins

2017-01-15  Paul Fertser <fercerpav@gmail.com>

	* : tools: release.sh: produce only SHA256 hashes Both MD5 and SHA-1 shouldn't be relied upon since long.  Change-Id: I0dea92fbf0f68b900c0d3a314fb3956d08ba0d48 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3949 Tested-by: jenkins

2016-12-02  Paul Fertser <fercerpav@gmail.com>

	* : target: arm: disassembler: decode v6T2 ARM MOV{W,T} instructions Change-Id: I32cf2669b1b22d4142f30674cf918e36561a885e Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3899 Tested-by: jenkins

2016-12-02  Paul Fertser <fercerpav@gmail.com>

	* : target: arm: disassembler: decode v6T2 ARM DSB instruction Change-Id: Id91b1a87d34982c72f2a8ab46564c961d1fef9dc Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3894 Tested-by: jenkins

2017-10-06  Paul Fertser <fercerpav@gmail.com>

	* : flash: startup.tcl: do not disable polling when not exiting Change-Id: I31b8a8b4519d65d6587207a71eb08dcee8ddd6fd Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4243 Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Tested-by: jenkins

2017-12-05  Pushpal Sidhu <psidhu.devel@gmail.com>

	* : board: consolidate st_nucleo_l4 boards We can now use the generic stlink.cfg which allows for both
	ST-LINK/V2 and V2-1 debuggers.  Change-Id: I229c6fe5f6a6a4f2d3c787a49939846f102f9e24 Signed-off-by:
	Pushpal Sidhu <psidhu.devel@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4313 Tested-by: jenkins Reviewed-by: Karl
	Palsson <karlp@tweak.net.au> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2017-11-04  Ake Rehnman <ake.rehnman@gmail.com>

	* : stlink_usb: Changes to make connect_under_reset work Leaving mode before closing added Resolved a collision with JTAG API
	v1 error/status checking overwriting SWIM status bytes Change-Id: I35444ec0e6caace3e072c60085059602f4cdf0a4 Signed-off-by:
	Ake Rehnman <ake.rehnman@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4265 Tested-by: jenkins Reviewed-by:
	Philipp Klaus Krause Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2018-01-10  Tomas Vanek <vanekt@fbl.cz>

	* : arm_adi_v5: fix regression from
	4553abf9064fe3c0e4ea2ed29a1d2217df74ff5f Functions mem_ap_read() and mem_ap_write() incremented address even
	if addrinc=false. I overlooked this fact and moved
	mem_ap_setup_tar() set wrong addresses in no-incr mode.  Fixed by preventing address increment in no-incr mode.  Change-Id: I512e12a6a64e30cf6bc5bf77e3d57d35cc33e058 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Suggested-by: Matthias Welwarsky
	<matthias@welwarsky.de> Reviewed-on: http://openocd.zylin.com/4326
	Tested-by: jenkins Reviewed-by: Christopher Head <chead@zaber.com>
	Reviewed-by: Andreas Fritiofson <andreas.fritiofson@gmail.com>

2017-07-26  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: fix crash on single-stepping Make sure to skip un-examined targets (e.g. targets with deferred
	examination) on single-stepping fixes bug #158 Change-Id: Ib40c6fee03079fd078bd52a84615e6f8a081d128 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com> Reviewed-on:
	http://openocd.zylin.com/4184 Tested-by: jenkins Reviewed-by: Yao Qi
	<qiyaoltc@gmail.com> Reviewed-by: Paul Fertser <fercerpav@gmail.com>

2017-06-15  Tomas Vanek <vanekt@fbl.cz>

	* : arm_adi_v5: fix wrong addressing after change of CSW_ADDRINC Problem: If the same memory location is accessed alternatively by
	MEM-AP banked data registers without autoincrement and by standard
	autoincremented read/write, TAR register is not updated correctly.  How to replicate: On a Cortex-M issue     mdw 0xe000edf0 multiple times. When poll is on (poll reads the
	same memory location) only the first read is correct.  0xe000edf0:
	01000000 0xe000edf0: 00000000 0xe000edf0: 20002640 0xe000edf0:
	01000000 0xe000edf0: 00000000 0xe000edf0: 00000000 No problems with poll off.  0xe000edf0: 01000000 0xe000edf0:
	01000000 0xe000edf0: 01000000 mem_ap_setup_tar() writes to MEM_AP_REG_TAR if requested TAR value
	changed or CSW_ADDRINC_... is currently active.  However if an
	autoincremented access has been issued and autoinc switched off in
	CSW afterwards, TAR does not get updated.  The change introduces mem_ap_update_tar_cache() which is called
	after queuing of any access to MEM_AP_REG_DRW. It simulates TAR
	increment to keep tar_value in sync with MEM_AP.  Crossing tar
	autoincrement block boundary invalidates cached value.  mem_ap_write() and mem_ap_read() do not check tar autoincrement
	block boundary, mem_ap_setup_tar() is called before each transfer
	instead.  dap_invalidate_cache() is introduced to ensure invalidation of all
	cached values during dap_dp_init() and swd_connect() Change-Id: I815c2283d2989cffd6ea9a4100ce2f29dc3fb7b4 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4162 Tested-by: jenkins Reviewed-by:
	Christopher Head <chead@zaber.com> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2017-04-09  Tomas Vanek <vanekt@fbl.cz>

	* : jtag/drivers/cmsis-dap: fix connect under reset Commit ef02b69b14d133b061217a91add5a028a77e86bc included a call to
	cmsis_dap_cmd_DAP_Connect() before calling
	cmsis_dap_cmd_DAP_SWJ_Sequence(). According to comment it is
	necessary for at least Keil ULINK-ME.  Commit 72c3464be42088dc75245cf2fcc8f5c6e6959b4b added a
	cmsis_dap_cmd_DAP_Disconnect() before connect call to pair
	connection/disconnection. It solves some problems on Atmel EDBG.  Unfortunately calling either of cmsis_dap_cmd_DAP_Connect() or
	cmsis_dap_cmd_DAP_Disconnect() deasserts reset signal.  So these
	workarounds break ability to connect under reset.  Use cmsis_dap_cmd_DAP_Disconnect() and cmsis_dap_cmd_DAP_Connect()
	pair only if both SRST and TRST are deasserted.  Change-Id: I0914dae0a1360b8c7fe48231ff3867caedfb2dbe Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reported-by: Leonardo Sabino dos Santos
	<leonardo.sabino@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4100 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2017-12-16  Jiri Kastner <cz172638@gmail.com>

	* : configs for Marvell Armada 3700 Change-Id: I367f39c9bc9e58380d6d5b500d5368d5173d96bd Signed-off-by:
	Jiri Kastner <cz172638@gmail.com> Signed-off-by: Forest Crossman
	<cyrozap@gmail.com> Reviewed-on: http://openocd.zylin.com/4302
	Tested-by: jenkins Reviewed-by: Paul Fertser <fercerpav@gmail.com>

2017-11-23  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor/stm32f2x: fix erase on STM32F413/423 Theese devices do not have a gap in sector numbering.  The driver
	translates sectors numbers 12 13... to 16 17... as used on dual bank
	        flash devices. Therefore erase of sector 12 and above fails with
	        error 'stm32x device protected' on F413/423.  Drop sector number translation for devices without has_large_mem
	flag.  Change-Id: I65531c0dfe02e2fd0f3d68f0615e0926e9901391 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4299 Tested-by: jenkins Reviewed-by:
	Andreas Bolsch <hyphen0break@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2017-12-07  Spencer Oliver <spen@spen-soft.co.uk>

	* : doc: improve stm32 flash driver documentation also remove legacy footnote as it adds no value.  Change-Id: I3892acf244bd8fba6f844a5d82a66004e193a395 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/4309 Tested-by: jenkins Reviewed-by: Karl
	Palsson <karlp@tweak.net.au>

2017-12-07  elmot <elmot@vaadin.com>

	* : config: stm32l01x and stm32l02x chips support New low-end chips have only 2k of RAM, workarea size adjusted Change-Id: Ibfccd73fef9e6dabffc87d901736c5626ce411fe Signed-off-by:
	Ilia Motornyi <elijah.mot@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4308 Tested-by: jenkins Reviewed-by: Karl
	Palsson <karlp@tweak.net.au> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2017-11-06  Ake Rehnman <ake.rehnman@gmail.com>

	* : stm8 : new target New STM8 target based mostly on mips4k. Target communication through
	STLINK/SWIM. No flash driver yet but it is still possible to program
	flash through load_image command. The usual target debug methods are
	implemented.  Change-Id: I7216f231d3ac7c70cae20f1cd8463c2ed864a329 Signed-off-by:
	Ake Rehnman <ake.rehnman@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3953 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2017-11-13  Alexandre Torgue <alexandre.torgue@st.com>

	* : flash: Add new stm32h7x driver support Add basic support for:      -STM32H7x (Embedded flash 2M) Erase and write tested on stm32h743.  Change-Id: Ie8d8786227cdeee39fcf5663167a053ad8dcef4c Signed-off-by:
	R√©mi Prud'homme <remi.prudhomme@st.com> Signed-off-by: Alexandre
	TORGUE <alexandre.torgue@st.com> Reviewed-on:
	http://openocd.zylin.com/4181 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2016-08-20  Robert Jordens <jordens@gmail.com>

	* : spi: add n25q256 flash * 256 MBit SPI flash *

	https://www.micron.com/~/media/documents/products/data-sheet/nor-flash/serial-nor/mt25q/die-rev-a/mt25q_qljs_l_256_aba_0.pdf spells out the entire zoo of IDs* used e.g. on Xilinx KCU105 Change-Id: I18b19292b4869627adb9071266271962fec68fb4 Signed-off-by:
	Robert Jordens <jordens@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4186 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2016-09-22  Marc Schink <openocd-dev@marcschink.de>

	* : server/gdb: Use get_target_from_connection() Change-Id: I2c66bf6da734a3b71e358553943e9fc3c6578c39 Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/4277 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2017-10-29  Marc Schink <openocd-dev@marcschink.de>

	* : rtos: Use 'bool' as return type for detect_rtos() Change-Id: I91ad0431d44ed94f48d20c4690f8642d66f52a9b Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/4274 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2017-10-25  Jonas Norling <jonas.norling@cyanconnode.com>

	* : ftdi: Enable SWDIO output before sending data on it The SWDIO buffer has to be enabled, by setting SWDIO_OE, for data on
	SWDIO to reach the target. Explicitly do this before sending the
	switch sequences for JTAG-to-SWD, etc.  This makes the code insensitive to the state of SWDIO_OE specified
	in ftdi_layout_init. It used to work only on adapters with a
	non-inverted SWDIO_OE inited to 1, or inverted SWDIO_OE inited to 0.  Change-Id: I4b9e520ac1c7ce2a437251a05fc036bc68de718e Signed-off-by:
	Jonas Norling <jonas.norling@cyanconnode.com> Reviewed-on:
	http://openocd.zylin.com/4270 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2017-10-03  Christopher Head <chead@zaber.com>

	* : Cortex-M: Delete an unnecessary local variable The dhcsr_save variable was used to save the value of
	cortex_m->dcb_dhcsr so it could be restored later. However, all
	writes in between the save and the restore use
	mem_ap_write_atomic_u32, not cortex_m_write_debug_halt_mask, which
	means cortex_m->dcb_dhcsr isn‚Äôt changed anyway. Delete the
	unnecessary local.  Change-Id: I064a3134e21398e1ecfc9f1fa7efd7b020b52341 Signed-off-by:
	Christopher Head <chead@zaber.com> Reviewed-on:
	http://openocd.zylin.com/4240 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2017-06-29  Freddie Chopin <freddie.chopin@gmail.com>

	* : Fix GCC7 warnings about string truncation GCC7 with -Wall warns about possible string truncation with
	snprint()-type functions with "directive output may be truncated
	writing 1 byte into a region of size between 0 and 9
	[-Werror=format-truncation=]" + "note: ‚Äòsnprintf‚Äô output between
	5 and 14 bytes into a destination of size 12" (or similar). Fix this
	by increasing sizes of buffers.  See https://gcc.gnu.org/gcc-7/changes.html Change-Id: Ib848f2a56dd658783534158947ae1be7c0e99d45 Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4175 Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Tested-by: jenkins Reviewed-by:
	Andreas Bolsch <hyphen0break@gmail.com>

2016-12-28  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : arm: semihosting: set command line arguments Add "arm semihosting_cmdline [argv0 argv1 ...]" for setting the
	command line arguments for the debuggee.  [andreas.fritiofson@gmail.com]: Dynamic allocation, empty default Change-Id: I831ddd161d602f251940e29608a154e9590fdee1 Signed-off-by:
	Christian Groessler <chris@groessler.org> Signed-off-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3106 Tested-by: jenkins

2017-10-08  Tim Newsome <tim@sifive.com>

	* : Document `struct reg` fields.  Change-Id: I286316079e2e4d4f09427a4ffbecadb48c5dc9d9 Signed-off-by:
	Tim Newsome <tim@sifive.com> Reviewed-on:
	http://openocd.zylin.com/4250 Tested-by: jenkins Reviewed-by: Liviu
	Ionescu <ilg@livius.net> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2017-08-31  Slowcoder <slowcoder@gmail.com>

	* : nrf5: Add nRF52832-QFAA support Change-Id: Ica9e34e873cac182662b1e32a9b3164dbc0c935f Signed-off-by:
	Slowcoder <slowcoder@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4210 Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2017-08-31  Slowcoder <slowcoder@gmail.com>

	* : nrf51: Refactor device-list This cleans up the list of supported nrf51 chips considerably.  Change-Id: Ic74685657bb72a8703c0a49df4c48c54604ec2a7 Signed-off-by:
	Slowcoder <slowcoder@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4208 Tested-by: jenkins Reviewed-by:
	Fredrik Hederstierna <fredrik@hederstierna.com> Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2017-08-06  Oleksij Rempel <linux@rempel-privat.de>

	* : target: atheros_ar9344: add simple uart0 test in some cases we need something to test if uart is actually properly
	connected.  Change-Id: I5a16b053164b34bb30ae8370753be12887a85c51 Signed-off-by:
	Oleksij Rempel <linux@rempel-privat.de> Reviewed-on:
	http://openocd.zylin.com/4194 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2017-07-15  Oleksij Rempel <linux@rempel-privat.de>

	* : target: add atheros_ar9344.cfg Change-Id: I005b4c78ccb0fec8d38a25430cb49c580dcd8df5 Signed-off-by:
	Oleksij Rempel <linux@rempel-privat.de> Reviewed-on:
	http://openocd.zylin.com/4191 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2017-06-07  Robert Foss <robert.foss@collabora.com>

	* : server: Add port number to socket bind error Make this error message more useful by providing the port number
	that we tried to bind to.  Change-Id: Ieb18adf0725a6ae99c77ebfaadc49d64ed407bbe Signed-off-by:
	Robert Foss <robert.foss@collabora.com> Reviewed-on:
	http://openocd.zylin.com/4157 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2017-03-01  Andrea Merello <andrea.merello@gmail.com>

	* : flash: efm32: add support for EFR-familty (e.g. bluegecko) This patch adds support for Blue Gecko and Mighty Gecko chips from
	Silabs.  They have different EFM32_MSC_REGBASE and LOCK register offset.  Based on the original patch from Andreas Kemnade.  Change-Id: I166c14960ced7c880b68083badd1b31372fefabe Cc: Andreas
	Kemnade <andreas@kemnade.info> Signed-off-by: Andrea Merello
	<andrea.merello@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4034 Reviewed-by: Jonas Norling
	<jonas.norling@cyanconnode.com> Tested-by: jenkins Reviewed-by:
	Fredrik Hederstierna <fredrik@hederstierna.com> Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk> Reviewed-by: chrysn <chrysn@fsfe.org>

2017-08-11  Fabio Utzig <utzig@apache.org>

	* : Add missing break Change-Id: Ie1de679fe6ab5ace05fc3e156c71f34b296b3d3b Signed-off-by:
	Fabio Utzig <utzig@apache.org> Reviewed-on:
	http://openocd.zylin.com/4200 Tested-by: jenkins Reviewed-by:
	Andreas F√§rber <afaerber@suse.de> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk> Reviewed-by: Esben Haabendal
	<esbenhaabendal@gmail.com>

2016-06-09  Tim Newsome <tim@sifive.com>

	* : Fix typo in comment.  Change-Id: I6567f85f399315e1dac98881765dfaa6eab5facb Signed-off-by:
	Tim Newsome <tim@sifive.com> Reviewed-on:
	http://openocd.zylin.com/4238 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2017-09-02  Marc Schink <openocd-dev@marcschink.de>

	* : jlink: Disable automatic device selection If multiple devices are attached, do not automatically use the first
	device found. Otherwise, a user may unintentionally operate on the
	wrong device.  Change-Id: I08c4110b82e911e9e3e744d41830ffc6c56c44bf Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/4213 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2017-05-20  Marc Schink <openocd-dev@marcschink.de>

	* : jlink: Make libusb optional libusb is now optional for libjaylink because support for TCP/IP
	devices is always available.  Change-Id: I03f2566f8e1703276671ac0f353f72394d21f2f0 Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/4204 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2017-07-28  Marc Schink <openocd-dev@marcschink.de>

	* : libjaylink: Update to latest Git version Update to latest Git version and bump required libjaylink package
	version to 0.2.0.  This version introduces support for devices with TCP/IP interface
	(e.g.  SEGGER Flasher ARM) and an additional debug level for I/O
	messages.  Change-Id: I030236aa704a91d1bb1843dd30010865947747e0 Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/4202 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2017-06-11  Paul Fertser <fercerpav@gmail.com>

	* : configure: bring back all default JimTcl extensions This partially reverts commit
	56d163ce79510c7756567df00ae54155757eaa0f.  That change certainly caused more pain than gain.  Change-Id: Ifb126abd1e6b89d29db8bf6a7b8af5dfc815c163 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4159 Tested-by: jenkins Reviewed-by: Karl
	Palsson <karlp@tweak.net.au> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2017-05-10  Karl Palsson <karlp@tweak.net.au>

	* : telnet_server: drop unused options They're never used, so just drop them.  Change-Id: Ie137deed3e7258f9d6af7e0cb508e73df0f53ee0 Signed-off-by:
	Karl Palsson <karlp@tweak.net.au> Reviewed-on:
	http://openocd.zylin.com/4131 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2017-04-02  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : log: Add a new debug level (4) for verbose I/O debug Change ftdi SWD driver and CMSIS-DAP to use it instead of
	LOG_DEBUG().  Change-Id: I17ba3de2086c7159209db61fba3faf067dfc5023 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3805 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2017-07-13  Tomas Vanek <vanekt@fbl.cz>

	* : flash Kinetis: fix probe for FlexNVM partitioned as EEPROM
	backup If a MCU has FlexNVM partitioned as EEPROM backup only (no data
	flash), kinetis_probe_chip() detects zero fcfg2_maxaddr1 and adjusts
	flash banks count to 1, what is obviously wrong.  The change limits the test to devices without FlexNVM.  Computation of program flash/FlexNVM blocks is now more robust.  Missing case 0x07 is added to switch (fcfg1_depart) Change-Id: I0bd6030a0fe1ab62aeb0223bbdf2aee1505bf6a0 Reported-by:
	simon.haines@scalardata.com Signed-off-by: Tomas Vanek
	<vanekt@fbl.cz> Reviewed-on: http://openocd.zylin.com/4180
	Tested-by: jenkins Reviewed-by: Simon Haines
	<simon.haines@scalardata.com> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2017-07-06  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : mips32: inline functions in headers must be static Change-Id: If1d0fc6766cadc2db33408ae5c0968de6b7a1b94 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4178 Tested-by: jenkins Reviewed-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-by: Stian Skjelstad
	<stian@nixia.no>

2017-05-03  Steven Stallion <stallion@squareup.com>

	* : rtos: style corrections for uCOS-III This patch corrects a number of style infractions in RTOS support
	for uC/OS-III. These were missed during initial review last year
	prior to the 0.10.0 release.  Change-Id: Ia2139f6ca381d4087fd8ee989f7a03ac474d7440 Signed-off-by:
	Steven Stallion <stallion@squareup.com> Reviewed-on:
	http://openocd.zylin.com/4120 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2017-01-02  Richard Watts <rrw@kynesim.co.uk>

	* : flash/nor/efm32: Support EZR32HG devices.  Recognise the family number for Silicon Labs EZR32HG devices and
	select the correct flash page size.  Change-Id: I876e930f3a9f679557fa0d0acac33e9bbfb28c46 Signed-off-by:
	Richard Watts <rrw@kynesim.co.uk> Reviewed-on:
	http://openocd.zylin.com/3934 Tested-by: jenkins Reviewed-by:
	Fredrik Hederstierna <fredrik@hederstierna.com> Reviewed-by: Jonas
	Norling <jonas.norling@cyanconnode.com> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2016-11-04  Marc Schink <openocd-dev@marcschink.de>

	* : flash/nor/tcl: Make read_bank parameters optional Make 'offset' and 'length' parameters optional, if both are omitted
	simply read the whole flash bank.  Additionally, check if the 'offset' and 'length' arguments are out
	of bounds of the flash bank.  Change-Id: Ib9c1b0538a2c78ebcf702e2da11468dff407f8ff Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/3862 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2016-11-04  Marc Schink <openocd-dev@marcschink.de>

	* : flash/nor/tcl: Make write_bank parameter optional Make the 'offset' parameter optional, if omitted simply start at the
	beginning of the flash bank.  Additionally, check if the argument is out of bounds of the flash
	bank.  Change-Id: I8e9632b539ad9e83211e1ac6a06da4c8109cbc60 Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/3860 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2017-04-11  Joakim NohlgÂrd <joakim.nohlgard@eistec.se>

	* : flash Kinetis: Add support for newer KW series Add support for flashing newer members of the NXP Kinetis KW family Supported devices:  - KW20Z  - KW30Z  - KW40Z  - KW21Z  - KW31Z  - KW41Z The earlier KW2xD and KW01Z devices are already supported by the
	code for the older K-series.  Verified working on the FRDM-KW41Z development board.  Tested
	flashing both via GDB `load` and directly via OpenOCD flash write
	commands.  Change-Id: I73eae477127a8b54a33005b3b526b5439450a808 Signed-off-by:
	Joakim Nohlg√•rd <joakim.nohlgard@eistec.se> Reviewed-on:
	http://openocd.zylin.com/4104 Tested-by: jenkins Reviewed-by: Johann
	Fischer <johann_fischer@posteo.de> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2016-12-26  Tomas Vanek <vanekt@fbl.cz>

	* : flash Kinetis: handle all types of watchdog, disable in
	reset-init Active watchdog forces reset during armv7m_checksum_memory() in
	verify_image command if run just after reset init.  COP watchdog in KL series and WDOG32 in KE1 series have longer
	timeout however they need to be disabled too.  The change extends 'kinetis disable_wdog' command to optionally
	probe the chip and use appropriate algorithm to disable watchdog.  Setting of cache type is also split from flash_support flags.  Tcl command 'kinetis disable_wdog' is called in reset-init event.  Change-Id: I3191e230f38b679ed74f2a97fe323ef8fb3fe22e Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/3901 Tested-by: jenkins Reviewed-by: Joakim
	Nohlg√•rd <joakim.nohlgard@eistec.se> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2016-12-26  Tomas Vanek <vanekt@fbl.cz>

	* : flash Kinetis: split kinetis_chip from kinetis_flash_bank Kinetis flash driver probed and decoded chip repeatedly for each
	flash bank. Bank ordering used global bank number so multi-target
	configuration was broken.  The change introduces kinetis_probe_chip() which reads SIM SDID and
	SIM FCFG registers, decodes Kinetis series and family and fills
	struct kinetis_chip. This probe runs once for all banks.  struct kinetis_chip contains pointers to all flash banks embeded in
	the MCU. It simplifies iteration over all or specific MCU banks.  kinetis_probe_chip() generates MCU name and some informational
	messages are improved.  Change-Id: I990db5c63ba490667eec0e5459086d83936662fb Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/3924 Tested-by: jenkins Reviewed-by: Joakim
	Nohlg√•rd <joakim.nohlgard@eistec.se> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2016-12-02  Tomas Vanek <vanekt@fbl.cz>

	* : flash Kinetis: add KL8x family, fix erase check Secure devices KL81Z7 and KL82Z7 have no SERIESID field in ID
	register so they have to be decoded in Kx branch (not KLx).  The flash controller in KL8x and also in K8x devices does not
	implement FTFx_CMD_BLOCKSTAT command. Fix kinetis_blank_check() to
	work properly using FTFx_CMD_SECTSTAT command only.  Introduce a new
	flag FS_NO_CMD_BLOCKSTAT to avoid use of FTFx_CMD_BLOCKSTAT on these
	devices.  Change-Id: I3ff58718480acd8cce69f618f71667b6b1d9c4f3 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/3898 Tested-by: jenkins Reviewed-by: Joakim
	Nohlg√•rd <joakim.nohlgard@eistec.se> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2016-11-30  Tomas Vanek <vanekt@fbl.cz>

	* : flash Kinetis: add KE1xZ and KE1xF families The new Kinetis KE1x families use FTFE flash controller unlike KE0x.
	Also SDID coding corresponds to new K, KL and KV families.  That's
	why KE1x is handled by kinetis driver instead of kinetis_ke Change-Id: Ibb73e28e41dfbb086e761e1f006b089825dab854 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/3896 Tested-by: jenkins Reviewed-by: Joakim
	Nohlg√•rd <joakim.nohlgard@eistec.se> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2016-12-26  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor/at91sam4: remove FWS=6, rename at91samg to atsamg FWS=6 workaround removed, as this appears to be a copy-paste error
	from the SAM3X family. Originally addressed in
	http://openocd.zylin.com/3837 but not all occurences were removed.  Atmel changed chip naming and removed 91 prefix for atsamg, samd...  Change-Id: Ia2b43da82b2ff9b1c85fdb456a0a198ab095243d Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/3926 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2016-08-01  Tobias Diedrich <ranma+coreboot@tdiedrich.de>

	* : flash: Add support for Atheros (ath79) SPI interface Supported SoCs: AR71xx, AR724x, AR91xx, AR93xx, QCA9558 Extended and revised version of my original patch submitted by
	Dmytro here: http://openocd.zylin.com/#/c/3390 This driver is using pure SPI mode, so the flash base address is not
	used except some flash commands (e.g. "flash program") need it to
	distinguish the banks.  Example config with all 3 chip selects: flash bank flash0 ath79 0 0
	0 0 $_TARGETNAME cs0 flash bank flash1 ath79 0x10000000 0 0 0
	$_TARGETNAME cs1 flash bank flash2 ath79 0x20000000 0 0 0
	$_TARGETNAME cs2 Example usage: > flash probe flash0 Found flash device 'win
	w25q128fv' (ID 0x001840ef) flash 'ath79' found at 0x00000000 > flash
	probe flash1 No SPI flash found > flash probe flash2 No SPI flash
	found > flash banks > flash read_bank flash0 /tmp/test.bin
	0x00000000 0x1000 reading 4096 bytes from flash @0x00000000 wrote
	4096 bytes to file /tmp/test.bin from flash bank 0 at offset
	0x00000000 in 28.688066s (0.139 KiB/s) Change-Id: I5feb697722c07e83a9c1b361a9db7b06bc699aa8 Signed-off-by:
	Tobias Diedrich <ranma+openocd@tdiedrich.de> Reviewed-on:
	http://openocd.zylin.com/3612 Tested-by: jenkins Reviewed-by: Dmytro
	<dioptimizer@hotmail.com> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2016-01-30  Forest Crossman <cyrozap@gmail.com>

	* : jtag/drivers: Add Cypress KitProg driver This patch adds a driver for the SWD-only Cypress KitProg
	programmer/debugger.  Change-Id: I3a9a8011a762781d560ebb305597e782a4f9a8e5 Signed-off-by:
	Forest Crossman <cyrozap@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3221 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2017-05-04  Juha Niskanen <juha.niskanen@haltian.com>

	* : stm32l4: support flashing L45x/46x devices Also fixes incorrect comment about MSI range.  Change-Id: If1339a00e50db44195dfcd5c767ba3f5d9035451 Signed-off-by:
	Juha Niskanen <juha.niskanen@haltian.com> Reviewed-on:
	http://openocd.zylin.com/4122 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2017-05-08  Salvador Arroyo <sarroyofdez@yahoo.es>

	* : mips32: add micromips breakpoints support Breakpoint setting based on length (kind) only.  Added 16bit aligned
	32bit software breakpoints support and same filtering before setting
	breakpoint.  Set the required isa bit in hardware breakpoints.  Drop
	the isa bit in software breakpoints.  Change-Id: I7020f27be16015194b76f385d9b8e5af496d0dfc Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/4124 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2017-05-07  Salvador Arroyo <sarroyofdez@yahoo.es>

	* : mips32, convert miniprograms with code definition Needed to run in micromips mode. Seems that if an isa is supported
	in debug mode it also supported in kernel mode. The contrary is not
	true.  Change-Id: I1feb8e2c376f4db97089f05c20bc0cd177208fb3 Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/4033 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2017-02-27  Salvador Arroyo <sarroyofdez@yahoo.es>

	* : mips32, add microMips instruction subset Only reencoded MIPS32 instructions. Added some instructions for crc
	code. Micromips isa in debug mode is only needed for pic32mm cores.
	Pic32mz seems that only works with MIPS32 isa when in debug mode.  Change-Id: I07059e153a7000ea9204f20b6b37edf6a7623455 Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/4022 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2017-02-26  Salvador Arroyo <sarroyofdez@yahoo.es>

	* : mips32, add realloc code If max_code is reached realloc memory. If fails to realloc the error
	is propagated and every call to pracc_add() returns immediately. The
	exec function logs the error.  Change-Id: Idd4ed9d9b8b19b7d6842d0bc5ebb05f943726705 Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/4020 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2017-05-02  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : Fix compile failure on MacOSX MacOSX tool chain defines __unused in "sys/cdefs.h", causing a
	collision.  Remove the local define to avoid polluting the compilers
	internal symbol namespace.  Change-Id: I16370c4518e6aeec482dd689e7db80628f846ee3 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com> Reviewed-on:
	http://openocd.zylin.com/4118 Reviewed-by: Steven Stallion
	<sstallion@gmail.com> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Tested-by: jenkins

2017-02-24  Salvador Arroyo <sarroyofdez@yahoo.es>

	* : mips32, implement assembler li instruction Implement it as a function, the code was already in. Added optimize
	option.  Change-Id: Ib9ad3f00d6c4f0b91c4e4960a50ec8d102f4e333 Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/4017 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2017-02-23  Salvador Arroyo <sarroyofdez@yahoo.es>

	* : mips32, mips32_pracc_finish() queued only In most of the cases there is no need to request execution, the
	check for a new pracc access already does it.  Requesting execution
	if not needed makes execution slower and code larger due the
	additional checks.  Reduce code in fasdata transfer function.  Call
	for execution when exiting debug.  Change-Id: I3b45f6d1f62da5fad3e3db84f82a9299b16e1bd9 Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/4010 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2017-02-20  Salvador Arroyo <sarroyofdez@yahoo.es>

	* : mips32, homogenize code in the scan functions Change-Id: I32fed3332857737048dd12da94fcaba140acb726 Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/4006 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2016-01-24  Marc Schink <openocd-dev@marcschink.de>

	* : server/server: Remove all exit() calls With this patch OpenOCD shuts down properly when errors occur in the
	server instead of just calling exit().  Change-Id: I2ae1a6153dafc88667951cab9152941cb487be85 Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/3223 Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Tested-by: jenkins

2017-02-20  Salvador Arroyo <sarroyofdez@yahoo.es>

	* : mips32, add generic scan 32 function Will be used later, allow queuing all needed scans in a pracc
	access. This makes faster execution with ftdi based adapters working
	in sync with pracc.  Added now because the overall code is shorter.  Change-Id: Ib32b89307b75785f88870db8d7c9255dc5bbd426 Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/4005 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2016-05-26  Marc Schink <openocd-dev@marcschink.de>

	* : tcl/board: Add STMicroelectronics STM32F7 Nucleo config Tested with STM32F746ZG Nucleo development board.  Change-Id: Ia97b774b996a3be03e8e84342b93659c3632c18f Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/3516 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2016-09-26  Byron Kubert <byronk@google.com>

	* : Added 512K flashing support for em3587 The Silicon Labs EM3587 and EM3588 may have 512K of flash.  This fix
	allows for 512K to be specifiied on the command line when flashing a
	device.  Change-Id: I18cc4bd0d14e1f2069066734a7396bcccf3de941 Signed-off-by:
	Byron Kubert <byronk@google.com> Reviewed-on:
	http://openocd.zylin.com/3795 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2016-11-04  Marc Schink <openocd-dev@marcschink.de>

	* : flash/nor/tcl: Make verify_bank parameter optional Make the 'offset' parameter optional, if omitted simply start at the
	beginning of the flash bank.  Additionally, check if the argument is out of bounds of the flash
	bank.  Change-Id: Id1959eee5c395666c35f26342c3c50134dd564e5 Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/3858 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2017-01-25  Jan ƒåapek <jan.capek@braiins.cz>

	* : tcl STM32L0xx - add support for dual banked targets and for
	Nucleo-64 STM32L073 - stm32l0_dual_bank.cfg - implement dual bank configuration - st_nucleo_l073rz.cfg - implement new board script Change-Id: Ie8063e5bec45069a63d414d81b2068fe3cc7e4d7 Signed-off-by:
	Jan ƒåapek <jan.capek@braiins.cz> Reviewed-on:
	http://openocd.zylin.com/3957 Reviewed-by: Cezary Gapi≈Ñski
	<cezary.gapinski@gmail.com> Reviewed-by: Karl Palsson
	<karlp@tweak.net.au> Tested-by: jenkins Reviewed-by: Aurelio
	Lucchesi <me@0rel.com> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2017-03-02  Armin van der Togt <armin@otheruse.nl>

	* : Fix flash writing on stm32l0 Fix "couldn't use loader, falling back to page memory writes" error
	on stm32l0 which was caused by the use of cortex-m3 instructions in
	the flash loader code. The loader is rewritten using cortex-m0
	compatible instructions Signed-off-by: Armin van der Togt <armin@otheruse.nl> Change-Id:
	If23027b8e09f74e45129e1f8452a04bb994c424e Reviewed-on:
	http://openocd.zylin.com/4036 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2017-01-09  Tomas Vanek <vanekt@fbl.cz>

	* : jtag/drivers cmsis-dap: do not limit speed so strictly Adapter clock frequency is set by 32-bit number and most adapters
	limit the highest speed safely. There is no reason to impose strict
	limit of 5000 kHz if some adapters can do more.  While on it give informative error message in case of zero
	adapter_khz.  Change-Id: I45c9804678e24496ea769ea9ca6036701b04dde9 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/3945 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2016-11-05  Girts <girtsf@users.noreply.github.com>

	* : help/log.c: better error handling for "log_output" * Close previous log file if one was opened before.  * Return error if opening file fails.  Change-Id: I103025cd86bcac785fe39e13bc7d5f79d78e38e7 Signed-off-by:
	Girts Folkmanis <opensource@girts.me> Reviewed-on:
	http://openocd.zylin.com/3878 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2016-11-05  Girts <girtsf@users.noreply.github.com>

	* : help/options.c: add error handling for -d arg Fail if we fail to set debug level. Also, clarify in usage string
	that -d<n> doesn't accept spaces.  Change-Id: I9ea9945dc068e3e7cfd18b16ffa2a29366d6e4d1 Signed-off-by:
	Girts Folkmanis <opensource@girts.me> Reviewed-on:
	http://openocd.zylin.com/3880 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2017-04-04  Damyan Mitev <damyan_mitev@mail.bg>

	* : nrf51: Add new HWID 0x008F Add new entry in nrf51_known_devices_table for nRF51822 chip found
	on chinese Core51822 dev board. The chp has markings N51822 / QFAAH1
	/ 1630FW Nordic Semiconductor nRF51 Series Compatibility matrix
	confirms that this chip has 256K Flash and 16K RAM.  Change-Id: I571d15913c6f6e02a6f09c883d7dfc5a66b57c28 Signed-off-by:
	Damyan Mitev <damyan_mitev@mail.bg> Reviewed-on:
	http://openocd.zylin.com/4091 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2017-04-19  Matthias Bock <mail@matthiasbock.net>

	* : added interface config file for In-Circuit's ICprog OpenOCD JTAG
	adapter Change-Id: I9f9758d3a30bbcca9f750f604e011e5cc25809c5 Signed-off-by:
	Matthias Bock <mail@matthiasbock.net> Reviewed-on:
	http://openocd.zylin.com/4107 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2017-04-12  Joakim NohlgÂrd <joakim.nohlgard@eistec.se>

	* : flash Kinetis: reduce a flash write message severity to info There is nothing the user can do if their device does not support
	sector programming, there is no reason to have this message at
	warning level.  Change-Id: Ic9b7386e59b64fece7fbfdc543bdfeeed3eae73d Signed-off-by:
	Joakim Nohlg√•rd <joakim.nohlgard@eistec.se> Reviewed-on:
	http://openocd.zylin.com/4105 Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Tested-by: jenkins

2017-03-28  Austin Morton <austinpmorton@gmail.com>

	* : stlink: increase trace buffer size to maximum allowed on st-link
	v2 firmware Increasing the trace buffer size on the st-link itself gives openocd
	a greater chance of avoiding trace data overflowing within the
	st-link between polls when there is a large amount of data being
	sent over the trace port The st-link appears to split the given buffer size in half while one
	half is awaiting transfer over USB, the other half is being filled
	by DMA transfer.  If you do not poll frequently enough, the DMA
	transfer will overflow back to the start of its current buffer,
	resulting in corrupted output Buffer size of 4096 bytes is the maximum allowed by the st-link v2 Change-Id: I169189b021c34f8d18de1601d78b8c5890367d68 Signed-off-by:
	Austin Morton <austinpmorton@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4085 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2017-03-01  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: clear CTI halt event early at debug entry The halt event was left pending in the CTI, better to clear it
	immediately after debug entry.  Change-Id: I6002f862681baf98769e3c73332a7f7f0ef938c1 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com> Reviewed-on:
	http://openocd.zylin.com/4030 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2017-03-03  Girts Folkmanis <girtsf@users.noreply.github.com>

	* : arm_dpm: fix dpm setup When ARM64 support was being merged, a comparison ended up being
	inverted. This causes NULL pointer access when target attempts to
	use core cache.  Change-Id: Ic8873ddd13dbdd8100856a71b4717f44cd336e23 Signed-off-by:
	Girts Folkmanis <opensource@girts.me> Signed-off-by: Matthias
	Welwarsky <matthias.welwarsky@sysgo.com> Reviewed-on:
	http://openocd.zylin.com/4042 Reviewed-by: Matthias Welwarsky
	<matthias@welwarsky.de> Tested-by: jenkins Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2017-02-17  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : armv8_dpm: fix exception handling after handling of an exception in debug state, immediately restore
	the original core state.  Change-Id: Ie53b63c9f19815f717f4df4390fbc13f0a204cc2 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com> Reviewed-on:
	http://openocd.zylin.com/3996 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2017-02-17  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : armv8: spelling and formatting updates small changes to correct code formatting and spelling of some log
	messages.  Change-Id: I645e675f8f9f4731b0271ddc55f64e8cf56ec1db Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com> Reviewed-on:
	http://openocd.zylin.com/3994 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2017-02-17  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: clean up struct aarch64_common remove some rarely or completely unused components.  Change-Id: Id285bb7075901016297fa173a874db7f11a840d7 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com> Reviewed-on:
	http://openocd.zylin.com/3992 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2017-02-15  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: reset fixes Make sure all core register caches are invalidated on reset assert,
	make sure to re-init debug registers on deassert.  Change-Id: I82350d04cc3eaae5e35245d13d6c1fb0a8d59807 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com> Reviewed-on:
	http://openocd.zylin.com/3990 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2016-11-27  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : armv8: load aarch32 register through aarch64 equivalent The aarch32 register cache is only a separate view of the aarch64
	registers. Load aarch32 registers through their aarch64 equivalents.  Change-Id: I3e932dfb782f03d73d30d942b24db340a5749e47 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com> Reviewed-on:
	http://openocd.zylin.com/3988 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2016-11-19  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : target: generic ARM CTI function wrapper Not specific to ARMv8, the Cross Trigger Interface deserves an
	independent access wrapper.  Change-Id: I84f8faad15ed3515e0fff7f6cc5d1109ef91a869 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com> Reviewed-on:
	http://openocd.zylin.com/3986 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2016-11-14  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: reduce debug output to improve legibility Suppress some very verbose LOG_DEBUG's that are not really useful
	any more.  Change-Id: I67f10ba9510a9e34a027f378f4b62b8901ddc8a4 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com> Reviewed-on:
	http://openocd.zylin.com/3984 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2016-11-14  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: refactor SCTLR manipulation Reduce SLOCs in SCTLR retrieval and modification functions and make
	them less complex.  Change-Id: Ida1a99c223743247f171b52eef80dc9886802101 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com> Reviewed-on:
	http://openocd.zylin.com/3982 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2017-02-12  Marc Schink <openocd-dev@marcschink.de>

	* : aarch64: Fix #include guards Change-Id: I9445b04a210dcde5f8a7cf1560ef23eb53149178 Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/3975 Tested-by: jenkins Reviewed-by:
	Andreas F√§rber <afaerber@suse.de> Reviewed-by: Matthias Welwarsky
	<matthias@welwarsky.de> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2016-10-21  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: don't try resuming if target is not halted At framework level, the resume hook is not protected. Make sure to
	not attempt a resume if the target is not halted.  Change-Id: I4dd1975a95d6c513bd4f4e999e496bc11182a97a Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com>

2016-10-20  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: use cached value of dscr register where needed Instead of supplying a local, preinitialized "dscr" variable, use
	the cached value from arm_dpm, which is kept up-to-date anyway.  Change-Id: I06d548d4dc6db68b9d984c83ed026fa9069d7875 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com>

2016-10-20  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: remove "mrs <Xt>, currentel" opcode "currentel" special register is not accessible in debug state.  Change-Id: I9022b01b423cd9ae8227ed018d6166078ba44832 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com>

2016-10-20  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: improve debug output Make debug and error messages more informative, fix spelling and
	formatting errors Change-Id: I7245f42c5153bcc95676270814d30e91c113aaed Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com>

2016-10-06  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: consolidate sticky error handling Move clearing of DSCR "Sticky Error" condition to the exception
	handling function. Clear once on entering debug state.  Change-Id: Iec1d09d6f2d9cdd7e92953da5ea19f3e399ca12c Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com>

2016-10-20  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: cleanup context restore Remove register cache invalidation and target state changes that are
	handled appropriately in other functions.  Change-Id: Ic903f41ddc267f4b8765ea022bd4d6da1017e21f Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com>

2016-10-20  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: allow reading TTBR register when halted in EL0 There's no access to TTBR in EL0. Circumvent by moving the PE to EL1
	before reading, and switch back to original mode afterwards.  Change-Id: I22891b958d3d7e6fad1cb27183c192d975d63d89 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com>

2016-10-20  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: handle exceptions taken in debug state When an armv8-a PE causes an exception while halted, e.g. by
	performing a prohibited memory or register access, its state is
	affected in the same way as if it was running. That means, a number
	of registers is overwritten (notably DLR and DSPSR, but also others)
	and also potentially the exception level and therefore also the PE
	state can change. This state must be restored before resuming normal
	operation.  This is done by marking the relevant cached registers "dirty" so
	that they are written back before resume.  Change-Id: I9b6967a62d7cb23a477a9f7839f8d2b7087eed09 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com>

2016-10-20  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: fix mode switching DCPS only allows to enter higher ELs, for lower ELs you need to use
	DRPS. Also, of course the encoding differs between A64 and T32.
	Both DCPS and DRPS also clobber DLR and DSPSR, which then need to be
	restored on resume.  Change-Id: Ifa3dcfa94212702e57170bd59fd0bb25495fb6fd Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com>

2016-10-06  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: simplify armv8_read_ttbcr Read registers based on current EL instead of PE mode.  Change-Id: I05d3219ac1bf8585e9f4f024a7e8599fea0913b6 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com>

2016-10-06  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: simplify armv8_set_cpsr() Translate from cpsr value to "enum arm_mode" by shifting up 4 bits
	and filling the lowest nibble with 0xF.  Change-Id: Ic32186104b0c29578c4f6f99e04840ab88a0017b Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com>

2016-09-26  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: slightly simplify breakpoint set function Set HDE bit through helper function instead of manual mem_ap access.  Change-Id: I68c157870f3f3c47a875d425ade6e975d8075424 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com>

2016-09-22  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: armv8 cache functions update Update cache identification to match functionality present in
	armv7a_cache.c Change-Id: I2dc4bee80f5a22b8728334d40331c183d1406f27 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com>

2016-09-15  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: add basic Aarch32 support Add database for common, equivalent opcodes for Aarch32 and Aarch64
	execution states Revisit all functions that access Aarch64 specific registers or use
	Aarch64 opcodes and rewrite them to act depending on current state
	of the core.  Add core register access functions for Aarch32 state Add function to determine the core execution state without reading
	DSPSR.  Change-Id: I345e9f6d682fb4ba454e4b1d16bb5e1b27570691 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com>

2016-09-20  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: add cache handling when setting/deleting soft
	breakpoints Flush D-Cache before, flush D-Cache and invalidate I-Cache after
	modifying the breakpoint location.  Change-Id: Id2e2f4f2545c062de7e27275f66857357496d4ae Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com>

2016-09-19  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: disable interrupts when stepping [WIP] On live hardware, interrupts will happen while the core is held for
	stepping. The next step will most of the time execute an interrupt
	service instead of the next line of code, which is not what you
	expect. Disable interrupts through DSCR before resuming for a step,
	and re-enable them again after the step happened.  This should be made configurable, like on cortex_a target.  Change-Id: I94d8ffb58cf7579dedb66bc756b7eb6828b6e8e4 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com>

2016-09-16  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: report the correct reason for halting after singlestep Don't report breakpoint as debug reason when halt is due to a
	single-step event.  Change-Id: Ie6c3ca1e5427c73eb726a038301b6a29a47d1217 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com>

2016-09-15  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: fix duplication of register cache Change-Id: Ib4422e39171f19eea3f0b5a86f9dccdbb7044265 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com>

2016-09-15  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: fix stepping from address The step command optionally carries a resume address. In this case,
	stepping should start not at the current PC, but at the given
	address.  Change-Id: Id5792a3745f470cf29efa90c63d65f33d36f6b25 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com>

2016-09-16  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: fix armv8_set_core_reg when destination is cpsr When armv8_set_core_reg is used to set the value of the CPSR, also
	update the internal architecture state.  Change-Id: I5f6a2be6fde8d91ec3352d8ba23c4aa90eb02977 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com>

2016-09-16  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: use correct A64 instructions for cache handling Replace A32 MCR with proper A64 MSR opcodes Change-Id: I64a60b17a58a26b199d2d1b2d5d91098e0c8cbd0 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com>

2016-09-16  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: correct display for aarch64 state Aarch64 state has different PSTATE and exception level model.
	Correct the printout e.g. in poll command.  Change-Id: I1820fd1836c7076ae0aa405fa335fd1a14a2e5b3 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com>

2016-09-16  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: remove armv7-a virt-to-phys code Page table layout in aarch64 is very different from armv7-a layout.
	Remove the incorrect handling, to be replaced correct armv8 code in
	a later patch Change-Id: I64c728a72a24f9f4177726ccc07a02a8ca0d56ce Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com>

2016-09-16  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: correct breakpoint register offset armv8 breakpoint register spacing is 16, not 4 as in armv7-a Change-Id: I0d49d06878a0c9dab35cde478064e5366f01a8e0 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com>

2016-09-16  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: fix reading of translation table registers Correctly access and parse aarch64 ttbcr.  Change-Id: I1b1652791a6b5200f58033925286292d838e8410 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com>

2016-09-16  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: use symbolic opcodes instead of hex values Use opcode definitions from armv8_opcodes.h where appropriate Change-Id: Iead33fb8e62eb2dd2419ef8932f7d46c087f51a8 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com>

2016-09-16  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: fix error recovery in aarch64_dpm_prepare Flush DTRRX with a dummy read if it's full, clear sticky errors by
	writing CSE bit to EDRCR register.  Change-Id: Ia42ae9d3859ba6cbe892d48584e21acdd4e25c84 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com>

2016-09-17  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: fix context and hybrid hardware breakpoints Fix 64bit address setting Fix register spacing (16 instead of 4) Set
	HMC bit for all but linked context match breakpoints, where the bit
	is ignored anyway Change-Id: I48428f39154a6fe5fadc075ca918d1500a0bb241 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com>

2016-09-15  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: Implement MA mode for bulk memory reads and writes - 64bit addresses are supported - Aarch32 state is supported Change-Id: I8c37fa166954d09195d08c6963b8017194e350f5 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com>

2016-09-03  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: introduce dpm extension for ARMv8 Add or move ARMv8 related dpm function to their own source module Change-Id: Id93d50be0b8635bd40ddb2a74fe8746ff840d736 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com>

2016-09-03  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: fix reading of MPIDR read MPIDR register through correct MSR instruction.  Change-Id: I7e2d00c2871191c4168b177a7a809443b0db4c82 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com>

2015-04-20  David Ung <davidu@nvidia.com>

	* : aarch64: Correct target state for hardware step When using hardware step for doing stepping, the existing DSCR
	records the event as external debug request.  This will generate a
	SIGINT event to GDB and causes it to stop the stepping process.  For
	aarch64, read DESR to check if the event is a hardware step and set
	state to DBG_REASON_SINGLESTEP.  With this patch, GDB can now do
	source level stepping.  Change-Id: I1d06f819578c74b3ac17376c67f882adddea1f52 Signed-off-by:
	David Ung <david.ung.42@gmail.com> Signed-off-by: Matthias Welwarsky
	<matthias.welwarsky@sysgo.com>

2015-04-23  pierre Kuo <vichy.kuo@gmail.com>

	* : aarch64: Add instruction stepping support using hardware step Use AARCH64's hardware step event to do stepping.  Change-Id: I2d029ceeadd381913d0c3355c8787b11dacff7f7 Signed-off-by:
	pierre Kuo <vichy.kuo@gmail.com> Signed-off-by: David Ung
	<david.ung.42@gmail.com> Signed-off-by: Matthias Welwarsky
	<matthias.welwarsky@sysgo.com>

2015-03-17  pierre Kuo <vichy.kuo@gmail.com>

	* : aarch64: Add hardware breakpoint support Enable the use of hardware breakpoint on AARCH64.  Change-Id: I59caaa6d92ac60278af8938625b1790a1787372f Signed-off-by:
	pierre Kuo <vichy.kuo@gmail.com> Signed-off-by: David Ung
	<david.ung.42@gmail.com> Signed-off-by: Matthias Welwarsky
	<matthias.welwarsky@sysgo.com>

2015-01-16  David Ung <davidu@nvidia.com>

	* : arm_dpm: Add 64bit register handling.  Add various function to read/write ARMv8 registers.  Change-Id: I16f2829bdd0e87b050a51e414ff675d5c21bcbae Signed-off-by:
	David Ung <david.ung.42@gmail.com> Signed-off-by: Matthias Welwarsky
	<matthias.welwarsky@sysgo.com>

2015-01-16  David Ung <davidu@nvidia.com>

	* : server: Allow 64 address to be send over GBD server Accept 64 bit addresses from GDB read memory packet.  Also allow
	breakpoint/stepping addresses to take 64bit values.  Change-Id: I9bf7b44affe24839cf30897c55ad17fdd29edf14 Signed-off-by:
	David Ung <david.ung.42@gmail.com> Signed-off-by: Matthias Welwarsky
	<matthias.welwarsky@sysgo.com>

2017-01-23  Paul Fertser <fercerpav@gmail.com>

	* : Restore normal development cycle Signed-off-by: Paul Fertser <fercerpav@gmail.com>

2017-01-22  Paul Fertser <fercerpav@gmail.com>

	* : NEWS: last pre-release changes Change-Id: I93203717f9096880298c10efebf05d59f888f34b Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3954 Tested-by: jenkins

2017-01-15  Paul Fertser <fercerpav@gmail.com>

	* : Restore -dev suffix Signed-off-by: Paul Fertser <fercerpav@gmail.com>

2017-01-15  Paul Fertser <fercerpav@gmail.com>

	* : NEWS: mention SWO capture facility of the new J-Link driver Change-Id: I4fc150584f3f0c5df5c39ae512125b42893331f0 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3948 Tested-by: jenkins

2016-12-22  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor: fix doc/help and range test for flash protect Commit 77a1c01ccbb1150ffe749a7373cf6c4dc15ecad0 introduced
	infrastructure for utilizing protection blocks of different size
	than erase sector.  Parts of doc/help kept reading 'sector' instead
	of 'protection block'.  flash_driver_protect() parameter range
	testing did not switched to bank->num_prot_blocks.  This change
	fixes it.  Change-Id: Iec301761190a1a1bcc4cb005a519b9e5e4fede51 Reported-by:
	Mark Odell <mark@odell.ws> Signed-off-by: Tomas Vanek
	<vanekt@fbl.cz> Reviewed-on: http://openocd.zylin.com/3917
	Tested-by: jenkins Reviewed-by: Mark Odell <mrfirmware@gmail.com>
	Reviewed-by: Paul Fertser <fercerpav@gmail.com>

2017-01-12  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : adi_v5_jtag: make sure SSTICKYERR is cleared after a POR Don't terminate the transaction end-check early if debug power-loss
	was detected, without clearing SSTICKYERR.  Change-Id: I83b6a4a20523eea42e48a15297f972a730aa21a8 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com> Reviewed-on:
	http://openocd.zylin.com/3947 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2016-12-27  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : helper,rtos,server: Restore missing warning flags These libraries override the used CFLAGS without adding the
	defaults. This didn't have any effect until change
	http://openocd.zylin.com/3870 (ef4c139). Restore by adding AM_CLAGS
	to the per-target CFLAGS.  Interestingly, automake seems to clear the CFLAGS for the target
	even if the override variable is only mentioned within a non-active
	conditional branch, such as the IS_MINGW for the affected libraries.  Change-Id: I805206865e59e3fa33a7ea3c0d3472e51219351c Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3927 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2016-12-29  Marc Schink <openocd-dev@marcschink.de>

	* : libjaylink: Update to 0.1.0 release Change-Id: I5a905ccda346c09187f7f8e8229ae71d3353128f Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/3946 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2016-12-25  Paul Fertser <fercerpav@gmail.com>

	* : The openocd-0.10.0-rc1 release candidate Signed-off-by: Paul Fertser <fercerpav@gmail.com>

2016-12-25  Paul Fertser <fercerpav@gmail.com>

	* : doc: fix underfull and overfull boxes This is needed to generate PDF user manual without typesetting
	artifacts.  Change-Id: Ibcbd804dac2b9415459327f53f6fad0dc38fa5c6 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3919 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2016-11-29  Paul Fertser <fercerpav@gmail.com>

	* : target: armv7a: remove unused level_num field from
	armv7a_cachesize This was never used and produces warnings on some systems.  Change-Id: I48d2c5b79890bb2d70c5fae95278b8eb62743398 Reported-by:
	Tommy Murphy <tm1234@users.sf.net> Signed-off-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-on: http://openocd.zylin.com/3891
	Tested-by: jenkins

2016-12-12  Paul Fertser <fercerpav@gmail.com>

	* : target: cortex_a: fix segfault when SPSR is not properly handled OpenOCD doesn't (yet) know how to handle HYP mode properly so spsr
	register is not getting initialised when OpenOCD connects to a
	target stopped in this mode.  Reported on IRC by thinkfat and nearffxx.  Change-Id: I4bda9ba0c582c8e9cacefe708cc4a3d947151f84 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3906 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de> Reviewed-by: Chengyu
	Zheng <chengyu.zheng@polimi.it>

2016-11-19  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : Search for scripts relative to the executable on all(?)
	platforms Add a helper to hide the platform-dependent method to get a
	canonical, absolute, /-separated path to the executable.  Use this and the relative path from BINDIR to PKGDATADIR to
	construct a search path that finds the scripts even if the
	installation dir is moved, as long as the structure below $prefix is
	maintained.  This method should fully support all the tricks you can to with
	autotools to customize the installed layout such as overriding the
	default directories at configure-time and overriding the configured
	directories at build-time.  The exe path detection methods are combined from
	http://openocd.zylin.com/3388 by Rick Foos and
	http://openocd.zylin.com/3537 by Steven Stallion, as well as tips
	found all over internet.  Change-Id: Ifc9cc9dd0bf52fbd67b1b0f2383318cda0c422c4 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Signed-off-by:
	Steven Stallion <sstallion@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3889 Tested-by: jenkins Reviewed-by: Rick
	Foos <rfoos@solengtech.com> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2015-06-05  Jiri Kastner <cz172638@gmail.com>

	* : contrib: udev: modify rules for users physically in front of
	machine (TAG+="uaccess") Modern desktop systems with systemd recommend this way to give users
	access to devices. We change permissions to sane value along the
	way.  See e.g.
	https://lists.debian.org/debian-devel-announce/2016/11/msg00008.html We also change the filename to put it in order with 71-seat.rules,
	60 is default for dh_installudev so pick that as a reasonable value.  Change-Id: I15f6fb1b6be853ac097d0ca91955609f9e5eb9cf Signed-off-by:
	Jiri Kastner <cz172638@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2804 Tested-by: jenkins Reviewed-by: Robert
	Jordens <jordens@gmail.com> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2016-07-25  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : board: add configuration for freescale twr-vf65gs10 system
	module This patch contains configuration for the twr-vf65gs10 system module
	of the Freescale (NXP) tower system. It provides support for both
	the CMSIS-DAP available via USB and the Cortex+ETM connector on J5.
	The configuration also contains DDR and clock init code hooked into
	the reset-init event handler.  Change-Id: I68303e0038e137dcadc57525e662428769fb69f2 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com> Reviewed-on:
	http://openocd.zylin.com/3564 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2016-11-18  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : configure: Fail on enabling sysfsgpio on non-linux OS Change-Id: I5036d8eca6a6e6ed47e3b9ff78bc3a3bf34491fb Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3888 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2016-11-18  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : configure: De-duplicate code in AC_CHECK_HEADERS Combine all checks that have the same required includes.  Change-Id: I9b4567766e037922c2ffb737f32e9c12af43bf0e Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3884 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2016-11-06  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : configure: Consolidate platform defines Change-Id: Iebc775baadeeb5e963fb48c0a9e8d87d26d9035a Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3863 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2016-11-06  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : configure: Add USE_* conditionals for hidapi and libjaylink For consistency with other libs.  Change-Id: Id37329a00db5ab668f4c2c9ce53d2c41976649b1 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3869 Tested-by: jenkins Reviewed-by: Marc
	Schink <openocd-dev@marcschink.de> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2016-11-13  Paul Fertser <fercerpav@gmail.com>

	* : target: LS1_SAP: fix "declaration of 'read' shadows a global"
	warning Change-Id: I7070193819cc134f9fe1427c20a11160ec415ccb Reported-by:
	Jens Bauer <jens-lists@gpio.dk> Signed-off-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-on: http://openocd.zylin.com/3877
	Tested-by: jenkins

2016-02-16  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : configure: Replace shell constructs with M4sh macros AS_IF and AS_CASE should be used instead of if and case to properly
	handle macros in conditional branches.  Also guard all tests against empty variables and embedded spaces
	which makes it possible to remove some variable defaults.  Change-Id: Ib675177690d406a80ee98dd5d105296a7cdc7b8a Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3669 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2016-11-16  Marc Schink <openocd-dev@marcschink.de>

	* : libjaylink: Update to latest master branch The changes since the last update are mainly related to the build
	system, preparations and cleanups for the upcoming release.  If there are no bugs reported, this will be the last update before
	the libjaylink 0.1.0 release.  Change-Id: I4cec9bb61159f6153690aaf39c1d12ba0baacf9b Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/3886 Tested-by: jenkins Reviewed-by:
	Xiaofan <xiaofanc@gmail.com> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2016-10-17  kevin <software@klystron.com>

	* : flash/nor/efm32: Support flash size smaller than 32k The current implementation fails on devices with less than 32k of
	flash (such as several devices in the Zero Gecko family) because the
	'assert' assumes (incorrectly) that the number of flash banks will
	always be >= 32.  This change ensures that at least one word of lock bits is always
	read in order to support devices with less than 32k of flash.  Signed-off-by: Kevlar Harness <software@klystron.com> Change-Id:
	I59febe2cb690c893a5057a5f72918e146cf2afe4 Reviewed-on:
	http://openocd.zylin.com/3806 Tested-by: jenkins Reviewed-by: Marc
	Schink <openocd-dev@marcschink.de> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2016-11-10  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : cortex_a: fix reset for SWD transport Change b0698501b0e789091e9f9f1427b32af304888769 fixed reset for
	i.MX6 and TI Sitara SoCs but broke reset for cortex-a targets that
	use SWD. This patch is a work- around that forces asserting SRST
	when SWD is used.  Change-Id: I7e39f2a469b9b4b2b74ad48ba49f2eeb58528921 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com> Reviewed-on:
	http://openocd.zylin.com/3641 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2016-02-16  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : configure: Remove unused BUILD_BITQ and BUILD_BITBANG define Change-Id: Ibfb5e414dd77d2ce4b835007722eb18da3820f3a Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3668 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2016-11-06  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : configure: Detect libftdi using pkgconfig Auto-enable libftdi adapter drivers if found, just like libusb and
	hidapi based adapters.  Change-Id: I71a10c90c8b999c4cae9b4f8fb5e97971d03083b Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3238 Tested-by: jenkins Reviewed-by:
	Xiaofan <xiaofanc@gmail.com> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2015-06-02  Vianney le ClÈment de Saint-Marcq <vianney.leclement@essensium.com>

	* : jtag/drivers/openjtag: Add support for Cypress CY7C65215 The Cypress CY7C65215 Dual Channel USB-Serial Bridge Controller [1]
	understands the OpenJTAG protocol over a proprietary USB interface.  This patch adds support for the CY7C65215 to the openjtag interface
	driver.  A new configuration option, `openjtag_variant`, allows to
	select the transport to use.  Libusb (1.x or 0.1) is now a hard dependency of the openjtag driver.
	This should not be a big issue as libftdi also depends on it.  [1] http://www.cypress.com/?rID=82870 Change-Id: I55ffb3fd9e006eb311e405d9fb836bb119644bfd Signed-off-by:
	Vianney le Cl√©ment de Saint-Marcq <vianney.leclement@essensium.com>
	Signed-off-by: Ricardo Ribalda Delgado <ricardo.ribalda@gmail.com>
	Reviewed-on: http://openocd.zylin.com/2805 Tested-by: jenkins
	Reviewed-by: Jiri Kastner <cz172638@gmail.com> Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2016-08-18  Sean Cross <sean@xobs.io>

	* : jtag: drivers: bcm2835gpio: set 4ma drive, slow slew rate Both the drive strength and slew rate are currently set to very high
	values.  This causes the waveforms to overshoot and be less reliable
	when operating at high speed.  This patch lowers the slew rate and sets the drive strength to 4ma,
	improving the waveform output.  Change-Id: I761d35cd64bc54a9e94043904ef00a003b056af0 Signed-off-by:
	Sean Cross <sean@xobs.io> Reviewed-on: http://openocd.zylin.com/3707
	Tested-by: jenkins Reviewed-by: Paul Fertser <fercerpav@gmail.com>
	Reviewed-by: Tomas Vanek <vanekt@fbl.cz> Reviewed-by: Philipp
	Guehring <pg@futureware.at>

2016-07-22  Steven Stallion <stallion@squareup.com>

	* : semihosting: support fileio operation This patch adds support for bridging semihosting to GDB's File-I/O
	remote protocol extension. For the most part operations match up
	1:1, however some require a working area to complete successfully,
	namely operations that devolve to read, stat, and gettimeofday.  A new command was added to enable support for fileio named `arm
	semihosting_fileio`, which ensures that the default behavior remains
	intact for those that prefer it.  Finally, redundant logging was removed from the target_arch_state
	function; this permits ARM targets to quiesce log output when
	polling for a fileio reply. This prevents filling the logs with
	halt/resume messages when using semihosting fileio.  Change-Id: Ifbb864fc2373336a501cc0332675b887b552e1ee Signed-off-by:
	Steven Stallion <stallion@squareup.com> Reviewed-on:
	http://openocd.zylin.com/3566 Tested-by: jenkins Reviewed-by: Steven
	Stallion <sstallion@gmail.com> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2016-10-25  Owen Kirby <oskirby@gmail.com>

	* : at91sam4: Add flash description and chipid for SAM4Cxx variants.  Chip ID and flash layout taken from
	Atmel-11102F-ATARM-SAM4C32-SAM4C16-SAM4C8-SAM4C4-Datasheet_27-Mar-15
	and tested on a SAM4C32-EK (rev A).  Change-Id: I68aae5b60994c0b5964ea9031d40bc76ba025675 Signed-off-by:
	Owen Kirby <oskirby@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3527 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2016-11-06  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : helper: Update jep106 database to JEP106AT Change-Id: I2dac416189d16938597c073fd35ad654bca7484c Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3871 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2016-07-15  Steven Stallion <stallion@squareup.com>

	* : rtos: add support for uC/OS-III This patch introduces RTOS support for uC/OS-III. Currently, only
	FPU-less ARM Cortex-M targets are supported. Due to the
	configurability of the RTOS, an OpenOCD-specific file must be linked
	along with the project to determine the correct offsets within the
	OS_TCB structure.  In addition to the above, a crash was fixed in rtos_get_gdb_reg_list
	such that RTOS support could be used between resets without
	restarting OpenOCD and support for the Hg packet was cleaned up.  Change-Id: Ide004a689e6b886185df665c00fb644629eb31d1 Signed-off-by:
	Steven Stallion <stallion@squareup.com> Reviewed-on:
	http://openocd.zylin.com/3556 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2016-11-11  Andreas F‰rber <afaerber@suse.de>

	* : tcl/board: Add Infineon XMC4300 Relax EtherCAT Kit config Tested with "J-Link Lite-XMC4200 Rev.1 compiled Jul 18 2014
	17:28:26".  Change-Id: I31482734af7621593a244ffac9dd223408470609 Signed-off-by:
	Andreas F√§rber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/3876 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2016-11-11  Jiri Kastner <cz172638@gmail.com>

	* : dap_dp_init: remove loop current loop sounds to me like 'we don't know what we do, let's do
	it ten times, maybe we will have luck'.  should be enough to 'ping'
	debug port using reading CRTL_STAT.  tested on cortex-a8, snapdragon, jetson k1, cortex-r5, cortex-r4 Change-Id: Ibc62ac1eca06c141f4fccd5de7b11350ca1f35fd Signed-off-by:
	Jiri Kastner <cz172638@gmail.com> Tested-by: Jiri Kastner
	<cz172638@gmail.com> Reviewed-on: http://openocd.zylin.com/3193
	Tested-by: jenkins Reviewed-by: Tomas Vanek <vanekt@fbl.cz>
	Reviewed-by: Liviu Dudau <liviu@dudau.co.uk> Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2016-11-11  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : Add -defer-examine option to target create command The '-defer-examine' option to target create allows declaring
	targets that are present on the chain, but not fully functional.
	They will be skipped by the initial arp_examine as well as
	arp_examine after reset.  Manual examine using 'arp_examine' is needed to examine them, with
	the idea that some kind of actions is neeed to bring them to a state
	where examine will succeed (if at all possible).  In order to allow value less options to target command, I had to
	relax the goi.argc check in jim_target_configure().  Change-Id: I9bf4e8d27eb6476dd9353d15f48965a8cfd5c122 Signed-off-by:
	Esben Haabendal <esben@haabendal.dk> Signed-off-by: Matthias
	Welwarsky <matthias.welwarsky@sysgo.com> Reviewed-on:
	http://openocd.zylin.com/3076 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2016-07-18  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor: at91samd protection bits write fix Flash protection set on a device with MANW=1 was lost after reset.
	Since #2903 the driver honored MANW bit and issued Write Page
	command just for main flash write. This change adds similar
	technique to samd_modify_user_row().  Minor code improvements: samd_check_error() returns error code
	corresponding to error type instead of bool.  samd_check_error() does not clear STATUS register if no error bit is
	set.  Eliminated double error check in call sequence
	samd_issue_nvmctrl_command() folowed by samd_check_error().  Missing error code ERROR_FLASH_PROTECTED added to
	src/flash/common.h.  Change-Id: Icf59ab8803305d0cb3170c8a5089b8f9828b99f8 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/3550 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2016-02-15  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : Remove support for the GPL incompatible FTDI D2XX library Convert Presto, OpenJTAG and USB-Blaster (I) adapter drivers to
	libftdi only.  Change-Id: Ib28887620a3dcbb754b9dbf87b9731acca3ac600 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3237 Tested-by: jenkins Reviewed-by:
	Ricardo Ribalda Delgado <ricardo.ribalda@gmail.com> Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2016-07-24  Marc Schink <openocd-dev@marcschink.de>

	* : Fix autogen.sh invocation of libjaylink Move autogen.sh invocation of libjaylink from the configure to the
	bootstrap script because the configure script is included in tarball
	releases but autotools are not required to be available on end-user
	machines.  Thanks to Paul Fertser for spotting this.  Change-Id: I5489ae83885157a01803eed51a7328e47d67ea6d Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/3569 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2016-06-11  Marc Schink <openocd-dev@marcschink.de>

	* : drivers/Makefile.am: Fix libjaylink integration Include libjaylink in DIST_SUBDIRS only if J-Link driver is enabled.  Change-Id: Ib32bb6a5d8fe9bb6e93d968802733eb4973f2c25 Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/3529 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2016-08-10  Paul Fertser <fercerpav@gmail.com>

	* : Replace "daemon" with "server" in user-visible strings Since OpenOCD doesn't fit most common definitions of the word
	"daemon", using it in the documentation is confusing.  Reported by IRC user ohsix.  Change-Id: I688d722771b084b17c2a7af8e83fd64bab6141b8 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3634 Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Tested-by: jenkins

2016-11-03  Paul Fertser <fercerpav@gmail.com>

	* : flash: nor: mdr: do not mass erase when clearing INFO memory The MDR parts have two kinds of memory: main (regular memory-mapped
	memory for code and data) and "info" (not memory-mapped). When
	OpenOCD is requested to erase the info memory block, it should do
	just that, instead of erasing everything including main memory.  Change-Id: I498142ca50d4a7b669b7776180b0dbcea63a5328 Reported-by:
	Eldar Khayrullin <eldar.khayrullin@mail.ru> Signed-off-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3853 Tested-by: jenkins Reviewed-by: Eldar
	Khayrullin <eldar.khayrullin@mail.ru> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2016-07-22  Tomas Vanek <vanekt@fbl.cz>

	* : flash Kinetis: add cache invalidate for KLx series Change-Id: I0177a052cbc380e01405dc139538b731b4f0ed62 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/3565 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2016-08-05  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : cortex_a/r/m: fix handling of un-examined cores On multi-core systems, with some cores in power-down state,
	examination will fail for these cores. Make sure assert- and
	deassert_reset functions don't crash due to uninitialized variables.  Change-Id: I472f8d19af2cd3c770c05f3e57a31b35a863b687 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com> Reviewed-on:
	http://openocd.zylin.com/3552 Tested-by: jenkins Reviewed-by: Jiri
	Kastner <cz172638@gmail.com> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2015-08-08  Andrey Smirnov <andrew.smirnov@gmail.com>

	* : semihosting armv7a: Add support for ARMv7-A Add semihosting support for ARMv7-A based processors.  Tested with custom Vybrid VF610 based board and Pandaboard ES (Rev.
	B1) board (Cortex-A9).  Change-Id: I6b896a61c1c6a1c5dcf89de834486f82dd6c80a2 Signed-off-by:
	Andrey Smirnov <andrew.smirnov@gmail.com> Signed-off-by: Tsung-Han
	Lin <tsunghan.tw@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2908 Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Tested-by: jenkins

2016-03-11  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : cfg: Don't check BS TAP IDCODE in STM32 configs Instead of updating these regularly we can just accept any IDCODE
	for the boundary scan TAP.  The only downside might be that it's not immediately obvious if you
	source a config for the wrong type of STM32.  Change-Id: I96d4d81699a491b3a46de3f0d3fd078ffddad4e4 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3385 Tested-by: jenkins

2016-09-23  Tim Newsome <tim@sifive.com>

	* : Make OpenOCD build using -Og.  With -Og gcc doesn't perform as many optimizations, and as a result
	warns about some code that it wouldn't otherwise warn about.  These fixes all assign values to otherwise uninitialized variables.  Change-Id: I9a6ea5eadd73673891ecfec568b8b00d78b596a5 Signed-off-by:
	Tim Newsome <tim@sifive.com> Reviewed-on:
	http://openocd.zylin.com/3779 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2016-10-05  Tim Newsome <tim@sifive.com>

	* : Perform small writes before sending OK.  To speed up downloads, OpenOCD sends gdb OK when a write is
	received, even before the write has actually occurred. The failure
	is then returned for the next write. That leads to the following
	confusing behavior: ``` (gdb) p/x *((int*)0xdeadbeef)=8675309 $2 = 0x845fed (gdb) p/x *((int*)0x80000000)=6874742 Cannot access memory at
	address 0x80000000 ``` While it's actually the first write that
	failed.  This change hacks around this problem by not sending OK for small
	writes (len<8) until the write has actually occurred. This does not
	impact download speed, since during downloads (almost) all writes
	will have much larger length.  Change-Id: I1f8b9bb19b0707487f840df6871e372e4ba228dd Signed-off-by:
	Tim Newsome <tim@sifive.com> Reviewed-on:
	http://openocd.zylin.com/3803 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2016-05-08  Andreas F‰rber <afaerber@suse.de>

	* : flash/nor: Add erased_value to drivers and pass it to targets struct flash_driver has a default_padded_value field that is
	similar, but it can be changed by the user for the specific purpose
	of padding.  Add a new erased_value field and initialize it for all targets,
	particularly stm32lx, xmc4xxx and virtual.  Use this value in core.c:default_flash_mem_blank_check(), the slow
	path.  Extend the target API to pass erased_value down to target code.
	Adding an argument ensures that we catch all callers.  This allows us to merge xmc4xxx.c:xmc4xxx_blank_check_memory() into
	armv7m:armv7m_blank_check_memory().  It further allows us to use default_flash_blank_check() in place of
	xmc4xxx.c:xmc4xxx_flash_blank_check(), adding a potential slow path
	fallback, as well as stm32lx:stm32lx_erase_check(), adding the
	potential armv7m fast path with fallback to
	default_flash_mem_blank_check().  Fix a mips32 code comment while at it (zeroed -> erased).  The armv4_5 and mips32 target implementations will now error out if
	an erase value other than 0xff is used, causing
	default_flash_blank_check() to fall back to the
	default_flank_mem_blank_check() slow path.  Change-Id: I39323fbbc4b71c256cd567e439896d0245d4745f Signed-off-by:
	Andreas F√§rber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/3497 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2016-05-22  Marc Schink <openocd-dev@marcschink.de>

	* : helper: Make unhexify() robust on invalid data The current implementation is not suitable for user provided data
	because it does not detect invalid inputs in many cases. For
	example, the string "aa0xbb" is successfully converted to the 3
	bytes: 0xaa, 0x00 and 0xbb. An other example is "aabi" which is
	successfully converted to the 2 bytes: 0xaa and 0x0b. Both are
	obviously incorrect.  Make unhexify() robust on invalid data and use more appropriate data
	types for its parameters. Also, add a small documentation for the
	function.  Change-Id: Idb799beb86fc608b066c8a76365021ed44c7f890 Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/3792 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2016-08-21  Andreas F‰rber <afaerber@suse.de>

	* : target: Add missing spaces in error messages Insert a space before parenthesis in logs that we will need to touch
	for 64-bit target addresses.  While at it, do a couple more surrounding whitespace fixes.  Change-Id: I1080c0470aab51cf7bd56e67e934344d0bf4c5c1 Signed-off-by:
	Andreas F√§rber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/3716 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2016-08-21  Andreas F‰rber <afaerber@suse.de>

	* : target: Fix working_area_phys_spec comment working_area_phys_spec clearly refers to the physical, not virtual
	address.  Change-Id: I639ea00bb5d05e845b8a56815a571375849f1225 Signed-off-by:
	Andreas F√§rber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/3714 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2016-09-29  Paul Fertser <fercerpav@gmail.com>

	* : jtag: drivers: cmsis-dap: add TRST handling Even when TRST and SRST are not present in reset_config we still
	should set them appropriately (to 1) as we can't tristate them
	anyhow.  Change-Id: Iec5bcf09340136f5e6ccfb05fa2697c53fa6609f Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3798 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2016-09-21  Vivien Didelot <vivien.didelot@savoirfairelinux.com>

	* : tcl/board: add Linksys WAG200G config The Linksys WAG200G router has a TI AR7 SoC and a 4MB Flash layout
	similar to the Netgear DG834v3 router [1].  Below is an example of a successful flash recovery, using a TUMPA,
	connected to the MIPS EJTAG 2.6 header (JP102) of the router.       WAG200G [2]  TUMPA [3]      Desc  Pin    Pin  Desc     ------------------------      nTRST   1    3   nTRST      TDI     3    5     TDI      TDO     5    13    TDO      TMS     7    7     TMS      TCK     9    9     TCK      nSRST  11    15    RST      GND     2    4     GND Note that nSRST is optional to halt the CPU, but is required to
	probe the flash. For instance, recover the kernel with:     $ sudo ./src/openocd -s tcl \       -f interface/ftdi/tumpa.cfg \       -f tools/firmware-recovery.tcl \       -c 'board linksys-wag200g;           reset_config srst_only;           flash_part kernel /path/to/kernel.bin;           shutdown' [1] https://wiki.openwrt.org/toh/linksys/wag200g [2]
	https://www.linux-mips.org/wiki/JTAG#JTAG_headers [3]

	http://www.tiaowiki.com/w/TIAO_USB_Multi_Protocol_Adapter_User's_Manual#20_PIN_JTAG_ConnectorChange-Id: I952ba9f706e2e4f8f95ca03a5fa58f391ca030b6 Signed-off-by:
	Vivien Didelot <vivien.didelot@savoirfairelinux.com> Reviewed-on:
	http://openocd.zylin.com/3776 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-12-23  Sandeep Mistry <s.mistry@arduino.cc>

	* : gdb server: Add back support to disable the gdb server via the
	gdb_port config As per the documentation, used "disabled" as the value to disable,
	as this is the same value to disable the telnet and tcl server.  Change-Id: Idc4a8580098ec1107dcc6e1f59e817ecdebc38ac Signed-off-by:
	Sandeep Mistry <s.mistry@arduino.cc> Reviewed-on:
	http://openocd.zylin.com/3175 Tested-by: jenkins Reviewed-by:
	Cristian Maglie Reviewed-by: Spencer Oliver <spen@spen-soft.co.uk>

2016-08-16  Marc Schink <openocd-dev@marcschink.de>

	* : jlink: Adjust log verbosity of libjaylink Currently, the log verbosity of libjaylink is not accessible from
	the user interface. Therefore, changing the log verbosity of
	libjaylink is only possible from within the J-Link driver source
	code which is not acceptable for end users.  Output the libjaylink log messages through the logging module of
	OpenOCD rather than directly to stderr.  Change-Id: I6bf7bf8f4c8a12fb9e955eeced68224545fa0b5c Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/3701 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2016-09-17  Tomas Vanek <vanekt@fbl.cz>

	* : cortex_m: fix autoincrement range of Cortex-M7 Cortex-M7 has autoincrement range only 1024 bytes, surprisingly
	smaller than M3, M4.  Change-Id: I35ff1f0e093aac4af79f98eb3b8058d4295942d1 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/3737 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-12-21  Robert Jordens <jordens@gmail.com>

	* : xilinx_bscan_spi: port to new migen and clean-up * port to new migen * streamline package/part specification * add pullup (Series3, Series6) and pullnone (Series7) for unused
	  pins as xilinx impact/vivado do it.  * specify respective toolchains * build Series7 with vivado (broader support, faster) * point to prebuilt bitstreams at
	https://github.com/jordens/bscan_spi_bitstreams Change-Id: Ibfef3d78f855b754425f3e6131e2e49fa111e09a Signed-off-by:
	Robert Jordens <jordens@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3173 Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Tested-by: jenkins Reviewed-by:
	Robert J√∂rdens Reviewed-by: William D. Jones Reviewed-by: Tim
	"mithro" Ansell <mithro@mithis.com>

2016-08-14  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : ftdi: don't wait forever if we fail Currently if ftdi device is removed, OpenOCD will stall forever.
	Only kill -9 will help in this case.  This patch makes use of libusb
	timeout functions and trying to break out of while loop if some
	error is detected.  [andreas.fritiofson@gmail.com]: Add missing retval check Change-Id: I97506190e376026705f14ef9fe37dc811b99b3ac Signed-off-by:
	Oleksij Rempel <linux@rempel-privat.de> Signed-off-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3419 Reviewed-by: Andreas F√§rber
	<afaerber@suse.de> Tested-by: jenkins

2016-08-14  Andreas F‰rber <afaerber@suse.de>

	* : x86_32_common: Fix typo in function name pyhs -> phys Change-Id: Ie7edc74f1693b42f26e1e8475a93a7a6b9255cdd Signed-off-by:
	Andreas F√§rber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/3672 Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Tested-by: jenkins

2016-10-04  Peter Kuhar <peter@pkuhar.com>

	* : STM32L433 Flash support Added new chip id based flash size.  Change-Id: I5b5e71074af0e50352443f66f88adfc6e14280bf Signed-off-by:
	Peter Kuhar <peter@pkuhar.com> Reviewed-on:
	http://openocd.zylin.com/3732 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2016-05-22  Andreas F‰rber <afaerber@suse.de>

	* : contrib/loaders: Enforce Little Endian ARM machine code arm-none-eabi target triplet defaults to Little Endian, and so far
	any submitted machine code snippets have been verified to be Little
	Endian.  However a user might override [ARM_]CROSS_COMPILE with an
	armeb toolchain, potentially resulting in invalid machine code.  Let's be safe and enforce Little Endian mode for assembler and
	compiler.  Change-Id: I9cefe24689eaded25d60ffb1f254b254e8d76f9d Signed-off-by:
	Andreas F√§rber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/3498 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2016-01-05  SASANO Takayoshi <uaa@uaa.org.uk>

	* : pic32mx: add new device ID, 17x/27x Flash support - add new device ID: 170F256B, 170F256D, 270F256B, 270F256D,
	330F064H, 330F064L, 430F064H, 430F064L, 350F128H, 350F128L,
	450F128H, 450F128L, 350F256H, 350F256L, 450F256H, 450F256L,
	370F512H, 370F512L, 470F512H, 470F512L - add support for PIC32MX17x/27x 256kB Flash Change-Id: I65a304d2114fff80de3a24c1f6d0b5e955b22531 Signed-off-by:
	SASANO Takayoshi <uaa@uaa.org.uk> Reviewed-on:
	http://openocd.zylin.com/3186 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2016-07-14  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor: implement protection blocks of different size than
	erase sector Originally flash/nor infrastructure assumed protection blocks
	identical to erase sectors. This assumption is not valid for many
	flash types.  Driver code fixed the problem either by increasing
	sector size to size of protection block or by defining more
	protection block than really existed in device. Both cases had
	drawbacks.  The change retains compatibility with the old driver.  Updated
	driver can set protection blocks table independent of sector table.  Change-Id: I27f6d267528ad9ed9fe0a85f05436a8ec17603a4 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/3545 Tested-by: jenkins Reviewed-by: Steven
	Stallion <stallion@squareup.com> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2016-07-17  Tomas Vanek <vanekt@fbl.cz>

	* : flash Kinetis: Detect RESET/WDOG loop, fix detection of secured
	MCU Kinetis driver checks MDM STAT register to detect secured state of
	MCU.  Original version often reported a blank device as secured one.
	Change #3010 has not fixed all false reports.  After changes in
	arm_adi_v5 infrastructure secured devices was not detected at all.  New algorithm uses multiple MDM STAT reads and counts
	MDM_STAT_SYSSEC and MDM_STAT_FREADY bits. Both secured MCU and MCU
	locked-up in RESET/WDOG loop are detected reliably.  Detection is run in both kx.cfg and klx.cfg from examine-start
	event, not examine-end as before. Event is configured only for non
	hla adapter.  Minor fix in klx.cfg: commented out adapter_khz 24000 in reset-init.
	Such frequency is not supported in VLPR CPU mode and with JTAG.  Change-Id: I2ec2b68c45bde9898159cd15fbdcbcfa538c41d9 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/3547 Tested-by: jenkins Reviewed-by: Steven
	Stallion <stallion@squareup.com> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2016-08-14  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : at91sam7: do not touch flash banks which belong to other targets at91sam7_read_part_info() walks throw all flash banks following
	current one.  I don't know why it has to do it at all (possibly for multi-bank
	devices like SAM7S512), but if there is more than one target in JTAG
	chain, this lookup can touch flash bank of another (possibly not
	halted) target, which cause probe error and current command
	execution abort.  [andreas.fritiofson@gmail.com]: Change to for-loop and reduce
	indentation Change-Id: Ide50e93578786e1250f7a0fd0e3d296247924814 Signed-off-by:
	Sergey A. Borshch <sb-sf@users.sourceforge.net> Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2610 Tested-by: jenkins

2016-07-23  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : cmsis-dap: add JTAG pass-through mode This change adds JTAG transport in pass-through mode to the
	cmsis-dap driver. The patch is originally from Phillip Pearson
	<pp@myelin.co.nz>, with additions by Maksym Hilliaka
	<oter@frozen-team.com> Change-Id: I88d918d6576e9d875c3b611f29f255581e6a5424 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com> Reviewed-on:
	http://openocd.zylin.com/3568 Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Tested-by: jenkins

2016-08-01  Antony Pavlov <antonynpavlov@gmail.com>

	* : tcl/cpld: add config file for Altera EPM240 CPLD (MAXII family) Change-Id: I5e589cf9d1d762321b7baa2509a4e78688fe6512 Signed-off-by:
	Antony Pavlov <antonynpavlov@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3607 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2015-09-28  Antony Pavlov <antonynpavlov@gmail.com>

	* : tcl/fpga: add config file for Altera 10M50 FPGA (MAX10 family) Change-Id: I1a9cfa14e5127226af4e4b4bf30e1b5d6feedc34 Signed-off-by:
	Antony Pavlov <antonynpavlov@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3605 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2016-08-09  Remco Bloemen <openocd-gerrit-git@xn--2-umb.com>

	* : interface: Add XDS100v3 support.  XDS100v3 is software compatible with the XDS100v2, but has a
	different usb pid. This commit adds `xds100v3.cfg` that sources the
	v2 one and changes the usb pid.  Change-Id: Ie29d325e8992d2de2f97d70862beeb63932ffa80 Signed-off-by:
	Remco Bloemen <openocd-gerrit@xn--2-umb.com> Reviewed-on:
	http://openocd.zylin.com/3632 Tested-by: jenkins Reviewed-by:
	Andreas F√§rber <afaerber@suse.de> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2016-08-10  Peter A. Bigot <pab@pabigot.com>

	* : doc: correct and standardize instructions for disabling TCP
	servers The instructions to set the port to zero to disable a service has
	not worked for several years: the effect of doing so is to start the
	service on a port randomly selected by the bind(2) system call.  Update the documentation to reflect the new standard way of
	disabling network services.  Change-Id: Ic5315a80f9956ea195f63e05d30d604a980bbc8f Signed-off-by:
	Peter A. Bigot <pab@pabigot.com> Reviewed-on:
	http://openocd.zylin.com/3638 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2016-06-20  Andreas Bolsch <hyphen0break@gmail.com>

	* : Flash handling for STM32F76x/77x and F446 added - added ids for various parts - rewrite of sector allocation to deal with dual-bank F76x/77x - single- / dual-bank mode for F76x/77x - sector protection adapted for F76x/77x in dual-bank mode - handling of additional option bits (28-31) in FLASH_OPTCR   in options_read and options_write for F42x/43x/469/479/7xx,   options bits 0-1 masked out - check for sensible value of user_options in options_write - some #defines clarified, non-needed ones removed - docs updated (options read, options write) Change-Id: Ie4db80e60baa7d2663e024ab1f278640b1ce901b Signed-off-by:
	Andreas Bolsch <hyphen0break@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3526 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2016-03-02  Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>

	* : target/stm32f4x.cfg: Add STM32F410/F412/F469.  Taken from git://git.ac6.fr/openocd commit e8ed67c42227b7072a1e7 Change-Id: Iac106d4823123eaa96f16a975e7ecbcb24189924 Signed-off-by:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-on:
	http://openocd.zylin.com/3377 Tested-by: jenkins Reviewed-by: Stian
	Skjelstad <stian@nixia.no> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2016-05-22  Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>

	* : stm32l4: Handle failing flash_size read like on other devices.  Change-Id: I54d7cd3a8c80d0e4663c3c09457a4ff338a6f1a0 Signed-off-by:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-on:
	http://openocd.zylin.com/3503 Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Tested-by: jenkins

2016-04-05  Sergey A. Borshch <sb-sf@users.sourceforge.net>

	* : jlink: fix jlink regression introduced by ae8cdc commit 1) wrong last bit was shifted out in the end of IRSHIFT/DRSHIFT in    jlink_execute_scan() 2) TDI buffer was not cleared in jlink_tap_init(), results in wrong
	data shifted out to the TDI and "Bad value '00000000' captured
	during DR or IR scan" error message.  3) sizeof(tdi_buffer) was used in memset() to clean tms buffer. It
	is the same as sizeof(tms_buffer), but shoud be fixed to make source
	code consistent Change-Id: I13f26d1c3e88eefc3856fe2b8542fb0ccea6acb1 Signed-off-by:
	Sergey A. Borshch <sb-sf@users.sourceforge.net> Reviewed-on:
	http://openocd.zylin.com/3394 Tested-by: jenkins Reviewed-by: Harry
	Zhurov <harry.zhurov@gmail.com> Reviewed-by: Anton Gusev
	Reviewed-by: –ú–∏—Ö–∞–∏–ª –¶–∏–≤–∏–Ω—Å–∫–∏–π <mtsivinsky@gmail.com>
	Reviewed-by: Andreas F√§rber <afaerber@suse.de> Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2016-08-06  George Ioakimedes <georgeioak@gmail.com>

	* : psoc4: Corrected Silicon IDs Corrected 2 Silicon IDs that were swapped.  I've tested with a
	CY8C4125AXI-483 and  confirmed that the device is recognized
	correctly now.  Change-Id: I6fcbee33558d8feec9abf6052df3f15523379c48 Signed-off-by:
	George Ioakimedes <georgeioak@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3619 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2016-04-27  Olaf L¸ke <olaf@tinkerforge.com>

	* : at91samd: Add Atmel SAMD09 family support Change-Id: I0ee3bb92aa168ed070863ac09e3c457a4b2e2220 Signed-off-by:
	Olaf L√ºke <olaf@tinkerforge.com> Reviewed-on:
	http://openocd.zylin.com/3428 Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Tested-by: jenkins Reviewed-by: Liviu Dudau
	<liviu@dudau.co.uk>

2016-03-08  Andy Pomfret <cooperised@gmail.com>

	* : rtos: removed chSysInit from detection of ChibiOS (#121) Using the presence of the 'chSysInit' symbol for detection of
	ChibiOS is dangerous because this symbol may not be available if
	link-time optimisation is used.  This patch removes this reliance, so the symbols 'ch' and 'ch_debug'
	are the only things required for ChibiOS detection.  If 'ch' is present but 'ch_debug' is not, an info message suggests
	that Chibios might be present without its registry being enabled.
	This message has been reworded a little to make it slightly more
	equivocal because the chances of a false positive message are
	increased.  Addresses bug #121, "ChibiOS rtos detection fails with LTO enabled".  Change-Id: I5ef224735c06446751adee010ce75be4f30f0403 Signed-off-by:
	Andy Pomfret <cooperised@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3381 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2016-05-22  Andreas F‰rber <afaerber@suse.de>

	* : contrib/loaders: Add umbrella Makefile Add a Makefile that orchestrates the other loader Makefiles.  It
	assumes that the clean target can be run without cross toolchain.  at91sam7x does not successfully build and is not really needed
	either, therefore left out.  Add an exception to .gitignore for any contrib/loaders Makefile.  Change-Id: I74456b768472f3190a1721bcf41a777bb8daf973 Signed-off-by:
	Andreas F√§rber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/3504 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2016-06-26  Andreas Bolsch <hyphen0break@gmail.com>

	* : Cortex-M7 handling.  - FPU detection and FPU register support added for Cortex-M7.    There is no apparent difference between FPv4 and FPv5_SP but ...  - Autoincrement range for MEM-AP added for Cortex-M7 This patch together with #3526 replaces #3123 except for
	stm32f7x.cfg.  Change-Id: I5ed5392e3835674160563ff37d67622a7bf2c877 Signed-off-by:
	Andreas Bolsch <hyphen0break@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3531 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2016-07-13  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : adi_v5_jtag: clear sticky overrun condition in WAIT timeout If WAIT recovery fails (times out), an ABORT command is issued to
	the DAP but under some conditions the SSTICKYORUN bit in CTRL/STAT
	is not cleared as well, which renders the DP unusable. This happens
	when trying to access e.g. the ROM table of powered-down cores, on
	many targets.  Change-Id: Id0a7ba6180069eee562871314f520f938df9718f Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com> Reviewed-on:
	http://openocd.zylin.com/3476 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2016-06-29  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : Fix resume when core state has been modified Sometimes it is necessary to resume into a different state
	(ARM/Thumb) than at debug state entry. According to the
	documentation this should be possible with "arm core_state
	arm|thumb" before the resume command, however the original code also
	restores the original CPSR, which overrides whatever state the core
	was set to. This seems to work on some cores (e.g. Cortex-A5) but
	not on others (e.g. Cortex-A9). Using the "BX" instruction to set
	resume PC and core state works on Cortex-A9 and ARM11, but is not
	sufficient on Cortex-A5, where an explicit write to the PC (MOV pc,
	r0) is required additionally.  Change-Id: Ic03153b4b250fbb8cf6c75f8e329fb34829aa35f Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com> Reviewed-on:
	http://openocd.zylin.com/3386 Tested-by: jenkins Reviewed-by:
	Alexander Stein <alexanders83@web.de> Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2016-05-22  Andreas F‰rber <afaerber@suse.de>

	* : Fix usage of timeval_ms() First, fix the timeval_ms() implementation to not have K&R but ANSI
	argument semantics by adding a missing void.  timeval_ms() returns an int64_t, not uint64_t or long long.
	Consistently use int64_t for variables and PRI*64 as format string.  While at it, change a few related variables to bool for clarity.  Note that timeval_ms() may return a negative error code, but not a
	single caller checks for that.  Change-Id: I27cf83e75b3e9a8913f6c43e98a281bea77aac13 Signed-off-by:
	Andreas F√§rber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/3499 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2016-07-11  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : tcl: add mrb command to mem_helper.tcl add "mrb" command to read a byte of memory into a variable Change-Id: I5ddc9fbcc55958a249548627bd15824df6dc0d61 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com> Reviewed-on:
	http://openocd.zylin.com/3542 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2015-10-15  Fredrik Hederstierna <fredrik@hederstierna.com>

	* : swd: Add support for connect_assert_srst for SWD.  Today the reset option for connect_assert_srst is not done for SWD.
	This patch adds this to SWD and make it possible to connect to
	targets which might disable JTAG interface when running.  Change-Id: Ib89f7cf59b628e8f0b5fca9dd9e362e383c4b99f Signed-off-by:
	Fredrik Hederstierna <fredrik@hederstierna.com> Reviewed-on:
	http://openocd.zylin.com/3018 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2015-11-10  Esben Haabendal <esben@haabendal.dk>

	* : Support for Freescale LS102x SAP The SAP in LS102x SoC's from Freescale is able to read and write to
	all physical memory locations, independently of CPU cores and DAP.  This implementation is 100% based on reverse-engineering of JTAG
	communication with an LS1021A SAP using a JTAG debugger with SAP
	support.  And as such, this code is for now "works-for-me", pending
	verification by other OpenOCD users, or even better, actual
	information from Freescale on the SAP interface.  Change-Id: Ibb30945e017894da5c402f9f633fc513bed4e68c Signed-off-by:
	Esben Haabendal <esben@haabendal.dk> Reviewed-on:
	http://openocd.zylin.com/3096 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2015-09-21  Marc Schink <openocd-dev@marcschink.de>

	* : Make #include guard naming consistent Change-Id: Ie13e8af0bb74ed290f811dcad64ad06c9d8cb4fa Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/2956 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2016-05-08  Andreas F‰rber <afaerber@suse.de>

	* : armv4_5: Integrate build of checksum code Add rules to build armv4_5_crc.inc, and convert the code to target
	endianness the least intrusive way.  Change-Id: I7452b2c7e679dae14f9cda5f89bc81c16fc12cad Signed-off-by:
	Andreas F√§rber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/3473 Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Tested-by: jenkins

2016-05-08  Andreas F‰rber <afaerber@suse.de>

	* : armv7m: Integrate build of checksum code Add rules to build armv7m_crc.inc and include it via preprocessor.  Change-Id: I4482c7acb8454de28bdf210d9f06c0720ada490a Signed-off-by:
	Andreas F√§rber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/3474 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2016-05-08  Andreas F‰rber <afaerber@suse.de>

	* : armv4_5: Improve arm_blank_check_memory() error handling Clean up the working area in case writing fails.  Change the error
	handling paradigm to avoid duplication.  Change-Id: I95bb12fbe7c80b594e178468bcd4f6387c682c93 Signed-off-by:
	Andreas F√§rber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/3471 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2016-05-18  Tim Newsome <tim@sifive.com>

	* : Fix comment that limits num_bits to 32.  Andreas Fritiofson says "If any adapter driver does not work with
	arbitrary lengths of individual fields, it's a bug."
	https://sourceforge.net/p/openocd/mailman/message/35091945/ Note also that lengths of at least 96 bits are already in use, eg.
	in mips_ejtag_add_scan_96().  Change-Id: I62a150adc75c0ef78827683ca8d0a8e90310a982 Signed-off-by:
	Tim Newsome <tim@sifive.com> Reviewed-on:
	http://openocd.zylin.com/3491 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2016-05-07  Paul Fertser <fercerpav@gmail.com>

	* : configure.ac: support MSYS with newer config.guess Upstream commit

	http://git.savannah.gnu.org/gitweb/?p=config.git;a=commitdiff;h=f4ebd3ed097771a729b68e688236aea665e7c1f3makes both i386 and amd64 MSYS (and MSYS2) systems be detected as
	*-pc-msys .  With this patch OpenOCD builds without any additional tweaks on
	MSYS2 with the latest config.guess.  Change-Id: I1ae4154f76125a84078926b425fa989904639ce0 Reported-by:
	"Stevens, Kelly E. M." <Kelly.Stevens@gtri.gatech.edu>
	Signed-off-by: Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3468 Tested-by: jenkins Reviewed-by:
	Andreas F√§rber <afaerber@suse.de> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2016-05-16  Andreas F‰rber <afaerber@suse.de>

	* : tcl/target: Add config for TI MSP432P4xx Tested with TI MSP-EXP432P401R LaunchPad, via both on-board
	XDS110-ET (swd) and external J-Link (jtag).  Change-Id: Ic0caa8516a155754b1c88a04acc8d3c511d9a5f7 Signed-off-by:
	Andreas F√§rber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/3485 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2016-05-14  Andreas F‰rber <afaerber@suse.de>

	* : Fix spelling of ARM Cortex It's Cortex-Xn, not Cortex Xn or cortex xn or cortex-xn or CORTEX-Xn
	or CortexXn. Further it's Cortex-M0+, not M0plus.  Cf. http://www.arm.com/products/processors/index.php Consistently write it the official way, so that it stops
	propagating.  Originally spotted in the documentation, it mainly
	affects code comments but also Atmel SAM3/SAM4/SAMV, NiietCM4 and
	SiM3x flash driver output.  Found via:   git grep -i "Cortex "   git grep -i "Cortex-" | grep -v "Cortex-" | grep -v ".cpu"   git grep -i "CortexM" Change-Id: Ic7b6ca85253e027f6f0f751c628d1a2a391fe914 Signed-off-by:
	Andreas F√§rber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/3483 Tested-by: jenkins Reviewed-by: Marc
	Schink <openocd-dev@marcschink.de> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2016-05-20  Ivo Manca <pinkel@gmail.com>

	* : nand: fix return value Return ERROR_NAND_DEVICE_NOT_PROBED to prevent calling functions
	from segfaulting when nand device has not yet been probed (ie nand
	verify) Change-Id: Ibc4da0aad00e6cc6c83008882b054d981453dc36 Signed-off-by:
	Ivo Manca <pinkel@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3495 Tested-by: jenkins Reviewed-by:
	Andreas F√§rber <afaerber@suse.de> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2016-01-13  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : cortex_a: Rename APB-AP to CPU in memory contexts Memory accesses are not made through the APB-AP, they are made
	through the CPU (which happens to be controlled over the APB-AP).
	Rename all irrelevant uses of the APB-AP term. And fix the long
	standing typo in the function names...  Change-Id: Ide466fb2728930968bdba698f0dd9012cc9dbdf9 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3216 Tested-by: jenkins Reviewed-by:
	Andreas F√§rber <afaerber@suse.de> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2016-05-18  Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>

	* : stm32l4x.cfg: Fix RCC_CR address.  Change-Id: I7a63d24a495e28bc01b5e6603f15b88e075878b8 Signed-off-by:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-on:
	http://openocd.zylin.com/3489 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2016-05-16  Andreas F‰rber <afaerber@suse.de>

	* : arm_adi_v5: Add part number for TI MSP432P401R According to the MSP432P4xx Family TRM (SLAU356A) Figure 4-7, 0x9AF
	is the part number for MSP432P401xx devices.  Verified on TI MSP-EXP432P401R LaunchPad.  Change-Id: I22b57c42f2a0dc8263fab6b480cf8c169c7dc295 Signed-off-by:
	Andreas F√§rber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/3486 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2016-05-14  Andreas F‰rber <afaerber@suse.de>

	* : arm_adi_v5: Add part number for Infineon XMC1000 family Not documented in the Reference Manuals but found on multiple
	XMC1100/1202:         Valid ROM table present                 Component base address 0xf0000000                 Peripheral ID 0x00001c11ed                 Designer is 0x0c1, Infineon (Siemens)                 Part is 0x1ed, Unrecognized                 Component class is 0x1, ROM table                 MEMTYPE system memory present on bus Name it "XMC1000 ROM", since it didn't differ between XMC1100 and
	XMC1200.  Change-Id: I98a5a524c0d0836f395400fbac24fd496b2ec141 Signed-off-by:
	Andreas F√§rber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/3481 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2016-03-01  Alexander Kurz <akurz@blala.de>

	* : udev: add rule for original Keil ULink (version 1) The original ULINK adapter has been introduced by Keil in 2002 and
	got replaced in 2008 by the incompatible ULINK2. It is not listed on
	their website any more. For information about it, browse archive.org
	for http://www.keil.com/ulink1/ or http://www.keil.com/ulink/ Change-Id: Ie52d381580acab53ddb40499594dbdc2d27ef1b6 Signed-off-by:
	Alexander Kurz <akurz@blala.de> Reviewed-on:
	http://openocd.zylin.com/3371 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2016-02-22  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : arm_adi_v5: Update DP (Debug Port) registers defined in ADIv5.2.  Note: WCR (Wire Control Register) is replaced by DLCR (Data Link
	Control Register). And only TURNROUND field is modifiable.  [andreas.fritiofson@gmail.com]: Rename DP_IDCODE to DP_DPIDR as well.  Sort list by address and align it using spaces instead of tabs. Add
	comments about supporting DP versions.  Remove non-functional wcr command completely.  Change-Id: Ic6b781b07c8eead8b0237d497846d0da060cb1ba Signed-off-by:
	Alamy Liu <alamy.liu@gmail.com> Signed-off-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3244 Tested-by: jenkins

2016-05-14  Andreas F‰rber <afaerber@suse.de>

	* : arm_adi_v5: Reorder Atmel part number entry Instead of placing Atmel last, after ANY_ID, place it after ARM
	(it's arm_adi_v5 despite 0x4BB) and sort it with the other vendors,
	i.e.  before ADI and Qualcomm. Adapt column alignment.  Drop the redundant "Atmel" comment to clarify that Analog is not
	Atmel.  Change-Id: Ic06785db079cf58d49815a639236636c180e5e17 Signed-off-by:
	Andreas F√§rber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/3479 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2016-04-16  Jiri Kastner <cz172638@gmail.com>

	* : arm_adi_v5: added partnumbers On hi6220 'dap info' returned some unknown components from ARM.
	Collected from ARM docs, mostly ROM table entries.  Typo fix for
	Cortex-M3 FPB.  Change-Id: I96bbf7349061937b3afc8bb8d6d1650f2609f82d Signed-off-by:
	Jiri Kastner <cz172638@gmail.com> Signed-off-by: Andreas F√§rber
	<afaerber@suse.de> Reviewed-on: http://openocd.zylin.com/3407
	Tested-by: jenkins Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2016-04-14  James Mastros <james@mastros.biz>

	* : arm_adi_v5: Add a few dap component ids, covers the atmel
	at91sam.  Change-Id: I62473fdf3dbc30cb0e1443c3d3f37918f1d61b89 Signed-off-by:
	James Mastros <james@mastros.biz> Signed-off-by: Jiri Kastner
	<cz172638@gmail.com> Reviewed-on: http://openocd.zylin.com/3383
	Tested-by: jenkins Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2016-05-08  Andreas F‰rber <afaerber@suse.de>

	* : armv7m: Improve armv7m_blank_check_memory() error handling Clean up the working area in case writing fails.  Adapted from
	armv7m_checksum_memory().  Change-Id: I4e5950f568ed70a72a1dcfd77e3321110b17e1de Signed-off-by:
	Andreas F√§rber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/3469 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2016-05-14  Marc Schink <openocd-dev@marcschink.de>

	* : libjaylink: Update to latest master branch Among other things, this fixes building on Cygwin and MSYS.  Change-Id: I8bdceb49dc72b5f666388cfd97876eba8e1d2b13 Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/3478 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2016-02-22  Robert Jordens <jordens@gmail.com>

	* : flash/nor/spi: use only lower case hex numbers Change-Id: I21ad0d3a73a60d22cb98a0350098baf8af96bebf Signed-off-by:
	Robert Jordens <jordens@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3350 Reviewed-by: Andreas F√§rber
	<afaerber@suse.de> Tested-by: jenkins Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2016-02-09  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : cortex_a: fix cortex_a_assert_reset() if srst_gates_jtag The cortex_a specific assert_reset function must only apply nSRST if
	the reset configuration states that JTAG can be used while nSRST is
	asserted.  Change-Id: If604a65fdea5bcb46ec723ada547a4e8d6fa8c59 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com> Reviewed-on:
	http://openocd.zylin.com/3356 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2016-05-05  Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>

	* : Cortex-M7: Give user a hint about single stepping problem up to
	r0p1.  http://www.keil.com/support/docs/3778.htm Change-Id: I452f76726f3bb269fa14cc785f329bfba5189489 Signed-off-by:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-on:
	http://openocd.zylin.com/3467 Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Tested-by: jenkins

2016-04-20  Christopher Head <chead@zaber.com>

	* : Add Altera USB Blaster udev rule.  This udev rule makes the Altera USB Blaster clone I have on my desk
	accessible to the plugdev group.  Change-Id: Ic5e8052c66a270b6a6f89e29de49d9785f18fc1e Signed-off-by:
	Christopher Head <chead@zaber.com> Reviewed-on:
	http://openocd.zylin.com/3423 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2016-04-29  Andreas F‰rber <afaerber@suse.de>

	* : fm4: Set read callback Fix a segfault for flash read_bank by adopting the default read
	implementation.  Change-Id: I09e030d9a7669b848a1743aaba03875bf408c7ee Signed-off-by:
	Andreas F√§rber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/3431 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2016-02-06  Paul Fertser <fercerpav@gmail.com>

	* : checkpatch.pl: fix unescaped left brace warnings Basically, same as upstream
	4e5d56bdf892e18832a6540b63ebf709966bce2a.  Unescaped left brace in string literals is deprecated since perl
	v5.21.1.  Change-Id: I0e5f23bef821d2dca6ff4909ddbb06f4992718d4 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3228 Tested-by: jenkins Reviewed-by: Daniel
	Thompson <daniel.thompson@linaro.org>

2014-08-24  Salvador Arroyo <sarroyofdez@yahoo.es>

	* : MIPS32 Fix typos I suppose 0xff300008 is the correct value for EJTAG_V20_DBS.  20
	miliseconds is too much for scan delay, 2ms is enough in mips_m4k
	scan_delay handler.  mips32 scan_delay has the correct value.  Change-Id: Ie9dc650065a58e845687058a4c930f85909beec9 Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/2271 Tested-by: jenkins Reviewed-by: Kent
	Brinkley <jkbrinkley.imgtec@gmail.com> Reviewed-by: Oleksij Rempel
	<linux@rempel-privat.de> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2016-04-17  Andreas F‰rber <afaerber@suse.de>

	* : flash/nor: Add Infineon XMC1000 flash driver The XMC1000 family uses a very different flash interface from
	XMC4000.  Tested on XMC 2Go and XMC1100 Boot Kit.  Change-Id: I3edaed420ef1c0fb89fdf221022c8b04163d41b3 Signed-off-by:
	Andreas F√§rber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/3418 Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com> Tested-by: jenkins

2015-03-15  Tomas Vanek <vanekt@fbl.cz>

	* : target: improve robustness of reset command Before this change jim_target_reset() checked examined state of a
	target and failed without calling .assert_reset in particular target
	layer (and without comprehensible warning to user).  Cortex-M target
	(which refuses access to DP under active SRST): If connection is
	lost then reset process fails before asserting SRST and connection
	with MCU is not restored.  This resulted in: 1) A lot of Cortex-M MCUs required use of reset button or cycling
	power after firmware blocked SWD access somehow (sleep,
	misconfigured clock etc).  If firmware blocks SWD access early
	during initialization, a MCU could become completely inaccessible by
	SWD.  2) If OpenOCD is (re)started and a MCU is in a broken state
	unresponsive to SWD, reset command does not work even if it could
	help to restore communication.  Hopefully this scenario is not
	possible under full JTAG.  jim_target_reset() in target.c now does not check examined state and
	delegates this task to a particular target. All targets have been
	checked and xx_assert_reset() (or xx_deassert_reset()) procedures
	were changed to check examined state if needed. Targets except
	arm11, cortex_a and cortex_m just fail if target is not examined
	although it may be possible to use at least hw reset. Left as TODO
	for developers familiar with these targets.  cortex_m_assert_reset(): memory access errors are stored instead of
	immediate returning them to a higher level.  Errors from less
	important reads/writes are ignored.  Requested reset always leads to
	a configured action.  arm11_assert_reset() just asserts hw reset in case of not examined
	target.  cortex_a_assert_reset() works as usual in case of not
	examined target.  Change-Id: I84fa869f4f58e2fa83b6ea75de84440d9dc3d929 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/2606 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2016-04-20  Peter D. Gray <peter@conalgo.com>

	* : Add support for Atmel AT91SAMD21E16B (B variant) and a spelling
	mistake.  Change-Id: I55ab830aed34a02c53f3419facc81c7354368e30 Signed-off-by:
	Peter D. Gray <peter@conalgo.com> Reviewed-on:
	http://openocd.zylin.com/3422 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz> Reviewed-by: Andreas F√§rber
	<afaerber@suse.de>

2016-02-09  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : stm32lx: Add support for lock/unlock (RDP Level 0<->1) Change-Id: Iecc356373e084056d048d92820062483cac3c8ec Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3234 Tested-by: jenkins Reviewed-by: Uwe
	Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2016-03-02  Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>

	* : src/flash/nor/stm32f2x.c: Really erase second bank if requested.  Taken from git://git.ac6.fr/openocd commit e8ed67c42227b7072 Change-Id: Ic7f529aecd1603b8c083c3c9ce96a0f13dd604e0 Signed-off-by:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-on:
	http://openocd.zylin.com/3374 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2015-11-30  Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>

	* : stm32l4x.c: Use explicit 64-bit flash access as reference manual
	implies.  Change-Id: I87b540c1ee7158a9d697e9fbc845a603c6bbe74d Signed-off-by:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-on:
	http://openocd.zylin.com/3139 Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com> Tested-by: jenkins

2016-04-08  Jonathan Dumaresq <jdumaresq@cimeq.qc.ca>

	* : RTOS support: Correction of out of bound access of thread array FreeRTOS use an array to store ready task. The array size is
	configMAX_PRIORITIES. In the current implementation, the code try to
	access 1 more priority if the helper from freeRTOS contrib is used.
	This has effect of detecting bad thread. This patch correct this and
	have been tested on a code with more than 12 task.  Change-Id: Id229f0b2c4bf1aab87a2a69be174cc9b6dda00cb Signed-off-by:
	Jonathan Dumaresq <jdumaresq@cimeq.qc.ca> Reviewed-on:
	http://openocd.zylin.com/3400 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2016-03-05  Ivan Meleca <ivan@artekit.eu>

	* : flash: Added support for Freescale Kinetis KE family.  Tested with MKE04Z8VTG4, MKE02Z64VLC4 and MKE02Z64VLD2.  Change-Id: I606e32a2746a3b96d3e50f3656ba78d40c41c1ea Signed-off-by:
	Ivan Meleca <ivan@artekit.eu> Reviewed-on:
	http://openocd.zylin.com/3380 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2016-04-08  Marc Schink <openocd-dev@marcschink.de>

	* : interface/jlink: Fix comment about serial number Leading zeros for the serial number are not necessary anymore.  Signed-off-by: Marc Schink <openocd-dev@marcschink.de> Change-Id:
	Ie4ff47b9cda7ccf314c6fda9a2784947db5ee4d9 Reviewed-on:
	http://openocd.zylin.com/3401 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2016-02-22  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : cortex_a: allow physical memory access through AHB-AP again This feature is required for boards that use a programmatical way to
	reset the cpu, like the TI Pandaboard with OMAP4. The board only has
	a 14 pin JTAG header that doesn't feature SRST and is reset by
	direct write to the PRM_RSTCTL register.  iMX6 can be reset through triggering the on-chip watchdog, but for
	these methods to work reliably, access through the AHB-AP without
	interaction with the CPU core is necessary.  Change-Id: I9a07a536adda83cc2f93e504384c8c7f0306220b Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com> Reviewed-on:
	http://openocd.zylin.com/3359 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2015-10-04  Marc Schink <openocd-dev@marcschink.de>

	* : helper/fileio: Remove nested struct Change-Id: I1a3afbddcf950689da58e0df8850a05f558d7879 Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/3222 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2016-01-11  Evan Hunter <ehunter@broadcom.com>

	* : Cortex-A/R: Fix Mask-ISR parsing Remove needless error when not halted with wrong return.  Allow
	usage in any mode Add error message for incorrect arguments Change-Id: I3e94e159609351e503ed3f35760503079e3aa53c Signed-off-by:
	Evan Hunter <ehunter@broadcom.com> Reviewed-on:
	http://openocd.zylin.com/3195 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de> Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2015-12-06  Andreas F‰rber <afaerber@suse.de>

	* : fm4: Add support for S6E2DH family Add support for S6E2DH MainFlash. VFlash is not implemented.  Briefly tested with SK-FM4-176L-S6E2DH V110 board.  Change-Id: If7c523d8c75307bc1494bbf4cca3eed0272e8e01 Signed-off-by:
	Andreas F√§rber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/3158 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2016-01-12  Linus Walleij <linus.walleij@linaro.org>

	* : armv4_5: support weirdo ARMv6 secure monitor mode On the ARM PB1176JZF-S the system comes up in secure monitor mode
	after reset. However the modebits in CPSR form the value 28 (0x1c)
	and CPSR is 0x800001dc deeming it UNRECOGNIZED.  Define this mode to
	be synonymous to mode 22 (MON) and things start to work like a
	charm.  Change-Id: I001f7773ee1076202c0c633e466d2d833f7a1413 Cc: Will Deacon
	<will.deacon@arm.com> Signed-off-by: Linus Walleij
	<linus.walleij@linaro.org> Reviewed-on:
	http://openocd.zylin.com/3196 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2015-11-29  Andreas F‰rber <afaerber@suse.de>

	* : armv7m: Integrate build of erase check code Instead of documenting the file path as a comment and
	inline-commenting the THUMB bytecode, include the hex array via
	preprocessor.  This assures the path is actually up-to-date and facilitates
	updating the code.  Change-Id: Ieb0a7cd0bc14882ac96750f524616d9768a0c6f5 Signed-off-by:
	Andreas F√§rber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/3134 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2015-04-20  Andreas F‰rber <afaerber@suse.de>

	* : flash: New Spansion FM4 flash driver The Spansion FM4 family of microcontrollers does not offer a way to
	identify the chip model nor the flash size, except for Dual Flash
	vs.  regular layout. Therefore the family is passed as argument and
	wildcard-matched - MB9BFx6x and S6E2CC families are supported.  Iterations showed that ...  1) Just doing the flash command sequence from SRAM loader code for
	each half-word took 20 minutes for an 8 KB block.  2) Doing the busy-wait in the loader merely reduced the time to 19
	minutes.  3) Significant performance gains were achieved by looping in loader
	code rather than in OpenOCD and by maximizing the batch size across
	sectors, getting us down to ~2 seconds for 8 KB and ~2.5 minutes for
	1.1 MB.  (Tested with SK-FM4-176L-S6E2CC-ETH v11, CMSIS-DAP v23.) gcc, objcopy -Obinary and bin2char.sh are used for automating the
	integration of hand-written assembler snippets.  Change-Id: I092c81074662534f50b71b91d54eb8e0098fec76 Signed-off-by:
	Andreas F√§rber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/2190 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2016-02-25  Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>

	* : stm32lx.c: Print device string as info.  Change-Id: I893f0d9a5095a9f122adc76cf403277639fa880c Signed-off-by:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-on:
	http://openocd.zylin.com/3362 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2016-02-28  Alexander Kurz <akurz@blala.de>

	* : tcl/target/stm32f4: fix: reduce adapter speed before reset The reset-init hook for this target speeds up the CPU clock and JTAG
	adapter speed. When the target is reset running with high adapter
	speed, a series of warnings "DAP transaction stalled (WAIT) -
	slowing down" will be generated since the adapter speed is not
	reduced to fit the slower CPU speed.  Fix: reduction of the adapter
	speed before a reset is performed.  Change-Id: Iabfc8e3f70311e0e71c8eed09b8a37fcbed9c58d Signed-off-by:
	Alexander Kurz <akurz@blala.de> Reviewed-on:
	http://openocd.zylin.com/3365 Tested-by: jenkins Reviewed-by: Uwe
	Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2016-02-26  Alexander Kurz <akurz@blala.de>

	* : arm_disassembler: bugfix, MRRC instruction not recognized A copy-and-paste error in the arm_disassembler opcode evaluation
	disabled the recognition of MRRC instructions.  According to the arm
	architecture ref. manual issue E or later, MRRC and MCRR
	instructions are identified by opcode bits 20-27: MCRR = 0xc4, MRRC
	= 0xc5.  Error found by static code analysis using a semantic
	pattern to detect duplicated tests xand.cocci, see coccinellery.org Change-Id: Ic41426edb51c6816e11dc3d35ef9382ab34af486 Signed-off-by:
	Alexander Kurz <akurz@blala.de> Reviewed-on:
	http://openocd.zylin.com/3363 Reviewed-by: Uwe Bonnes
	<bon@elektron.ikp.physik.tu-darmstadt.de> Tested-by: jenkins
	Reviewed-by: Andreas Fritiofson <andreas.fritiofson@gmail.com>

2016-02-28  Alexander Kurz <akurz@blala.de>

	* : flash/nor/non_cfi.c: cleanup, member double-intialization A struct member has been initialized twice. Found using the semantic
	pattern da/da.cocci, see coccinellery.org Change-Id: I0320afd60f1ba505758cc5bc0adcf27f572492fb Signed-off-by:
	Alexander Kurz <akurz@blala.de> Reviewed-on:
	http://openocd.zylin.com/3369 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2016-02-13  Alexander Kurz <akurz@blala.de>

	* : cfi intel: fixing faulty flash write error message Writing to Intel CFI flash with unaligned tail bytes raised a false
	error message although all data was programmed successfully. e.g.: >
	flash write_image image 0x602e0000 bin > Programming at 0x602e0000,
	count 0x00000002 bytes remaining > couldn't write word at base
	0x60000000, address 0x602e0000 > error writing to flash at address
	0x60000000 at offset 0x002e0000 Root cause for this false error was
	a mixup of two result variables introduced with ecc8041c.  Change-Id: Ib6b85293dbed946a36a307e5b198c47b901145bf Signed-off-by:
	Alexander Kurz <akurz@blala.de> Reviewed-on:
	http://openocd.zylin.com/3233 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-11-12  Peter A. Bigot <pab@pabigot.com>

	* : nrf51: move table entry for hwid 0084 to correct MCU section This is a nRF51822 variant, not a nRF51422 variant.  Change-Id: Ia199e0afa39408d7391a9655bad47eba2fd85f14 Signed-off-by:
	Peter A. Bigot <pab@pabigot.com> Reviewed-on:
	http://openocd.zylin.com/3105 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2015-11-29  Andreas F‰rber <afaerber@suse.de>

	* : xmc4xxx: Add XMC4700 support Tested with EES-AA revision chips on Relax Kit for 5V Shields and
	Relax Lite Kit.  Change-Id: I17d4479657bad0516d4c10c2ad7e745d59e678b7 Signed-off-by:
	Andreas F√§rber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/3136 Tested-by: jenkins Reviewed-by: Jeff
	Ciesielski <jeffciesielski@gmail.com> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2015-08-10  Alamy Liu <alamy.liu@gmail.com>

	* : adi_v5: Remove forgotten FIXME definition Investigation:  - mem_ap_read_buf_u32() no longer exists.   - JTAG_DP_DPACC & JTAG_DP_APACC are defined in adi_v5_jtag.c now.  Change-Id: I136fc3f389a5a4eb9b68bc759ce653b6da7fa75e Signed-off-by:
	Alamy Liu <alamy.liu@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3243 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2015-10-13  Tomas Vanek <vanekt@fbl.cz>

	* : Kinetis: check/switch run mode before flash operation FTFx flash controller requires MCU in normal RUN mode.  Flash cannot
	be erased, programmed or blank checked in VLPR or HSRUN modes.  VLPR mode is switched to RUN mode as it does not require any changes
	in clock generator setting. VLPR can be active from reset on some
	KLx devices (with some FOPT setting) so 'reset init' might not be
	sufficient to get device to normal RUN.  Any other mode than RUN or VLPR is reported as an error.  Change-Id: I60f494ce0d534b04870c6219d9b05f66f7244433 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/3012 Tested-by: jenkins

2015-09-29  Tomas Vanek <vanekt@fbl.cz>

	* : Kinetis: improve flash detection using SIM_FCFG2 MAXADDR0 and
	MAXADDR1 Autodetect 1 or 2 flash blocks devices and recheck bank sizes.
	Correct pf_size calculation for 2 MB devices.  Change-Id: Ib3b68db9ec5356b8d5dc73c9f12053f7476bf474 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/2992 Tested-by: jenkins

2015-10-01  Tomas Vanek <vanekt@fbl.cz>

	* : Kinetis: fix preparation of FlexRAM before flash programming FlexRAM should be requested before any section programming.  Test
	FCNFG RAMRDY bit before issuing FTFx_CMD_SETFLEXRAM to speed up
	operation and to cover pflash only devices.  Change-Id: Ib0f2d8e8ab8b1507cbf2b7f8565178ab79941f5d Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/2990 Tested-by: jenkins

2015-09-29  Tomas Vanek <vanekt@fbl.cz>

	* : Kinetis: FlexNVM handling FlexNVM (data flash) is memory mapped at 0x10000000.  Driver used to
	send the same address to FTFx controller for erase/write ops.  This
	was wrong as FTFx accepts only low 24 bits of address.  To fix
	addressing for flash controller kinfo->prog_base was introduced.  Added FlexNVM protection check, blank check and data flash size
	calculation.  Blank check cannot use block operation on FlexNVM when
	EEPROM backup is enabled.  Removed non functional reassign logic and bank_ordinal stuff.  Now
	one can re-probe FlexNVM banks after nvm_partition change.  Change-Id: Ia60b938266963e5d056701278cdf7bf2f62a429a Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/2987 Tested-by: jenkins

2015-12-18  Marc Schink <openocd-dev@marcschink.de>

	* : jlink: Update for libjaylink API changes This patch also addresses a problem with devices where no serial
	number is available. For further details, see:
	http://repo.or.cz/libjaylink.git/commit/7e0508d8487f65f71411117dff2e0b093e00bc80Such devices are now ignored if device selection via serial number
	is used.  Nevertheless, these devices are still usable by using the
	USB address for device selection or just by omitting device
	selection. The latter one is only possible if only one device is
	connected.  Change-Id: I5763db25e97ba3d924cb642da7e64e951e09ecb7 Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/3225 Tested-by: jenkins Reviewed-by: Nemui
	Trinomius <nemuisan_kawausogasuki@live.jp> Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2015-12-08  Andrew Kohlsmith <akohlsmith@mixdown.ca>

	* : add Digilent HS2 support Change-Id: If506c33f22d95f4c47f30c4348d461197c976fdd Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3160 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-10-23  Esben Haabendal <esben@haabendal.dk>

	* : cfi: support for 16-bit flash with reversed endianness This is for targets where flash controller has reverse endianness
	compared to target.  For these, the 'bus_swap' parameter can be
	given to the CFI driver, which will cause command CFI commands to be
	written with bytes swapped.  This is only for x16 CFI flash.  Change-Id: I698b768e92e65d160232e90b0e81a824e3c81a46 Signed-off-by:
	Esben Haabendal <esben@haabendal.dk> Reviewed-on:
	http://openocd.zylin.com/3041 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2016-01-19  Matthias Welwarsky <matthias@welwarsky.de>

	* : jtag ftdi: sample TDO on falling edge of TCK Due to signal propagation delays, sampling TDO on rising TCK can
	become quite peculiar at fast TCK rates. However, FTDI chips offer a
	possiblity to sample TDO on falling edge. With this change, stable
	operation can be achieved at 30MHz clock even over 10cm ribbon
	cable.  Change-Id: Icaf240535dae15512e3c60a944e22a5fbc1b0b06 Signed-off-by:
	Matthias Welwarsky <matthias@welwarsky.de> Reviewed-on:
	http://openocd.zylin.com/3180 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2016-01-12  Ivan De Cesaris <ivan.de.cesaris@intel.com>

	* : quark: add Intel Quark mcu D2000 support Add support for the Intel Quark mcu D2000 using the new quark_d2xx
	target.  Changes to the lakemont part are needed for the D2000 core and
	backwards compatible with the X1000 one.  Change-Id: I6e1ef5a5d116344942f08e413965abd3945235fa Signed-off-by:
	Ivan De Cesaris <ivan.de.cesaris@intel.com> Reviewed-on:
	http://openocd.zylin.com/3199 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2016-01-09  Tomas Vanek <vanekt@fbl.cz>

	* : adi_v5_swd: invalidate dap->select during (re)connect Commit 830d0c55c0920606366a15560d1945f1e1942744 introduced a
	regression in error recovery after reconnect: If first SWD queue run
	in dap_dp_init() fails, DP_SELECT does not get reset.  Change-Id: I947e2afe9933e4645a6141ece7816af8e6082cf2 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/3194 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2016-01-17  Manuel Limones <limonesu.me@gmail.com>

	* : tlc/board: Add ATMEL SAM E70 Xplained config atmel_same70_xplained config using on board embedded debuger Change-Id: I650ec538b42653662bc273e9f3581a6eda95cd39 Signed-off-by:
	Manuel Limones <limonesu.me@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3208 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2015-12-14  Bogdan Kolbov <kolbov@niiet.ru>

	* : flash/nor/niietcm4: minor fixes niietcm4_write() buffer padding: add correct buffer padding for 16
	bytes.  Args check in FLASH_BANK_COMMAND_HANDLER(): first version of the
	driver had 7 args, current - 6. This patch will fix error when flash
	is rejected (current k1921vk01t.cfg has flash bank init with 6
	args).  Timeouts in flash flag checking procedure: increase timeouts in
	niietcm4_opstatus_check() and niietcm4_uopstatus_check() cause there
	were problems in some hardware configurations.  JTAG ID: wrong id in k1921vk01t.cfg replaced with right one.  Signed-off-by: Bogdan Kolbov <kolbov@niiet.ru> Change-Id:
	I84296ba3eb4eeda4d4a68b18c94666f1269a500f Reviewed-on:
	http://openocd.zylin.com/3171 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2016-01-07  Matthias Welwarsky <matthias@welwarsky.de>

	* : am437x: always use highest possible JTAG clock.  With DAP WAIT support, it's no longer necessary to start with slow
	JTAG clock.  Change-Id: I2cb62c44752b27e6854637e8073e9f9501f5a660 Signed-off-by:
	Matthias Welwarsky <matthias@welwarsky.de> Reviewed-on:
	http://openocd.zylin.com/3190 Tested-by: jenkins Reviewed-by: Felipe
	Balbi <balbi@ti.com> Reviewed-by: Paul Fertser <fercerpav@gmail.com>

2015-12-28  Matthias Welwarsky <matthias@welwarsky.de>

	* : adiv5: introduce optional dap_sync() function dap_sync() executes all commands in the JTAG queue and then checks
	if a WAIT condition happened inside the last batch. If yes, a
	recovery is invoked. If not, processing continues without checking
	for errors. This function should be called in long AP read or
	writes, e.g.  while uploading a new application binary, at
	intermediate points within the transfer where the cost of flushing
	the JTAG queue and checking the journal doesn't affect performance
	too much.  Change-Id: I99eeaf47cdf951e15e589a04e74b90b5ce911386 Signed-off-by:
	Matthias Welwarsky <matthias@welwarsky.de> Reviewed-on:
	http://openocd.zylin.com/3181 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2015-08-27  Paul Fertser <fercerpav@gmail.com>

	* : drivers: jlink: rework to allow scans of arbitrary length, bump
	libjaylink Make the J-Link driver handle everything needed for FPGA
	programming, this includes arbitrary long scans and STABLECLOCKS
	command.  Also, bump to the latest upstream libjaylink to properly support
	this.  This code is heavily inspired by Andreas Fritiofson's ftdi.c.  Change-Id: Ic5fd87aa88b58ff1138dc2e0a197bb52321b1541 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2946 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2016-01-04  Peter A. Bigot <pab@pabigot.com>

	* : jlink: deconflict local variables from global symbols BeagleBone debian 7 builds produce:     jlink.c: In function 'jlink_speed':     jlink.c:218:11: error: declaration of 'div' shadows a global
	    declaration [-Werror=shadow] jlink.c: In function
	    'check_trace_freq': jlink.c:1065:54: error: declaration of 'div'
	    shadows a global declaration [-Werror=shadow] jlink.c: In function
	    'config_trace': jlink.c:1101:11: error: declaration of 'div' shadows
	a global declaration [-Werror=shadow] Fix this by changing the local variable to 'divider'.  Change-Id: I96a0cc0f7d4d4af5a56aa1e918e5416d3c61cbfe Signed-off-by:
	Peter A. Bigot <pab@pabigot.com> Reviewed-on:
	http://openocd.zylin.com/3185 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2015-12-28  Peter Lawrence <majbthrd@gmail.com>

	* : ARM ADIv5: CoreSight ROM decode part number and designer id The existing arm_adi_v5.c code decodes CoreSight peripherals based
	on the part number field.  However, these are specific to a
	particular manufacturer (often ARM).  The same part number from two
	different manufacturers (distinct designer ids) should not decode as
	the same CoreSight peripheral.  The Analog Devices ADSP-SC58x and ADSP-BF70x have peripherals that
	overlap with existing OpenOCD decoding.  The part number is the same
	as existing OpenOCD decoding, but have a different JEP106 code.  Most, if not all, of the existing part number entries in
	arm_adi_v5.c are probably specific to ARM. Change all entries
	suspected to be designed by ARM to match only ARM's designer ID.  However, to preserve legacy behavior, existing non-ARM entries are
	encoded with a wildcard so that they will behave in the same way as
	the existing legacy code.  It is desirable, however, to start
	encoding the data with designer codes to avoid such ambiguity.  Revising the code to check both the part number and designer id
	seemed to a warrant a const array lookup table instead of a
	multi-tiered switch statement.  Also try to sync part identification IDs with relevant ARM docs.  Change-Id: Iac1374e4cfc6f04cebb479c0e3fa9bde527cc4a3 Signed-off-by:
	Peter Lawrence <majbthrd@gmail.com> [andreas.fritiofson@gmail.com:
	change JEP106 to designer ID, cleanup] Signed-off-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3128 Tested-by: jenkins

2015-12-30  Paul Fertser <fercerpav@gmail.com>

	* : target: cortex_m: fix segfault with HLA The HLA target shares an examine handler with cortex_m but since it
	lacks direct access to DAP, some operations need to be omitted.  Change-Id: Ifdd9d3da4a3a3c2e1c9721284b21d041b3ccaa7a Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3183 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2015-07-28  Antony Pavlov <antonynpavlov@gmail.com>

	* : tcl/fpga: add config file for Altera EP3C10 FPGA (Cyclone III
	family) Change-Id: I4de5156b3c43f548305f8b9a3943a727fa6f0dbe Signed-off-by:
	Antony Pavlov <antonynpavlov@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2889 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-07-29  Evan Hunter <ehunter@broadcom.com>

	* : ADIv5: convert numeric values to use defines with meaningful
	names Change-Id: Idb72750d0aa893119fb405eb27215cba455428a0 Signed-off-by:
	Evan Hunter <ehunter@broadcom.com> Reviewed-on:
	http://openocd.zylin.com/2891 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de> Reviewed-by: Jiri Kastner
	<cz172638@gmail.com> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2015-12-15  Andreas F‰rber <afaerber@suse.de>

	* : tcl/target: Add Renesas S7G2 config Tested with Renesas DK-S7G2M v3.0 board.  Change-Id: Ia6acaf70271ed4eb7bc4e921552cbd2ff83f6acb Signed-off-by:
	Andreas F√§rber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/3169 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-11-24  Matthew Campbell <mcampbell@izotope.com>

	* : sysfsgpio: support broken gpio implementations Change tests when reading from 'value' in sysfs from =='0' to !='1'.
	This guards against broken sysfs GPIO implementations that return
	non-zero for high rather than just '1' while still being clean and
	correct code. Note that sysfs will never output a leading zero even
	in a very broken implementation as that is covered in gpiolib.c, not
	the offending driver.  Tested against broken Freescale kernel 3.14.38 on i.MX6SL.  Change-Id: Id05567bb8504b1babef33d6ee5172bceefeca8b8 Signed-off-by:
	Matthew Campbell <mcampbell@izotope.com> Reviewed-on:
	http://openocd.zylin.com/3121 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2015-12-12  Matthias Welwarsky <matthias@welwarsky.de>

	* : cortex_a: select APB-AP as the default AP Debug initialization blindly selects AP#0 as default, which is the
	AHB-AP in many cases. This sets the default for target_read/write
	functions.  However, AHB-AP is the wrong choice, because it bypasses
	caches on read and write and also makes some peripherals
	inaccessible (e.g. l2 outer caches). This patch explicitely selects
	the APB-AP (debug_ap) as the default.  Change-Id: I13f9e0750186d35dcfc135c8d67d437c5884d9c4 Signed-off-by:
	Matthias Welwarsky <matthias@welwarsky.de> Reviewed-on:
	http://openocd.zylin.com/3113 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2015-12-07  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : arm_adi_v5: dap_queue_ap_* DAP->AP parameter Move the mandatory dap_ap_select() call into the
	dap_queue_ap_read/write wrapper.  This avoids the need for dap_ap_select() and the notion of a
	"current" AP within target code.  Change-Id: I5cde8f3eef2c662f7458be6f3b3dd44ea693bd74 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3164 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2015-12-06  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : arm_adi_v5: Remove all cases of "restoring" previous
	dap_ap_select() All AP operations should select the AP to use before calling it so
	there's no point in restoring the previous value afterwards.  The explicit call to dap_ap_select() before all AP operations should
	be moved into dap_queue_ap_read/write() which then would have to
	take the AP as an argument instead of the DAP.  Change-Id: Icacb0c76ef2a5ac36b4d2f26b52ec01a8850286e Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3156 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2015-12-06  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : adi_v5_jtag: Remove TAR and CSW prints from
	jtagdp_transaction_endcheck The AP for which the TAR/CSW is printed may not be the one that
	caused the failure. Remove the flawed output entirely. The correct
	info is printed in mem_ap_read/write anyway.  Change-Id: I97580a0662dcf02e80646e45445cdbfc251122d8 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3154 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2015-12-06  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : arm_adi_v5: Rename TAR and CSW setters and make them AP-specific Change-Id: I0ab66b259e929e6ba826ada9cf8e35614df46410 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3152 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2015-12-06  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : arm_adi_v5: Clean up dap info command Reduce use of magic numbers and add AXI type MEM-AP detection. Don't
	try to call dap_rom_display on a non-existent AP.  AP identification is unique per designer, so make sure the JEDEC
	code matches ARM when interpreting the AP type.  Change-Id: I8e86b7de61811382afe99bf15094ab71b43f5fdf Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3150 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2015-12-06  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : cortex_a: Find debug base using the detected APB-AP and not AP 1 Change-Id: I6b98c3b4486903029e5a0d6d964bd5c48ff55926 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3148 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2015-12-06  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : cortex_m: Discover the AP to use, just like Cortex-A This required fixing the AP ID parsing in dap_find_ap() to match
	IHI0031C. The AXI type was added too.  Change-Id: I44577a7848df37586e650dce0fb57ac26f5f858c Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3146 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2015-11-14  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : arm_adi_v5: Add a back-pointer from an AP to its DAP This will make it possible to reference directly the AP used for
	debug in the target instance and remove the DAP reference. This will
	in turn enable getting rid of the need to select an "active" AP in
	the DAP (using dap apsel).  Change-Id: I265846a427c714204f4fd3df3cdb75843686c2d0 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3144 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2015-11-14  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : target/arm: Remove usage of struct arm_jtag in ARMv7 targets The Cortex-A and Cortex-M keeps an arm_jtag struct around just to be
	able to pass a pointer to it to one common JTAG function which
	anyway only uses the TAP field.  Refactor the function to take a TAP directly, remove the legacy
	struct from cortex instances and store the TAP pointer only in the
	DAP.  Cortex-M makes a call to arm_jtag_setup_connection() with the struct
	but the function does nothing useful for a Cortex-M target so remove
	the call.  Change-Id: I3b33709ef55372ef14522ed4337e9f2e817ae3ab Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3142 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2015-09-28  Patrick Stewart <patstew@gmail.com>

	* : arm_debug: Support multiple APs per DAP and remove DAP from
	armv7* structs Separate out the values from adiv5_dap that are associated with a
	specific AP into a new struct, so we can properly support multiple
	APs. Remove the DAP struct from the armv7* structs, because we can
	have multiple CPUs per DAP, and we shouldn't have multiple DAP
	structs. Tidy up a few places where ap_current is used incorrectly.  Change-Id: I0c6ef4b49cc86b140366347aaf9b76c07cbab0a8 Signed-off-by:
	Patrick Stewart <patstew@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2984 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de> Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2015-08-10  Alamy Liu <alamy.liu@gmail.com>

	* : adi_v5: return proper value on timeout ERROR_WAIT is better than ERROR_FAIL in timeout condition.  Change-Id: Iefe837f276a9091ce6c18db5947212c449f49d89 Signed-off-by:
	Alamy Liu <alamy.liu@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2934 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2015-08-06  Alamy Liu <alamy.liu@gmail.com>

	* : cortex-a: Fix "Detected core" number is always '0' Problem No matter what target->coreid is, it always shows   Detected core 0 dbgbase: ...  In dap_lookup_cs_component(), it decreases the core index value to
	zero in order to find the desired core.  The reference to coreidx is
	necessary considering "a device which has nested ROM tables, with
	each core described in its own table." (by Paul Fertser).  Change-Id: I9b56d45d6edf6639e748a625ab27787f8e5a5776 Signed-off-by:
	Alamy Liu <alamy.liu@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2902 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de> Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2015-11-28  Andreas F‰rber <afaerber@suse.de>

	* : tcl/board: Add Infineon XMC4800 Relax EtherCAT Kit config Tested with "J-Link Lite-XMC4200 Rev.1 compiled Oct 14 2015
	10:14:50".  Derived from xmc4500-relax.cfg.  Change-Id: Ia1edf5cb95088ccd34e3b90570d727bbb401cbf5 Signed-off-by:
	Andreas F√§rber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/3129 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2015-11-29  Andreas F‰rber <afaerber@suse.de>

	* : xmc4xxx: Make sector sizes const They are only used to initialize the flash bank sectors and never
	modified.  Explicitly specify the array length while at it.  Cleanup before adding XMC4800 support.  Change-Id: I2985b9a9946b67798dbfd47d8b219d93a7ffc3da Signed-off-by:
	Andreas F√§rber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/3131 Tested-by: jenkins Reviewed-by: Jeff
	Ciesielski <jeffciesielski@gmail.com> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2015-08-07  Paul Fertser <fercerpav@gmail.com>

	* : xsvf: output a warning suggesting using SVF Change-Id: Iff13019aa96c528268a2be029b4acd65a00a598e Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2907 Tested-by: jenkins

2015-11-19  Matthias Welwarsky <matthias@welwarsky.de>

	* : cortex_a: rework mmu manipulation when disabling the mmu to access physical addresses, normally the
	d-cache must be disabled as well. Disabling the d-cache also
	requires a full clean&invalidate. However, since all memory writes
	are treated as write- through no-allocate and memory reads do not
	allocate cache lines, effectively the d-cache state does not change
	at all. We can therefore save the the d-cache disabling and
	flushing.  This patch also simplifies the function a bit.  Change-Id: Ia17c56a28f432156429cd4596107e3652b788e63 Signed-off-by:
	Matthias Welwarsky <matthias@welwarsky.de> Reviewed-on:
	http://openocd.zylin.com/3114 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2015-10-18  Matthias Welwarsky <matthias@welwarsky.de>

	* : armv7a: fix-up dcache clean and flush functions inner loop
	pattern Other cache functions use an updated pattern for the address range
	loop.  Bring dcache clean and flush functions in line.  Change-Id: Iccb4a05c49054471033a3403363110cb08245d5b Signed-off-by:
	Matthias Welwarsky <matthias@welwarsky.de> Reviewed-on:
	http://openocd.zylin.com/3035 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2015-10-18  Matthias Welwarsky <matthias@welwarsky.de>

	* : armv7a: correctly handle invalidation of inner data caches D-Cache invalidate is a dangerous operation. It will only work
	correctly if full cache lines are invalidated. When partial cache
	lines are invalidated, i.e. the target address range does not start
	and end at a cache line boundary, cpu data writes outside of the
	target range will be dropped. This patch adds special treatment for
	partial cache lines by doing a clean & invalidate on the partial
	lines before invalidating the rest of the range.  Change-Id: I64099ddb058638e990a7eb0ee911b9cc8f6f8901 Signed-off-by:
	Matthias Welwarsky <matthias@welwarsky.de> Reviewed-on:
	http://openocd.zylin.com/3034 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2015-10-16  Matthias Welwarsky <matthias@welwarsky.de>

	* : armv7a: rework automatic flush-on-write handling The following changes are implemented: - Clean&Invalidate the VA range to PoC *before* the write takes
	place - Remove SMP handling since DCCIMVA instruction already maintains
	  SMP coherence.  - Remove separate Invalidate step Change-Id: I19fd3cc226d8ecf2937276fc63258b6a26e369a7 Signed-off-by:
	Matthias Welwarsky <matthias@welwarsky.de> Reviewed-on:
	http://openocd.zylin.com/3027 Reviewed-by: Paul Fertser
	<fercerpav@gmail.com> Tested-by: jenkins

2015-10-16  Matthias Welwarsky <matthias@welwarsky.de>

	* : armv7a: remove indirection for cache info handler There's only one function left that handles cache info display, no
	need any more for a function pointer and runtime initialization.  Change-Id: I90b09577f81607917b11f0ab5600a0e2dce223e2 Signed-off-by:
	Matthias Welwarsky <matthias@welwarsky.de> Reviewed-on:
	http://openocd.zylin.com/3025 Reviewed-by: Paul Fertser
	<fercerpav@gmail.com> Tested-by: jenkins

2015-10-15  Matthias Welwarsky <matthias@welwarsky.de>

	* : armv7a: remove special l2x flush-all and cache-info handlers This patch is on the path to unified handlers for both inner and
	outer caches. It removes the special overrides installed when an
	outer cache is configured.  Change-Id: I747f2762c6c8c76c700341cbf6cf500ff2a51476 Signed-off-by:
	Matthias Welwarsky <matthias@welwarsky.de> Reviewed-on:
	http://openocd.zylin.com/3022 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2015-06-02  Oleksij Rempel <linux@rempel-privat.de>

	* : armv7a: remove l1 flush all data handler deprecated by new code.  Change-Id: Ie3db627803a6aae38a5287bd3a748a78ab084b7d Signed-off-by:
	Oleksij Rempel <linux@rempel-privat.de> Reviewed-on:
	http://openocd.zylin.com/2801 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2015-05-18  Oleksij Rempel <linux@rempel-privat.de>

	* : cortex_a: add cortex_a_[read|write]_memory_ahb Change-Id: I39c457274e1714a8d42233f7fc490fb58f5cb38e Signed-off-by:
	Oleksij Rempel <linux@rempel-privat.de> Reviewed-on:
	http://openocd.zylin.com/2798 Reviewed-by: Paul Fertser
	<fercerpav@gmail.com> Tested-by: jenkins

2015-05-15  Oleksij Rempel <linux@rempel-privat.de>

	* : cortex_a: remove cache handlers from cortex_a_write_phys_memory This was needed for ahb access Change-Id: I638f45a276a593c08140b5d9d7480617aa85f096 Signed-off-by:
	Oleksij Rempel <linux@rempel-privat.de> Reviewed-on:
	http://openocd.zylin.com/2796 Reviewed-by: Paul Fertser
	<fercerpav@gmail.com> Tested-by: jenkins

2015-08-11  Alamy Liu <alamy.liu@gmail.com>

	* : adi_v5: Fix wrong ap value Problem dap->ap_current is register value, not field value.  it
	restores invalid ap when it calls dap_ap_select(dap, ap_old) later.  * assume the current ap is 1, dap->ap_current value would be (1 <<
	24).  ap_old = dap->ap_current;   <-- ap_old = 1<<24 = 0x1000000.
	...  dap_ap_select(dap, ap_old); <-- select 0x1000000, not 1.  * All AP registers accessing fail afterwards.  One of the reproducible case(s): CORE residents in AP >= 1   dap_lookup_cs_component() being used to find PE(*).    In most cases, PE would be found in AP==0, hence the problem is
	  hidden.  When AP number is 1, dap->ap_current would have the value
	  of 1<<24.  Anyone get the AP value with dap->ap_current and resotre
	  it later would select the wrong AP and all accessing later would
	fail.    The ARM Versatile and/or FPGA would have better chance to provide
	  this kind of environment that PE residents in AP>=1. As they have
	  an 'umbrella' system at AP0, and main system at AP>=1.    * PE: Processing Element. AKA Core. See ARM Glossary at
	http://infocenter.arm.com/help/topic/com.arm.doc.aeg0014g/ABCDEFGH.htmlFix Use dap_ap_get_select() to get ap value.  a. Retrieve current ap value by calling dap_ap_get_select();      src/flash/nor/kinetis.c      src/target/arm_adi_v5.c b. The code is correct (dap->ap_current >> 24), but it's better to
	   use dap_ap_get_select() so everything could be synchronized.       src/flash/nor/sim3x.c Change-Id: I97b5a13a3fc5506cf287e299c6c35699374de74f Signed-off-by:
	Alamy Liu <alamy.liu@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2935 Reviewed-by: Andreas F√§rber
	<afaerber@suse.de> Tested-by: jenkins Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Reviewed-by: Matthias Welwarsky
	<matthias@welwarsky.de>

2014-10-20  Marc Schink <openocd-dev@marcschink.de>

	* : Improve J-Link driver and introduce libjaylink.  This patch uses libjaylink which is a library to access J-Link
	devices. As other tools which are not in the scope of OpenOCD also
	need to access J-Link devices a library is used. A firmware upgrade
	tool and an advanced configuration tool for J-Link devices are under
	development.  Further versions of libjaylink will support additional features
	OpenOCD could benefit from. This includes TCP/IP as additional
	possibility to connect to J-Link devices as well as power tracing
	and device internal communication. The latter is used to access
	peripherals on some development boards (e.g EFM32 STK and DVK).  Integration of libjaylink is realized with a git submodule like
	jimtcl. As libjaylink depends on libusb-1.0 only, no additional
	dependency is introduced for OpenOCD.  All low-level JTAG and SWD implementations of the current driver are
	left untouched and therefore no incompabilities are to be expected.  Improvements of this patch:  * Support for more USB Product IDs, including those with the new    scheme (0x10xx). The corresponding udev rules are also updated.   * Device selection with serial number and USB address.   * Adaptive clocking is now correctly implemented and only usable
	   for devices with the corresponding capability.   * The target power supply can now be switched without the need for    changing configuration and power cycling the device.   * Device configuration is more restrictive and only allowed if the    required capabilities are available.   * Device configuration now shows the changes between the current    configuration of the device and the values that will be applied.   * Device configuration is verified after it is written to the
	   device exactly as the vendor software does.   * Connection registration is now handled properly and checks if the    maximum number of connections on a device is reached. This is
	   also necessary for devices which are attached via USB to OpenOCD
	   as some device models also support connections on TCP/IP.   * Serial Wire Output (SWO) can now be captured. This feature is not    documented by SEGGER however it is completely supported by    libjaylink.  This patch and libjaylink were tested on Ubuntu 14.04 (i386), Debian
	7 (amd64), FreeBSD 10.0 (amd64) and Windows XP SP3 (32-bit) with the
	following device and target configurations:  * JTAG: J-Link v8.0, v9.0 and v9.3 with AT91SAM7S256  * SWD: SiLabs EFM32 STK 3700 (EFM32GG990F1024)  * SWD: J-Link v8.0, v9.0 and v9.3 with EFM32GG990F1024  * SWD: XMC 2Go (XMC1100)  * SWD: XMC1100 Boot Kit (XMC1100)  * SWD: IAR Systems / Olimex Eval Board (LPC1343F)  * SWD: Nordic Semiconductor nRF51 Dongle (nRF51422)  * SWD: SiLabs EZR32 WSTK 6220A (EZR32WG330FG60G) Except for Windows XP all builds are tested with Clang in addition
	to GCC. This patch and libjaylink are not tested on OSX yet.  Change-Id: I8476c57d37c6091c4b892b183da682c548ca1786 Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/2598 Tested-by: jenkins Reviewed-by:
	Andreas F√§rber <afaerber@suse.de> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2015-10-13  Bogdan Kolbov <kolbov@niiet.ru>

	* : niietcm4: support for NIIET's Cortex-M4 microcontrollers This adds docs, example config, flash driver.  Driver is only
	supports K1921VK01T model for now.  Change-Id: I135259bb055dd2df1a17de99f066e2b24eae1b0f Signed-off-by:
	Bogdan Kolbov <kolbov@niiet.ru> Reviewed-on:
	http://openocd.zylin.com/3011 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2015-08-11  Karl Palsson <karlp@tweak.net.au>

	* : efm32: basic Happy Gecko target support Basic basic support to get running, magic numbers taken from
	revision 0.90 of the reference manual.  Signed-off-by: Karl Palsson <karlp@tweak.net.au> Change-Id:
	Iff6ab94d30698f056ef09f7a856b7285fed8f441 Reviewed-on:
	http://openocd.zylin.com/2931 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2015-11-20  Paul Fertser <fercerpav@gmail.com>

	* : svf: fix progress reporting switch behaviour The svf_progress_enabled variable is global, hence its lifetime is
	not limited and it retains the value from the previous run. Fix this
	by explicit assignment.  Change-Id: Id6f4fa88f39521606342a37f6876a0948ac5406e Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3111 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2015-10-07  Tomas Vanek <vanekt@fbl.cz>

	* : Kinetis: suppress false alarms "MCU is secured" Kinetis driver checks MDM STAT register to detect secured state of
	MCU.  An unsecured clean device typically triggered a huge fat alarm
	message.  Now when driver detects secured state it tries to halt MCU
	and then re-reads status register.  Command "mdm mass_erase" used to deassert reset when finished and
	MCU started looping in hard fault - WDOG reset cycle.  Now "reset
	halt" is issued. Clean flash is not run after mass_erase.  Change-Id: I23f393509fbd8751d44ffc744ff2d67f1074f74e Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/3010 Tested-by: jenkins Reviewed-by: Thomas
	Schmid <thomas@rfranging.com> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2015-11-16  Jonathan Larmour <jifl@eCosCentric.com>

	* : tcl/board: Remove pflash.0 bank from twr-k60n512.cfg The pflash.0 bank should not be present as it overlaps with the
	flash bank created by target/kx.cfg, triggering an error.  This is
	also in line with the existing twr-k60f120m.cfg.  Change-Id: I5f620e01319d967f12e029fb6865ccdd031713b3 Signed-off-by:
	Jonathan Larmour <jifl@eCosCentric.com> Reviewed-on:
	http://openocd.zylin.com/3108 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2015-08-06  Andreas Loehre <alohre@gmail.com>

	* : flash: at91samd: Add SAML21 variant B device support and fix
	SAMC20/SAMC21 This adds support for the Atmel SAML21 variant B parts.  There is
	minimal change between the two variants, but in variant B the
	automatic page write which the at91samd flash driver relies on to be
	enabled is disabled by default.  With this patch the write row
	function will now issue a page write command after each of the four
	pages in the row if the MANW (manual write) bit is set. This also
	fixes flash write for the SAMC20/SAMC21 devices which have the MANW
	bit set by default as well.  I have also moved the device ID (DID) register bitfield extraction
	from the find_part into helper macros. These can be used in the
	future if there are more workarounds for specific devices.  Tested (programming) on: ATSAML21-XPRO ATSAML21-XPRO-B SAMC21
	Xplained Pro SAMD21 Xplained Pro SAMD20 Xplained Pro Change-Id: I401a8aa1efd64730840c0d62cf49a1e880ea5900 Signed-off-by:
	Andreas Loehre <alohre@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2903 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2015-05-15  Tomas Vanek <vanekt@fbl.cz>

	* : at91samd: handle reset run/halt in DSU Atmel introduced a "Device Service Unit" (DSU) that holds the CPU in
	reset if TCK is low when srst (RESET_N) is deasserted.  Function is
	similar to SMAP in ATSAM4L, see http://openocd.zylin.com/2604 Atmel's EDBG adapter handles DSU reset correctly without this
	change.  An ordinary SWD adapter leaves TCK in its default state, low.  So
	without this change any use of sysresetreq or srst locks the chip in
	reset state until power is cycled.  A new function dsu_reset_deassert is called as reset-deassert-post
	event handler.  It optionally prepares reset vector catch and DSU
	reset is released then.  Additionally SWD clock comment is fixed in at91samdXX.cfg and clock
	is lowered a bit to ensure a margin for RC oscillator frequency
	deviation.  adapter_nsrst_delay 100 is commented out because is no
	more necessary after http://openocd.zylin.com/2601 Change-Id: I42e99b1b245f766616c0a0d939f60612c29bd16c Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/2778 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-10-13  Felipe Balbi <balbi@ti.com>

	* : board: ti_am437x_idk: default to 1000kHz 16000kHz is only safe after PLLs have been locked properly. Until
	that's done (with reset init), we can only safely run at 1000kHz.  Change-Id: I4e0a17e88aa9919cd6c34d44da68e23115c0d3a3 Signed-off-by:
	Felipe Balbi <balbi@ti.com> Reviewed-on:
	http://openocd.zylin.com/3015 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2015-11-06  Paul Fertser <fercerpav@gmail.com>

	* : target: cortex_a: add deinit_target handler to free memory Tested with Valgrind accesing a Pandaboard.  Change-Id: I51bba044974ecfc4d418998816d44a8563264123 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3101 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2015-04-09  Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>

	* : tcl: Add default hooks for STM32F0x Keep clocks running in low power modes. Stop watchdogs from
	interfering with the debug session. Set up PLL and increase clock at
	reset init.  Change-Id: I232d769d893d54e4ea9411c46c56b19587b69919 Signed-off-by:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-on:
	http://openocd.zylin.com/2707 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2015-11-11  Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>

	* : stm32xxx.cfg: Only touch IWDG and WWDG in DBGMCU_APB1_FZ.  Change-Id: Ie0298c8e73bebeccc9346534d63aab4cae49e4f7 Signed-off-by:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-on:
	http://openocd.zylin.com/3104 Tested-by: jenkins Reviewed-by:
	Andreas F√§rber <afaerber@suse.de> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2015-04-19  Andreas F‰rber <afaerber@suse.de>

	* : flash/nor/xmc4xxx: Loosen checks for XMC4500 According to Infineon, XMC4500 EES AA13 with date codes before GE212
	- as seen on an XMC4500 General App Kit - had a zero SCU_IDCHIP
	register.  Handle this by extending our checks to not error out on zero
	SCU_IDCHIP and by printing a useful info string in that case.  Change-Id: Ic2d641a314627dd5a1ff775a0113999191b95e3d Signed-off-by:
	Andreas F√§rber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/2751 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-by: Jeff Ciesielski
	<jeffciesielski@gmail.com>

2015-09-06  Morgan Quigley <morgan@osrfoundation.org>

	* : flash: driver for Atmel SAMV, SAMS, and SAME This is a driver for the Atmel Cortex-M7 SAMV, SAMS, and SAME.  I
	started with the at91sam4.c driver and then restructured it
	significantly to try to simplify it and limit the functionality to
	just a flash driver, as well as to comply with the style guide.  Change-Id: I5340bf61f067265b8ebabd3adad45be45324b707 Signed-off-by:
	Morgan Quigley <morgan@osrfoundation.org> Reviewed-on:
	http://openocd.zylin.com/2952 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2015-11-02  Morgan Quigley <morgan@osrfoundation.org>

	* : tcl/target: add config for Atmel SAMV / SAMS / SAME Change-Id: Ia90a533fe3d07f9a67ce2da815146c612d80dd1b Signed-off-by:
	Morgan Quigley <morgan@osrfoundation.org> Reviewed-on:
	http://openocd.zylin.com/3091 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2015-11-06  Paul Fertser <fercerpav@gmail.com>

	* : target: cortex_a: do not create new register cache every reset Commit 68101e67ac16bdead3bd6d48cbe0a2bfd63aac02 introduced a
	regression which resulted for ever-growing registers list (as output
	by "reg" command), its contents were doubled every reset (actually,
	every examination).  Change-Id: Ie3409c795160a2fc840a5e8a892928df0bcc0c57 Reported-by:
	Daniele Emancipato <daniele12457@hotmail.com> Signed-off-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3100 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de> Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2015-07-17  Evan Hunter <ehunter@broadcom.com>

	* : Documentation : Add missing commands for ARM-v7A & R Change-Id: I520fed122385d4d666bf91b754b1ac196b51d471 Signed-off-by:
	Evan Hunter <ehunter@broadcom.com> Reviewed-on:
	http://openocd.zylin.com/2875 Reviewed-by: Matthias Welwarsky
	<matthias@welwarsky.de> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com> Tested-by: jenkins

2015-10-08  Matthias Welwarsky <matthias@welwarsky.de>

	* : armv7a: correct calculation of ttbr0_mask This patch brings the calculation of the address ranges handled by
	ttbr0 and ttbr1 registers in line with ARM DDI 0406C, Table B3-1 Change-Id: Ib807c4b1cb328a6f661e1a0898e744e60d3eccac Signed-off-by:
	Matthias Welwarsky <matthias@welwarsky.de> Reviewed-on:
	http://openocd.zylin.com/3006 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2014-05-02  Jim Norris <u17263@att.net>

	* : tcl/target: Add configuration for NXP LPC4370 processor New configuration for NXP LPC4370 which consists of a Cortex-M4 and
	two Cortex-M0 cores.  Change-Id: I9918e3ff33218a14a99e4bbab9dce2e7b45b4d96 Signed-off-by:
	Jim Norris <u17263@att.net> Signed-off-by: Andreas F√§rber
	<afaerber@suse.de> Reviewed-on: http://openocd.zylin.com/2124
	Tested-by: jenkins Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2015-10-02  Tomas Vanek <vanekt@fbl.cz>

	* : Kinetis: properly pad flash section writes kinetis_write() with byte count not divisible by
	prog_section_chunk_bytes computed wrong wc and therefore paded
	section chunk by some random data instead of 0xff Change-Id: Ic7c66d8a3ceacda9e611e98b9fbf943b8001774b Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/2994 Tested-by: jenkins Reviewed-by: Thomas
	Schmid <thomas@rfranging.com> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2015-11-04  Matthias Welwarsky <matthias@welwarsky.de>

	* : Revert "board: don't hardcode interface for ti_beaglebone" This reverts commit 7d7a43fd36a61e55e087a474fe41e3dae6375453.  The change concerns the "Black" variant of the TI BeagleBone, while
	the configuration file is for the original BeagleBone board, which
	actually embeds a debug interface on the PCB.  Change-Id: I2232af210deb698f8b3c0a547f26cd0a0a8f89d0 Signed-off-by:
	Matthias Welwarsky <matthias@welwarsky.de> Reviewed-on:
	http://openocd.zylin.com/3094 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2015-06-30  Oleksij Rempel <linux@rempel-privat.de>

	* : tcl/target|board: add config Atheros ar2315 Add configs for Atheros ar2313 MIPS based WiSoC and board based on
	this chip: La Fonera FON2200 Change-Id: Ibfdbfc9c2beca6cf436c9ee5e493b08bfb55ac85 Signed-off-by:
	Oleksij Rempel <linux@rempel-privat.de> Reviewed-on:
	http://openocd.zylin.com/2839 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-10-03  Marc Schink <openocd-dev@marcschink.de>

	* : helper/options: Cleanup #includes.  Change-Id: I1c05cf6bb68049176cdd1b3bcff4dcb8b9ae963e Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/2995 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-09-21  Marc Schink <openocd-dev@marcschink.de>

	* : helper/ioutil: Rename MixedCaps function.  Change-Id: I10075d4d5f45a7105d5a007631510236dbb9b08b Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/2957 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-10-02  Marc Schink <openocd-dev@marcschink.de>

	* : helper/fileio: Use size_t for file size.  Change-Id: Ie116b44ba15e8ae41ca9ed4a354a82b2c4a92233 Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/2997 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-10-01  Tomas Vanek <vanekt@fbl.cz>

	* : cortex_m: dwt_num_comp should be set to zero in
	cortex_m_dwt_free() A segmentation fault in cortex_m_endreset_event() is sometimes
	raised with very broken target like Kinetis Kx with erased flash and
	active WDOG.  Debugging revealed that cortex_m->dwt_num_comp is 4
	and dwt_list is NULL at cortex_m:290 Change-Id: I229c59d6da13d816df513d1dbb19968e4b5951e2 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/2989 Reviewed-by: Thomas Schmid
	<thomas@rfranging.com> Tested-by: jenkins Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2015-10-14  daniel-k <github@daniel-krebs.net>

	* : rtos/mqx: Fix uninitialized parts of symbol table Memory for the symbol table was allocated by malloc but not
	initialized other than with the symbol name. Therefore `address` and
	`optional` members were having arbitrary values leading to every
	symbol being optional most of the time which messes up RTOS
	auto-detection. Memory will now be zero-initialized as in other RTOS
	implementations.  Change-Id: I6c6e31ec1ef7e043061adf8c695b2139620e005d Signed-off-by:
	Daniel Krebs <github@daniel-krebs.net> Reviewed-on:
	http://openocd.zylin.com/3017 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2015-08-29  Paul Fertser <fercerpav@gmail.com>

	* : Change from sys/poll.h to standard poll.h location According to "man 2 poll" the correct header to include is poll.h,
	not sys/poll.h. Reported by a build against musl.  Change-Id: I5298b49dc947d1a368e423104c0c0c7b9bdd1a10 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Signed-off-by: Andreas F√§rber
	<afaerber@suse.de> Reviewed-on: http://openocd.zylin.com/2947
	Tested-by: jenkins

2015-10-24  Maxime Coquelin <maxime.coquelin@st.com>

	* : flash/nor/stm32f2x: Add STM32F469 part Change-Id: I4e13ceb0ba954dc2fea059ddeef10109be938c9c Signed-off-by:
	Maxime Coquelin <mcoquelin.stm32@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3042 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2015-10-05  Andrew Ruder <andrew.ruder@elecsyscorp.com>

	* : rtos: handle STKALIGN adjustments on cortex m In the case that the STKALIGN bit is set on Cortex M processors, on
	entry to an exception - the processor can store an additional 4
	bytes of padding before regular stacking to achieve 8-byte alignment
	on exception entry.  In the case that this padding is present, the
	processor will set bit (1 << 9) in the stacked xPSR register.  Use
	the new calculate_process_stack callback to take into account the
	xPSR register and use it on the standard Cortex_M3 stacking.  Note: Change #2301 had some misinformation regarding the padding.
	On Cortex-M the padding is stored BEFORE stacking so xPSR is always
	available at a fixed offset.  Tested on a Cortex-M0+ (Atmel SAMR21) board which has STKALIGN fixed
	to a '1' such that this alignment always occurs on non-aligned
	stacks.  Behavior of xPSR verified via the (bad-sorry) assembly program below
	by setting a breakpoint on the SVC_Handler symbol.  The first time
	SVC_Handler is triggered the stack was 0x20000ff8, the second time
	SVC_Handler is triggered the stack was 0x20000ffc.  Note that in
	both cases the interrupt handler gets 0x20000fd8 for a stack
	pointer.  GDB exerpt: Breakpoint 1, 0x000040b6 in Reset_Handler () (gdb) hbreak SVC_Handler Hardware assisted breakpoint 2 at 0x40f8 (gdb) cont Continuing.  Breakpoint 2, 0x000040f8 in SVC_Handler () (gdb) print $msp $3 = (void *) 0x20000fd8 (gdb) x/9w $msp 0x20000fd8:     0x1     0x2     0x3     0x4
	0x20000fe8:     0x88160082      0xa53   0x40ce  0x21000000
	0x20000ff8:     0x0 (gdb) cont Continuing.  Breakpoint 2, 0x000040f8 in SVC_Handler () (gdb) print $msp $4 = (void *) 0x20000fd8 (gdb) x/9w $msp 0x20000fd8:     0x1     0x2     0x3     0x4
	0x20000fe8:     0x88160082      0xa53   0x40e8  0x21000200
	0x20000ff8:     0x0 Assembly program:         .cpu cortex-m0plus         .fpu softvfp         .thumb         .syntax unified .section .vectors @ pvStack:         .word   0x20001000 @ pfnReset_Handler:         .word   Reset_Handler + 1 @ pfnNMI_Handler:         .word   0 @ pfnHardFault_Handler:         .word   0 @ pfnReservedM12:         .word   0 @ pfnReservedM11:         .word   0 @ pfnReservedM10:         .word   0 @ pfnReservedM9:         .word   0 @ pfnReservedM8:         .word   0 @ pfnReservedM7:         .word   0 @ pfnReservedM6:         .word   0 @ pfnSVC_Handler:         .word   SVC_Handler + 1 .section .text .global Reset_Handler Reset_Handler:     cpsie i     ldr r0, .stack_start     ldr r2, .stack_last     eors r1, r1 .loop_clear:     str r1, [r0]     adds r0, r0, #4     cmp r0, r2     bne .loop_clear     subs r2, r2, #4     mov sp, r2     movs r0, #1     movs r1, #2     movs r2, #3     movs r3, #4     svc #0     ldr r0, .stack_start     ldr r2, .stack_last     eors r1, r1 .loop_clear2:     str r1, [r0]     adds r0, r0, #4     cmp r0, r2     bne .loop_clear2     mov sp, r2     movs r0, #1     movs r1, #2     movs r2, #3     movs r3, #4     svc #0 .loop:         b .loop .align 4 .stack_start:     .word 0x20000f00 .stack_last:     .word 0x20000ffc @ first call - 0x2000fff8 -- should already be aligned @ second call
	- 0x2000fffc -- should hit the alignment code .global SVC_Handler
	SVC_Handler:     bx lr Change-Id: Id0940e6bbd6a59adee1378c0e86fe86830f0c8fc Signed-off-by:
	Andrew Ruder <andrew.ruder@elecsyscorp.com> Cc: Paul Fertser
	<fercerpav@gmail.com> Cc: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Cc: Evan Hunter
	<evanhunter920@gmail.com> Cc: Jon Burgess <jburgess777@gmail.com>
	Reviewed-on: http://openocd.zylin.com/3003 Tested-by: jenkins
	Reviewed-by: Freddie Chopin <freddie.chopin@gmail.com>

2015-08-22  Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>

	* : Add handling for STM32L4.  Option handling not yet implemented.  Change-Id:
	I5a11ef3221896cb02babe4e6e71073c43aa8740b Signed-off-by: Uwe Bonnes
	<bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-on:
	http://openocd.zylin.com/2941 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-08-17  Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>

	* : stm32f2x.c: Add STM32F74x handling.  Change-Id: I2e7a8e9f855fc99a3f2535e2af6c0921329a5013 Signed-off-by:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-on:
	http://openocd.zylin.com/2940 Tested-by: jenkins Reviewed-by: R√©mi
	PRUD'HOMME <prudhomme.remi@gmail.com> Reviewed-by: Juha Niskanen
	<juha.niskanen@haltian.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2015-10-26  Ivan De Cesaris <ivan.de.cesaris@intel.com>

	* : quark: updating license to GPLv2+ Intel is relicensing our contributions to OpenOCD under GPL version
	2 or any later version. We previously contributed code under GPL
	version 2 only. It was not our intention to differ from the standard
	OpenOCD license. We're correcting that here.  This also applies
	retroactively to previous versions of our contributions to OpenOCD.  Change-Id: I5e831ed95d03d2044d8e5a8375b21c6e52c933d7 Signed-off-by:
	Ivan De Cesaris <ivan.de.cesaris@intel.com> Reviewed-on:
	http://openocd.zylin.com/3044 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2015-10-20  Andreas F‰rber <afaerber@suse.de>

	* : tcl/target: Add LPC4357 config Reuse the flashless LPC4350 as base and amend it as necessary.  The
	LPC43x7 have 2x 512 KB of flash.  Change-Id: Ia7ffbc7101023479971984b839f171ed4be6b089 Signed-off-by:
	Andreas F√§rber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/3037 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2015-10-16  Andreas F‰rber <afaerber@suse.de>

	* : doc: Fix sort order of flash drivers fm3, nrf51, mdr, sim3x were at the end of the section rather than
	inserted alphabetically. Fix this before adding further drivers.  Change-Id: Id23e04749cdd3b25d7503ec00fac554742d48c77 Signed-off-by:
	Andreas F√§rber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/3019 Tested-by: jenkins Reviewed-by: Karl
	Palsson <karlp@tweak.net.au> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2015-07-15  Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>

	* : Cortex-M: Detect Flash Patch Revision and implement Rev. 2
	handling.  E.g. STM32F7 implements Rev.2.  Supercedes abandoned patch 2755 that
	doesn't evaluate Flash patch revision.  Change-Id: I48756b0451c7359475066969c900978a536bc328 Signed-off-by:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-on:
	http://openocd.zylin.com/2868 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-10-11  Andreas F‰rber <afaerber@suse.de>

	* : tcl/target: Prepare FM4 MB9BFxxx family It is found on the SK-FM4-U120-9B560-MEM V1.1.0 among others.  Change-Id: I4c708c9391e954cbbc8d0860a2a2dbd264aea865 Signed-off-by:
	Andreas F√§rber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/3008 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2015-10-29  Andreas F‰rber <afaerber@suse.de>

	* : tcl/board: Add Arndale config Tested with Olimex ARM-USB-OCD-H adapter.  Change-Id: I1bf68176f9c155f8803df5a10a7fbe03116c6309 Signed-off-by:
	Andreas F√§rber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/3081 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2015-05-10  Andreas F‰rber <afaerber@suse.de>

	* : tcl/board: Add config for XMOS xCORE-XA Core Module ARM
	debugging The xCORE-XA Core Module board has an XS1-XAU8A-10 SoC with 8 xCORE
	cores and one ARM core. This config is for the ARM Cortex-M3, via
	J-Link OB.  Tested with "J-Link OB-STM32F103 V1 compiled Feb  5 2014 13:48:52".  Change-Id: Id7fadf8f323b45d5cfc0cae1054bd7b916771d6a Signed-off-by:
	Andreas F√§rber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/2763 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2015-04-29  Forest Crossman <cyrozap@gmail.com>

	* : tcl/board: Add Digilent Analog Discovery config Change-Id: Idf2cb8d8578e650fda4082f6bbf272518762ebf0 Signed-off-by:
	Forest Crossman <cyrozap@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2752 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-by: Andreas F√§rber
	<afaerber@suse.de>

2015-09-27  Tim 'mithro' Ansell <mithro@mithis.com>

	* : tcl: Adding the Numato Opsis board.  Another board supported by the ixo-usb-jtag project.  Change-Id: I676197c64e208886bc03d1bafcc964ef1fc2160b Signed-off-by:
	Tim 'mithro' Ansell <mithro@mithis.com> Reviewed-on:
	http://openocd.zylin.com/2963 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2015-09-27  Tim 'mithro' Ansell <mithro@mithis.com>

	* : tcl: Setting lowlevel driver for ixo-usb-jtag Also add further documentation about the project and how to use it.  Change-Id: Ia9878de566b3c8c1ea29f129287d5aea904d861d Signed-off-by:
	Tim 'mithro' Ansell <mithro@mithis.com> Reviewed-on:
	http://openocd.zylin.com/2961 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2015-07-14  Tomas Vanek <vanekt@fbl.cz>

	* : Kinetis: new devices K02, K26, K63, K64, K66, correct K21 and
	K22 variants K22FN1M0 and K22FX512 has FTFE flash and old style SDID.  K22FN128,
	256 and 512 has FTFA flash and new style SDID K63 and K64 detects as K61 and K62, see Errata 1N83J e7534 Change-Id: I2aca6f1f18819bb2b2ec4982036510de444ad2ac Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/2867 Tested-by: jenkins Reviewed-by: Thomas
	Schmid <thomas@rfranging.com> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-by: Patrick Stewart
	<patstew@gmail.com>

2015-07-10  Patrick Stewart <patstew@gmail.com>

	* : Kinetis: Add K24 support and tidy up The K24 uses the KL-style SDID register and has some flashing
	quirks, so the kinetis driver does not support it properly.  Extend
	the chip detection routine to support the new SDID format. Add a
	parameter for the maximum flash size, as the K24 only supports 1k
	flashing blocks but has 4k sector size. Remove global 'granularity'
	array, as it's only really needed in one function. Replace 'klxx'
	with an enum showing which flash commands are actually supported on
	a given chip.  Signed-off-by: Patrick Stewart <patstew@gmail.com> Change-Id:
	Ie244fab564d58c5cfe4fa36a025f0b2674ffad69 Reviewed-on:
	http://openocd.zylin.com/2864 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2015-07-29  Evan Hunter <ehunter@broadcom.com>

	* : ADIv5: Fix typo in log message Change-Id: I9c5e648566b1dd43cb55fd5e30edf8d5f0d189a6 Signed-off-by:
	Evan Hunter <ehunter@broadcom.com> Reviewed-on:
	http://openocd.zylin.com/2892 Tested-by: jenkins Reviewed-by:
	Andreas F√§rber <afaerber@suse.de> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2015-06-30  Marc Schink <openocd-dev@marcschink.de>

	* : armv7m: Fix memory leak in register caching.  Change-Id: I184042d277a52f3940d6d6c13f3d94afc557933d Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de>
	[andreas.fritiofson@gmail.com: don't check pointers before free()]
	Signed-off-by: Andreas Fritiofson <andreas.fritiofson@gmail.com>
	Reviewed-on: http://openocd.zylin.com/2881 Tested-by: jenkins

2015-05-30  Ivan Buliev <i.buliev@mikrosistemi.com>

	* : flash: Analog Devices ADuCM360 support A target config and a simple flash driver for the ADuCM360
	microcontroller.  The EEPROM of the chip may be erased and
	programmed.  Change-Id: Ic2bc2f91ec5b6f72e3976dbe18071f461fe503b8 Signed-off-by:
	Ivan Buliev <i.buliev@mikrosistemi.com> Reviewed-on:
	http://openocd.zylin.com/2787 Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk> Tested-by: jenkins

2015-04-23  Andreas F‰rber <afaerber@suse.de>

	* : zynq_7000: Add expected ID As found on the Parallella-I board SKU A101020.  Change-Id: Ie7e7a36325926d67fbe555b46a9be8a74fac8dba Signed-off-by:
	Andreas F√§rber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/2729 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-08-12  Paul Fertser <fercerpav@gmail.com>

	* : svf: fix segfaults exposed by some SVF The problem was reported by jstefanop on IRC, the SVF was generated
	with Xilinx ISE 14.7.  Found and investigated with Valgrind's vgdb service.  Change-Id: I32b0e77e0380ce4a391661f97449f9c2a5f83625 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2933 Tested-by: jenkins

2015-08-13  Austin Morton <austinpmorton@gmail.com>

	* : server: remove connection limit from tcl and telnet servers Add constant CONNECTION_LIMIT_UNLIMITED which indicates a service
	has no connection limit Change-Id: I008d31264010c25fa44ca74eb6d5740eca38bee1 Signed-off-by:
	Austin Morton <austinpmorton@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2937 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2015-08-06  Alamy Liu <alamy.liu@gmail.com>

	* : flash/nor/jtagspi: 'retval' may be used uninitialized Problem As my compiler has "warnings being treated as errors" on, it
	shows the error message:   error: 'retval' may be used uninitialized in this function Investigation Nothing wrong with the logic, 'retval' would have a
	value before returning.  Just wanna get rid of the compiling
	"warning as error" message.  Solution Provide a reasonable default value Change-Id: I712c15f82819c6c48bee9dceca8de4b18aeb29b0 Signed-off-by:
	Alamy Liu <alamy.liu@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2905 Tested-by: jenkins Reviewed-by: Robert
	Jordens <jordens@gmail.com> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2015-07-17  Evan Hunter <ehunter@broadcom.com>

	* : flash : Add support for Atmel at91sam4sa16b Change-Id: Ief6833b4bf587fbf53c8fbeee2fc276a95ca0a8a Signed-off-by:
	Evan Hunter <ehunter@broadcom.com> Reviewed-on:
	http://openocd.zylin.com/2878 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-06-04  Christoph Pittracher <pitt@segfault.info>

	* : bcm2835gpio: Add SWD support, Raspberry Pi 2 support.  Added support for SWD transport similar to sysfsgpio driver.  Added
	configurable peripheral base address to support Raspberry Pi 2.  Change-Id: If76d45fbe74ce49f1f22af72e5f246e973237e04 Signed-off-by:
	Christoph Pittracher <pitt@segfault.info> Reviewed-on:
	http://openocd.zylin.com/2802 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-06-26  Paul Fertser <fercerpav@gmail.com>

	* : sim3x: fix build failure with clang 3.6 This fixes a warning as reported by the current clang version:
	../../../../src/flash/nor/sim3x.c:867:20: error: address of array
	'sim3x_info->device_package' will always evaluate to 'true' .  Change-Id: Ie160cbe6df8f491e9beff38d47e2f13575529bf9 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2838 Tested-by: jenkins Reviewed-by:
	Oleksij Rempel Reviewed-by: Andreas F√§rber <afaerber@suse.de>
	Reviewed-by: Spencer Oliver <spen@spen-soft.co.uk>

2015-07-01  Robert Jordens <jordens@gmail.com>

	* : pipistrello: ftdi-jtag/spartan6/jtagspi board The Pipistrello is a low cost FPGA board with a Xilinx Spartan6
	LX45, a SPI flash and onboard FTDI JTAG.  This board is a good
	example use case for the jtagspi flash driver talking through a
	proxy bitstream.  Change-Id: I04a80610ff825c36ebcb67b879507028eed141ad Signed-off-by:
	Robert Jordens <jordens@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2846 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-07-01  Robert Jordens <jordens@gmail.com>

	* : flash/nor/tcl: add read_bank and verify_bank The only read access to flash chips so is through the target's
	memory. Flashes like jtagspi do not expose a memory mapped interface
	to the flash. These commands use the flash_driver_read() driver API
	directly.  Change-Id: I40b910de650114a3f676507f9f059a234377d862 Signed-off-by:
	Robert Jordens <jordens@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2842 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-06-30  Robert Jordens <jordens@gmail.com>

	* : flash/nor/spi: add micron/numonyx n25q128 http://www.micron.com/products/nor-flash/serial-nor-flash

	https://www.micron.com/~/media/documents/products/data-sheet/nor-flash/serial-nor/n25q/n25q_128mb_3v_65nm.pdfSigned-off-by: Robert Jordens <jordens@gmail.com> Change-Id: Icfb830387fabfb1a67e4d00bdf21a10420f6fc1c Signed-off-by:
	Robert Jordens <jordens@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2841 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-05-14  Andreas F‰rber <afaerber@suse.de>

	* : tcl/board: Add EmCraft VF6 SOM and baseboard configs Tested with "TWR-K70-SOM-BSB-1A" baseboard.  Change-Id: I37aa21f1ca8aa13a4bf03be7dd534d6da1aec017 Signed-off-by:
	Andreas F√§rber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/2767 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-05-17  Kyle Manna <kyle@kylemanna.com>

	* : jlink: Add on-board nRF51-DK USB VID and PID * Add USB VID and PID for the J-Link interface running on the Nordic   Semiconductor nRF51-DK.  Also tested with debug out port to debug   external boards.  * Elimiantes need for `-c "jlink pid 0x1015"` on the openocd cmd
	line.  Change-Id: Ib23acb72b9f5183b76fc7dc22b556982869ae830 Signed-off-by:
	Kyle Manna <kyle@kylemanna.com> Reviewed-on:
	http://openocd.zylin.com/2775 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-05-21  Radek Dostal <radek.dostal@streamunlimited.com>

	* : tcl: replace $TARGETNAME with $_TARGETNAME code polishing to be consistent with other scripts Change-Id: Ib52a92f48df9d2bdf543792b856e33aa04dbebe3 Signed-off-by:
	Radek Dostal <radek.dostal@streamunlimited.com> Reviewed-on:
	http://openocd.zylin.com/2779 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-05-31  Karl Palsson <karlp@tweak.net.au>

	* : target: check memory handlers before use for all types MMU types were checking and installing fakes at init, but this
	wasn't catching all devices.  Fixes segfaults when attempting mdw
	and friends on avr.  Change-Id: I5b11f9913157a21f1aeb11ec852f593b529d9be8 Signed-off-by:
	Karl Palsson <karlp@tweak.net.au> Reviewed-on:
	http://openocd.zylin.com/2791 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-by: Andreas F√§rber
	<afaerber@suse.de>

2015-05-18  Paul Fertser <fercerpav@gmail.com>

	* : Restore normal development cycle Signed-off-by: Paul Fertser <fercerpav@gmail.com>

2015-05-17  Paul Fertser <fercerpav@gmail.com>

	* : NEWS: last pre-release changes Change-Id: Ibeb9078d19023b8cae5c0371079d5e4e1b5e3c57 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2776 Tested-by: jenkins

2014-11-18  Vincent Palatin <vpalatin@chromium.org>

	* : psoc4: add support for Cypress CCG1 family Add the identifiers to support the flash on the Cypress Type-C Port
	Controller chips of the CCG1 family : http://www.cypress.com/ccg1/.  Tested successfully on CYPD1132-16SXI.  Change-Id: I3fe6283379e5bcab964afac31b547ef95535aa2c Signed-off-by:
	Vincent Palatin <vpalatin@chromium.org> Reviewed-on:
	http://openocd.zylin.com/2757 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2015-05-13  Karl Palsson <karlp@tweak.net.au>

	* : docs: gdb_target_description defaults enabled This has been the case since c6216201 in 2013 Signed-off-by: Karl Palsson <karlp@tweak.net.au> Change-Id:
	I70232a46e29951f05f02dec00e0695d761697aa5 Reviewed-on:
	http://openocd.zylin.com/2764 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2015-05-16  Paul Fertser <fercerpav@gmail.com>

	* : manual: add missing usb blaster commands Change-Id: Ie7fbb9f87a811c4add5b7c8f9581d5bbc90fa4f8 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2772 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2015-01-27  Paul Fertser <fercerpav@gmail.com>

	* : README.Windows: clarify the kernel drivers installation HID and composite devices need to be mentioned explicitly due to
	windows oddities.  Change-Id: I7cdbaa50c60ceb1950c934e0249986d46c875cff Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2506 Tested-by: jenkins Reviewed-by:
	Xiaofan <xiaofanc@gmail.com> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2015-05-15  Paul Fertser <fercerpav@gmail.com>

	* : manual: fix all overfull and underfull hboxes Change-Id: Id84f16de5a3d1907e196d13007a312593bb6670a Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2769 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2015-04-24  Paul Fertser <fercerpav@gmail.com>

	* : Restore -dev suffix Signed-off-by: Paul Fertser <fercerpav@gmail.com>

2015-04-09  Paul Fertser <fercerpav@gmail.com>

	* : Add NEWS in preparation for the new release Change-Id: I629158b59ff38f9b82a560f119a391bb97af43f2 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2701 Tested-by: jenkins

2015-04-23  Andreas F‰rber <afaerber@suse.de>

	* : xmc4500-application-kit-general: Drop srst_nogate Reset stopped working with this setting.  Change-Id: I98e8fafa48e0ab65dce8110870be422edf7b2fdb Signed-off-by:
	Andreas F√§rber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/2727 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-04-03  Alex Ray <a@machinaut.com>

	* : TI TMS570 USB Kit board config Split TMS570 target into LS31/LS21 and LS20/LS10 targets.  Board for
	the TMS570LS20SUSB Kit, which uses the TMS570 Cortex-R4 MCU from TI.
	Tested attaching.  Change-Id: I1a69ac1ed800d0d6b7f9860c19cbd149e3e47620 Signed-off-by:
	Alex Ray <a@machinaut.com> Reviewed-on:
	http://openocd.zylin.com/2089 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2015-04-20  Paul Fertser <fercerpav@gmail.com>

	* : target/cortex_a: examination should be done every time it's
	asked for It was observed on AM437x that after every reset the target's debug
	regions are unpowered. To be able to properly communicate with the
	target and perform cortex_a init debug access after a reset event
	the examination need to be performed every time, not just on OpenOCD
	start.  Change-Id: Idf272e127ee88341e806ee00df154eade573451d Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2723 Tested-by: jenkins Reviewed-by: Felipe
	Balbi <balbi@ti.com>

2015-04-20  Paul Fertser <fercerpav@gmail.com>

	* : rtos: fix print format specifiers Exposed by arm-none-eabi build.  Change-Id: I657c642249aa83403f93132d1e28713aee692c30 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2724 Tested-by: jenkins

2015-03-30  Andrey Yurovsky <yurovsky@gmail.com>

	* : flash: at91samd: add SAML21 support, fix part ID issue This adds support for the new Atmel SAML21 family of low-power
	Cortex M0+ devices.  Their Flash controller is essentially the
	SAMDxx one so the change consists of adding the new part IDs.
	Unfortunately the device ID logic had a couple of mistakes in it
	that did not affect anything on SAMD2x devices (due to 0 values
	expected there) but that is a problem on L21, it's therefore
	addressed here and things should now match the datasheets.  Tested on Amtel SAML21 Xplained Pro development kit against the
	included SAML21J18A there.  Also tested for regressions on a SAMD20
	and SAMD21 using their dev kits.  Change-Id: I768f75e064b8656c15148730dacaa4c3acfc4101 Signed-off-by:
	Andrey Yurovsky <yurovsky@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2690 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2015-04-04  Paul Fertser <fercerpav@gmail.com>

	* : flash/nor/mdr: add docs, remove memory leak on probe() This adds the mandatory Info documentation for the driver as well as
	the usage field.  As a clean up, this also includes freeing of the allocated memory
	which results in a memory leak if probe is invoked multiple times.  Valgrind-tested.  Reported by Dmitry Shpak.  Change-Id: I2b1d9b9e8b069c6665b11d880b40ce19a1b26ce6 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2694 Tested-by: jenkins Reviewed-by:
	–î–º–∏—Ç—Ä–∏–π –®–ø–∞–∫ <disona@yandex.ru> Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2015-04-07  Spencer Oliver <spen@spen-soft.co.uk>

	* : docs: update OpenOCD url's to openocd.org domain Change-Id: I8b55c8d12773a1c36f2fd2afeecf20a74e890064 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/2698 Tested-by: jenkins

2015-04-09  Mahavir Jain <mjain@marvell.com>

	* : doc/openocd.texi: fix formatting for mrvlqspi driver
	documentation * also included example for flash usage information Change-Id: Icf9defc25d38bf24567b1708138b83a8de1e0497 Signed-off-by:
	Mahavir Jain <mjain@marvell.com> Reviewed-on:
	http://openocd.zylin.com/2705 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2015-02-09  Paul Fertser <fercerpav@gmail.com>

	* : contrib/itmdump: add a hack to allow direct dumping of specific
	SWIT, fix timestamp Currently itmdump is not a production-quality code hence this hack
	seems to be appropriate.  More robust handling is possible with libswo-based swodec tool
	that's available from http://git.zapb.de/ .  This adds a new command line option -d N where N is a stimulus
	number you want to dump (counting from 1).  The idea here is that if you're interested to live-monitor just a
	single stimulus port, you can use this utility directly. If one
	wants to demultiplex the TPIU stream, the following is proposed: 1. Use https://gitorious.org/multiplex/multiplex utility that can
	accept binary data from a file/pipe/stdin and arbitrary number of
	TCP connections. It simply mirrors all the incoming data to all the
	accepted connections; 2. Use socat to connect itmdump to the proxy mentioned in 1. and
	then either dump the results to separate files or share via their
	dedicated TCP ports.  Example script (inspired by http://openocd.zylin.com/#/c/1662/ ,
	enables and disables specific itm ports on demand): for i in `seq 0 31`; do   while true; do     socat -U TCP-LISTEN:$((8000+$i)),reuseaddr \              SYSTEM:"echo itm port $i on | nc -q0 localhost 4444 >
	    /dev/null; nc localhost 7777 | stdbuf -oL itmdump
	    -d$((i+1))" echo itm port $i off | nc -q0 localhost 4444 >
	  /dev/null done < /dev/null >&0 2>&0 & done Change-Id: Iaeb102436eaa5b106002083f2ffe758fb7bd83e5 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2537 Tested-by: jenkins

2015-03-18  Felipe Balbi <balbi@ti.com>

	* : board: ti_am43xx_evm: remove xds100v2 interface GP and EPOS EVMs do not provide xds100v2 on board, rather they have
	a pin header which can be used to attach any debug pod the user
	might want.  Change-Id: I61678c50900fbe0fab500ea42f85ecde7a490ded Reported-by:
	Tom Rini <trini@konsulko.com> Signed-off-by: Felipe Balbi
	<balbi@ti.com> Reviewed-on: http://openocd.zylin.com/2618 Tested-by:
	jenkins Reviewed-by: Paul Fertser <fercerpav@gmail.com>

2015-04-16  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : FreeRTOS: Make optional symbols optional xSuspendedTaskList and xTasksWaitingTermination are only available
	for some configurations. Missing optional symbols will have their
	addresses remaining at zero so the corresponding lists will be
	skipped when building the task list.  Change-Id: If330f5038d009298c3a14a4d2756db7105a30bc8 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2425 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2015-03-13  Paul Fertser <fercerpav@gmail.com>

	* : target/arm_adi_v5, cortex_m: retry ahbap_debugport_init few
	times in case of an error Some targets need arbitrary amount of time (usually not too long)
	after reset (both sysresetreq and srst) to do initialisation, and
	SWD/JTAG is not available during that. According to PSoC4 docs, the
	debugger should try connecting until it succeeds.  Also ahbap_debugport_init might be necessary to perform after using
	hardware srst too, so add it there (except for the targets that
	support srst_nogate since they are very unlikely to need it).  Change-Id: I3598d5ff7b8e0bf3a5566a57dec4b0b2b243d297 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2601 Tested-by: jenkins

2015-04-05  Paul Fertser <fercerpav@gmail.com>

	* : flash/nor/lpc2000: free allocated working area when target_write
	fails In some circumstances (e.g. inappropriate jtag clock)
	target_write_memory in lpc2000_iap_working_area_init might fail. The
	allocated working area should be freed inside
	lpc2000_iap_working_area_init in this error case.  This was leading to a weird segfault due to stack corruption later
	when reset was executed.  Reported by quitte (Jonas Meyer).  Change-Id: Ia2ed42a9970a4d771727fd516a6eea88e9b859e2 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2696 Tested-by: jenkins

2015-04-04  Paul Fertser <fercerpav@gmail.com>

	* : flash/nor/lpc2000: properly free working area used in
	get_lpc2000_part_id() The IAP working area needs to be freed here, just like in all the
	other driver functions since an automatic local variable is used to
	store a pointer to it.  This was reported by quitte (Jonas Meyer) on IRC as a strange
	totally unrelated segfault after doing certain operations (leading
	to target reset) from GDB. He has provided me with remote access to
	the specific machine and configuration that exposed the issue, and
	after some debugging it became apparent that a auto local variable
	(holding the gdb connection pointer) gets overwritten somehow.
	Placing an appropriate breakpoint just before the event and using a
	watchpoint made the cause apparent: reset lead to freeing of all
	working areas, and there was one holding a pointer to a variable
	that was auto local in get_lpc2000_part_id().  Change-Id: I7e634d890135ca0f3b4b311e09e8385a03982bd6 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2695 Tested-by: jenkins

2015-03-11  Richard Braun <rbraun@sceen.net>

	* : ChibiOS: fix crash on auto detection The detection framework assumes rtos->symbols is dynamically
	allocated, an assumption that the ChibiOS variant breaks by
	providing a raw statically allocated symbol list.  Change-Id: I379bcc2af99006912608ddd3f646ff7085606f47 Signed-off-by:
	Richard Braun <rbraun@sceen.net> Reviewed-on:
	http://openocd.zylin.com/2597 Tested-by: jenkins Reviewed-by: Stian
	Skjelstad <stian@nixia.no> Reviewed-by: Tomas Vanek <vanekt@fbl.cz>
	Reviewed-by: Paul Fertser <fercerpav@gmail.com>

2015-03-09  Juha Niskanen <juha.niskanen@haltian.com>

	* : helper: shutdown command should return with 0 exit status Commit a35712a85c42 caused a regression where command openocd -c "echo a1; shutdown; echo a2" always returned non-zero exit status to operating system, even when
	commands before shutdown all succeeded. This patch attempt to fix
	this.  Change-Id: I3f478c2c51d100af810ea0171d2fd4c8fcc657f3 Signed-off-by:
	Juha Niskanen <juha.niskanen@haltian.com> Reviewed-on:
	http://openocd.zylin.com/2589 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2015-03-07  Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>

	* : turtelizer2-revC: Tested with real hardware.  Also some hints around deprecated tcl/interface/turtelizer2.cfg
	added.  Change-Id: Ifa57b49febffaeddd5d8ff0a48833d3544927b10 Signed-off-by:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-on:
	http://openocd.zylin.com/2584 Tested-by: jenkins Reviewed-by: Harald
	Kipp Reviewed-by: Paul Fertser <fercerpav@gmail.com>

2015-02-28  Andreas F‰rber <afaerber@suse.de>

	* : tcl/board: Add Infineon XMC 2Go config Tested with "J-Link Lite-XMC4200 Rev.1 compiled Jan 10 2014
	20:31:33".  Change-Id: Iefa9185372341d889db2b5f1f93bce126450b535 Cc: Uwe Bonnes
	<bon@elektron.ikp.physik.tu-darmstadt.de> Signed-off-by: Andreas
	F√§rber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/2564 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-01-18  Andreas F‰rber <afaerber@suse.de>

	* : tcl/board: Add Infineon XMC1100 Boot Kit config Tested with "J-Link Lite-XMC4200 Rev.1 compiled Jul 18 2014
	17:28:26".  Change-Id: Icc03172cefe38f2217bf44a73f94f8a6fb93dfba Signed-off-by:
	Andreas F√§rber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/2472 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-03-01  Andreas F‰rber <afaerber@suse.de>

	* : tcl/board: Add Spansion SK-FM4-176L-S6E2CC config Works best after update to firmware v2.3.  Change-Id: Id2d3a0ae28bba014ee5338df9280fe39773c3398 Signed-off-by:
	Andreas F√§rber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/2570 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-03-03  Ed Beroset <beroset@ieee.org>

	* : startup: Fixed measure_clk to return kHz instead of MHz.  The original code had iterated 10,000,000 times and taken the
	elapsed time divided by 10,000, to yield kHz which is mathematically
	correct only if we were measuring time in seconds, but we are
	 measuring time in milliseconds, so the correct divisor is actually
	10,000,000.  Previous code would report 0.500 for actual measured
	speed of 500 kHz.  Change-Id: Iba4c4961fe3973e7ccfa6dfa11d606a966ceb50c Signed-off-by:
	Ed Beroset <beroset@ieee.org> Reviewed-on:
	http://openocd.zylin.com/2573 Tested-by: jenkins Reviewed-by: Jens
	Bauer <jens@gpio.dk> Reviewed-by: Paul Fertser <fercerpav@gmail.com>

2014-12-08  Uwe Kleine-Kˆnig <u.kleine-koenig@pengutronix.de>

	* : Cortex-A: Don't flush the data/unified cache if MMU is off When the SCTLR has C set but M unset (i.e. Caching on, but MMU off)
	the cache if effectively off. So only flush the cache if MMU is on,
	otherwise stale entries might be committed to memory.  Change-Id: Iaff8b6f25b7a41ba838b91d45684c98f99fc0b27 Signed-off-by:
	Uwe Kleine-K√∂nig <u.kleine-koenig@pengutronix.de> Reviewed-on:
	http://openocd.zylin.com/2429 Tested-by: jenkins Reviewed-by:
	Christopher Head <chead@zaber.com> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-by: Vladimir Svoboda
	<ze.vlad@gmail.com>

2015-03-02  Paul Fertser <fercerpav@gmail.com>

	* : tcl/interface/parport: default to sane value on non-windows
	systems When using ppdev driver 0 is the most appropriate default value as
	it corresponds to /dev/parport0. Raw port address is suitable only
	for direct access (I think that's parport-giveio on windows).  Reported by danitool on IRC.  Change-Id: I983c22251de6601b433ad31aaf660fb664cee7e9 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2572 Reviewed-by: Andreas F√§rber
	<afaerber@suse.de> Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2015-02-28  Jeff Ciesielski <jeffciesielski@gmail.com>

	* : tcl/board: Add Infineon XMC4500 Relax Kit config Tested with "J-Link Lite-XMC4000 Rev.1 compiled Dec  7 2012
	19:23:07" on XMC4500 Relax Lite Kit V1.  Change-Id: Ib680a444fa4cadbf640afba15d607c0e6bd4ab2c Signed-off-by:
	Jeff Ciesielski <jeffciesielski@gmail.com> Signed-off-by: Andreas
	F√§rber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/2567 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-01-18  Andreas F‰rber <afaerber@suse.de>

	* : tcl/board: Add Infineon XMC4500 Application Kit configs Tested CPU_45A-V2 (General Purpose) with ARM-USB-TINY-H (via SWD)
	and with "J-Link Lite-Cortex-M V8 compiled Jul 17 2014 11:40:12"
	firmware.  Tested CPU_45B-V1-006 (SDRAM) with ARM-USB-TINY-H (via SWD) and with
	"J-Link Lite-XMC4200 Rev.1 compiled Jul 18 2014 17:28:26" firmware.  Change-Id: I3451117606551671ec77722f6adf7d7a6a4bd576 Signed-off-by:
	Andreas F√§rber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/2481 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-03-19  Felipe Balbi <balbi@ti.com>

	* : tcl: icepick: add icepick_d_set_coreid this is just to avoid open coding that in icepick_d_tapenable.
	Cleanup only, no functional changes.  Change-Id: Iabd20291b7bdd95957afa1c74f52171789201227 Signed-off-by:
	Felipe Balbi <balbi@ti.com> Reviewed-on:
	http://openocd.zylin.com/2624 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2015-03-19  Felipe Balbi <balbi@ti.com>

	* : target: icepick: switch over to icepick_c_router Reusing what's already there to ease maintainability.  Change-Id: I2030581669c644e2d9d9f9968075ab6344445d04 Signed-off-by:
	Felipe Balbi <balbi@ti.com> Reviewed-on:
	http://openocd.zylin.com/2622 Tested-by: jenkins Reviewed-by: Tom
	Rini <trini@konsulko.com> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2015-03-18  Felipe Balbi <balbi@ti.com>

	* : target: am437x: use more descriptive names Use more descriptive names for JRC and DAPs so they more closely
	match documentation.  For example there's no Cortex A9 DAP, that's the DebugSS DAP where
	Cortex A9 target sits. In that same DAP we have have ETM, STM and
	both dual-PRU subsystems.  Change-Id: I0e66ebb6299763f96606fae3e4c62e5785c804f2 Signed-off-by:
	Felipe Balbi <balbi@ti.com> Reviewed-on:
	http://openocd.zylin.com/2620 Tested-by: jenkins Reviewed-by: Tom
	Rini <trini@konsulko.com> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2015-03-17  Felipe Balbi <balbi@ti.com>

	* : tcl: board: add AM437x IDK support Add support for Texas Instruments AM437x Industrial Development Kit
	support.  Change-Id: I33ed71c7392c3805a86cf2c8adce83c0e8aa323d Tested-by: Tom
	Rini <trini@konsulko.com> Signed-off-by: Felipe Balbi <balbi@ti.com>
	Reviewed-on: http://openocd.zylin.com/2617 Tested-by: jenkins
	Reviewed-by: Tom Rini <trini@konsulko.com> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2015-03-15  Felipe Balbi <balbi@ti.com>

	* : tcl: am437x: disable watchdog on reset-end sometimes, watchdog might be left running and it could expire in the
	middle of a debug session, to prevent that, just make sure to
	disable watchdog on reset-end if current state is 'halted'.  Change-Id: Ib4f2a2321cba17cd8c56ca3ae63114a563a6de90 Tested-by: Tom
	Rini <trini@konsulko.com> Signed-off-by: Felipe Balbi <balbi@ti.com>
	Reviewed-on: http://openocd.zylin.com/2615 Tested-by: jenkins
	Reviewed-by: Tom Rini <trini@konsulko.com> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2015-03-13  Felipe Balbi <balbi@ti.com>

	* : tcl: board: ti_am43xx_evm: follow xds100v2 requirements xds100v2 asks us to call these three commands to guarantee proper
	behavior, so do it.  Change-Id: Iecf9c148ce7c2082ef915b46eeb511ceea395cc3 Signed-off-by:
	Felipe Balbi <balbi@ti.com> Reviewed-on:
	http://openocd.zylin.com/2613 Tested-by: jenkins Reviewed-by: Tom
	Rini <trini@konsulko.com> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2015-03-13  Felipe Balbi <balbi@ti.com>

	* : tcl: target: am437x: use entire SRAM area According to AM4379 TRM [1], table 2-1 L3 Memory Map, we have a
	total of 256KiB and there's no reason not to use it all.  [1] http://www.ti.com/lit/ug/spruhl7b/spruhl7b.pdf Change-Id: I117f2afe721bc4e3f0df304d3542e1a91aa69d12 Signed-off-by:
	Felipe Balbi <balbi@ti.com> Reviewed-on:
	http://openocd.zylin.com/2611 Tested-by: jenkins Reviewed-by: Tom
	Rini <trini@konsulko.com> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2015-03-25  DmitryShpak <disona@yandex.ru>

	* : target/target.c: fixed rp check bug in asynchronous flash write
	algorithm.  Bug in read pointer check within flash write algorithm made
	incorrect check if block size is more than 4 bytes (bug was detected
	with 16 bytes block size).  Change-Id: I5b8e7ebca619a0a85ae6e9e496ff792248134d81 Signed-off-by:
	DmitryShpak <disona@yandex.ru> Reviewed-on:
	http://openocd.zylin.com/2657 Tested-by: jenkins Reviewed-by: Jens
	Bauer <jens@gpio.dk> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2015-03-09  Marian Cingel <cingel.marian@gmail.com>

	* : doc: update RTOS section, add 'mqx' info Change-Id: I20b93d49d275e6daaf5e39c49b4508c70c6fc56f Signed-off-by:
	Marian Cingel <cingel.marian@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2592 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-03-05  Mahavir Jain <mjain@marvell.com>

	* : flash/nor: mrvlqspi: fix printf formatting issues Change-Id: I74cfce7bb8dbc13fbc3005b5a96213417f93a9f2 Signed-off-by:
	Mahavir Jain <mjain@marvell.com> Reviewed-on:
	http://openocd.zylin.com/2577 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-by: Stian Skjelstad
	<stian@nixia.no>

2015-03-11  Paul Fertser <fercerpav@gmail.com>

	* : target/adi_v5_swd, cortex_m: properly handle more cases
	requiring reconnect This brings SWD reconnection procedure in line with the ARM
	documentation and changes cortex_m reset procedure to make use of
	it.  The motivation behind this patch is to make SAM4L "reset" and "reset
	halt" properly without SRST. The complication here is that EDBG
	issues an additional read of DP_RDBUFF automatically right after
	writing SYSRESETREQ, that leads to a FAULT which needs to be dealt
	with properly. With this patch the very first ahbap_debugport_init
	DAP access will make SWD layer properly reinitialise the link before
	continuing.  Runtime tested with mbed CMIS-DAP + KL25 only.  Change-Id: Ic506f9db30931dfa60860036b83f73b897975909 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2596 Tested-by: jenkins Reviewed-by: Andrey
	Yurovsky <yurovsky@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2015-03-10  Paul Fertser <fercerpav@gmail.com>

	* : tcl/board/twr-k60f120m: remove useless flash bank 0 definition Since the very first flash bank is already defined in target/kx.cfg,
	there's no sense in repeating it.  Reported and tested by Richard Braun.  Change-Id: I417b7072b5e6675ddbf824446e7581b8b7da8f4b Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2595 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-02-10  Paul Fertser <fercerpav@gmail.com>

	* : armv7m_trace, stlink: provide APIs to capture trace with an
	adapter Change-Id: I9d193dd5af382912e4fe838bd4f612cffd11b295 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2540 Tested-by: jenkins

2015-03-09  Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>

	* : stm32l1.cfg: Add missing dash to fix f7394049d3 commit.  Change-Id: Ifeb2d4fc2b43813edbc6fe2cf08bfd4c55cd1e86 Signed-off-by:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-on:
	http://openocd.zylin.com/2590 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-by: Stian Skjelstad
	<stian@nixia.no>

2015-02-21  Paul Fertser <fercerpav@gmail.com>

	* : flash/nor/stellaris: allow to recover a locked device that can't
	be examined Change-Id: I28536184053e2d1ba906620e728f7fad6ba39f0a Reported-by: Ed
	Beroset <beroset@mindspring.com> Signed-off-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-on: http://openocd.zylin.com/2552
	Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk> Reviewed-by: Ed Beroset <beroset@ieee.org>

2015-02-28  Andreas F‰rber <afaerber@suse.de>

	* : jlink: Add variant "J-Link Lite-XMC4200" Avoids "J-Link hw type unknown 0x11" on various Infineon boards.  Change-Id: If20b9e21110d2acc02be57f5faf28c5e6a39e2c9 Signed-off-by:
	Andreas F√§rber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/2565 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-02-09  Paul Fertser <fercerpav@gmail.com>

	* : target/target: call event handlers around examine when polling
	resumes The target might be using Tcl examine-start and examine-end
	handlers, they need to be called when the target gets reexamined
	after polling succeeds again.  Change-Id: I371380c6f3c427ec7a0206d73426f6589f18a9bd Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2536 Tested-by: jenkins Reviewed-by: Stian
	Skjelstad <stian@nixia.no>

2015-02-11  Paul Fertser <fercerpav@gmail.com>

	* : target/cortex_m: do not leak memory on reexamination This bug was exposed by Valgrind.  Change-Id: If50878664d928c0a44e309ca1452089c1ac71466 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2542 Tested-by: jenkins Reviewed-by: Stian
	Skjelstad <stian@nixia.no> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-03-13  Paul Fertser <fercerpav@gmail.com>

	* : arm11: initialise DPM and register cache before reading DSCR for
	the first time When target was already halted during the initial examination,
	arm11_check_init() was trying to read, store and interpret DSCR
	contents before the DPM structure is initialised. This caused a
	segfault like described on
	http://sourceforge.net/apps/trac/openocd/ticket/65 .  This is a totally untested attempt to fix this issue.  Change-Id: I2fff115679a3f0023e7a88c749ccb5f045d6cf01 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2043 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-01-23  Franck Jullien <franck.jullien@gmail.com>

	* : openrisc: add profiling function Change-Id: Ifee89b289069590e6086a4713b165989578e29ec Signed-off-by:
	Franck Jullien <franck.jullien@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2494 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2012-04-01  Paul Fertser <fercerpav@gmail.com>

	* : armv7m: add FPU registers support This patch adds the fpv4-sp-d16 registers to the armv7m register
	set.  The work is inspired by Mathias K but takes a different approach:
	instead of having both double and single presicion registers in the
	cache this patch works only with the doubles and counts on GDB to
	split the data in halves whenever needed.  Tested with HLA only (on an STM32F334 disco board).  Currently this patch makes all ARMv7-M targets report an FPU-enabled
	target description to GDB. It shouldn't harm if the user is not
	trying to access non-existing FPU. However, the plan is to make this
	depend on actual FPU presence later.  Change-Id: Ifcc72c80ef745230c42e4dc3995f792753fc4e7a Signed-off-by:
	Mathias K <kesmtp@freenet.de> [fercerpav@gmail.com: rework to fit
	target description framework] Signed-off-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-on: http://openocd.zylin.com/514
	Tested-by: jenkins Reviewed-by: Peter Stuge <peter@stuge.se>
	Reviewed-by: Spencer Oliver <spen@spen-soft.co.uk>

2015-02-13  pierre Kuo <vichy.kuo@gmail.com>

	* : target/arm_disassembler: add exception related disassembly Add ERET/HVC/SMC disassebly decoding flow, below is testing result > mdw 0x5c 4 0x0000005c: e160006e e1400072 e1600073 ee110f10 > arm
	disassemble 0x5c 4 0x0000005c      0xe160006e      ERET 0x00000060
	0xe1400072      HVC 0x0002 0x00000064      0xe1600073      SMC
	0x0003 0x00000068      0xee110f10      MRC p15, 0x00, r0, c1, c0,
	0x00 > Change-Id: I1beccff885b5b37747edd0b2e9fb2297ce466a00 Signed-off-by:
	pierre Kuo <vichy.kuo@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2548 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-02-26  Paul Fertser <fercerpav@gmail.com>

	* : flash/nor/stellaris: remove dead assignment Found by clang static checker.  Change-Id: Ifa58ba383092341c7343916e5cc8ec3c72ab2f60 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2560 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-02-06  Paul Fertser <fercerpav@gmail.com>

	* : contrib/itmdump: fix UB in show_swit, and few compile warnings Change-Id: I1c5c99f190f7b4d405dc6fa06533e7ff37a652ec Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2533 Tested-by: jenkins Reviewed-by: Uwe
	Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-02-21  Austin Morton <austinpmorton@gmail.com>

	* : server: tcl_notifications command Implements async target notifications to the tcl server Change-Id: I4d83e9fa209e95426c440030597f99e9f0c3b260 Signed-off-by:
	Austin Morton <austinpmorton@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2336 Reviewed-by: Paul Fertser
	<fercerpav@gmail.com> Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-07-29  Matthijs van Duin <matthijs@rinnic-vaude.nl>

	* : tcl/interface/ftdi/xdsv2: fix and clarify EMU* signals The signal names are changed for consistency with TI's docs and
	sources.  Change-Id: Ic5c5314daa20f6f610be8a848399f951d47aa137 Signed-off-by:
	Matthijs van Duin <matthijs@rinnic-vaude.nl> Reviewed-on:
	http://openocd.zylin.com/2231 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2015-02-23  Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>

	* : stm32f3x.cfg: Remove duplicate item.  Change-Id: I812c36688add73fab2e74fc112c733c5d3c201a6 Signed-off-by:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-on:
	http://openocd.zylin.com/2554 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2015-02-25  Olivier Esver <olg.esver@gmail.com>

	* : atmega: add support for the at90usb128 flash Add support for the at90usb128 flash (tested on the RZUSBstick) Change-Id: Ic042d7c403b20a5cc533da00c30ae6e2139bbd10 Signed-off-by:
	Olivier Esver <olg.esver@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2557 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2015-01-23  Mateusz Manowiecki <segmentation@fault.pl>

	* : jtag/drivers/buspirate: add JTAG_STABLECLOCKS cmd Solution found on the internet Change-Id: Ied6f7d9b28131a7ac83b203e4c64d4e9ffec0595 Signed-off-by:
	Mateusz Manowiecki <segmentation@fault.pl> Reviewed-on:
	http://openocd.zylin.com/2496 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2015-02-25  Tomas Vanek <vanekt@fbl.cz>

	* : psoc4 flash driver: cleaned printf PRI... formats Failed build on Mac OS X 10.10.2 was reported in OpenOCD-devel.
	Cleaning types and printf formats. uint32_t prefered for
	flash/sector sizes.  2 minor changes in comments.  Removed redundant
	bracket.  Change-Id: Ia06b77af59c2c0ffd10869a4b263a760ca8b0a7a Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/2558 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-by: Xiaofan
	<xiaofanc@gmail.com>

2015-02-04  dmitry pervushin <dpervushin@gmail.com>

	* : flash/nor/spi: add GigaDevice SPI flash Signed-off-by: dmitry pervushin <dpervushin@gmail.com> Change-Id:
	I5a239dc67754ef4be1d9ec36186f434b09aa1e25 Reviewed-on:
	http://openocd.zylin.com/2530 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-12-11  Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>

	* : Provide genuine F3 nucleo config and source it  for STM32F334
	Discovery board.  The F334 disco board has a stlink V.2-1 as F3 nucleo boards. Normal
	F3 disco boards use stlink v2 and can't ne used.  Change-Id: I77ebef93b184592f25ff18bb2da776d636f60ff0 Signed-off-by:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-on:
	http://openocd.zylin.com/2434 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-01-09  Robert P. J. Day <rpjday@crashcourse.ca>

	* : Remove long-deprecated "target count" and "target number"
	commands.  Given that the manual states that these two subcommands are
	deprecated and were scheduled to be removed back in 2010, remove
	them and the corresponding documentation from the manual.  Change-Id: Iaac633349d7fcb8b7f964109c7d26dd0cc5fc233 Signed-off-by:
	Robert P. J. Day <rpjday@crashcourse.ca> Reviewed-on:
	http://openocd.zylin.com/1860 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-12-11  Jean-Christian de Rivaz <jc@eclis.ch>

	* : Add SWD protocol support to sysfsgpio Based on the initial work on bcm2835gpio.c by Paul Fertser with many
	additions. Modifications to the GPIO handling was minimal in this
	patch. A more big modification is required before cleanup the
	interface between bitbang and sysfsgpio.  Change-Id: I54bf2a2aa2ca059368b0e0e105dff6084b73d624 Signed-off-by:
	Jean-Christian de Rivaz <jc@eclis.ch> Reviewed-on:
	http://openocd.zylin.com/2438 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2015-02-11  Matej Kupljen <matej.kupljen@gmail.com>

	* : gdb_server: ignore stray + in ACK mode I couldn't make OpenOCD to work with GDB. I was always getting this
	in GDB: (gdb) target remote localhost:3333 Remote debugging using
	localhost:3333 Ignoring packet error, continuing...  Ignoring packet
	error, continuing...  Ignoring packet error, continuing...  Ignoring
	packet error, continuing...  Malformed response to offset query,
	timeout (gdb) While debugging gdb remote protocol, I have seen that gdb
	responds with: w ++$?#3f And those two '+' seems to confuse the
	OpenOCD parser, if it sees another '+' sign it emits the DEBUG
	output and sets the noack_mode to 2. The problem is that we weren't
	even IN noack mode, this was set to 0 and then it explicitly sets it
	to 2 and thus turning the noack mode on.  Change-Id: If267c9226e57fa83121ded09cf69829f8f0b4b93 Signed-off-by:
	Matej Kupljen <matej.kupljen@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2545 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2014-11-07  Christopher Head <chead@zaber.com>

	* : Cortex A: fix extra memory read and non-word sizes Without this patch, to perform a memory read, OpenOCD first issues
	an LDC instruction into DBGITR in Stall mode (thus executing the
	instruction), then switches to Fast mode and reads from DBGDTRTX
	once for each word to transfer.  At the very end of the transfer, the final Fast mode read of
	DBGDTRTX has, as always, the side effect of re-issuing the LDC
	instruction. This causes two problems: (1) If the word immediately beyond the end of the requested region
	is inaccessible, this spurious LDC will cause a fault. On a fast
	CPU, the LDC will finish executing by the time the poll of DSCR
	takes place, failing the entire memory read. On a slow CPU, the LDC
	might finish executing later, leaving an unexpected and confusing
	sticky fault lying around for the next operation to see.  (2) If the LDC succeeds, it will leave the loaded word in DBGDTRTX,
	thus setting DBGDSCR.TXFULL=1. The cortex_a_read_apb_ab_memory
	routine completes without consuming that last word, thus confusing
	the next routine that tries to use DBGDTRTX (this may not have any
	visible effect on some implementations, because writing to
	DBGDTRTXint when TXFULL=1 is defined as Unpredictable, but I believe
	it caused a visible problem for me).  With this patch, the bulk mem_ap_sel_read_buf_noincr is modified to
	omit the last word of the block. The second-to-last read of DBGDTRTX
	by that function will cause the issue of the LDC for the last word.
	After switching back to Normal mode and waiting for that instruction
	to finish, do a final read of DBGDTRTX to extract the last word into
	the buffer, leaving TXFULL=0.  Without this patch, memory accesses are always expanded such that
	they are aligned to the access size. With this patch, accesses are
	issued exactly as ordered by the caller. The caller is expected to
	handle fragments at the beginning and end of the transfer if the
	address is unaligned and an unaligned access is not desired.  Without this patch, the DFAR and DFSR registers, which report the
	location and status of data faults, are ignored while performing
	memory accesses, which could cause problems debugging an OS page
	fault handler.  With this patch, DFAR and DFSR are preserved across
	memory accesses, and DFSR is decoded in the event of a synchronous
	fault to provide the caller with more information about the reason
	for failure.  Thanks to Boris Brezillon for the original patch whose ideas led to
	the non-word access mechanism implemented here and to various code
	reviewers for their comments.  Change-Id: I11ae7104fbe69a522efadefc705c9a217a7eef41 Signed-off-by:
	Christopher Head <chead@zaber.com> Reviewed-on:
	http://openocd.zylin.com/2381 Tested-by: jenkins Reviewed-by:
	Olivier Schonken <olivier.schonken@gmail.com> Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2015-01-23  Paul Fertser <fercerpav@gmail.com>

	* : flash/nor/stm32lx: add all the IDs and revisions from current RM RM0038 Rev.12 lists these new parts and introduces the category
	naming scheme.  RM0367 Rev.2 (STM32L0x3 RM) doesn't add any new codes.  Change-Id: Id95dd48dda64d5f108dac57d265d29a7db3a1bd1 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Signed-off-by: Uwe Bonnes
	<bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-on:
	http://openocd.zylin.com/2495 Tested-by: jenkins

2015-01-27  Paul Fertser <fercerpav@gmail.com>

	* : doc, README: mention all the variants supported by lpc2000
	driver Change-Id: I66f9a201426a68fc1314ab7f02b27e36dcab33ba Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2508 Tested-by: jenkins

2015-01-23  Paul Fertser <fercerpav@gmail.com>

	* : flash/startup: extend "program" command to accept "exit" This optional argument tells OpenOCD to exit after finishing (either
	succesfully, or with an error) the programming sequence. Without it
	OpenOCD stays running.  Change-Id: I6ecaf33ff985eea9a9cd02ff644a74403ae3e1e5 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2492 Tested-by: jenkins Reviewed-by: Uwe
	Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-01-18  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : target/profiling: Use the correct method to access registers Change-Id: I6b8590dc9d07886b885013b1b767fe2f0739cd6a Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2479 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2015-01-18  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : hla_target: Use the correct method to access registers Change-Id: I853fc5117bdf07ecbc4584ff59d324367b2cb3e3 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2477 Tested-by: jenkins Reviewed-by: Uwe
	Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2015-01-18  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : nds32: Use the correct method to access registers The registers are represented as bit arrays intended to be accessed
	using the buf_set_* and buf_get_* functions. Storing the register
	values in integers enables accessing them directly, which gives
	different results depending on host byte order.  Convert the register store to use a byte array instead and fix all
	the byte order bugs uncovered by that.  Also merge the 32 and 64 bit register fields. Only one of them is
	used at a time and after the change to byte arrays their types are
	also the same.  Change-Id: I456869a1737f4b4f5e8ecbfc1c63c49a75d21619 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2475 Tested-by: jenkins Reviewed-by:
	Hsiangkai Wang <hsiangkai@gmail.com> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2014-07-15  Antony Pavlov <antonynpavlov@gmail.com>

	* : mips32: use 'unsigned int' for CPU register indices Change-Id: I77e94b2fe0943a87e1d18d88ebf2a0133aaad728 Signed-off-by:
	Antony Pavlov <antonynpavlov@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2216 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2015-01-08  Andreas Bomholtz <andreas@seluxit.com>

	* : sim3x: new flash driver for Silabs SiM3 microcontroller family This is a new driver for Silicon Laboratories SiM3 microcontroller
	family, based on the work of Ladislav B√°bel. The driver will try to
	detect the type of MCU from the device id register, and if this
	fails it will use the flash size from the flash bank command.
	Driver added to the documentation and to the README.  TCL script
	added.  Tests: * Hardware: SiM3C166 (pre-production) and SiM3U167 * Binary: 4kb, 197kb, 256kb * Flash protect not tested Change-Id: I701e0cf505ca8ad99be7f83543fe5055b2f65dcc Signed-off-by:
	Andreas Bomholtz <andreas@seluxit.com> Signed-off-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-on: http://openocd.zylin.com/2078
	Tested-by: jenkins

2014-11-20  Daniel Glˆckner <daniel-gl@gmx.net>

	* : armv7a: fix interpretation of MMU table On armv7 there no longer are 1kB pages. Instead the bit that in
	older architectures distinguished 1kB pages from 4kB pages is on
	armv7 used for as execute-never marker. There may now also be 16MB
	supersections with 40 bit physical address.  Change-Id: I959bdb8012782a9d07d968907a21f50e3d9b356a Signed-off-by:
	Daniel Gl√∂ckner <daniel-gl@gmx.net> Reviewed-on:
	http://openocd.zylin.com/2386 Tested-by: jenkins Reviewed-by:
	Vladimir Svoboda <ze.vlad@gmail.com> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2015-01-20  Olivier Schonken <olivier.schonken@gmail.com>

	* : cortex_a: Add Cortex-A5 identification Add Cortex-A5 identification to ROM-table display, and also to
	cortex_a_init_debug_access. This change is mostly cosmetic.  Change-Id: I7b1dd8755d70d45eb5f315aa1918d44a813b3cdf Signed-off-by:
	Olivier Schonken <olivier.schonken@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2483 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2015-02-01  Paul Fertser <fercerpav@gmail.com>

	* : target/image: fix undefined behaviour when loading with GDB The image struct is malloc'd and hence base_address_set doesn't have
	a defined value.  Caught by Valgrind.  Change-Id: Ice15b2299fc768e44e8034eeb93e035076eacd03 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2524 Tested-by: jenkins Reviewed-by: Stian
	Skjelstad <stian@nixia.no> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2015-01-30  Oleksij Rempel <linux@rempel-privat.de>

	* : tcl: add TP-LINK TL-MR3020 to the firmware recovery script This adds the board to the list of supported devices for the easy
	recovery procedure. Only ram_boot is supported for this target.  Change-Id: I144e1836f8b6257e96a42c98c2668da74ce243f6 Signed-off-by:
	Oleksij Rempel <linux@rempel-privat.de> Reviewed-on:
	http://openocd.zylin.com/2520 Reviewed-by: Paul Fertser
	<fercerpav@gmail.com> Tested-by: jenkins Reviewed-by: Andreas
	F√§rber <afaerber@suse.de>

2014-06-12  Jose de Sousa <jose.t.de.sousa@gmail.com>

	* : target: write gmon.out according to target endianness After profiling gmon.out was being written in little endian format
	only which would cause gprof to issue and error and exit on big
	endian targets.  Change-Id: I526a40adae0f9a439fc5b77cef30fda228198b48 Signed-off-by:
	Jose de Sousa <jose.t.de.sousa@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2168 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-07-29  Jacob Palsson <jaaacke@gmail.com>

	* : tcl/target: add CC2538 and CC26xx target files (with cJTAG
	procedure) Added support for the Cortex-M3 based TI low power RF SoC CC2538 and
	the CC26xx family.  These chips need a start sequence for switching from cJTAG to JTAG
	before being used with OpenOCD, this is done in the tcl proc
	ti_cjtag_to_4pin_jtag in the ti-cjtag.cfg config.  The configs for CC2538 and CC26xx run the start sequence on
	post-reset event and set the ICEPick IDCODE in the data register for
	OpenOCD to read, this is done so that every time OpenOCD resets the
	device, it will enable JTAG.  Change-Id: I7db620211c0e7e03fad59d24fe31d23a9cdcfedc Signed-off-by:
	Jacob Palsson <jaaacke@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2232 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-09-13  Nemui Trinomius <nemuisan_kawausogasuki@live.jp>

	* : jlink: Added hardware version number for JLink firmware on
	LPC-Link2 JLink firmware on LPC-Link2 has unique hardware version
	number(0x12).  Change-Id: I76b6e27c47d236da75c61dd6b83d6a823615968d Signed-off-by:
	Nemui Trinomius <nemuisan_kawausogasuki@live.jp> Reviewed-on:
	http://openocd.zylin.com/2298 Tested-by: jenkins Reviewed-by: Anders
	Oleson <anders@openpuma.org> Reviewed-by: Xiaofan
	<xiaofanc@gmail.com> Reviewed-by: Paul Fertser <fercerpav@gmail.com>

2015-01-15  Michael Brown <fractalmbrown@gmail.com>

	* : lpc2000: add chip IDs for LPC11U6x/LPC11E6x Change-Id: I53568674951ec8a5db5e191c7b50c60b5a84d0b6 Signed-off-by:
	Michael Brown <fractalmbrown@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2463 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-12-17  Jussi Kivilinna <jussi.kivilinna@haltian.com>

	* : stm32lx: do not attempt mass-erase in-place of first bank erase Commit 832f0a5bfb439 'stm32: add mass erase support for STM32L'
	added use of mass-erase in-place of bank-erase. This is triggered if
	first bank is requested to be fully erased.  This erroneous action completely fails on STM32L162VEY (has 512 KiB
	flash in two 256 KiB banks) and also unintently destroying contents
	of EEPROM and second flash bank.  Change-Id: I0f13f7b0346747a09c755d72b5b95775ceff5a6f Signed-off-by:
	Jussi Kivilinna <jussi.kivilinna@haltian.com> Reviewed-on:
	http://openocd.zylin.com/2441 Reviewed-by: Paul Fertser
	<fercerpav@gmail.com> Tested-by: jenkins

2015-01-24  Paul Fertser <fercerpav@gmail.com>

	* : doc: add stm32lx mass_erase description Change-Id: Ibe26f40a105dfabcf336ae12fcdc72f4e87513b6 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2502 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-01-23  Paul Fertser <fercerpav@gmail.com>

	* : flash/nor/stm32l: fix mass erase Topaz reports on http://sourceforge.net/p/openocd/tickets/87/ that
	protection level constants are mixed up. This leads to device ending
	up in protection level 1 after mass erase.  Additional work is required to actually put the device in RDP Level
	1 and then back to Level 0, as Option bootloader launch is a special
	kind of full target reset.  To be able to flash properly after mass_erase a "reset init" is
	needed (it's anyway recommended to always perform it before any
	flash operation).  Change-Id: I9a838909458039bb0114d3019723bf134fa4d7c9 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2490 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-01-20  Paul Fertser <fercerpav@gmail.com>

	* : Makefile.am: link libusb-1.0 after libusb-0.1 to fix
	dependencies Since libusb-0.1 might be provided by libusb-compat, it will depend
	on libusb-1.0, so needs to be mentioned before it in the link
	command line, this is relevant for static linking.  Thanks go to mingwandroid for spotting it during MSYS2 build.  Change-Id: I15cf0b8f084c351b4f93e75686bd0f843477352b Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2485 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-01-20  R√©mi PRUD‚ÄôHOMME <prudhomme.remi@gmail.com>

	* : Subject: [PATCH] update src/flash/nor/stm32f2x.c Add the new STM32F446 mcu with 512 Ko Tested with a eval board Change-Id: I0c16ce7d32d249c7634d697815207c20e7f778c4 Signed-off-by:
	prudhomme.remi@gmail.com Reviewed-on: http://openocd.zylin.com/2484
	Tested-by: jenkins Reviewed-by: Paul Fertser <fercerpav@gmail.com>
	Reviewed-by: Spencer Oliver <spen@spen-soft.co.uk>

2014-10-30  Paul Fertser <fercerpav@gmail.com>

	* : drivers/stlink: clarify "init mode failed" message The message as it was didn't let the user know that something was
	wrong with the target or wiring.  Change-Id: Ib609c2d31959e77413e61c348d0e31d7269d5c58 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2365 Tested-by: jenkins Reviewed-by: Uwe
	Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-by: Jens
	Bauer <jens@gpio.dk>

2015-01-19  Paul Fertser <fercerpav@gmail.com>

	* : jtag/drivers: remove useless checks causing build failure with
	clang 3.5.0 Change-Id: Icafab6ac1e3e79c6da1bc163c30744eee4bde8d3 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2482 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-by:
	Andreas F√§rber <afaerber@suse.de>

2015-01-17  Paul Fertser <fercerpav@gmail.com>

	* : Use (uint8_t *) for buf_(set|get)_u(32|64) instead of (void *) This helps to uncover incorrect usage when a pointer to uint32_t is
	passed to those functions which leads to subtle bugs on BE systems.  The reason is that it's normally assumed that any uint32_t variable
	holds its value in host byte order, but using but_set_u32 on it
	silently does implicit pointer conversion to (void *) and the
	assumption ends up broken without any indication.  Change-Id: I48ffd190583d8aa32ec1fef8f1cdc0b4184e4546 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2467 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-12-05  Paul Fertser <fercerpav@gmail.com>

	* : flash/nor/kinetis: pull SRST low during mass erase Mass erase operation might be impacted by different factors,
	apparently the most reliable way is to do it while asserting the
	chip reset line.  Change-Id: Id6ab57eaec86e402ffdf4f5c8843e7735640f03e Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2424 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-12-09  Uwe Kleine-Kˆnig <u.kleine-koenig@pengutronix.de>

	* : ARMv7-A: remove useless switch construct The default label does just return the same error code as the case
	for zero, so this can be handled by a simple if statement.  Change-Id: I61a8cb51b5e261f21eca386af7d8cbf17ffa2d44 Signed-off-by:
	Uwe Kleine-K√∂nig <u.kleine-koenig@pengutronix.de> Reviewed-on:
	http://openocd.zylin.com/2430 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2015-01-10  Paul Fertser <fercerpav@gmail.com>

	* : tcl/board: frdm kinetis boards have SRST connected Change-Id: I1a56b5e9d1ac6466bba11cc694ee3eaa2c9b504f Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2462 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-01-10  Paul Fertser <fercerpav@gmail.com>

	* : tcl/target: consolidate Kinetis configs Change-Id: I75fe6b239ff435f700459e7d7040616503fa458e Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2460 Reviewed-by: Andreas F√§rber
	<afaerber@suse.de> Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2015-01-17  Paul Fertser <fercerpav@gmail.com>

	* : jtag/hla_interface: avoid segfault with adapters that do not
	have configurable speed Change-Id: I0386cbfc85ba8b28d3819530f9950b31545d6821 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2468 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-01-09  Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>

	* : stm32f0x: Remove duplicate code for revision string.  As of RM0091, Rev. 7, all F0 have the same revisioning scheme.  Change-Id: I0b344a1d3ca3f61f48fa151e83c549ca5333ae47 Signed-off-by:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-on:
	http://openocd.zylin.com/2457 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-01-22  Thomas Eichinger <eicht@lepus.uberspace.de>

	* : tcl/board: Add ST NUCLEO L152RE configuration Added support for the ST nucleo l152re board with a stm32l152ret6
	MCU, analog to st_nucleo_f* configurations.  Change-Id: Id2c61dc7a7cb2e1cc64442191b367bab4247bdeb Signed-off-by:
	Thomas Eichinger <eicht@lepus.uberspace.de> Reviewed-on:
	http://openocd.zylin.com/2489 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-11-21  Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>

	* : stm32f4/nucleo: Use only one configuration for all stm32f4
	nucleo boards.  Change-Id: Ic3d0b47b19dae9cb09c11d24f16fea85a1b90c0b Signed-off-by:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-on:
	http://openocd.zylin.com/2397 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-11-21  Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>

	* : flash/nor/stm32f1: Add handling of stm32f09, nearly same as
	stm32f07.  Change-Id: I9cb2aa75decca0e8a065fe7f5353de44d6877274 Signed-off-by:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-on:
	http://openocd.zylin.com/2394 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-01-08  Jˆrg Wunsch <openocd@uriah.heep.sax.de>

	* : flash: add AT91SAM4SD16C device Change-Id: I12f740a1a2d10637b0e5b1e8d054dd912576d190 Signed-off-by:
	J√∂rg Wunsch <openocd@uriah.heep.sax.de> Reviewed-on:
	http://openocd.zylin.com/2455 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-11-27  Paul Fertser <fercerpav@gmail.com>

	* : tcl/interface/ftdi: add config for the IoT-LAB adapter This is an integrated adapter used on the IoT-LAB boards.  Schematics are available from
	https://github.com/iot-lab/iot-lab/wiki/Docs/openm3-schematics.pdf Change-Id: I1c80e72653c3f319bb04d01e3dfddb1c2447c398 Tested-by:
	Quentin Lampin <quentin.lampin@orange.com> Signed-off-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2415 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-10-09  Spencer Oliver <spen@spen-soft.co.uk>

	* : stlink: add reconfigurable speed support The ability to change the speed has been added to firmware versions
	J22 and above. Any attempt to change on earlier versions will be
	ignored without error, as the existing code does.  For supported firmware versions the driver will attempt to get as
	close as possible to supported speeds (never higher).  The default stlink speed on power up is 1.8MHz.  The driver will now
	also print supported clocl speeds during init.  Change-Id: Iee9bd018bb8b6f94672a12538912d41c23d48a7e Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/2335 Tested-by: jenkins

2014-12-16  Karl Palsson <karlp@remake.is>

	* : cfg: stm32l1: Use specific chipname This should have been corrected earlier with the split of l1/l0 code
	apart.  Change-Id: I87b94a310ae7e76318554a9cd2705348a942d58b Signed-off-by:
	Karl Palsson <karlp@tweak.net.au> Signed-off-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-on: http://openocd.zylin.com/2447
	Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-11-21  Evan Hunter <ehunter@broadcom.com>

	* : jtag: Avoid extra SRSTn resets when connecting Previously the jtag_add_reset(1, 0) caused the processor to be
	released, and if SRSTn existed then it would then be reset again two
	lines later.  Change-Id: I58b7a12607f46f83caa7ed3b3cebc4195eb51ef6 Signed-off-by:
	Evan Hunter <ehunter@broadcom.com> Reviewed-on:
	http://openocd.zylin.com/2398 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-12-19  Nemui Trinomius <nemuisan_kawausogasuki@live.jp>

	* : lpc2000: Improve lpc2000 flash driver.  This patch adds flash programming support for LPC5410x and LPC82x.
	And adds auto flash size detection for LPC800 series.  Tested on
	below listed boards/chips.  LPC54102(LPCLPC54102Xpresso)
	LPC824(LPCXpresso824-MAX) LPC812(LPC812MAX) LPC811,LPC810 Change-Id: Ie68b6d425b17ccfa83814607ee61056e99800c1c Signed-off-by:
	Nemui Trinomius <nemuisan_kawausogasuki@live.jp> Reviewed-on:
	http://openocd.zylin.com/2442 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2013-08-29  Kamal Dasu <kdasu.kdev@gmail.com>

	* : cortex_a: Add support for A15 MPCore Added Cortex-A15 support for DAP AHB-AP init code as per ADI V5
	spec.  Also added changes to make the APB MEM-AP to work with A15.
	Made the the cortex_a target code  generic to work with A8, A9 and
	A15 single core or multicore implementation. Added armv7a code for
	os_border calculation to work for known A8, A9 and A15 platforms
	based on the ARM DDI 0344H, ARM DDI 0407F, ARM DDI 0406C ARMV7A
	architecture docs.  Change-Id: Ib2803ab62588bf40f1ae4b9192b619af31525a1a Signed-off-by:
	Kamal Dasu <kdasu.kdev@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1601 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-11-21  Karl Palsson <karlp@tweak.net.au>

	* : transport: clarify error message when transport is not selected When no transport is selected, the error message dumps the available
	transports, but not how to actually select one.  Change-Id: I63da2a4b59e3f6cc8d30bd631e41a82636a056ef Signed-off-by:
	Karl Palsson <karlp@tweak.net.au> Signed-off-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-on: http://openocd.zylin.com/2406
	Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-11-20  Spencer Oliver <spen@spen-soft.co.uk>

	* : cfg: fix lpc17xx regression commit b5a6ba46 broke the following board files, update to new cfg.  Change-Id: Ic3b776bd32eb72eae6ad1e130e329268ce9ba71a Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/2384 Tested-by: jenkins

2014-10-28  Jens Bauer <jens@gpio.dk>

	* : Mac/PPC: Fix build.  GCC-4.2 on Mac/PPC complains about size_t is expected for %zx and
	the build stops.  In order to avoid other problems, I've chosen
	simply to typecast.  Change-Id: I99b569c4d1100e729712e31d24d6539f8b5971b6 Signed-off-by:
	Jens Bauer <jens@gpio.dk> Reviewed-on: http://openocd.zylin.com/2360
	Tested-by: jenkins Reviewed-by: Paul Fertser <fercerpav@gmail.com>

2014-11-02  Paul Fertser <fercerpav@gmail.com>

	* : target: improve robustness of polling and reexamination When a target was present on OpenOCD start but later disappeared for
	whatever reason (typically unstable connection or target going to
	sleep) and reappeared only for a brief period of time, reexamination
	would fail, and poll would no longer run. This patch fixes it.  Change-Id: I61f9b5a3f366a761320e233f4e1689f926b5556d Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2370 Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Tested-by: jenkins

2014-11-27  Paul Fertser <fercerpav@gmail.com>

	* : checkpatch: fix check for the FSF address Commit 4525c0a4c4d0aaa199c37a6d2245617e8445f213 cherry-picked check
	for the FSF address presence from upstream. However, it has a typo
	resulting in this obscure error when triggered: Use of uninitialized value in concatenation (.) or string at

	/home/jenkins/.jenkins/jobs/openocd-gerrit/workspace/tools/scripts/checkpatch.pl line 1258.ERROR: This patch fixes it.  Change-Id: Ia417ef4782d21c8b3f1d39de88c4ab850a5a6630 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2414 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-07-30  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : jtag: Fix memory leaks in jtag_tap_free() Change-Id: I953fbb346fbf168fb50b349d245f2aa64dbfdcb3 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2234 Tested-by: jenkins

2014-11-05  Juha Niskanen <juha.niskanen@haltian.com>

	* : stm32: Fix L0/1xx CPUTAPID setting and add new L1xx BSTAPIDs Fix script parse error, when using JTAG, introduced in commit
	0187ced9ed2 Add several BS TAPIDs with comments about ST documentation.  Change-Id: I8d0370b244ccaf7ea0dbe1919bfad1915f7317d4 Signed-off-by:
	Juha Niskanen <juha.niskanen@haltian.com> Reviewed-on:
	http://openocd.zylin.com/2376 Tested-by: jenkins Reviewed-by: R√©mi
	PRUD'HOMME <prudhomme.remi@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-11-06  Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>

	* : tcl/target/stm32f4x: add F401 and F411 IDs Change-Id: I12079586dafb8a7614bdf4cc0b13cd5030301742 Signed-off-by:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-on:
	http://openocd.zylin.com/2379 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-10-10  Antony Pavlov <antonynpavlov@gmail.com>

	* : checkpatch.pl: check for the FSF mailing address This check code is imported from Linux v3.17 checkpatch.pl.  Change-Id: If39d834ee9b6131bccc92de38fd7c108650bd2f1 Signed-off-by:
	Antony Pavlov <antonynpavlov@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2341 Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk> Tested-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-10-10  Antony Pavlov <antonynpavlov@gmail.com>

	* : checkpatch.pl: check for openocd tree, not for kernel tree checkpatch.pl looks for linux kernel specific paths and files to
	check source tree. As openocd misses kernel files it ends with this
	error message:     Must be run from the top-level dir. of a kernel tree This patch also renames 'kernel' -> 'openocd' in source tree-related
	messages.  Due to checkpatch checking modifications on itself, lift the
	restriction on having no spaces at the start of a line for Perl
	scripts. This can be readded back later.  Change-Id: I89b7ca976bef5e13785bd3a43e597c9feb4c2df4 Signed-off-by:
	Antony Pavlov <antonynpavlov@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2339 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-10-19  Alexei Colin <ac@alexeicolin.com>

	* : doc: flash: write_image writes only loadable sections The code that takes only sections marked PT_LOAD is in
	image_elf_read_headers in src/target/image.c (Just trying to save some time for the next person with same
	question.) Change-Id: I493c102c908fca2b7238276ddbbecbe8c7cd9a0a Signed-off-by:
	Alexei Colin <ac@alexeicolin.com> Reviewed-on:
	http://openocd.zylin.com/2348 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-10-21  Christian Gudrian <christian.gudrian@gmx.de>

	* : rtos: add support for ChibiOS/RT 3.0 In ChibiOS/RT 3.0 the ready list pointer "rlist" is now part of the
	system data structure. Since the ready list is the first element in
	that structure it can be accessed via the structure's symbol "ch".  Change-Id: Idc7eaa87cb7bbad0afa0ff1dafd54283bf429766 Signed-off-by:
	Christian Gudrian <christian.gudrian@gmx.de> Reviewed-on:
	http://openocd.zylin.com/2352 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-10-30  Andrey Yurovsky <yurovsky@gmail.com>

	* : flash: at91samd: fix use of is_erased in check is_erased can be one of -1, 0, or 1 so it must not be checked like a
	boolean value.  In this case we want to erase a page unless we know
	it's already erased so we just check for is_erased != 1.  Thanks to Jim Paris for pointing this out on another driver.  Change-Id: I4591186228153b64e5a9608a2aac18745e578d4a Signed-off-by:
	Andrey Yurovsky <yurovsky@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2368 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-08-15  Thomas Schmid <thomas@rfranging.com>

	* : at91sam4: Adding support for the AT91SAM4S4A.  Added the chip definition for the Atmel AT91SAM4S4A. This chip is a
	48-pin package with 256k flash and 64k ram.  Change-Id: I8ada7d5735e31e0ce086f96f5906c7358464245c Signed-off-by:
	Thomas Schmid <thomas@rfranging.com> Reviewed-on:
	http://openocd.zylin.com/2254 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-11-07  Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>

	* : Hacking: Some note how to review.  Change-Id: Ied682884abdba27da265f1ce3632417f54a80fe2 Signed-off-by:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-on:
	http://openocd.zylin.com/2380 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-10-29  Jim Paris <jim@jtan.com>

	* : nrf51: fix checks for is_erased is_erased can take the value 0 (no), 1 (yes), or -1 (unknown).
	Checks like (!is_erased) don't do the right thing if it's -1.  Change-Id: I10ba32c99494ca803e0a7a1ba56fdd78184b96bb Signed-off-by:
	Jim Paris <jim@jtan.com> Reviewed-on: http://openocd.zylin.com/2366
	Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-10-28  Jim Paris <jim@jtan.com>

	* : nrf51: fix UICR erase nrf51_erase_page() checks for (sector->offset == NRF51_UICR_BASE) to
	determine if the UICR should be erased.  However, sector->offset for
	the UICR bank is set to 0 in nrf51_probe, so this code is never hit.
	Attempting to erase UICR ends up erasing the first flash sector.  Use bank->base instead to determine if UICR is being erased.  Change-Id: Ie5df0f9732f23662085ae2b713d64968cd801472 Signed-off-by:
	Jim Paris <jim@jtan.com> Reviewed-on: http://openocd.zylin.com/2362
	Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-11-01  Peter Lawrence <majbthrd@gmail.com>

	* : arm_adi_v5: added two CoreSight peripheral IDs added "Single Wire Output" and "Trace Memory Controller" peripheral
	IDs to dap_rom_display(), which is invoked by the "dap info" command Change-Id: Iea3201007bb98e6376fbb50be40a4a2e031b0a03 Signed-off-by:
	Peter Lawrence <majbthrd@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2369 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-10-02  Spencer Oliver <spen@spen-soft.co.uk>

	* : cmsis-dap: add serial number support Change-Id: I66926d1013e2b3a43ce0d18d3599771428706b6a Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/2329 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-09-30  Spencer Oliver <spen@spen-soft.co.uk>

	* : build: make makeinfo optional This means the user does not have to install texinfo to build
	OpenOCD.  Change-Id: Id9f42da798d3c2b79e95214c9e2559cf32802251 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/2325 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-10-01  RÈmi PRUD'HOMME <prudhomme.remi@gmail.com>

	* : stm32: add mass erase support for STM32L The mass erase for STM32L was lack because the procedure is more
	complex than the procedure for the STM32F4xx.  The reference manual RM0038 (L100 subfamily) page 79 is more
	accurate than the reference manual for the STM32L0xx. On the L0, the
	mass-erase erase also the EEPROM. This is a limit to mass erase on
	L0.  The mass erase procedure is a command of telnet interface.  Tested on Discovery L053 and Discovery L100.  Change-Id: I6a1d7a3669789aea89c59a006ab2d883f3d827ca Signed-off-by:
	R√©mi PRUD'HOMME <prudhomme.remi@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2319 Tested-by: jenkins Reviewed-by: Andrey
	Yurovsky <yurovsky@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-09-24  RÈmi PRUD'HOMME <prudhomme.remi@gmail.com>

	* : stm32: add L0xx CPUTAPID Add CPUTAPID for stm32 L0xx mcu devices. Using -expected-id to add
	the new id with the id for L1xx devices. This for reduce the
	duplicated code.  Change-Id: I48bd230884ecf38fa200c620b547bdf3b5f59132 Signed-off-by:
	R√©mi PRUD'HOMME <prudhomme.remi@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2315 Tested-by: jenkins Reviewed-by: Andrey
	Yurovsky <yurovsky@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-10-01  Paul Fertser <fercerpav@gmail.com>

	* : libusb: introduce jtag_libusb_choose_interface() and use it for
	JLink This introduces a new common function that allows auto-discovery of
	a suitable USB interface based on class, subclass and protocol
	matching. It claims the interface and returns the corresponding
	endpoints number to the caller.  The need for this arised due to nRF51822 USB dongle which comes with
	an "on-board Segger J-link debugger" having 3 interfaces, so the
	current code can't work at all with it (in this particular case the
	last interface needs to be choosen). This also removes special
	handling of JLink-OB endpoint numbers as it's now possible to
	autodetect them as well as the standard JLink endpoints.  Change-Id: I4d990a7a3b373efdd2949a394b32d855a168e138 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2327 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-08-19  Paul Fertser <fercerpav@gmail.com>

	* : hla: add a way to pass arbitrary commands from user to layout
	and use for ICDI TI's ICDI adapter supports some additional commands which a user
	might want to run for debugging or other purposes, the most useful
	of them being "debug unlock" that fully mass-erases the device and
	unprotects the flash.  Change-Id: I26990e736094367f92106fa891e9bb8fb0382efb Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2263 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-09-12  Anders <anders@openpuma.org>

	* : jtag/drivers/jlink.c: fix for LPC Link-2 running JLink firmware
	on Linux Change 2288 fixed the extraneous reset caused by set_configuration
	that crashed the LPC Link-2 running JLink firmware and works on
	windows platforms.  On Linux however, conditional code was still
	calling USB reset and caused the adapter to crash on any non-windows
	platforms.  Change-Id: Ibf2a02d0dcdd91ccb71d86231cd8311dcadfee1e Signed-off-by:
	anders@openpuma.org Reviewed-on: http://openocd.zylin.com/2297
	Tested-by: jenkins Reviewed-by: Xiaofan <xiaofanc@gmail.com>
	Reviewed-by: Spencer Oliver <spen@spen-soft.co.uk>

2014-09-11  Spencer Oliver <spen@spen-soft.co.uk>

	* : helper: constify log_strings Change-Id: I5bdd8958e79b754d56bb7aee2892856e557eed76 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/2296 Tested-by: jenkins

2014-09-11  Spencer Oliver <spen@spen-soft.co.uk>

	* : jtag: constify driver arrays Change-Id: I81574fa8ca3cc748526dc61b75a2c75d6335ef04 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/2294 Tested-by: jenkins

2014-09-11  Spencer Oliver <spen@spen-soft.co.uk>

	* : rtos: constify symbol names and lists Change-Id: I72f3cd50fc6a33a178e72e169c9660e707751524 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/2292 Tested-by: jenkins

2014-09-30  Andrey Yurovsky <yurovsky@gmail.com>

	* : at91samd: fix protect, add EEPROM and boot commands There were two problems with the _protect() feature: 1. The address written was off by a factor of two because the
	address register takes 16-bit rather than 8-bit addresses.  As a
	result the wrong sectors were (un)protected with the protect
	command.  This has been fixed.  2. The protection settings issued via the lock or unlock region
	commands don't persist after reset.  Making them persist requires
	modifying the LOCK bits in the User Row using the infrastructure
	described below.  The Atmel SAMD2x MCUs provide a User Row (the size of which is one
	page).  This contains a few settings that users may wish to modify
	from the debugger, especially during production.  This change adds
	commands to inspect and set: - EEPROM size, the size in bytes of the emulated EEPROM region of
	  the Flash.  - Bootloader size, the size in bytes of the protected "boot" section
	  of the Flash.  This is done by a careful read-modify-write of the special User Row
	page, avoiding erasing when possible and disallowing the changing of
	documented reserved bits.  The Atmel SAMD20 datasheet was used for
	bit positions and descriptions, size tables, etc. and testing was
	done on a SAMD20 Xplained Pro board.  It's technically possible to store arbitrary user data (ex: serial
	numbers, MAC addresses, etc) in the remaining portion of the User
	Row page (that is, beyond the first 64 bits of it).  The
	infrastructure used by the eeprom and bootloader commands can be
	used to access this as well, and this seems safer than exposing the
	User Row as a normal Flash sector that openocd understands due to
	the delicate nature of some of the data stored there.  Change-Id: I29ca1bdbdc7884bc0ba0ad18af1b6bab78c7ad38 Signed-off-by:
	Andrey Yurovsky <yurovsky@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2326 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-02-03  Paul Fertser <fercerpav@gmail.com>

	* : arm_adi_v5: make dap_lookup_cs_component() traverse subtables
	and handle multicore When looking for a debug base address of a core, one should search
	through all the ROM tables, not just the top-level one.  This code also assumes that the first found entry (in a depth-first
	search) will correspond to core 0, the second to core 1 etc.  The patch is supposed to be an alternative implementation of
	http://openocd.zylin.com/#/c/1313/.  Change-Id: Ifc88971a02fe3d9c00d9bf72a822ade5804d4e09 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1920 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-09-18  Jon Burgess <jburgess777@gmail.com>

	* : gdb_server: Include current RTOS thread in signal packets This allows GDB to automatically switch to the thread that has been
	interrupted and show you where it has stopped.  Change-Id: Icb9500dc42a61eb977e9fac55ce9503c9926bf5d Signed-off-by:
	Jon Burgess <jburgess777@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2303 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-09-16  Simon Qian <openocd@versaloon.com>

	* : vsllink: improve the performance when using swd Versaloon firmware has been updated for reporting errors if fail on
	swd transactions.  Change-Id: I49ac0ad034cc9ad83cc4e43953579811d1243063 Signed-off-by:
	Simon Qian <openocd@versaloon.com> Reviewed-on:
	http://openocd.zylin.com/2302 Reviewed-by: Fatih A≈üƒ±cƒ±
	<fatih.asici@gmail.com> Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2014-09-10  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : command: Fix confusing syntax error message If the user executes a command with an invalid subcommand, the error
	message is extremely unhelpful: > flash write test.elf flash write test.elf: command requires more
	arguments This is because any command line that starts with a valid command
	group is classified as a group, triggering ocd_bouncer to print the
	confusing message.  Fix by requiring that to be a command group, the command line must
	not contain any unknown tokens after the last valid (sub-)command
	group. That is OK because command groups don't have handlers defined
	and thus can't take any parameters.  Also fix the error message for "unknown" type to be similar to the
	error message that is printed (by Jim) for non-existent primary
	commands.  Change-Id: I26950349f0909fd3961c4f9ab9b198c221cea9fc Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2285 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-09-08  Joakim Gebart <joakim.gebart@eistec.se>

	* : mpsse: Display libusb error names instead of numbers Added calls to libusb_error_name() where applicable in order to
	easier understand the error messages.  Change-Id: I3fe3d4b5624ae0de37c36e54a371eba5535ccaa1 Signed-off-by:
	Joakim Gebart <joakim.gebart@eistec.se> Reviewed-on:
	http://openocd.zylin.com/2289 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-08-31  Paul Fertser <fercerpav@gmail.com>

	* : target/arm_dpm: prevent endless loop in arm_dpm_full_context() The code treats registers that are shadowed in FIQ mode in a special
	way: to read them out the target is first switches to USR mode. But
	since USR != ANY the current implementation later skips register
	read, and the loop becomes endless in case any !valid ARM_MODE_ANY
	is present at the moment arm_dpm_full_context() is called. This was
	reported in https://sourceforge.net/p/openocd/tickets/76/. The issue
	surfaced because 2efb1f14f611f2ff8a380b703f3e8bcb8a95d1ad added two
	ARM_MODE_ANY registers ("sp" and "lr") which were not normally read,
	so at the time a user was calling "arm reg" they were not valid.  Fix this by changing the mode appropriately while keeping the "mode"
	variable state intact so it would later match register's mode.  Compile-tested only.  Change-Id: I01840e8fa20ec392220138a3f1497ac25deb080a Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2278 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-08-26  Mahavir Jain <mjain@marvell.com>

	* : flash/nor/spi: Add Winbond w25q32fv flash support Change-Id: I2919d462e04b489cc793b82ec347838a08cb8c48 Signed-off-by:
	Mahavir Jain <mjain@marvell.com> Reviewed-on:
	http://openocd.zylin.com/2273 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-07-16  Andrey Skvortsov <andrej.skvortzov@gmail.com>

	* : jtag: drivers: stlink: remove unnecessary '\n' in LOG_* entries Change-Id: Ia2dc3efc27b53334af4d85f9807abba0463c291b Signed-off-by:
	Andrey Skvortsov <andrej.skvortzov@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2220 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-08-28  Andrey Yurovsky <yurovsky@gmail.com>

	* : stm32lx: don't allow part_info to be uninitialized It's possible for us to fail to read the part ID code so make sure
	that part_info is initialized to NULL before attempting to do so,
	otherwise we could proceed and use it uninitialized and then
	segfault.  Change-Id: I0a3f3d3947690b66f0981b5046340449521e0b33 Signed-off-by:
	Jack Peel <jack.peel@synapse.com> Signed-off-by: Andrey Yurovsky
	<yurovsky@gmail.com> Reviewed-on: http://openocd.zylin.com/2276
	Reviewed-by: Andreas Fritiofson <andreas.fritiofson@gmail.com>
	Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-08-18  Nemui Trinomius <nemuisan_kawausogasuki@live.jp>

	* : cfg: Added Nucleo-F411RE board config.  It supports STLink/V2-1 debug adapter.  Change-Id: Ifbc610cd68ec929608369e69d0b1395fe04956cd Signed-off-by:
	Nemui Trinomius <nemuisan_kawausogasuki@live.jp> Reviewed-on:
	http://openocd.zylin.com/2259 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-08-20  Paul Fertser <fercerpav@gmail.com>

	* : tcl/interface/ftdi/sheevaplug: fix device description Without this SheevaPlug debugging interface can't be matched.  Change-Id: Ifca149130d03c1aa165ed1123e8540e49485f023 Reported-by:
	Andreas Schneider <schneider.andi@gmail.com> Signed-off-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2265 Tested-by: jenkins

2014-08-25  –ë—É—Ä–∞–≥–∞ –ê–ª–µ–∫—Å–∞–Ω–¥—Ä <dtp-avb@yandex.ru>

	* : tcl/target: add config for –ö1879–•–ë1–Ø, a hybrid ARM11/DSP SoC
	by RC Module This adds config to allow JTAG debugging of an ARM core of a modern
	hybrid SoC by Research Centre "Module"
	(http://www.module.ru/en/company/). –ö1879–•–ë1–Ø is targetted at
	set-top boxes and other multimedia equipment, the official SDK is
	Linux-based.  Change-Id: Ib2ae5784d25699f952682e66b025a3f677a76d5d Signed-off-by:
	–ë—É—Ä–∞–≥–∞ –ê–ª–µ–∫—Å–∞–Ω–¥—Ä <dtp-avb@yandex.ru> Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2272 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-08-14  Paul Fertser <fercerpav@gmail.com>

	* : tcl/interface/ftdi: fix TRST for Olimex TINY adapters According to the research by Eldar, TINY-H adapter has nTRST
	connected to ACBUS0 directly via a 100 Ohms series resistor. I think
	it's safe to assume the older TINY adapter does the same.  See high-res photos at [1].  This patch should fix issues with JTAG for the case when nTRST is
	actually connected but is missing from the config.  [1] https://wikidevi.com/wiki/Olimex_ARM-USB-TINY-H Change-Id: Iaaee7be30536ebb502802d38b82cd9573408f854 Reported-by:
	–•–∞–π—Ä—É–ª–ª–∏–Ω –≠–ª—å–¥–∞—Ä <eldar.khayrullin@mail.ru>
	Signed-off-by: Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2247 Tested-by: jenkins Reviewed-by:
	demokmail <demokmail@gmail.com> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2014-08-17  Paul Fertser <fercerpav@gmail.com>

	* : flash/nor/stellaris: improve support for Tiva C (Blizzard and
	Snowflake) This should make current Tiva C parts usable apart from the
	protection.  Runtime tested on TM4C123GXL (Blizzard) and TM4C1294XL (Snowflake).  Change-Id: Ia64e9d39fbd2b7049578bbfade72435e5203ddf5 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2257 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-08-15  Paul Fertser <fercerpav@gmail.com>

	* : jtag/drivers/libusb0_common: fix FTBFS (libusb_device_descriptor
	error) This struct and libusb_get_device_descriptor() method are not
	present in libusb-0.1 API, so when libusb-1.0 is unavailable, this
	code breaks the build. Fix by using the appropriate struct (which is
	apparently filled automatically on device initialisation).  While at it, change return values for consistency with the callers.  Change-Id: I7d85ab9a70401a155a65122397008ae4d81382fe Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2252 Tested-by: jenkins Reviewed-by: Austin
	Phillips <austin_phillips@hotmail.com> Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2014-08-17  Paul Fertser <fercerpav@gmail.com>

	* : target/adi_v5_swd: fix segfault when calling jtag_to_swd When SWD mode is not supported by the target adapter, the call
	should return an error instead of segfaulting.  Change-Id: I1626097deb93ecfbe78a6e82d812c7a673dbbde5 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2256 Tested-by: jenkins

2014-07-01  Angus Gratton <gus@projectgus.com>

	* : target async loader: add offset to debug lines This was very helpful when debugging programs during async loading.  Change-Id: Ia2eacc3e105403f70f51b1242b675e2ffe86e8ca Signed-off-by:
	Angus Gratton <gus@projectgus.com> Reviewed-on:
	http://openocd.zylin.com/2203 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-07-19  Angus Gratton <gus@projectgus.com>

	* : jtag/drivers/ftdi: Use adapter_khz value for initial clock speed
	(was default 1kHz) nrf51822 doesn't like a 1kHz initial clock rate, puts the DAP into a
	bad state.  Mailing list discussion thread:

	http://sourceforge.net/p/openocd/mailman/openocd-devel/thread/20140718081528.GA5554%40ex2.lan/#msg32621853Change-Id: I71aa75505cc1b41ee80c7b9db415f6ac738c2916 Signed-off-by:
	Angus Gratton <gus@projectgus.com> Reviewed-on:
	http://openocd.zylin.com/2223 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-08-08  Spencer Oliver <spen@spen-soft.co.uk>

	* : jlink: Constantify string arrays Change-Id: Ib63f4c32e6d5a7dad21567521d938142ea40b308 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/2245 Tested-by: jenkins

2014-08-08  Spencer Oliver <spen@spen-soft.co.uk>

	* : jlink: fix typo Change-Id: If495b819c0532a97447ec7208c13d8a66a3ad47d Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/2243 Tested-by: jenkins

2014-07-27  Robert Jarzmik <robert.jarzmik@free.fr>

	* : jtag: usb_blaster: fix initialization regression As Daniel pointed out, since the rewrite of the USB Blaster driver,
	the initialization behaviour has change. The initial flush of the
	FIFOs is not longer done with a specific USB setup packet, but with
	a write filling up the blaster queues.  The problem is, quoting Daniel :     When the CPLD is in bit banging mode (as is usually the case),
	    the first 0x00 byte sets all pins to low and disables the output     driver. Disabling the output drivers is a few nanoseconds slower     than changing a pin from high to low, so I see a spike towards
	    GND on my reset line when that byte is sent over USB. The spike
	    is too short to have an effect on the board.      When the 4096 0x00 bytes are processed and the TMS=1 is to be     generated, all I see is several microseconds of low level on all     pins, resetting my board.  This patch changes the way the initialization is done :  - at driver init, nothing is sent towards the usb-blaster    This gives time for init script to setup PIN6 and PIN8 (resets)  - at the very first driver command, the initialization is done :    - the output is in bit bigbang mode    - the PIN6 and PIN8 are computed according to init script    - the 4096 computed output is sent Change-Id: If7ceee957f6b59bcb27c8f912f1cfdd0f94f75ed Reported-by:
	Daniel Gl√∂ckner <daniel-gl@gmx.net> Cc: Franck Jullien
	<franck.jullien@gmail.com> Signed-off-by: Robert Jarzmik
	<robert.jarzmik@free.fr> Reviewed-on: http://openocd.zylin.com/2229
	Tested-by: jenkins Reviewed-by: Franck Jullien
	<franck.jullien@gmail.com> Reviewed-by: Daniel Gl√∂ckner
	<daniel-gl@gmx.net> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-08-14  Paul Fertser <fercerpav@gmail.com>

	* : tcl/interface/ftdi: auto-select SWD from converters' configs When you source a JTAG-SWD converter config, any other transport
	doesn't make any sense, so just autoselect it right there.  Change-Id: I6c098740905a0d4007473fc19cc07e11cbcc9369 Suggested-by:
	–•–∞–π—Ä—É–ª–ª–∏–Ω –≠–ª—å–¥–∞—Ä <eldar.khayrullin@mail.ru>
	Signed-off-by: Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2248 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-by: Eldar Khayrullin
	<eldar.khayrullin@mail.ru>

2014-01-23  Oleksij Rempel <linux@rempel-privat.de>

	* : mips_m4k.c: EJTAGBOOT and NORMALBOOT are not supported on EJTAG
	2.0 Change-Id: I8157c19e9d8aed5c2376a2c54c32c1ddac1ad5af Signed-off-by:
	Oleksij Rempel <linux@rempel-privat.de> Reviewed-on:
	http://openocd.zylin.com/1934 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-02-05  Oleksij Rempel <linux@rempel-privat.de>

	* : mips32.c: cache debug caps and support EJTAG 2.0 specific
	changes EJTAG v2.0 indicated some debug caps in IMP register.  V2.6 moved
	them to DCR register. To make it more universal, convert this values
	and store them for later use.  Change-Id: Id6b9f47c9c2ea94d37281ebfcae5acf357261ddf Signed-off-by:
	Oleksij Rempel <linux@rempel-privat.de> Reviewed-on:
	http://openocd.zylin.com/1932 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-01-23  Oleksij Rempel <linux@rempel-privat.de>

	* : mips_ejtag.c: do not set v2.6 ECR bits on v2.0 devices Change-Id: I894abbb923282d5f84daf8e0bca69190c07567de Signed-off-by:
	Oleksij Rempel <linux@rempel-privat.de> Reviewed-on:
	http://openocd.zylin.com/1930 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-08-08  Cristian Maglie <c.maglie@bug.st>

	* : Removed limit on lenght of command line options.  In particular -f and -s options may contains paths that can easily
	exceed the (old) 128 bytes buffer.  Change-Id: Ifc198536549f50663e8e588519bb9ef75dcd172c Signed-off-by:
	Cristian Maglie <c.maglie@bug.st> Reviewed-on:
	http://openocd.zylin.com/2241 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-06-28  Angus Gratton <gus@projectgus.com>

	* : stlink_usb: Fix swallowed error on read/write operations, add
	retries on SWD WAIT, clean up error debug output.  - stlink_usb_get_rw_status() had a bug where FAULT or WAIT responses   in read/write operations were ignored, leading to incomplete data.  - Added wrapper stlink_cmd_allow_retry to handle   SWD_AP_WAIT/SWD_DP_WAIT statuses in most commands. These statuses   appear if an SWD read or write received a WAIT ACK response from
	  the target more than 4 times in a row. The driver retries the
	  operation (with exponential backoff) before failing outright (in
	  testing 1 retry was always enough.) - As part of the implementation of stlink_cmd_allow_retry a large   number of lines of boilerplate were refactored.  - Fleshed out stlink_usb_error_check and added it to some more code   paths so WAIT or FAULT responses are logged to debug. WAIT
	  responses will be logged even if they are subsequently retried,
	  which should help in case the retries have subtle side effects (none   anticipated.) Tested with two targets: STLINK F0 Discovery, Nordic NRF51822. Only
	tested with STLINK V2 programmers.  Change-Id: I9af24e8f0121b035356dbb9978d6bbf4feb2e4d3 Signed-off-by:
	Angus Gratton <gus@projectgus.com> Reviewed-on:
	http://openocd.zylin.com/2201 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-05-07  Andrey Skvortsov <andrej.skvortzov@gmail.com>

	* : tcl/target: added support for TI OMAP/AM 3505 and 3517 added TAPID for OMAP/AM 3505 and 3517. Tested on TAM3517 Twister
	board with AM3517 SoC.  Change-Id: I78a3268a4adb18092c694a556538c99c9032f648 Signed-off-by:
	Andrey Skvortsov <andrej.skvortzov@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2127 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-07-24  Angus Gratton <gus@projectgus.com>

	* : newdap: Ignore -irlen/-irmask/etc newdap params on SWD or
	CMSIS-DAP Previously the -irlen parameter was required even though it is not a
	part of the SWD or CMSIS-DAP transports.  This may eventually need to be changed for CMSIS-DAP once that
	supports JTAG as well.  Change-Id: Ia02b67840c19c7cf1c7a75063648c0174176a311 Signed-off-by:
	Angus Gratton <gus@projectgus.com> Reviewed-on:
	http://openocd.zylin.com/2226 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-07-24  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : drivers/jlink: Revert old workaround This workaround broke usage with at least the I.MX6Q.  The comment implies that talking to the J-Link dongle itself should
	fail if the target isn't reset, which sounds really strange. I'm
	guessing it just triggered another bug in OpenOCD or Segger FW which
	might have been fixed since. Revert and wait and see if there are
	any failure reports.  Tested with Kwikstik (J-Link + Kinetis K40), not with the mentioned
	adapter.  Change-Id: I97f555efe079bd99c098bf483491d9509b2363ad Signed-off-by:
	Roy Spliet <rspliet@mpi-sws.org> Signed-off-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2147 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-05-14  Paul Fertser <fercerpav@gmail.com>

	* : drivers/jtag/jlink: support SWD mode Quick attempt at SWD support, closely modelled after ftdi.  Change-Id: I25140d80c5be7b2f8f0e2ef722a4ba4df0da4cf3 Signed-off-by:
	Brian Campbell <Brian.Campbell@ed.ac.uk> Signed-off-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-on: http://openocd.zylin.com/2141
	Tested-by: jenkins Reviewed-by: Nemui Trinomius
	<nemuisan_kawausogasuki@live.jp> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2014-06-18  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : Fix some problems with the bin2char utility Don't hardcode the type for the array, just output the array
	initializer so the includer can choose the type and storage class,
	zero-terminate at will and so on.  Change-Id: I6d5e0710eaaba0a218b3eb32f6569177356f4462 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2176 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-06-13  Fredrik Hederstierna <fredrik@hederstierna.com>

	* : tcl/board: add STM32429I-EVAL and STM32439I-EVAL dev boards from
	ST.  Change-Id: I304b6e7bae832391f11d53003299d68e31b0e4ef Signed-off-by:
	Fredrik Hederstierna <fredrik@hederstierna.com> Reviewed-on:
	http://openocd.zylin.com/2171 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-by: Franck Jullien
	<franck.jullien@gmail.com> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2014-07-01  Thomas Schmid <thomas@rfranging.com>

	* : Adding support for the Atmel SAMR21.  The Atmel SAMR21 is a Atmel SAMD21 with an Atmel RF233 in one
	package (two dies). Tested with the SAMR21 Xplained Pro eval kit.  Change-Id: I1d79ea05834b925d7ec810527206fe86854e684b Signed-off-by:
	Thomas Schmid <thomas@rfranging.com> Reviewed-on:
	http://openocd.zylin.com/2194 Tested-by: jenkins Reviewed-by: Andrey
	Yurovsky <yurovsky@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-01-07  Oleksij Rempel <linux@rempel-privat.de>

	* : mips_m4k.c: make sure fast_data_area is safe If load_image address overlap with fast_data_area, it will caouse
	different mysterius issues. This patch should prevent it.  Change-Id: Ibc95e5aa3ac002a59755029496b6a72616e9287f Signed-off-by:
	Oleksij Rempel <linux@rempel-privat.de> Reviewed-on:
	http://openocd.zylin.com/1854 Tested-by: jenkins Reviewed-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-07-02  Nemui Trinomius <nemuisan_kawausogasuki@live.jp>

	* : kinetis : Added Kinetis-K Series MDM-AP ID.  Kinetis-K series has ID:0x001C0000 on MDM-AP IDR register.  Other
	Kinetis(L/M/V/E) series have ID:0x001C0020.  Change-Id: Iada37038cd239f7331ba80a3673b36bf7e18c555 Signed-off-by:
	Nemui Trinomius <nemuisan_kawausogasuki@live.jp> Reviewed-on:
	http://openocd.zylin.com/2195 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-02-18  Fatih A≈üƒ±cƒ± <fatih.asici@gmail.com>

	* : vsllink: Port to libusb-1.0 API Change-Id: I8a9a4dace8e7e8152947094b27b86f9a0d90fa61 Signed-off-by:
	Fatih A≈üƒ±cƒ± <fatih.asici@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1952 Tested-by: jenkins Reviewed-by: Nemui
	Trinomius <nemuisan_kawausogasuki@live.jp> Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2014-06-23  Paul Fertser <fercerpav@gmail.com>

	* : jtag/drivers/opendous: remove ftime() calls ftime() is deprecated by POSIX.1-2008 and causes a warning on
	FreeBSD.  The generic OpenOCD LOG_DEBUG implementation already outputs time of
	an event with a millisecond precision.  Change-Id: Ic8e4ea27c268f07554ba519768b9bdfc4343f3e9 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2187 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-06-24  Paul Fertser <fercerpav@gmail.com>

	* : jtag/drivers/cmsis_dap: fix check for hardcoded vids/pids This is intended to fix cmsis_dap_vid_pid command but it doesn't
	because cmsis-dap has only one transport and it's auto-selected from
	"interface" command handler (before any other commands are run) and
	as the result cmsis_dap_usb_open() is called too early.  Change-Id: Idaade73797d8df67a6439d096f6abc9736495599 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2191 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-02-26  Mathias K <kesmtp@freenet.de>

	* : Add error handling and remove double readout.  Remove double readout of DCB_DHCSR in target poll. The return value
	of the endreset event is handled and not ignored in target poll.  Change-Id: I8fe026418dadcf0b0dcbb09acee871ad950937a2 Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/1181 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2014-06-20  Spencer Oliver <spen@spen-soft.co.uk>

	* : cfg: add SWD configs for stellaris ftdi based adapters Tested on hardware.  Change-Id: Ib0191e97988dc79e9a62da74bd7fe25f548ff5a2 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/2185 Reviewed-by: Paul Fertser
	<fercerpav@gmail.com> Tested-by: jenkins

2014-06-20  Paul Fertser <fercerpav@gmail.com>

	* : jtag/drivers/ftdi: require defining SWD_EN signal for SWD mode Use a special signal instead of a dedicated swd mask. Amend
	jtag-lock-pick_tiny_2 config accordingly.  Change-Id: Ifb007a0b5434b590c52f936efd5f5458e913e2e4 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2183 Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Tested-by: jenkins

2014-06-20  Paul Fertser <fercerpav@gmail.com>

	* : jtag/drivers/ftdi: add option to declare signal aliases This adds -alias|-nalias options to ftdi_layout_signal command that
	allow to declare a new signal based on an already defined one.  Change-Id: I552578ebcd12ae21957a1c0d3b7e878adeff6df0 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2181 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-05-14  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : Relax polling check if not in JTAG mode Polling was disabled based on global variables jtag_trst and
	jtag_srst which were never touched in non-JTAG mode. Modify the
	check and remove the ugly workaround to avoid calls to a possibly
	uninitialized JTAG subsystem.  Change-Id: I3b18c81e0fba7aaf35afe6f08c3fe8fa6f8443fd Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2143 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-05-10  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : Add FTDI SWD driver This is usable on most or all FTDI adapters using a small hardware
	tweak.  TCK goes to SWCLK as expected. TDO should be wired to SWDIO. For TDI
	there are two options: Either add a 74HC126 or similar tri-state buffer between TDI and
	SWDIO, with OE controlled by a signal named SWDIO_OE. Or simply
	connect TDI and SWDIO together via a suitable resistor (220-470 ohms
	or so depending on the drive capability of the target and adapter).  nSRST (and of course Vcc, GND) may be connected too but all other
	signals should be NC.  Change-Id: Id36cf4577439be96bd4e5955c3026236e1cabced Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1958 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-03-02  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : swd: Add frequency setting and special/switching sequences to
	the API Change-Id: I6f3950374f2525a18bbcb9cbd340c447c20fb704 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2134 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-05-09  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : swd: Remove support for turnaround periods other than 1 ARM deprecated other trn periods in ADIv5.1 and one cycle is the
	only setting that is guaranteed to be implemented, as well as being
	the reset value in ADIv5.0.  Thus it makes no sense supporting anything else.  Change-Id: Iffa16bb0ce74788bca88fd3ace8a026148013d00 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2132 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-06-19  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : swd: Convert API to asynchronous Change-Id: I859568dbb2ad4e92411980751c3f747bd70638b8 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1959 Tested-by: jenkins Reviewed-by: Andrey
	Yurovsky <yurovsky@gmail.com> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2014-04-03  Andrey Smirnov <andrew.smirnov@gmail.com>

	* : cortex_m: Do additional initialization during reset SAM4L requires additional steps to be taken right after SYSRESETREQ
	is issued in order to function robustly:        - CMSIS-DAP DAP driver needs to explicitly check for sticky
	         bit errors since it is possible for adapter to perform
	         successful write opration, report no errors and then, under the
	         hood, do some other things that will result in sticky bit being set.         - Debugger needs to wait for security system to finish          intialization and assert CDBGPWRUPACK before proceeding This change is related to commit http://openocd.zylin.com/#/c/1995/ Change-Id: I741c95a809bfd60d930cec9482239e4796a62326 Signed-off-by:
	Andrey Smirnov <andrew.smirnov@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2088 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-by:
	Andrey Yurovsky <yurovsky@gmail.com>

2014-05-09  Paul Fertser <fercerpav@gmail.com>

	* : drivers/cmsis_dap_usb: remove jtag reset hacks This should no longer be needed after tcl scripts are fixed to avoid
	calling jtag subcommands when jtag is not used.  Barely tested with an frdm board.  Change-Id: I75f02b088e6134562ae634417d97c48e377df6e9 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2130 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-02-17  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : swd: Improve parity calculation and move it to types.h It could be reused by SWD drivers and in other places.  Change-Id: Ieed0cf70c111a73d3a42ed59f46a0cdd177a73d5 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1957 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-02-18  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : adi_v5: Remove unused features of the DAP and SWD interfaces These features are not currently used so remove or disable them
	before something starts to. Not having them around simplifies
	redesign of the APIs.  Change-Id: Iad25cc71c48b68a1fa71558141bf14d5ab20d659 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1955 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-02-16  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : adi_v5: Remove strange IDCODE check from dap info handler Otherwise it breaks SWD targets. The check seems really weird anyway
	since it loops through *all* TAPs after the ADIv5 target but doesn't
	do anything at all with the result, other than not setting the
	return values despite returning ERROR_OK.  Remove a bogus initialization that was needed because of the odd
	behaviour of this routine when an IDCODE wasn't found.  Change-Id: Ic086352f6af868b3406b00420291a0a671e3acac Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1953 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-06-15  Paul Fertser <fercerpav@gmail.com>

	* : configure: fix formatting when "echo -n" is not supported The -n option is non-standard and is unavailable on some systems
	(e.g. OS X's shell builtin).  Change-Id: Ia2fed186dee5fa6da543944873d67ebee1d9354e Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2172 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-06-12  Andrey Yurovsky <yurovsky@gmail.com>

	* : flash: samd: add SAMD10 and SAMD11 part IDs Add part IDs for the new SAMD10 and SAMD11 parts within the Atmel
	SAMD family, they have the same Flash controller as the other samd
	parts and should be supported by the at91samd driver.
	Compile-tested only.  Change-Id: I493ae96a7d7e8d19e607fd9a4b6544a982be42b3 Signed-off-by:
	Andrey Yurovsky <yurovsky@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2170 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-06-10  Jiri Kastner <jkastner@redhat.com>

	* : target: arm_adi_v5: added types and subtypes based on latest
	coresight documentation while investigating coresight components, i've found some new
	partnumbers and devtypes.  Change-Id: Ie68032b0b21d542c2084f80db38b06f5cd4c7591 Signed-off-by:
	Jiri Kastner <cz172638@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2166 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-06-09  Franck Jullien <franck.jullien@gmail.com>

	* : openrisc: restore current JTAG module while polling the CPU Change-Id: I93827afaa164d23a93bdddbfa864624b18473f45 Signed-off-by:
	Franck Jullien <franck.jullien@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2163 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-05-16  Joshua Wise <joshua@joshuawise.com>

	* : svf: Only read TDO back from the device if we actually need to
	look at the bits.  This results in a 90% speedup on USB-Blaster, which serializes
	repeated TDI input against TDO readback; program time on an
	5CGXFC5C6F27 part was dropped from 2m30s to 9s.  Signed-off-by: Joshua Wise <joshua@joshuawise.com> Change-Id:
	I92d5a8b800492283d619328549235b610528c338 Reviewed-on:
	http://openocd.zylin.com/2145 Reviewed-by: Paul Fertser
	<fercerpav@gmail.com> Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-02-27  Nemui Trinomius <nemuisan_kawausogasuki@live.jp>

	* : efm32 : Added ZeroGecko family support.  Added Cortex-M0plus "ZeroGecko" Family to flash driver.  Tested on
	EFM32ZG222F32.  Change-Id: I1660b34ef6ee04837e97581504fff0faf84d1c6d Signed-off-by:
	Nemui Trinomius <nemuisan_kawausogasuki@live.jp> Reviewed-on:
	http://openocd.zylin.com/1994 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-06-16  Nemui Trinomius <nemuisan_kawausogasuki@live.jp>

	* : cfg: Added Nucleo-F334R8 board config.  It supports STLink/V2-1.  Change-Id: I0a8c01247a7a0165321818ca222479e3ae67ce5c Signed-off-by:
	Nemui Trinomius <nemuisan_kawausogasuki@live.jp> Reviewed-on:
	http://openocd.zylin.com/2175 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-06-15  Paul Fertser <fercerpav@gmail.com>

	* : flash/nor/kinetis: prevent segfaulting with an HLA HLAs do not provide direct DAP access, so the best we can do about
	it is skipping it.  Change-Id: I877ef8fd2d86e40e7442a637cdba182cfd60e05a Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2173 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-05-29  Marco Cruz <marco.caratuva@gmail.com>

	* : flash/nor/at91sam4: add SAM4E16 support Change-Id: I7ab4750073c9d34812b690996eef76fccf70c627 Signed-off-by:
	Marco Cruz <marco.caratuva@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2157 Reviewed-by: Alexandre Pereira da
	Silva <aletes.xgr@gmail.com> Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2013-11-25  Franck Jullien <franck.jullien@gmail.com>

	* : target: or1k: remove wrong endian swap from or1k generic code We don't need to swap the endianness in the target generic code.
	This swap is necessary because of the adv_debug_if debug unit.  This
	patch moves this specific piece of code from or1k.c to
	or1k_du_adv.c.  Change-Id: I3acea092fe6edfa79b4a87861b5f01204f071bf0 Signed-off-by:
	Franck Jullien <franck.jullien@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1663 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-05-24  Paul Fertser <fercerpav@gmail.com>

	* : tcl: add ASUS RT-N66U config CFI flashing verified with real hardware. RAM configuration wasn't
	attempted.  Change-Id: I9185ab71430d799793befef708a15f62edba1663 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2153 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-03-29  Cosmin Gorgovan <cosmin@linux-geek.org>

	* : Flash/LPC2000: Add support for auto-probing flash size Adds support for auto-probing on devices which support the IAP Read
	Part ID command. Includes IDs for all LPC17XX, LPC13XX, LPC11XX and
	LPC11XXX devices with publicly available user manuals.  To use auto-probing, select the 'auto' lpc2000 variant.  Change-Id: Ic617c32925c9ebe0e9d9192ed8ddbfa08e9f0aaa Signed-off-by:
	Cosmin Gorgovan <cosmin@linux-geek.org> Reviewed-on:
	http://openocd.zylin.com/2075 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-05-28  Elliott Partridge <elliott.partridge@gmail.com>

	* : STM32F2x: Don't clear FLASH_OPTCR bits when locking register stm32x_write_options is locking the FLASH_OPTCR register by writing
	0x00000001 to it, which clears the other bits. This causes problems
	with subsequent flash operations; the hardware is probably seeing
	the write protection bits in the register set to '0' (protect),
	causing a WRPERR.  This patch ORs the value of the register with
	0x00000001, so that the only change is the lock bit itself.  Change-Id: I0e3ca9aa6563ce1b57a01fc0faf7563b6b85f620 Signed-off-by:
	Elliott Partridge <elliott.partridge@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2155 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-05-15  Paul Fertser <fercerpav@gmail.com>

	* : src/target: select the last created target as current Configuration commands assume the last created target is the one
	they should be applied to. An example of this is sourcing an
	stm32f1.cfg several times to access several microcontrollers on the
	same JTAG chain where cortex_m reset_config should apply to the
	target that was just created, not to the first one.  This fixes http://sourceforge.net/p/openocd/tickets/71/ .  Change-Id: I1ca41cc05fe5f36c4bc62dde4614da1405754fd8 Reported-by:
	Michael Eischer <mieischer@users.sf.net> Signed-off-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-on: http://openocd.zylin.com/2142
	Tested-by: jenkins Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-05-23  Paul Fertser <fercerpav@gmail.com>

	* : target: reexamine after polling succeeds again If polling was failing, it likely meant that either the target was
	disconnected or rebooted. In the latter case it needs to be
	reexamined to be properly configured for the debug session, so do it
	just in case.  Reported-by: Tim Sander <tim@krieglstein.org> Tested-by: Tim Sander
	<tim@krieglstein.org> Change-Id:
	I5b067c18d9276d4e86cc59739f196ae7d0931622 Signed-off-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2151 Tested-by: jenkins Reviewed-by: Tim
	Sander <tim@krieglstein.org> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-04-03  Andrey Smirnov <andrew.smirnov@gmail.com>

	* : arm_adi_v5: Do not ignore register polling timeout Previous to this commit 'ahbap_debugport_init' would ignore if
	timeout happened or not when waiting for CDBGPWRUPACK and
	CSYSPWRUPACK and would continue initialization regardless. It also
	would not reset the timeout counter after finishing polling for
	CDBGPWRUPACK and starting for CSYSPWRUPACK which could potentially
	cause some problems.  Also refactor code of both snippets into a more generic function to
	avoid duplication.  Change-Id: I16e4f50e6819e08c4126e71ef8cec7db559d608e Signed-off-by:
	Andrey Smirnov <andrew.smirnov@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2086 Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Tested-by: jenkins

2014-05-31  Paul Fertser <fercerpav@gmail.com>

	* : configure.ac: correct test for USB_BLASTER_DRIVER AM symbol Blaster II should depend on the corresponding symbol, not on
	libusb-1 presence.  Change-Id: I3d27a1005a78fe81042cb7b515618604612c3ece Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2159 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-02-06  Paul Fertser <fercerpav@gmail.com>

	* : server: fix confusing wording for incoming tcp connections Change-Id: I40d5de322f3fc38097e04ce538b0fc2b136e0d6a Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1937 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2014-05-21  Ivan De Cesaris <ivan.de.cesaris@intel.com>

	* : quark_x10xx: cleanup of LOG format specifiers Fix for LOG format specifiers, this is a superset of those exposed
	by the arm-none-eabi build.  Add 0x prefix for all values printed in hex.  Add LOG messages for error cases when enabling or disabling paging.  Change-Id: I070c556e0ad31204231a2b572e7b93af22a9bc61 Signed-off-by:
	Ivan De Cesaris <ivan.de.cesaris@intel.com> Reviewed-on:
	http://openocd.zylin.com/2149 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-05-05  Yegor Yefremov <yegorslists@googlemail.com>

	* : KS869x: add new target This patch adds Micrel's KS869x target. The configuration was taken
	from http://www.mmnt.net/db/0/0/www.micrel.com/ethernet/8695 -
	Micrel's FTP server i.e. their OpenOCD 7.0 package.  The only change compared to the original file is the removal of
	reset configuration, as it belongs to the board configuration.  Change-Id: Ic8509aa5fe5ce3166a3129e1c055280a3b2b9312 Signed-off-by:
	Yegor Yefremov <yegorslists@googlemail.com> Reviewed-on:
	http://openocd.zylin.com/2125 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2013-12-03  Salvador Arroyo <sarroyofdez@yahoo.es>

	* : mips32: new code for pracc exec This is only the basic code proposed for mips32_pracc_exec()
	function.  It checks every pracc address against the expected
	address when reading (instruction fetch).  The code expects to start
	at PRACC_TEXT and any subsequent read address is obtained by adding
	4 to the previous one.  After shifting out all the instructions the
	code executes a final check.  It checks now for the first pass
	trough PRACC_TEXT and shift out only NOP instructions.  A mips core
	does not need an additional NOP and after the first check it exits
	if there is no store access pending.  After shifting out one NOP the
	core must be reading at pracc text or the code exits with error.
	The code continues shifting out NOPs until all store accesses have
	been performed.  After shifting out 10 NOPs it exits with error.  No
	assumption is made about the number of store instruction shifted out
	or the ordering of the store accesses. It only checks that the
	number of store accesses is the same as the number of store
	instructions at dmseg after execution.
	mips32_pracc_read_ctrl_addr() and mips32_pracc_finish() are added to
	simpify a bit the code. Fields pa_ctrl and pa_addr are added in
	ejtag_info for storing values of pracc control and address.  Change-Id: If6322d5c8cbeadcd4acd3972c0f72c8490f53c34 Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/1827 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2013-08-25  Salvador Arroyo <sarroyofdez@yahoo.es>

	* : mips: use cp0 DeSave to cache $15 / t7 Near all pracc functions store $15 in DeSave and restore it when
	exiting.  There is no need to save it, if mips32_pracc_read_regs()
	save this register in Desave when entering debug mode.
	mips32_pracc_write_regs() needs to update it when exiting debug
	mode.  Other pracc functions must not modify DeSave.  The jump code
	in the fastdata transfer function needs also some little
	modifications.  Remark: Like in current code the user can
	read/modify $15 with the cp0 31 commands.  Change-Id: I5b7dfc1b6169da846f5d2dd3ad4209a9da2c3fad Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/1565 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2013-08-23  Salvador Arroyo <sarroyofdez@yahoo.es>

	* : mips: load code in buffer mode Currently the functions mips32_checksum_memory() and
	mips32_blank_check_memory() load the code word by word.  The bug in
	cache code is a good reason for doing so.  If there is no other
	reason we can load the code as a buffer to save time.
	mips_m4k_write_memory() expect a buffer in target endianness, this
	is done by target_buffer_set_u32_array().  Cleaned up exit code.
	Tested on ar7241 big endian and pic32mx little endian with
	verify_image.  Flash erase check only tested in pic32mx.  Change-Id: Ib63ed98732b2e23b058e7349a0a57934b7604905 Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/1562 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-04-28  Paul Fertser <fercerpav@gmail.com>

	* : Update to the current Jim Tcl This is a post-release version but hopefully some fixes that went in
	are worth it; also the changes here make OpenOCD compatible with
	stock 0.75 version if a distro maintainer decides to use it.  Change-Id: I7ad1814c7c4868198475cdca4750c3d0ee4f5f8b Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2121 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2014-02-27  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : ftdi: Optimize GPIO toggling Only send the new I/O state for the bytes that changed.  Change-Id: I930edc9518e6019331e68e4756acc5e92dda25a4 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1999 Tested-by: jenkins Reviewed-by: Jens
	Bauer <jens@gpio.dk> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2014-04-16  Paul Fertser <fercerpav@gmail.com>

	* : doc: document [start end] parameters of "profile" command Change-Id: I56561b08304e5b854a67b06ab6b9cee7a24919b2 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2115 Tested-by: jenkins

2014-04-15  Spencer Oliver <spen@spen-soft.co.uk>

	* : armv7a: fix typo in cache_config help text Change-Id: I48cb83bf56b2f6841c3add68ed94b9f92037357d Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/2114 Tested-by: jenkins

2014-04-16  Ash Charles <ashcharles@gmail.com>

	* : Add support for Gumstix AeroCore device The Gumstix AeroCore board [1] contains a STM32F427 microcontroller.
	Schematics for this board will also be made available [2].  The JTAG
	interface for this chip can be accessed via a USB connection
	provided by an FTDI chip (0403:6011).  [1] https://store.gumstix.com/index.php/products/585/ [2]
	https://pubs.gumstix.com/boards/AEROCORE Change-Id: I0bf3bb525f51528bedd807b1f7210b09ef2e1015 Signed-off-by:
	Ash Charles <ashcharles@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2117 Reviewed-by: Paul Fertser
	<fercerpav@gmail.com> Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-04-27  Paul Fertser <fercerpav@gmail.com>

	* : The openocd-0.8.0 release Signed-off-by: Paul Fertser <fercerpav@gmail.com>

2014-04-18  Ivan De Cesaris <ivan.de.cesaris@intel.com>

	* : quark_x10xx: fix IO r/w operations with paging enabled Paging checking and disabling wasn't present for IO r/w, so the
	commands were successful only when paging wasn't enabled (e.g. EFI
	boot phase).  Change-Id: I41366c0fadff3ea1eb8a153291f20a46cd9ddec1 Signed-off-by:
	Ivan De Cesaris <ivan.de.cesaris@intel.com> Reviewed-on:
	http://openocd.zylin.com/2118 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2014-04-15  Paul Fertser <fercerpav@gmail.com>

	* : The openocd-0.8.0-rc2 release candidate Signed-off-by: Paul Fertser <fercerpav@gmail.com>

2014-04-09  Paul Fertser <fercerpav@gmail.com>

	* : svf: try to reallocate buffers if they're not enough On larger FPGAs the default buffer size is not nearly enough;
	automatically reallocate it as needed.  Change-Id: Ic8071e8cceddeef897ce76996c029250fd22662b Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2099 Tested-by: jenkins Reviewed-by:
	Kenneth Lorthioir <ibelimb@gmail.com> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2014-04-09  Spencer Oliver <spen@spen-soft.co.uk>

	* : usb_blaster: fix warning: array subscript has type ‚Äòchar‚Äô caught by clang 3.4 running on cygwin.  Change-Id: I59f652337334e557fb50374f5270ba9c30392b6e Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/2100 Reviewed-by: J√∂rg Wunsch
	<openocd@uriah.heep.sax.de> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Tested-by: jenkins

2014-04-10  Paul Fertser <fercerpav@gmail.com>

	* : configure: presto ftdi driver requires libftdi Change-Id: I4b04eec5084d4b8129e2aff8f3411c6d92e84431 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2101 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com> Reviewed-by: Xiaofan
	<xiaofanc@gmail.com>

2014-03-31  Tim Sander <tim@krieglstein.org>

	* : target: fix incorrect arm cpu monitor mode encoding According to the "Arm Arch Ref Manual ARMv7-a and ARMv7-R edition"
	the CPSR encoding for Monitor mode is 0b10110 (22) not 0b11010 (26)
	as is currently used.  Change-Id: I73373a0029a81abc92febf518b88bf0dd4dec1fa Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/2081 Reviewed-by: J√∂rg Wunsch
	<openocd@uriah.heep.sax.de> Tested-by: jenkins Reviewed-by: Younes
	REGAIEG <y.regaieg@gmail.com> Reviewed-by: Tim Sander
	<tim@krieglstein.org> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2014-02-28  Andreas Ortmann <ortmann@finf.uni-hannover.de>

	* : contrib/rpc_examples: add example for python3 Halt, resume, memory read/write are used in various ways.  Change-Id: Ia6727678bfc19cc764f822b739bddaae56e9dc70 Signed-off-by:
	Andreas Ortmann <ortmann@finf.uni-hannover.de> Reviewed-on:
	http://openocd.zylin.com/2000 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-04-05  Karl Hammar <karl@aspodata.se>

	* : parport: add "aspo" hotpluggable adapter config This adds a new adapter config.  Design files are available from: http://turkos.aspodata.se/git/openhw/isp/pp_jtag_arm20.sch
	http://turkos.aspodata.se/git/openhw/isp/pp_jtag_arm20.pcb No need to document it anywhere as only a single device was ever
	built.  Change-Id: If031fdb9dedb1e544401747bfb7fbc5afc4d5407 Signed-off-by:
	Karl Hammar <karl@aspodata.se> Signed-off-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-on: http://openocd.zylin.com/2094
	Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-03-31  Paul Fertser <fercerpav@gmail.com>

	* : README.OSX: add 10.9 specific hints Change-Id: I8c684f2964262fb0670ed74fded26676833aee10 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2080 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-by: Xiaofan
	<xiaofanc@gmail.com>

2014-03-30  Paul Fertser <fercerpav@gmail.com>

	* : jtag/aice/aice_usb: remove unused constants Those are breaking the build with clang 3.4 (current default
	compiler on OS X 10.9.2).  Change-Id: I9f2fbfbb6d544498cb8d6a62565e4ebe7223e784 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2077 Tested-by: jenkins Reviewed-by:
	Hsiangkai Wang <hsiangkai@gmail.com>

2014-03-30  Paul Fertser <fercerpav@gmail.com>

	* : Restore -dev suffix Signed-off-by: Paul Fertser <fercerpav@gmail.com>

2014-03-28  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : Don't cast return value of [cm]alloc Change-Id: I0028a5b6757b1ba00031893d9a2a1725f915a0d5 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2069 Tested-by: jenkins Reviewed-by: J√∂rg
	Wunsch <openocd@uriah.heep.sax.de> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-01-17  Paul Fertser <fercerpav@gmail.com>

	* : NEWS: add release highlights Change-Id: Ifa4459b3b7b58b639d6c885a2ea88cefbfac2680 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1881 Tested-by: jenkins

2014-02-08  Andrey Smirnov <andrew.smirnov@gmail.com>

	* : at91samd: Bail early if trying to erase protected sector Bail early if trying to erase protected sector and also do not
	double-erase already erased sectors.  Change-Id: Ic2d39af48c3b8e10e78d52dd978b9bc01f671c6a Signed-off-by:
	Andrey Smirnov <andrew.smirnov@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2026 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-02-08  Andrey Smirnov <andrew.smirnov@gmail.com>

	* : at91samd: Remove 'first' and 'last' checks in 'samd_erase' Remove 'first' and 'last' checks in 'samd_protect' since those
	parameters are checked in 'handle_flash_erase_command'.  Change-Id: I30e5598a9ab656d81055f26cc63e291377605300 Signed-off-by:
	Andrey Smirnov <andrew.smirnov@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2024 Tested-by: jenkins Reviewed-by: Andrey
	Yurovsky <yurovsky@gmail.com> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2014-02-21  Paul Fertser <fercerpav@gmail.com>

	* : tcl/target: make milandr configs swd-compatible Change-Id: Ibb34f0d7829b205341bcce511ffc2624bdfe2c75 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1962 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-03-28  Spencer Oliver <spen@spen-soft.co.uk>

	* : target: fix handle_profile_command variable typo Change-Id: I5d476aecb4622731890e168b1be3173718151e95 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/2066 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-01-27  Paul Fertser <fercerpav@gmail.com>

	* : Add xscale debug helper sources and everything related to dist GPL requires providing sources for any derived work. I do not see
	any reason to not include the xscale stuff into release tarballs.  Wildcard matching is used because plain directory name matches
	implicit rule for executables and xscale.c built is errorneously
	attempted, and directory name with a slash duplicates a directory (xscale/xscale) in dist.  Change-Id: Ie0266470dcb97be87a09ba2dda9b3957f7cbc2fa Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1911 Tested-by: jenkins Reviewed-by: Robert
	Jarzmik <robert.jarzmik@free.fr> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-01-27  Paul Fertser <fercerpav@gmail.com>

	* : Add usb_blaster cheap clone notes to dist Change-Id: Ie9569634415ef76e88d5ca58bae6184838cf7114 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1908 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-01-27  Paul Fertser <fercerpav@gmail.com>

	* : Move xsvf_tools and remote_bitbang to contrib/ It looks like tools/ should be used only for build tools, and
	contrib/ is a suitable place for everything else.  Change-Id: Iddaebba0acb6d66404912ec96749b46e4be643d8 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1906 Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk> Tested-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-01-27  Paul Fertser <fercerpav@gmail.com>

	* : Move ocl (at91sam7x flash loader) sources to contrib Change-Id: Ib5c3c505a067d0e285a7b074cb6fddebfa6dda1e Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1904 Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk> Tested-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-03-17  Spencer Oliver <spen@spen-soft.co.uk>

	* : armv7m: remove magic numbers for number of core registers Change-Id: I4296b812f0211011ccf3da8d203545dfba493903 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/2053 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-03-15  Andrey Smirnov <andrew.smirnov@gmail.com>

	* : nrf51: Fix incorrect flash writing sequence nRF51 doesn't have any sort of flash page cache so we need to write
	all of the data on the word-by-word basis and poll for "Flash Ready"
	bit each time.  Signed-off-by: Andrey Smirnov <andrew.smirnov@gmail.com> Change-Id:
	I8caffbf69ebf9a69915724704ddbe270d1bb8d92 Reviewed-on:
	http://openocd.zylin.com/2050 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-03-01  Andrey Smirnov <andrew.smirnov@gmail.com>

	* : nrf51: Add UICR writing support SoftDevice stack ihex binary, provided by Nordic expects being able
	to write data necessary for its correct operation at the adresses
	inside UICR.  This patch exposes UICR region of flash as a second
	bank on the MCU to facilitate that.  Signed-off-by: Andrey Smirnov <andrew.smirnov@gmail.com> Change-Id:
	Idbc140b8de027f60655f78043877b7c054eb06f9 Reviewed-on:
	http://openocd.zylin.com/2013 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-03-18  Franck Jullien <franck.jullien@gmail.com>

	* : cfg: or1k_generic: allow TAP_TYPE override This patch allows users to specify TAP_TYPE from the command line
	when using or1k_generic.cfg.  Change-Id: I9f4b7d8e4867658fa34bb4e92fc3a5f25227df11 Signed-off-by:
	Franck Jullien <franck.jullien@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2056 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-03-21  Tim Sander <tim@krieglstein.org>

	* : tcl: add Zynq-7000 target and Zedboard board configs Change-Id: Ia7f2a57d1b32dda9936ad87e22635f7749ff3ce1 Signed-off-by:
	Tim Sander <tim@krieglstein.org> Signed-off-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-on: http://openocd.zylin.com/2061
	Tested-by: jenkins

2014-03-07  Andrey Yurovsky <yurovsky@gmail.com>

	* : jlink: add support for Jlink-OB (0x0105) devices The JLink-OB (onboard) devices work the same way as the normal JLink
	except that their PID is 0x0105 (and that's the only one we know of
	so far) and their endpoint addresses are different due to there
	being a CDC-ACM interface as well.  These JLink-OB devices show up
	on a lot of vendors' development kits as an integrated debugger.  This change simply checks whether the adapter we opened has a
	JLink-OB PID and, if it does, uses the JLink-OB endpoints rather
	than the default.  To do this, we add a new routine,
	jtag_libusb_get_pid() to the libusb adapter layer, it in turn just
	calls libusb_get_device_descriptor(), which previously had no
	wrapper.  Also, checkpatch.pl doesn't like the VID/PID macros as defined so I
	moved them to the array itself.  This should have no effect on the
	code.  This change adds the 0102 through 0104 PIDs to openocd.rules as well
	as this new 0105 PID.  Tested on an Atmel SAM4S Xplained board which has a JLink-OB, also
	regression tested by using a 0x0101 PID normal JLink adapter.  Signed-off-by: Andrey Yurovsky <yurovsky@gmail.com> Change-Id:
	I121d30e57729cda3adb66e2a5dc72e1fcb7ef8b1 Reviewed-on:
	http://openocd.zylin.com/2031 Tested-by: jenkins Reviewed-by:
	Xiaofan <xiaofanc@gmail.com> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2014-02-26  Antony Pavlov <antonynpavlov@gmail.com>

	* : top .gitignore: ignore ctags tag files Change-Id: I64538525626688b0cd1eda579294e547a2e40b30 Signed-off-by:
	Antony Pavlov <antonynpavlov@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1971 Tested-by: jenkins Reviewed-by:
	Oleksij Rempel <linux@rempel-privat.de> Reviewed-by: J√∂rg Wunsch
	<openocd@uriah.heep.sax.de> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2014-02-25  Paul Fertser <fercerpav@gmail.com>

	* : flash/nor/tcl: fix segfault on write_image misuse "flash write_image (unlock|erase)" (without filename) was causing
	segmentation fault in strcmp(). This patch fixes it.  Change-Id: Ia3b8c796f4107621d78605c02d2b8e123b1b207b Reported-by:
	ajkroll][ <ajkroll][@irc.freenode.net> Signed-off-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-on: http://openocd.zylin.com/1970
	Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-03-22  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : ft2232: Mark interface driver as deprecated Change-Id: I5ebc924ab66c86f1902942bebc203a34d97abc64 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1899 Reviewed-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk> Tested-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-02-28  Felipe Balbi <balbi@ti.com>

	* : tcl: target: icepick: add icepick_d_tapenable procedure instead of replicating icepick_d_tapenable in many of TI's newer
	platforms, we can move to icepick.cfg and just call it from board
	TCL configuration file.  This is similar to the C but has a few
	changes we need to make.  Change-Id: I0ab48005ccd66cd5b67b919fb5e3b462288f211d Signed-off-by:
	Felipe Balbi <balbi@ti.com> Signed-off-by: Tom Rini <trini@ti.com>
	Reviewed-on: http://openocd.zylin.com/2030 Tested-by: jenkins
	Reviewed-by: Paul Fertser <fercerpav@gmail.com>

2014-02-27  Spencer Oliver <spen@spen-soft.co.uk>

	* : cfg: change default SAM4L cortex_m reset_config From testing this target does not seem to support using SYSRESETREQ,
	change the default to the safe VECTRESET.  This target also has other reset issues (srst not working) that will
	be addressed in another patch.  Change-Id: Icfc78347dc71aa3a062ddea63190a818d7fbc760 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1995 Tested-by: jenkins Reviewed-by: Angus
	Gratton <gus@projectgus.com>

2014-03-14  Jˆrg Wunsch <openocd@uriah.heep.sax.de>

	* : Make the Atmel SAM3 family SWD-aware Atmel's SAM3 and SAM4 processor families are very close to each
	other in many respects.  However, so far, only the SAM4 target
	script contained the magic to allow using SWD, while SAM3 was tied
	to JTAG only.  This e.g. prevented the CMSIS-DAP driver from
	accessing SAM3 devices as it only uses SWD transport (by now).  The patch pulls all the things from the SAM4 target script that are
	also applicable to SAM3 devices.  With the patch, an Atmel CMSIS-DAP
	debugger (Atmel-ICE) was proven to be able to successfully attach to
	a SAM3S-EK evaluation kit.  I also cross-checked that accessing
	through a SAM-ICE (Segger J-Link) still works with the patch.  Change-Id: I20dafbff8e1e9f967da950e48a56205586eeef8d Signed-off-by:
	J√∂rg Wunsch <openocd@uriah.heep.sax.de> Reviewed-on:
	http://openocd.zylin.com/2046 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-03-14  Jˆrg Wunsch <openocd@uriah.heep.sax.de>

	* : Prevent segfault when the USB product string cannot be retrieved In the CMSIS-DAP driver, if nothing has been specified by the user,
	an attempt is made to find the first device with the (mandatory)
	substring "CMSIS-DAP" in any USB device's product string.  However,
	while (usually) all devices can be traversed, devices the user does
	not have permission for cannot be read the product string from,
	resulting in a NULL pointer.  Trying to find the substring
	"CMSIS-DAP" causes a segementation fault then.  This has also been filed as Trac bug #67: https://sourceforge.net/apps/trac/openocd/ticket/67 Change-Id: Idfc9f072e34152e9af99fe1c8ec88c99dea4624c Signed-off-by:
	J√∂rg Wunsch <openocd@uriah.heep.sax.de> Reviewed-on:
	http://openocd.zylin.com/2044 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-03-10  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : flash: Constify write buffer Change-Id: Ic812098d3ed5a2992c26bb57d08ae350e2c5d5d8 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2040 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-03-10  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : flash/efm32: Fix bug in odd byte count padding Change-Id: I7fcd152a8501f399c6ac5a85fd62a84c82b030a0 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2038 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-01-31  Paul Fertser <fercerpav@gmail.com>

	* : openocd.texi: document Tcl RPC and add an example client This should provide enough information to start using OpenOCD RPC.  I've seen some other example clients in different languages but I
	can't find them anymore, and their legal status was unclear.  Change-Id: I3a95fe361d773040d1e52a62f9cc0cc655019a9f Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1915 Tested-by: jenkins Reviewed-by:
	Andreas Ortmann <ortmann@finf.uni-hannover.de> Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2014-03-07  Paul Fertser <fercerpav@gmail.com>

	* : gdb_server: do not copy feature names for tdesc generation We always have feature names defined by string literals and the
	standard guarantees static storage duration for them. Hence, there's
	no need duplicating and then freeing them.  Valgrind-tested.  Change-Id: I1b77f966c548e3694141c63bd8680735f0f47505 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2028 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-02-02  Tim Kryger <tim.kryger@linaro.org>

	* : bcm281xx: Add bcm281xx SoC and bcm28155_ap board Add support for Broadcom's dual A9 mobile SoC and its reference
	board.  Change-Id: Ia145b120043bddc89c44726066023154ae390788 Signed-off-by:
	Tim Kryger <tim.kryger@linaro.org> Reviewed-on:
	http://openocd.zylin.com/1926 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2014-03-07  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : stlink: Use callback to increase frequency of trace data
	sampling The ST-LINK/V2 has limited internal buffering, such that trace data
	can be missed if the target is generating data at a rate quicker
	than the OpenOCD trace sampling. The issue of lost data is
	compounded since individual TPIU packets may be split across
	individual STLINK_TRACE_EP reads, and misleading results can occur
	if mid-packet loss occurs.  This patch increases the frequency of checking for pending trace
	data with the aim of minimising such losses. Note: With the limited
	(I/O and memory) bandwidth of the ST-LINK/V2 there cannot, however,
	be a guarantee against trace data loss.  The timer callback is only added when enabling tracing, and is
	removed when tracing is disabled.  Change-Id: Ibde9794b77793d3068f88cb5c1a26f9ceadcbd8a Signed-off-by:
	James G. Smith <jsmith@ecoscentric.com> Signed-off-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1661 Tested-by: jenkins

2014-03-03  Tom Rini <trini@ti.com>

	* : cfg: Switch ti_beaglebone to new ftdi interface Tested on Beagelbone White.  Change-Id: I544d7c1ba21a6bd594c0a1c4a9611639fa3c320d Signed-off-by:
	Tom Rini <trini@ti.com> Reviewed-on: http://openocd.zylin.com/2017
	Tested-by: jenkins Reviewed-by: Paul Fertser <fercerpav@gmail.com>

2014-02-05  Paul Fertser <fercerpav@gmail.com>

	* : target: add CoreSight PMU and an unidentified component to "dap
	info" Change-Id: I705eae46b190dbd89ab01bc086c49eb04368d9b3 Reported-by:
	Brad Riensche <brad.riensche@gmail.com> Signed-off-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-on: http://openocd.zylin.com/1928
	Tested-by: jenkins Reviewed-by: Brad Riensche
	<brad.riensche@gmail.com> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2013-05-29  Chris Johns <chrisj@rtems.org>

	* : targets: Print nested ROM tables with the 'dap info' command.  Move the ROM table printing into a separate function to allow
	recursive calls with nested tables. ROM tables can nest. The
	printing is limited to 16 levels.  Update the types of tables printed. When an entry can't be read,
	print a warning and continue.  Change-Id: Ib134edd9e987af2f5f606071521885b17af4d70f Signed-off-by:
	Chris Johns <chrisj@rtems.org> Reviewed-on:
	http://openocd.zylin.com/1427 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-03-06  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : gdb_server: Fix segfault in (and rewrite) decode_xfer_read Introduced by 537b06a81 (free non-malloced memory).  Rewrite to use standard C string routines and make returning annex
	optional since it's not currently used.  Change-Id: Idf3698a482dfeff7fa5ea1660fd89122eb80b68d Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2023 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-02-25  Andrey Yurovsky <yurovsky@gmail.com>

	* : Add support for the Atmel SAMG53 flash: at91sam4: add support for the SAMG53 family (this also covers
	the SAMG51).  The SAMG5x parts have an EEFC (enhanced embedded flash
	controller) which seems to be identical to the EFC that the sam4
	driver supports.  Add a script for the Xplained Pro G53 board, this has the onboard
	CMSIS-DAP debugger and a SAMG53N19.  Tested on this board and chip
	combination.  Change-Id: I12af50402cd2069b3c7380d92e6fe54816d6c045 Signed-off-by:
	Andrey Yurovsky <yurovsky@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1974 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-02-02  Christian Eggers <ceggers@gmx.de>

	* : gdb_server: fix memory leaks in users of get_reg_features_list() v4: - changed first line of commit message v3: - added extra LOG_ERROR() message v2: - Added missing "goto error" - free also the on extra element of features[] In contrast to target_get_gdb_reg_list(), the list returned by
	get_reg_features_list() consists of items which are itself
	malloc'ed.  --> Free the list items prior freeing the list itself.  Additionally: - gdb_generate_target_description():   o Do error handling similar as gdb_get_target_description_chunk()
	  does.  - gdb_get_target_description_chunk()   o **features must be initialised prior an "goto error" can happen Change-Id: Iad07824618c51084e0aa0499ee6fc96198b320f0 Signed-off-by:
	Christian Eggers <ceggers@gmx.de> Reviewed-on:
	http://openocd.zylin.com/1917 Tested-by: jenkins Reviewed-by: Trevor
	Woerner <trevor.woerner@linaro.org> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-02-14  Christian Eggers <ceggers@gmx.de>

	* : gdb_server: Don't modify "buf" argument in decode_xfer_read() Make a temporary copy of argument "buf" before modifying it.  This
	requires also returning annex as copy of "buf".  This change is necessary in order to make packet[] "const".  Change-Id: I41eddc2edba1a88384aa7f5591fe50f6ee6a135c Signed-off-by:
	Christian Eggers <ceggers@gmx.de> --- Changelog: v4: - Initialize annex to NULL v3: - Return "annex" as copy instead of removing it.  Reviewed-on:
	http://openocd.zylin.com/1924 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-02-03  Christian Eggers <ceggers@gmx.de>

	* : gdb-server/rtos: Send correct answer to "qfThreadInfo" packet Even if no RTOS is configured, "qfThreadInfo" must be answered with
	"l" instead of "". Otherwise GDB will switch to the older thread
	packet ("qL"), which is not supported by OpenOCD.  Change-Id: Iead045bdf8268bac2378c8f70829b17c37834e44 Signed-off-by:
	Christian Eggers <ceggers@gmx.de> Reviewed-on:
	http://openocd.zylin.com/1925 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-02-09  Antony Pavlov <antonynpavlov@gmail.com>

	* : mips32: build register cache in a more clear way This commit is inspired by armv7m_build_reg_cache().  Change-Id: I62b51b2a5f0fed788af167b6f8e60c09b53181be Signed-off-by:
	Antony Pavlov <antonynpavlov@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1943 Tested-by: jenkins Reviewed-by:
	Oleksij Rempel <linux@rempel-privat.de> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-02-09  Antony Pavlov <antonynpavlov@gmail.com>

	* : drivers/jtag: usb_blaster: make command handlers more strict If user used wrong argument number for some usb_blaster_* commands
	then openocd show just warning message.  This commit makes command
	handler's behaviour more strict and openocd treats wrong argument
	number as an error.  In addition we already have 'help' and 'usage' information in struct
	command_registration ublast_command_handlers[], so we can drop
	redundancy messages in command handlers.  Change-Id: I73b8c75ec60a18e5258a4bdffe972e8a1afc1066 Signed-off-by:
	Antony Pavlov <antonynpavlov@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1942 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-02-23  Joerg Fischer <turboj@gmx.de>

	* : EFM32 Wonder Gecko Family support Add support for EFM32 Wonder Gecko family to flash driver.  This
	family has Cortex M4F core.  Change-Id: If71511015403069e3e30cb9f19df12cd97ac49e8 Signed-off-by:
	Joerg Fischer <turboj@gmx.de> Reviewed-on:
	http://openocd.zylin.com/1968 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-02-09  Antony Pavlov <antonynpavlov@gmail.com>

	* : usb_blaster: ublast_access.h: add guard macro Change-Id: I10f6e2048cf88f64f5dce275a273783365afd65c Signed-off-by:
	Antony Pavlov <antonynpavlov@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1941 Tested-by: jenkins Reviewed-by: Robert
	Jarzmik <robert.jarzmik@free.fr> Reviewed-by: Oleksij Rempel
	<linux@rempel-privat.de> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2014-02-15  Paul Fertser <fercerpav@gmail.com>

	* : ft2232: warn about lack of TRST on "turtle" adapter This patch fixes a build error (assigning a variable to itself) with
	clang.  Since this adapter lacks trst, trying to use it in reset_config will
	fail silently. Warn the user accordingly.  Change-Id: I16fd20936f00d7ff82962f4fcc629ff434aa4dce Reported-by:
	Rainer M√ºller <raimue@codingfarm.de> Signed-off-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-on: http://openocd.zylin.com/1946
	Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-02-21  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : stm32f1x: Fix option byte flag parsing Change-Id: Ifa04e1f215ac5790db3d432cc0d7d532660459f2 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1963 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-02-06  Adrian Burns <adrian.burns@intel.com>

	* : quark_x10xx: add new target quark_x10xx Intel Quark X10xx SoC debug support added Lakemont version 1 (LMT1)
	is the x86 core in Quark X10xx SoC Generic x86 32-bit code is in
	x86_32_common.c/h Change-Id: If2bf77275cd0277a82558cd9895b4c66155cf368 Signed-off-by:
	adrian.burns@intel.com Reviewed-on: http://openocd.zylin.com/1829
	Tested-by: jenkins Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2014-01-18  Paul Fertser <fercerpav@gmail.com>

	* : interface/ftdi/xds100v2.cfg: default to reset state and ask user
	to release it later This adapter is special and needs a reset sequence to be performed
	before operation. Since there're no suitable hooks to do that, we
	have no choice but to ask the user to manually add the necessary
	commands to his or her config file.  Change-Id: I48fb4276e77529768266840221b68c3ae26801e1 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1884 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2013-10-29  Paul Fertser <fercerpav@gmail.com>

	* : cortex_a: do not try to use MMU for translation if it wasn't
	enabled on target stop On a target where AHB AP memory access is unavailable, care should
	be taken to avoid treating addresses as virtual if the MMU was
	disabled at the time the target was stopped.  Without this it's impossible to peek memory with Gdb when debugging
	e.g. a bootloader because cortex_a8_read_memory() unconditionally
	tried (and failed because of a sanity check in cortex_a8_mmu_modify)
	to enable MMU.  Change-Id: Id7c63f4912920fb71a6104226ec6428d18c96a56 Reported-by:
	mbm@openwrt.org Signed-off-by: Paul Fertser <fercerpav@gmail.com>
	Reviewed-on: http://openocd.zylin.com/1787 Tested-by: jenkins
	Reviewed-by: Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-01-20  Spencer Oliver <spen@spen-soft.co.uk>

	* : flash: declare fixed arrays const Change-Id: Id06b8b53ec59a7b3182f60f51dde5b16563aaeef Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1887 Tested-by: jenkins

2014-01-17  Paul Fertser <fercerpav@gmail.com>

	* : flash/nor/stm32f1x: fix format specifiers warning Caught by clang on OS X. Reported by Steffanx on IRC.  Change-Id: Id77c7297c58e58c4e2aa8e5dafcb3a29a1f33f3d Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1879 Tested-by: jenkins Reviewed-by:
	Xiaofan <xiaofanc@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-01-17  Paul Fertser <fercerpav@gmail.com>

	* : server/gdb_server: fix uninitialised variable warning Caught (breaks build) with clang 3.3.  Change-Id: I5978fe34e82122f62e3d587bcdc45ad12f5e55ca Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1877 Tested-by: jenkins Reviewed-by:
	Xiaofan <xiaofanc@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-01-24  Spencer Oliver <spen@spen-soft.co.uk>

	* : doc: add missing reg command argument 'force' The argument 'force' enables a user to bypass the internal cache and
	read a target register directly. However it is missing from the user
	guide.  Change-Id: I26f689eec20b38a0dc5294626b25df566b554446 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1897 Tested-by: jenkins

2014-01-22  Nemui Trinomius <nemuisan_kawausogasuki@live.jp>

	* : kinetis : improve kinetis flash driver.  Kinetis K-series have different guranuarity for each frequency
	model.  This patch adding more minute guranuarity detection.  And
	adopted mass erase command not only L-series but also K-series.
	Tested on MK20DX32VLF5,MK10DX32VLF5,and MKL25Z128VLK4.  Change-Id: Iffef850d4b388463756a13faf02c3890bfc19acf Signed-off-by:
	Nemui Trinomius <nemuisan_kawausogasuki@live.jp> Reviewed-on:
	http://openocd.zylin.com/1894 Tested-by: jenkins Reviewed-by: Per
	Ekman <pekenator@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk> Reviewed-by: Mateusz Kaduk
	<mateusz.kaduk@gmail.com>

2014-01-22  Spencer Oliver <spen@spen-soft.co.uk>

	* : cfg: LPC17xx default to using SYSRESETREQ to reset target Originally the LPC17xx user guide (UM10360 Rev 2) stated that
	SYSRESETREQ was not supported, so this was the default cortex_m
	reset mode.  Rev 3 of the same user guide states that it is now supported.  This
	has been verified on a LPC1768 mbed platform, previously I have not
	tested this functionality.  Change-Id: I4858248903981a1c93ce75016e67c9e02702fcc5 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1892 Tested-by: jenkins Reviewed-by: J√∂rg
	Fischer <turboj@gmx.de> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2013-11-26  Paul Fertser <fercerpav@gmail.com>

	* : arm920t: fix write memory operations with caches enabled Commit ff5ec942d80a34e20b5a3ca3328f7e6a55fb309b made this target
	always use generic arm7_9 memory write routines for software
	breakpoints which resulted in inability to debug and single-step
	sources in Gdb when icache is active as generic routine doesn't
	invalidate it. This should fix it (and is real-life tested against
	Samsung S3C2442). I expect other arm7-9 targets to be affected as
	well.  Change-Id: Id7980e370ae4db47ac6b1490321d81ffe85711c0 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1817 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2014-01-20  Peter Lawrence <majbthrd@gmail.com>

	* : CMSIS-DAP: auto-detect CMSIS-DAP USB VID:PID The current OpenOCD implementation requires CMSIS-DAP adapter USB
	VID:PID values to either be hard-coded in the source or manually
	supplied by the user's configuration files.  The CMSIS-DAP
	specification stipulates that all compliant adapters should have
	"CMSIS-DAP" in the product string.  This should obviate the need for
	hard-coding.  This patch was previously submitted as changes 1882, 1883, and 1886
	but amendments failed to be registered by the server.  The
	functionality was changed from 1886 in response to comments so that
	user-supplied VID:PID values overrided the CMSIS-DAP auto-detect.  Change-Id: Ifb2dc217248359f448e0a42bd1527dd744c434b0 Signed-off-by:
	Peter Lawrence <majbthrd@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1888 Tested-by: jenkins Reviewed-by:
	Xiaofan <xiaofanc@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-01-18  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : doc: Add Gerrit to the Developer resources section Change-Id: Icbf2050967cea06b05a09574a6a91ce1407a489f Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1885 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-by: Xiaofan
	<xiaofanc@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-01-06  Paul Fertser <fercerpav@gmail.com>

	* : gdb_server: check for invalid read memory requests This prevents invalid free(NULL) (that crashes OpenOCD on desktop
	distros).  With radare2 it's now a bit more useful, memory access works if I
	seek to the correct address, can't test further as it apparently
	lacks thumb2 support.  Change-Id: I6ec32d09fd52dab53ba765d7f7519baa1f55d973 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1853 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-11-03  Franck Jullien <franck.jullien@gmail.com>

	* : jtag/drivers: add USB-Blaster II This patchs adds a new access driver for the existing USB-Blaster
	interface driver.  This interface (as it is build-in on the sockit development board)
	is composed of a Cypress EZ-USB plus a CPLD.  The Cypress chip as an embedded 8051 microcontroller.  When it's
	powered up, the firmware is downloaded to the chip then the device
	is disconnected and reconnected with the new firmware.  The USB-Blaster II protocol is almost identicial to the old one. The
	only difference is that you need to send a 0x5F before read TDO
	back. This command seems to copy TDO buffer datas to the endpoint
	buffer.  Driver will be auto enabled if libusb-1.0 is detected.  Change-Id: I562a720a68cb4dcabeab791947d5d38776cb70fa Signed-off-by:
	Franck Jullien <franck.jullien@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1791 Tested-by: jenkins Reviewed-by: Robert
	Jarzmik <robert.jarzmik@free.fr> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-01-11  Spencer Oliver <spen@spen-soft.co.uk>

	* : target: fix typos Change-Id: Icdb517224e8bcf41a16498088e09955048077d35 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1864 Tested-by: jenkins Reviewed-by: Bill
	Traynor <btraynor@gmail.com> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2013-11-04  Hsiangkai Wang <hsiangkai@gmail.com>

	* : Conform to C99 integer types format specifiers Review and modify to conform to C99 integer types format specifiers.
	Use arm-none-eabi toolchain to build successfully.  Change-Id: If855072a8f88886809309155ac6d031dcfcbc4b2 Signed-off-by:
	Hsiangkai Wang <hsiangkai@gmail.com> Signed-off-by: Hsiangkai
	<hsiangkai@gmail.com> Reviewed-on: http://openocd.zylin.com/1794
	Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-12-23  Andrey Yurovsky <yurovsky@gmail.com>

	* : Atmel samd: add support for SAMD21 Tested with SAMD21J18A on the SAMD21 Xplained Pro board.  Change-Id: Ice9ebcd229ed038b3193baf92d910f9256d7ce91 Signed-off-by:
	Andrey Yurovsky <yurovsky@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1873 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-12-29  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : adi_v5: Remove unnecessary MEM-AP access functions It's far nicer to pass a size parameter than to split the calls to
	separate wrappers which are combined to a single function anyway.  Change-Id: I716741ebf916f6f8e9358a31c8f4fe761107c82f Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1847 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-12-29  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : target: Add test bench for memory access functions Change-Id: I86e6fe4d0b4d580389ae5e1d3f4813d1e25b2613 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1629 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-01-11  Robert P. J. Day <rpjday@crashcourse.ca>

	* : A few more grammar and typo fixes from the User's Guide.  More cleanup from some of the later chapters from the User's Guide,
	no functional changes.  Change-Id: Ib2860fc2574503e8107935d79db45fa96014fe3a Signed-off-by:
	Robert P. J. Day <rpjday@crashcourse.ca> Reviewed-on:
	http://openocd.zylin.com/1863 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-01-10  Robert P. J. Day <rpjday@crashcourse.ca>

	* : Proofreading, typo and grammar fixes to Ch 10 User's Guide.  Various cleanups to Chapter 10 of the User's Guide, no functional
	changes.  Change-Id: I055d032eacc8e85b1d8edbd4bcc505f6f0feaa49 Signed-off-by:
	Robert P. J. Day <rpjday@crashcourse.ca> Reviewed-on:
	http://openocd.zylin.com/1861 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-10-03  Andrey Yurovsky <yurovsky@gmail.com>

	* : add support for Atmel SAMD NOR Flash This adds a new NOR Flash driver, "at91samd", which supports the
	built-in Flash on Atmel's D-series Cortex M MCUs, starting with the
	D20.  Parts and their geometry are detected automatically using the
	DSU and lookup schemes described in the D20 document,
	42129F‚ÄìSAM‚Äì10/2013.  Future D-series variants and families
	should presumably use this controller as well (possibly with minor
	changes and improvements).  Tested on the SAMD20 Xplained Pro board, for which we also add the
	corresponding Flash configuration.  Change-Id: Id8d3dd601e9f53121682d1a1190d0be4ea3b83eb Signed-off-by:
	Andrey Yurovsky <yurovsky@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1684 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-11-04  Spencer Oliver <spen@spen-soft.co.uk>

	* : cfg: add initial Atmel xplained kit support These kits feature a CMSIS-DAP compliant debugger and so have been
	added as part of the pending support.  Currently the flash drivers for the L8 and D20 are wip.  One issue this implementation of CMSIS-DAP raised is that it
	supports 512byte HID reports, however using the current HIDAPI we
	have no cross platform way of querying this info. Long term we plan
	to add this support to HIDAPI.  Change-Id: Ie8b7c871f58a099d963cd71a9f8a0105a38784e9 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1625 Tested-by: jenkins

2013-12-19  Spencer Oliver <spen@spen-soft.co.uk>

	* : cmsis-dap: add initial cmsis-dap support This is based on work from:
	https://github.com/TheShed/OpenOCD-CMSIS-DAP/tree/cmsis-dap Main changes include moving over to using HIDAPI rather than
	libusb-1.0 and cleaning up to merge into master. Support for reset
	using srst has also been added.  It has been tested on all the mbed boards as well as the Freedom
	board from Freescale. These boards only implement SWD mode, however
	JTAG mode has been tested with a Keil ULINK2 and a stm32 target -
	but requires a lot more work.  Change-Id: I96d5ee1993bc9c0526219ab754c5aad3b55d812d Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Signed-off-by: Andrey Yurovsky
	<yurovsky@gmail.com> Reviewed-on: http://openocd.zylin.com/1542
	Tested-by: jenkins

2013-12-30  Paul Fertser <fercerpav@gmail.com>

	* : tcl/netgear-dg834v3.cfg: add to easy firmware recovery list Change-Id: I6e5205ec41c58dc2fe3fb0051c30918507ef1e88 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1851 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-12-31  Paul Fertser <fercerpav@gmail.com>

	* : tcl/board: add Linksys WRT54GL v1.1 board config Tested flashing a real v1.1 device.  Change-Id: Ie0d202b9fded8b92e731d93e0ef17be415a75fc8 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1852 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-01-08  Robert P. J. Day <rpjday@crashcourse.ca>

	* : Allow "tcl_port" to be run after config to simply display the
	port.  To be consistent with gdb_port and telnet_port, allow tcl_port to be
	run to display the configured port number, while still not allowing
	the user to change it after configuration.  Change-Id: Ibe6aedb3bd447f2985e42dd8246358481a047dd6 Signed-off-by:
	Robert P. J. Day <rpjday@crashcourse.ca> Reviewed-on:
	http://openocd.zylin.com/1857 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-01-08  Robert P. J. Day <rpjday@crashcourse.ca>

	* : Numerous pedantic fixes to the User's Guide, including typo
	fixes, grammar fixes and so on.  Change-Id: Iaeb603447ecd9f77f1d49ce77044431442f4f219 Signed-off-by:
	Robert P. J. Day <rpjday@crashcourse.ca> Reviewed-on:
	http://openocd.zylin.com/1855 Reviewed-by: Bill Traynor
	<btraynor@gmail.com> Tested-by: jenkins Reviewed-by: Francois
	Lorrain <francois.lorrain@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-12-24  Franck Jullien <franck.jullien@gmail.com>

	* : target/image: allow for comments in IHEX files This is not in the Intel hex file format specification but some hex
	files may include comments (i.e. Altera USB-Blaster II firmware)
	starting with '#'.  This patch makes image_ihex_buffer_complete_inner to skip comment
	lines.  Change-Id: Id1f57d84d75da45e592f1c72b2b8c29193bc14e3 Signed-off-by:
	Franck Jullien <franck.jullien@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1842 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-11-29  Per Ekman <pekenator@gmail.com>

	* : kinetis : Add timeouts to flash status checking in
	dap_syssec_kinetis_mdmap().  Change-Id: Ifc8fe7aa4c2a40a78fa0655435e82418f549bad3 Signed-off-by:
	Per Ekman <pekenator@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1819 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-11-29  Per Ekman <pekenator@gmail.com>

	* : kinetis : Detect MCU flash parameters based on the SDID
	register.  Try to detect the flash parameters based on the MCU SDID register.
	The hope is that this works for K and KL series MCUs but it has only
	been tested on a K21. YMMV.  Change-Id: Idfe71383a449065267f393b09ee3c3b24ac6a803 Signed-off-by:
	Per Ekman <pekenator@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1823 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-07-27  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : Remove special handling of script search path on Windows On all platforms, search for scripts in $HOME/.openocd
	${run_prefix}${pkgdatadir}/site ${run_prefix}${pkgdatadir}/scripts On Windows, set run_prefix to the runtime path of the executable,
	minus ${bindir}. This is to enable the install dir to be moved
	anywhere, as long as the structure of the install dir is kept
	intact. On all other platforms, run_prefix is empty.  The script paths can now be adjusted on Windows builds the normal
	way; by overriding pkgdatadir at build time. For example, to create
	a Windows package layout of bin/openocd.exe scripts/interface/...  scripts/target/...  you can do configure --prefix= --enable-... and then make
	pkgdatadir= DESTDIR=/some/path clean all install Also, remove the unused PKGLIBDIR define.  Change-Id: If2c8228fc80c598d763efad21c5f51695ff9b6cf Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1796 Tested-by: jenkins Reviewed-by: Jens
	Bauer <jens@gpio.dk> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-12-18  Ed Maste <emaste@freebsd.org>

	* : Avoid 'may be used uninitialized' warning from FreeBSD base GCC Change-Id: Ice2472bf7a467652485a5a8c36880c6a47d64c6c Signed-off-by:
	Ed Maste <emaste@freebsd.org> Reviewed-on:
	http://openocd.zylin.com/1835 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-12-21  Franck Jullien <franck.jullien@gmail.com>

	* : jtag_vpi: fix build errors under MinGW Change-Id: Ic13f9982014ead811e2f2d737ca1621e0e85577e Signed-off-by:
	Franck Jullien <franck.jullien@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1839 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-11-22  Sergey A. Borshch <sb-sf@users.sourceforge.net>

	* : at91sam7sx.cfg: fix use $_TARGETNAME as target identifier, not
	'0' warning all other at91 cfg files already has this fix.  It also fix "No
	flash at address 0x...." error when JTAG chain consist of more than
	one at91sam7sx cores during attempt to flash other than first mcu in
	chain.  Change-Id: I7785d9103d0fc494b6a823e2c73f850373ffe112 Signed-off-by:
	Sergey A. Borshch <sb-sf@users.sourceforge.net> Reviewed-on:
	http://openocd.zylin.com/1812 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-11-22  Sergey A. Borshch <sb-sf@users.sourceforge.net>

	* : fix flash bank auto_probe() fail with multiple targets   get_flash_bank_by_addr() iterates through all flash banks trying
	to auto_probe() every bank, even if bank can belongs to target other
	than requested, and this other target can be in non-halted state,
	which leads to error message and operation abort.    Same situation in gdb_new_connection() and gdb_memory_map():
	get_flash_bank_by_num() tries to auto_probe() requested bank, so
	first get bank by get_flash_bank_by_num_noprobe(), check if it
	belongs to current connection's target and skip
	get_flash_bank_by_num() (actually autoprobing) if not.  Change-Id: I48b3f93dddcd9283394f14ad2de3248397c75ab3 Signed-off-by:
	Sergey A. Borshch <sb-sf@users.sourceforge.net> Reviewed-on:
	http://openocd.zylin.com/1813 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2013-11-26  Paul Fertser <fercerpav@gmail.com>

	* : tcl/target: add config for Milandr's 1986–≤–µ1—Ç controller This is a Cortex-M1 controller targetting aviation appliances.  Contributed (and live-tested) by 8daemon.  Change-Id: I133d6122cf6492b51ddbdbd800c16ba121d51bf3 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1818 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-11-10  Sergio Chico <sergio.chico@gmail.com>

	* : topic: Support for the Xilinx BSCAN_* Virtual JTAG in Openrisc This add support to the Xilinx BSCAN_* virtual JTAG interface.  This
	is the Xilinx equivalent of the Altera sld_virtual_jtag interface,
	it allows a user to connect to the debug unit through the main FPGA
	JTAG connection.  Change-Id: Ia438e910650cff9cbc8f810b719fc1d5de5a8188 Signed-off-by:
	Sergio Chico <sergio.chico@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1806 Tested-by: jenkins Reviewed-by: Franck
	Jullien <franck.jullien@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-12-13  Spencer Oliver <spen@spen-soft.co.uk>

	* : flash: revert incorrect stm32f1 default_padded_value Commit 2493671e2d9c352ea70edc8665b4c8f172ef1141 added a default
	flash padded value to the wrong file, should have been stm32lx.c not
	stm32f1x.c.  Change-Id: Idab634a03ccb28609cc977a92ac2b138d1e8d859 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1833 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2013-11-15  Dongxue Zhang <elta.era@gmail.com>

	* : [PATCH 1/2]support64: Add functions into types and target Add functions into types.h, target.c, target.h to operate 64bits
	data.  Prepare for 64bits mips target.  Change-Id: I668a8a5ac12ba754ae310fa6e92cfc91af850b1c Signed-off-by:
	Dongxue Zhang <elta.era@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1700 Tested-by: jenkins Reviewed-by:
	Mathias K√ºster <kesmtp@freenet.de> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2013-10-24  Per Ekman <pekenator@gmail.com>

	* : kinetis : Add flash sector size detection for K21 MCU.  The current way of detecting the sector size of the internal flash
	does not work for all Kinetis MCUs. Add support for the K21 flash by
	detecting the specific model from the SDID register and picking the
	correct sector size based on that.  Change-Id: I41f678353e45a44561af8a3398bdd4479dfeea4f Signed-off-by:
	Per Ekman <pekenator@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1764 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-10-24  Per Ekman <pekenator@gmail.com>

	* : kinetis : Fix broken check for mass erase.  If the flash is not ready (MDM_STAT_FREADY is 0) then
	dap_syssec_kinetis_mdmap() would act as if the MDM_STAT_SYSSEC bit
	was set and erase the flash. Wait until MDM_STAT_FREADY is set
	before checking the MDM_STAT_SYSSEC bit.  Change-Id: I5c3352f625599016625ed9be8787033f49bfacea Signed-off-by:
	Per Ekman <pekenator@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1762 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-10-24  Spencer Oliver <spen@spen-soft.co.uk>

	* : target: use target_buffer_set_u32_array Attempt to use target_buffer_set_u32_array to convert to target
	endian arrays rather reimplementing code.  This also removed cfi_fix_code_endian as its functionality is also
	repeated.  Change-Id: I7c359dbe46ea791cd5f6fb18d8b0fb6895c599d3 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1783 Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2013-11-03  Paul Fertser <fercerpav@gmail.com>

	* : jtag: fix support for really long scans When programming large FPGAs the generated SVF files might contain
	really long SDR scans. They won't fit in the 1MiB jtag scan page at
	all, so in this case the allocated page needs to be bigger. The
	current code was silently corrupting memory.  One particular example was sent by Volter targetting XC3S4000. It
	has an SDR 11316992 bits long, that is 1414624 bytes.  Change-Id: I39f18d7e0654f2dbdf37df58c837c9ec1fb2aa2a Reported-by:
	"Voltner, Ji≈ô√≠" <j.voltner@era.aero> Signed-off-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-on: http://openocd.zylin.com/1792
	Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-10-30  Andrey Yurovsky <yurovsky@gmail.com>

	* : add TI TMS570 support scripts Add support for the TMS570 Cortex-R4 MCU from TI and their USB stick
	development kit, TMDX570LS31USB.  Tested attaching, reset/halt/run,
	and reading and writing memory and registers.  Change-Id: I12d779cef0c2b834f9bcf722307f35677cc4bd8f Signed-off-by:
	Andrey Yurovsky <yurovsky@gmail.com> Signed-off-by: Andrey Smirnov
	<andrew.smirnov@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1788 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-11-05  Alan Bowman <alan.michael.bowman@gmail.com>

	* : Correct argument numbering in trace command The trace command was opening a file named with the source
	frequency.  This change correctly passes the filename that is
	specified.  Change-Id: Ia2eb8eda0e1e0f4f44b05c3a0ce7bef3bda51446 Signed-off-by:
	Alan Bowman <alan.michael.bowman@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1800 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-10-24  Mathias K <kesmtp@freenet.de>

	* : target: fix mem2array/array2mem  if data size is bigger than transfer buffer, all portions are  transferred from/to the same target address - address advance  after successful transmission missed.  Change-Id: I79a6c388af197ac062d2807e397a2d7947400520 Signed-off-by:
	Sergey A. Borshch <sb-sf@users.sourceforge.net> Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/1679 Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk> Tested-by: jenkins

2013-09-29  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : ti_icdi_usb: Remove unnecessary casts and fix byte order bugs Found by grepping for pointer casts.  Some additional cast can be removed if hexify/unhexify arguments are
	changed to a more suitable type.  Change-Id: I13796b056f00976979bf0e754de3aa7648f7f321 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1778 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-09-28  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : binarybuffer: Remove unnecessary cast and fix hidden "bug" Because of the cast, the const decoration on the parameter provided
	no guarantee against modification since it was silently discarded.  Change-Id: Ib83ade955e1a61ee2175c690620437b5e19cbb6a Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1776 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-09-28  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : str7x: Fix byte order bug Found by grepping for pointer casts.  Change-Id: I56d5680590e37d8c61197488067fbb0776e5e0f0 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1774 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-09-28  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : pic32mx: Fix byte order bug Found by grepping for pointer casts.  Change-Id: If73184a16904ec2958e7253ba98f44479fdcad3f Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1772 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-09-28  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : aduc702x: Fix byte order bug Found by grepping for pointer casts.  Change-Id: I00e000515cb2573130b73423eb19ba941f524b05 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1769 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-09-28  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : Remove unnecessary casts Change-Id: Ia97283707282ccccdc707c969f59337313b4e291 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1767 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-09-28  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : Remove unnecessary (void *) When pointer casts are needed, cast directly to the correct type,
	instead of going via void*.  Don't explicitly cast to void* if it would have been done
	implicitly.  Change-Id: I4093209200051c5eb62847d00a4b9c8567480068 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1669 Tested-by: jenkins Reviewed-by:
	Mathias K√ºster <kesmtp@freenet.de> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-10-31  Paul Fertser <fercerpav@gmail.com>

	* : ftdi/tumpa.cfg: enable proper output buffer control, add another
	USB ID The schematics used for writing the config file were incorrect, real
	hardware needs ACBUS3 _low_ as it's connected directly to the output
	buffer's !OE pin.  Also apparently sometimes TUMPA comes with default FTDI IDs.  Real-life tested (including TRST and SRST) with a custom stm32f103
	board, thanks to Mike Wang for the adapter sample.  Change-Id: Iab566e6d14f8392030f6ff2c8d976e1b57cf5ce6 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1789 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-10-26  Paul Fertser <fercerpav@gmail.com>

	* : checkpatch: correct false positives reporting instructions Change-Id: Ib45d3db4436a5df5215f2c2d8b8f9a6d48d5f348 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1786 Tested-by: jenkins Reviewed-by:
	Mathias K√ºster <kesmtp@freenet.de> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-09-25  Spencer Oliver <spen@spen-soft.co.uk>

	* : cortex_m: set fpb_enabled on enabling fpb If the fpb_enabled is not set then as part of
	cortex_m3_set_breakpoint we enable the fpb, however we do not signal
	the fpb as being enabled.  This issue only effects the hla target as the current cortex_m code
	enables the fpb during cortex_m3_endreset_event.  Change-Id: I44d3fc65916c131b7a226869dd16aed5afb441b4 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1634 Tested-by: jenkins

2013-10-24  Thomas Schmid <thomas.schmid@gmail.com>

	* : sam4s flash: fix PLLA frequency calculation if diva > 1 The code didn't address the case where diva is bigger than 1.  Change-Id: I15d8c47aa7b5cf80df1f29e067f30575f5d60a90 Signed-off-by:
	Thomas Schmid <thomas.schmid@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1765 Tested-by: jenkins Reviewed-by:
	Mathias K√ºster <kesmtp@freenet.de> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-10-13  Paul Fertser <fercerpav@gmail.com>

	* : Remove jtag_rclk from target configs Some boards might have RCLK omitted from the JTAG connector and if
	the interface claims support for it, OpenOCD will end up trying to
	use RCLK while it's actually impossible.  This is a "cd tcl/target; sed -i s/jtag_rclk/adapter_khz/g *" patch.  Change-Id: Iee7337107bc1457966b104389ba9db75a9c860b4 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1695 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-by: Mathias K√ºster
	<kesmtp@freenet.de>

2013-10-26  Nemui Trinomius <nemuisan_kawausogasuki@live.jp>

	* : lpc2000: Fix flash programming fail on LPC4300 internal flash LPC43xx with internal flash parts model needs "IAP Init(49)"Command
	before erase & write internal flash.Tested on a LPC4337 and LPC4357.  Change-Id: I48620ce12e578c61a3ca1adcd48815c1f71c35bb Signed-off-by:
	Nemui Trinomius <nemuisan_kawausogasuki@live.jp> Reviewed-on:
	http://openocd.zylin.com/1784 Tested-by: jenkins Reviewed-by: Jens
	Bauer <jens@gpio.dk> Reviewed-by: Mathias K√ºster
	<kesmtp@freenet.de> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-10-21  Martin Schmˆlzer <martin.schmoelzer@student.tuwien.ac.at>

	* : Fix ULINK driver dependencies in configure.ac Commit dd6274deed65c47ba2ef46e14259167d393399d8 (see
	http://openocd.zylin.com/#/c/1475/ for futher information) adds the
	wrong libusb dependency for the ULINK driver (libusb-0.1), when in
	fact the ULINK driver uses the libusb-1.0 API since commit
	f684252b2530d86f3a8330940105b86c770231f1.  Change-Id: I6946f1fdc0e26bfc7bdcff27a721e05a05b464a5 Signed-off-by:
	Martin Schm√∂lzer <martin.schmoelzer@student.tuwien.ac.at>
	Reviewed-on: http://openocd.zylin.com/1699 Tested-by: jenkins
	Reviewed-by: Spencer Oliver <spen@spen-soft.co.uk>

2013-10-10  Spencer Oliver <spen@spen-soft.co.uk>

	* : cfg: add STM32F429 discovery board config Change-Id: I4ee7a8185a02fac9d1f6079ab34d6a9f7047193a Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1691 Tested-by: jenkins

2013-10-05  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : nds32: Remove unused declaration Change-Id: Ie0df720b2adacc8f10474f88f15142fa94c388b8 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1686 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-10-05  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : arm7_9: Avoid infinite loops in bulk write dispatching Add a mandatory field in struct arm7_9_common for regular,
	non-optimized memory writes. Together with the existing
	bulk_memory_write field, this allows variants to select any
	combination of implementations for regular and bulk writes, without
	risking infinite loops from accidentally using bulk writes for
	implementing bulk writes.  ARM 7/9 targets may now select arm7_9_memory_write_opt as their
	target.write_memory implementation, which will dispatch to
	arm7_9_common.bulk_write_memory if possible, or fallback to
	arm7_9_common.write_memory otherwise.  To avoid loops, bulk write implementations mustn't call any other
	functions than arm7_9_write_memory_no_opt() to write memory; it will
	unconditionally call arm7_9_common.write_memory. If they fail, they
	should simply return error to allow the caller to fallback to
	regular writes.  Tested on a regular ARM7TDMI only.  Change-Id: Iae42a6e093e2df68c4823c927d757ae8f42ef388 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1685 Tested-by: jenkins Reviewed-by: Sergey
	A. Borshch <sb-sf@users.sourceforge.net> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-10-13  Franck Jullien <franck.jullien@gmail.com>

	* : openrisc/du_adv: check or1k_adv_jtag_init return value Change-Id: I784c16b8137b4269254c86007e6766b1a2297aa2 Signed-off-by:
	Franck Jullien <franck.jullien@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1693 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-10-03  Franck Jullien <franck.jullien@gmail.com>

	* : jtag_vpi: use DIV_ROUND_UP Change-Id: I31d315a79a1587d7873c5b8713daf8276fa146d0 Signed-off-by:
	Franck Jullien <franck.jullien@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1683 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2013-09-20  Andrey Yurovsky <yurovsky@gmail.com>

	* : sam4s flash: remove unused bootstrap routine Remove the static const array containing ARM instructions for a
	bootstrap program.  Despite what the comment says, the DAP can write
	to the Flash and in fact this program is not referenced anywhere in
	openocd so it's a bit confusing having it in there.  There should be
	no functionality change from this.  Change-Id: I4ca4206f090a896628ee9b675d1f04450ada1563 Signed-off-by:
	Andrey Yurovsky <yurovsky@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1641 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2013-10-10  Spencer Oliver <spen@spen-soft.co.uk>

	* : cortex_m: target implementation renames cortex_m3 to cortex_m We changed the actual target name quite a while ago.  This changes
	the actual target function names/defines to also match this change.  Change-Id: I4f22fb107636db2279865b45350c9c776e608a75 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1626 Tested-by: jenkins

2013-10-07  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : stm32f2x: Fix sector numbering for dual bank flash erase Reference: RM0090 rev 5.  Change-Id: I9f7ae09c0ba91d166aebcdc25300d0ca58a5a56d Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reported-by: Nader
	Shehayed <nshehayed@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1689 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-09-19  Spencer Oliver <spen@spen-soft.co.uk>

	* : flash: add padded_value cmd This adds support for setting the default value used when padding
	image sections. Previously 0xff was used but some targets have an
	erased value of 0x00.  Change-Id: If3df6fea3abf95b09daa3ff7be362acf991070ce Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1635 Tested-by: jenkins

2013-10-03  Sergey A. Borshch <sb-sf@users.sourceforge.net>

	* : fix lpc2000 flash programming fail.   some members of lpc2000_info structure sometimes used uninitialized  (cmd51_can_64b for all LPC except LPC800 as example).    Init allocated lpc2000_info structure with zeros to avoid this and
	  similar bugs in the future.  Note: maybe discarding all
	cmd51_can_XXXb fields and using cmd51_dst_boundary instead will be a
	better solution.  Signed-off-by: Sergey A. Borshch <sb-sf@users.sourceforge.net>
	Change-Id: Idf116a5b0bf4ea1c39ea0ce308ec2c13bfbd4d8c Reviewed-on:
	http://openocd.zylin.com/1676 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-by: Nemui
	Trinomius <nemuisan_kawausogasuki@live.jp>

2013-09-28  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : jtag/tcl: Avoid casting away const Here, in_value == out_value, so free the non-const one.  Change-Id: I017ad9e7519711ac0c9da79265be7daaa846f356 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1667 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-09-28  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : jtag/tcl: Fix double free in jtag newtap argument parsing Found when grepping for void* casts. I'm pretty sure there are about
	*picking a number out of the blue* 0.31 bugs per pointer cast in
	OpenOCD.  Verified by valgrind, i.e.: valgrind openocd -f
	interface/jtagkey.cfg -c "jtag newtap dummy cpu -irlen foo" Change-Id: Idc12e8f18036cc908fdb572828fa46563be14242 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1665 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-09-29  Paul Fertser <fercerpav@gmail.com>

	* : hla: if the idcode callback returns 0, treat as a wildcard Also document the callback accordingly.  Change-Id: I7e8ef481e8b5391b763b7f7187fac023e9fe04df Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1673 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-09-21  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : flash/nor: Make info function optional Remove lots of no-op or dummy info function implementations and
	check if it's implemented before invoking it.  Change-Id: I2144dad6a84a80359bb13a8a29a4614387e4c135 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1642 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-09-25  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : arm_adi_v5: Rewrite MEM-AP transfer implementation Create a single pair of relatively simple functions to handle all
	variants of MEM-AP transfers. This replaces the many separate
	functions that handled different access sizes and packed or
	non-packed transfers, which were all implemented rather differently.  With this single implementation, performance should be more
	consistent, regardless of transfer type.  Change-Id: I89960e437fc6ba68a389c074fab8eac91abcf844 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1658 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-09-22  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : arm_adi_v5: Fix packed transfers crossing TAR auto-increment
	block The word count returned from max_tar_block_size() was compared with
	the count of half-word/bytes in the u16 and u8 packed access
	functions, causing an infinite loop if the access actually crossed
	the boundary.  Change max_tar_block_size() to return a byte count, and scale at the
	call site.  Change-Id: I2fe9b5941eb485f3d8219cfdd29fb71e02006de4 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1649 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-08-08  Franck Jullien <franck.jullien@gmail.com>

	* : Add new target type: OpenRISC Add support for OpenRISC target. This implementation supports the
	adv_debug_sys debug unit core. The mohor dbg_if is not supported.
	Support for mohor TAP core and Altera Virtual JTAG core are also
	provided.  Change-Id: I3b1cfab1bbb28e497c4fca6ed1bd3a4362609b72 Signed-off-by:
	Franck Jullien <franck.jullien@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1547 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2013-06-17  Philip Craig <phil@blackmoth.com.au>

	* : jlink: improve USB read during jlink_tap_execute Previously, when doing EMU_CMD_HW_JTAG3 commands we would do two
	reads, one to read the data, and one to read the result. However, we
	can just do a single larger read instead.  The motivation for this change is a weird problem. If I run the
	Segger software before running OpenOCD, then the first read always
	fails: Error: usb_bulk_read failed (requested=1, result=0) Error:
	jlink_tap_execute, wrong result -107 (expected 1) Sniffing the USB traffic shows that the J-Link is returning an
	overflow error, meaning it is expecting to return the full result in
	a single read.  Change-Id: I75e020d3b3732c9a74ee3d31838fdf17a7fac24c Signed-off-by:
	Philip Craig <phil@blackmoth.com.au> Reviewed-on:
	http://openocd.zylin.com/1447 Tested-by: jenkins Reviewed-by:
	Xiaofan <xiaofanc@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-09-21  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : jlink: Replace crazy home cooked assertion with a real one Change-Id: I83d66ddef34965dd94a0ff76aa1367cc9d19f2df Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1644 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-09-17  S¯ren J¯rvang <jorvang@users.sourceforge.net>

	* : bus_blaster: do not fail on missing get_latency_timer Patch submitted from Trac #64 Seems certain clones do not correctly
	emulate the ftdi chip, if the call to read the latency timer fails
	then do not treat this as a failure.  Change-Id: Iae671b926d101adf1010639d11ca46c58d0af524 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1627 Tested-by: jenkins Reviewed-by:
	Xiaofan <xiaofanc@gmail.com>

2013-09-18  Spencer Oliver <spen@spen-soft.co.uk>

	* : hla: move memory read/write functionality to driver Due to issues reported when using the jtag mode of the stlink (see
	Trac #61), the functionality/checking has been moved to the driver.  This change also fixes unaligned 32bit memory read/write for the
	stlink.  From testing this change also brings a 3KiB/s speed increase, this
	is due to the larger read/write packets.  Change-Id: I8234110e7e49a683f4dadd54c442ecdc3c47b320 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1632 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2013-09-11  Spencer Oliver <spen@spen-soft.co.uk>

	* : hla: cleanup read/write api This is the first part in moving the adapter specific api back into
	the driver.  The next task is to also move the hla read/write buffer size
	handling.  Change-Id: I86a19144b50b6de18659bfcd05b3729b2cafc051 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1621 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2013-09-13  Spencer Oliver <spen@spen-soft.co.uk>

	* : armv7m: add gdb target description support Change-Id: I7c01109c0b85d208fb04a7ae1185fab4b2ab96b8 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1620 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2013-09-13  Spencer Oliver <spen@spen-soft.co.uk>

	* : gdb: enable target description support by default This enables gdb target description support by default, it will
	check that this is supported by the active target.  Change-Id: Iea5a5b94c5e373af30dacb780020b79536caa1e3 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1618 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2013-09-12  Spencer Oliver <spen@spen-soft.co.uk>

	* : gdb: add default description reg types Add support for the default gdb register description type "int" and
	"float".  When this is given to gdb it will use the bitsize to
	determine the reg size.  Change-Id: Iaeed594d1feece54044128eae1baff9858bdcae0 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1622 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2013-09-18  Spencer Oliver <spen@spen-soft.co.uk>

	* : adiv5: check packed transfers are supported Currently we try and use MEM-AP packed transfers as much as possible
	for 8/16bit transfers. However not all targets support packed
	transfers, so check before using.  Change-Id: I66256007f25ccd0c583f23db5acf6d1aa8b5e57d Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1602 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2013-09-15  Paul Fertser <fercerpav@gmail.com>

	* : README: add missing adapters and flash drivers, mention
	profiling This updates README with all the "keywords" added since the initial
	upstream submission (and finally fixes the typo in the beginning).  Change-Id: Ia071267246fe6afc19fc0bfcda83c4778e7ff5b1 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1624 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2013-09-13  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : contrib: Add example cross-build script Usage: export LIBUSB1_SRC=/path/to/libusb-1.0 export
	OPENOCD_CONFIG="--enable-..." cd /work/dir
	/path/to/openocd/contrib/cross-build.sh <host-triplet> For static linking, a workaround is to export
	LIBUSB1_CONFIG="--enable-static --disable-shared" All the paths must not contain any spaces.  Feel free to comment or update this patchset with improvements.  Change-Id: Ib3b4970117f13a6140a1eddc493d324a52364519 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1531 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-09-11  Paul Fertser <fercerpav@gmail.com>

	* : configure: auto-enable USB adapters based on libusb availability This unifies the way the USB adapters are handled, and enables them
	automatically whenever possible (until explicitly disabled). If an
	adapter is explicitly enabled but can't be built, abort the
	configure.  Also add infrastructure for generic handling of adapter drivers in
	configure and print a summary of the configuration results after
	finishing.  The m4 quoting is as conservative as I could get it, and seems
	appropriate.  Change-Id: I1655691e5ea0d8eb9e3f67830b96992ffe33640a Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Signed-off-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1475 Reviewed-by: Xiaofan
	<xiaofanc@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk> Tested-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-09-11  Paul Fertser <fercerpav@gmail.com>

	* : README* refactoring This is an attempt to bring the README files in line with the
	current status of the OpenOCD development.  - remove some obsolete information and duplicated instructions - reword some statements - restructure in a way more appealing to a regular user - add a supported hardware list to allow a potential user to
	  determine if his/her usecase is covered by a freetext keyword search
	  through the document - Add OSX notes (courtesy GrizzlyAdams and inca) Since most ftdi-based adapters are now covered by the ftdi driver, I
	think it's ok to remove some of the libftdi/ftd2xx instructions, the
	few users who still need them should refer to upstream docs instead.  I'm not sure if README.Windows should come with the DOS line
	endings, but i'd expect many windows users to use their silly
	notepad to view it, and notepad ignores LF apparently. (Decided to
	use LF anyway.) I understand discussing and reviewing such a massive README change
	is a somewhat demanding task but I feel it's a necessity to move
	forward maintaining proper documentation.  Change-Id: Idfde3014c72dd5c32ad292ee1ab205322e51a138 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Signed-off-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1503 Tested-by: jenkins Reviewed-by:
	Xiaofan <xiaofanc@gmail.com>

2013-09-04  Hsiangkai Wang <hsiangkai@gmail.com>

	* : nds32: remove .soft_reset_halt dependency .soft_reset_halt is not necessary for nds32 target.  Remove the
	dependency.  Change-Id: Ic3b126d6c7eb995583a661b762627e736222fcaa Signed-off-by:
	Hsiangkai Wang <hsiangkai@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1612 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-07-02  Hsiangkai Wang <hsiangkai@gmail.com>

	* : nds32: support multi-target debugging Change-Id: If767f646b234dbcdb01946e5d13a3a6a29df2d78 Signed-off-by:
	Hsiangkai Wang <hsiangkai@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1581 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-05-31  Hsiangkai Wang <hsiangkai@gmail.com>

	* : nds32: modify nds commands implementation Modify handle_nds32_memory_access_command: do not use DCache setting
	to block user's setting.  Change-Id: I2d33f893773e2a2e3e2f26edde5938ef5902609d Signed-off-by:
	Hsiangkai Wang <hsiangkai@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1579 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-06-18  Hsiangkai Wang <hsiangkai@gmail.com>

	* : nds32: report any one of hit read watchpoints If multiple read watchpoints are hit at the same time, report any
	one of these hit watchpoints.  Change-Id: I8d4439aa80e4b62bb7d48bbdc0450920e2008a2e Signed-off-by:
	Hsiangkai Wang <hsiangkai@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1576 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-05-27  Hsiangkai Wang <hsiangkai@gmail.com>

	* : nds32: always polling after gdb attached Do not turn on/off polling as leave/enter debug mode.  Enable
	polling after gdb attached, and disable polling after gdb detached.  Change-Id: Id64459b86f44937af7ea5ccfe2cd13e31732eecf Signed-off-by:
	Hsiangkai Wang <hsiangkai@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1574 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-08-14  Hsiangkai Wang <hsiangkai@gmail.com>

	* : target: enhance target profiling 1. gprof uses 2-bytes as minimum bucket size.  2. As user wants to use gprof --sum to summarize multiple    profiling data files, the range MUST be the same.     Add new arguments to specify profiling range.  Change-Id: Ie7e6afa6a4d82250e2d194a0eed2b428c1479ea1 Signed-off-by:
	Hsiangkai Wang <hsiangkai@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1572 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-08-30  Hsiangkai Wang <hsiangkai@gmail.com>

	* : target: increase the maximum number of buckets I do not know what is the reasonable number of buckets.  If there
	are enough buckets, the result will be accurate.  I propose increase the maximum number of buckets to 128K.  If the
	size of program text section is less than 256KB, every two bytes
	will be occupied by one buckets.  (The minimum size of one buckets
	is 2 bytes in gprof implementation.) Change-Id: If9147743cefdc36f40f21e6dc73b9b28f28c9e1e Signed-off-by:
	Hsiangkai Wang <hsiangkai@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1608 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-08-30  Hsiangkai Wang <hsiangkai@gmail.com>

	* : target: Make profiling function more readable Change variable name 'length' to 'numBuckets'.  It is more readable.  Change-Id: I913cba0746f887adf6da401a46cd5e9ea88d2c6d Signed-off-by:
	Hsiangkai Wang <hsiangkai@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1606 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-08-27  Hsiangkai Wang <hsiangkai@gmail.com>

	* : aice: support batch commands Change-Id: I6846362d98374c93f45f339fb1279fc71721e696 Signed-off-by:
	Hsiangkai Wang <hsiangkai@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1584 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-05-31  Hsiangkai Wang <hsiangkai@gmail.com>

	* : aice: use keep_alive() to avoid timeout warning messages As polling $dbger, call keep_alive() to avoid timeout messages.  Change-Id: Ia03d90535c2bd6049763209194c21f70fd8b7e8b Signed-off-by:
	Hsiangkai Wang <hsiangkai@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1566 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-09-10  Paul Fertser <fercerpav@gmail.com>

	* : svf: off-by-one error; do not access after the allocated memory Keep the promise and ensure there're at least 3 bytes available
	after the current position.  This eliminates the errors reported by Valgrind.  Change-Id: I1d0640e904c750eed808b2b4caf419b4d7619845 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1615 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2013-03-11  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : [RFC] target: Move bulk_write_memory to arm7_9 The only remaining user is arm7_9 so remove it from the target API
	and add it to struct arm7_9_common to support all its variants with
	minimal changes. Many of the variants are likely not correct in the
	cache/mmu handling when the bulk write is triggered. This patch does
	nothing to change that, except for arm946e, where it was easier to
	do what might be the right thing.  Change-Id: Ie73ac07507ff0936fefdb90760046cc8810ed182 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1220 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-07-16  Nemui Trinomius <nemuisan_kawausogasuki@live.jp>

	* : fm3: add Fujitsu MB9Ax family support Not tested, adapted from
	http://tech.groups.yahoo.com/group/versaloon/message/391 Change-Id: I52048f6e8e66b38087fa249eb66ceab6801d07d5 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1506 Tested-by: jenkins

2013-07-16  Nemui Trinomius <nemuisan_kawausogasuki@live.jp>

	* : atmega: add new target support Not tested, adapted from
	http://tech.groups.yahoo.com/group/versaloon/message/391 Change-Id: I6d6af10fb07ea43cc1196a90d8738957f8266938 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1507 Tested-by: jenkins

2013-08-05  Spencer Oliver <spen@spen-soft.co.uk>

	* : armv7m: use consistent arm.cpsr member We already set cpsr in armv7m_build_reg_cache, so lets use it for
	all other accesses to this field.  Change-Id: I19b3b21ecf1571bbea12e1be664845e6544f6fa1 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1539 Tested-by: jenkins

2013-08-02  Spencer Oliver <spen@spen-soft.co.uk>

	* : target: check target supports target_request_data Make sure the target support target requests before we enable any
	receivers.  Change-Id: I8ce42922eaff76fb5e7a114da716f2a6585a6ab5 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1536 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2013-08-19  Spencer Oliver <spen@spen-soft.co.uk>

	* : rtos: Do not dereference null pointers detected by clang.  Change-Id: Id395f9d33bc2903b29a158fc3540ae51857e6aa0 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1555 Tested-by: jenkins

2013-09-05  Spencer Oliver <spen@spen-soft.co.uk>

	* : kinetis: add kl flash support Not tested, adapted from
	http://tech.groups.yahoo.com/group/versaloon/message/391 depends on
	http://openocd.zylin.com/1602 Change-Id: Ib846be48500a28d515c6dbd3ca2a5c1719cd74d4 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1508 Tested-by: jenkins Reviewed-by: Chris
	Fryer <chrisf1874@gmail.com> Reviewed-by: Nemui Trinomius
	<nemuisan_kawausogasuki@live.jp>

2013-08-16  Spencer Oliver <spen@spen-soft.co.uk>

	* : gdb server: do not free tdesc_filename early Issue caught by clang.  Change-Id: I4fb331574512140b36e56b3b7ab7e8bdad5e013d Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1554 Tested-by: jenkins

2013-08-06  Spencer Oliver <spen@spen-soft.co.uk>

	* : cfg: EFM32 supports SYSRESETREQ so use it Change-Id: If52fdea025a2f9620ad4ddacfb83cbb83a94944d Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1541 Tested-by: jenkins

2013-08-20  Spencer Oliver <spen@spen-soft.co.uk>

	* : efm32: set safe minimum working area The smallest available RAM size for this family is 2K, set this as
	the default. Issue reported by quitte on IRC.  Change-Id: I3318f7f268f7681ffe2cddab61820f4b94c4e5fd Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1559 Tested-by: jenkins

2013-08-20  Andrey Smirnov <andrew.smirnov@gmail.com>

	* : stlink: Add workaround for intermittent FW info retrieval
	failure It appears that on some host USB configurations(2012 MacBook Air)
	multiple restarts of openocd tool cause the FW on STLINKv2 dongle to
	go into a weird state in which it will no longer respond to
	STLINK_GET_VERSION command. This patch adds code that, if said
	request fails for the first time, attempts to reset the device and
	retry to initialize it and obtain FW information one more time.  Change-Id: I7227fc972adb49d52ae700ad48ab9f66b2aaa72c Signed-off-by:
	Andrey Smirnov <andrew.smirnov@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1561 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2013-08-23  Pushpal Sidhu <psidhu@gateworks.com>

	* : Added new ftdi interface device Added new configuration file for gw16042 device.  Also added this to
	interface/ftdi examples in documentation.  Change-Id: I07bb10bfc79a5d13007288cd57f254d889075214 Signed-off-by:
	Pushpal Sidhu <psidhu@gateworks.com> Reviewed-on:
	http://openocd.zylin.com/1563 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-08-15  Pushpal Sidhu <psidhu@gateworks.com>

	* : doc: update GW16042 hardware information Fixed a typo in device name as well updated device URL. Also fixed
	miscategorization and moved it to USB FT2232 Based section.  Change-Id: Ia3acaed4209eff26244efea8db68046143ecea37 Signed-off-by:
	Pushpal Sidhu <psidhu@gateworks.com> Reviewed-on:
	http://openocd.zylin.com/1553 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-07-09  Brad Riensche <brad.riensche@gmail.com>

	* : Add tcl configurations for Altera Soc devices This commit adds two tcl configuration files, one for the Altera
	Cyclone V SoC series, and one for the SoCkit development board.  The
	board configuration is able to halt and resume the cpu cores, and
	dump register contents etc.  It has not been fully tested, however.  Change-Id: Id3f18c3408975cf986a5f5aec410b5b13240c35e Signed-off-by:
	Brad Riensche <brad.riensche@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1494 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-08-09  Sergey Alirzaev <zl29ah@gmail.com>

	* : remove the untested warning in ftdi/olimex-arm-usb-tiny-h.cfg the dongle seems working, including srst signal Change-Id: I5da9046bd8a35d8d826f1b663c01bd2600a6cf14 Signed-off-by:
	Sergey Alirzaev <zl29ah@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1545 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-07-17  Paul Fertser <fercerpav@gmail.com>

	* : target: clear running_alg flag after reset After the target was reset we can be sure it's not running any
	algorithm.  This fixes the following failure scenario: On my STM32F103 board after I start the firmware and then stop and
	try to "load" in gdb (before doing mon reset halt), I get Error: timeout waiting for algorithm, a target reset is recommended However, target reset doesn't help as the flag is still there
	("Error: Target is already running an algorithm"), so I have no
	choice but to restart the OpenOCD process.  I'm not sure yet what exactly prevents load from working after my
	firmware is initialised, most probably some interrupt is firing and
	my handler produces a fault due to garbled RAM.  Change-Id: Idd977f2780a64d84800e3abd412cffc1ab6801b0 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1512 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-07-22  Andrey Yurovsky <yurovsky@gmail.com>

	* : stlink: add SWO tracing support Enable reading the SWO trace output via STLinkv2 dongles that
	support it.  This adds an optional initialization parameter "trace" with which
	the user specifies a destination file where SWO trace output is
	appended as it comes in as well as the trace module's source clock
	rate.  STLink will be configured for a 2MHz SWO data rate (STLink's highest
	supported rate) if the source clock is > 2MHz, otherwise the source
	clock is used as the data rate directly.  For example: trace swo.log 168000000 If "trace" is specified with a usable file path, the stlink_usb
	driver will attempt to configure and read SWO trace data as follows: - on _run(), the target's TPI and TMI are configured and the
	  STLinkv2 is told to enable tracing.  Only generic ARM TPI and TMI
	  registers are configured, any MCU-specific settings (ex: pin
	  routing) are the responsibility of the target firmware.  The
	  configuration applied is based on the STLinkv2's capabilities (UART
	emulation).  - on _v2_get_status(), the trace data (if any) is fetched from the   STLink after the target status is checked and the target is found
	  to be running.  - on _halt(), the STLink is told to disable tracing.  When fetching trace data, the entire trace frame is written to the
	output file and that data is flushed.  An external tool may be used
	to parse the trace data into a more human-readable format.  Tested on ARM Cortex M4F and M3 MCUs (STM32F407 and STM32L152).  Change-Id: Ic3983d46c82ba77010c23b0e18ce7b275d917f12 Signed-off-by:
	Andrey Yurovsky <yurovsky@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1524 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2013-03-06  Hsiangkai Wang <hsiangkai@gmail.com>

	* : gdb_server: add target_debug_reason for program exit detection Currently, there is no way to notify gdb that program has exited.
	Add new target_debug_reason called DBG_REASON_EXIT to notify gdb the
	condition has occured. If the debug reason is DBG_REASON_EXIT,
	gdb_server will send 'W' packet to tell gdb the process has exited.  Change-Id: I7a371da292716a3e6ac4cc2c31b009a651fe047a Signed-off-by:
	Hsiangkai Wang <hsiangkai@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1242 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2012-12-26  Hsiangkai Wang <hsiangkai@gmail.com>

	* : gdb server: new feature, add stop reason in stop reply packet
	for gdb In GDB remote serial protocol, the stop reply packet could contain
	more detail stop reason. The currently defined stop reasons are
	listed below.  * watch * rwatch * awatch * library * replaylog This commit adds stop reason, watch/rwatch/awatch, in stop reply
	packet for just hit watchpoint. As manual indicates, at most one
	stop reason should be present.  The function needs target to implement new hook, hit_watchpoint. The
	hook will fill the hit watchpoint in second parameter. The
	information will assist gdb to locate the watchpoint. If no such
	information, gdb needs to scan all watchpoints by itself.  Refer to GDB Manual, D.3 Stop Reply Packets Change-Id: I1f70a1a9cc772e88e641b6171f1a009629a43bd1 Signed-off-by:
	Hsiangkai Wang <hsiangkai@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1092 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-07-22  Robert Jarzmik <robert.jarzmik@free.fr>

	* : jtag/drivers: usb_blaster cheap clone documentation Add documentation about the cheap clone based on the Cypress chip.
	The documentation has schematics data, and throughtput mesures.  Change-Id: I51bf19ff9229565e178dd4c1231682bd9b4b7a8b Signed-off-by:
	Robert Jarzmik <robert.jarzmik@free.fr> Reviewed-on:
	http://openocd.zylin.com/1520 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2013-07-30  Paul Fertser <fercerpav@gmail.com>

	* : imx6: add new id for SJC as found on i.MX6D Austriancoder on IRC reports getting this ID on his board.  Change-Id: Ie859f0ee422e18fdb94bf817cdd2b41d15b968da Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1533 Reviewed-by: Christian Gmeiner
	<christian.gmeiner@gmail.com> Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-07-10  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : mpsse: Defer errors until flush Simplify the API by making all MPSSE command functions return void
	instead of an error code. If there is an error during an implicit
	flush in a command call, further commands are ignored until an
	explicit flush is performed. The flush function returns and clears
	any error code set.  The only command functions that still return an error code are those
	that can fail directly based on the type of the FTDI chip, i.e. when
	trying to enable RCLK or divide-by-5 on a non-high-speed chip.  Adapt the ftdi adapter driver to the new API.  Change-Id: I12979c723c81f7fd022c25821b029112f02b3f95 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1499 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-07-25  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : configure.ac: Remove obsolete(?) oddity It causes build failure by adding the build system's includes to the
	compiler's search path when cross-compiling with --prefix=/usr.  Building seems to work fine without it. It was added in f7274784. No
	idea what it was trying to solve that couldn't be covered in a
	better way.  Change-Id: Ia32863f0b0cbd498eb34bd2fce73126db5b71a1f Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1530 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-by: Xiaofan
	<xiaofanc@gmail.com>

2013-07-20  Paul Fertser <fercerpav@gmail.com>

	* : automake: use subdir-objects option Automake 1.14 introduced several non-fatal warnings that should help
	projects prepare to the next major automake release (2.0).  Considering the way OpenOCD automake files are written, using
	subdir-objects doesn't have any adverse effects, so enable it for
	the future compatibility.  Change-Id: I3e7fd93d1b53c5a7ed00ec0f03d2d1510a07f516 Reported-by:
	Freddie Chopin <freddie_chopin@op.pl> Signed-off-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-on: http://openocd.zylin.com/1517
	Tested-by: jenkins Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2013-07-22  Andrey Yurovsky <yurovsky@gmail.com>

	* : stm32f2x flash: add STM32F401 (F4 low power) Add support for the new STM32F401 parts.  These are similar to the
	STM32F405/407 however they are a new Low Power variant with ID code
	0x423 and have 256K of Flash.  Tested with a modified F4 discovery
	board.  Change-Id: Ida5fb14a0832934b4d6d1ec11e602df5076edbc8 Signed-off-by:
	Andrey Yurovsky <yurovsky@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1521 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-07-17  Spencer Oliver <spen@spen-soft.co.uk>

	* : cortex_m: change cmd output to use cortex_m rather than
	cortex_m3 Change-Id: I33834910c44d22169bcf684e9697a8db49d0b396 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1513 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2013-07-16  Paul Fertser <fercerpav@gmail.com>

	* : etm: prevent segfault when reading bogus information When I do not have the JTAG adapter connected to the target, I often
	end up always reading 1s from the chain. If the OpenOCD is
	configured to connect to an ETM-equipped target (i.MX25 ARM9 in my
	case), this results in writing garbage values in the etm reg_cache
	as the ETM bit fields for the comparators, counters and outputs are
	wider than the amount of entries in the corresponding arrays. This
	later results in a segfault in the first etm_reg_lookup() call.  Change-Id: Ied81fdbf3a53a3dd749e2e5e97adf86c012df575 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1505 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-06-26  Oleksij Rempel <linux@rempel-privat.de>

	* : mips32: add new functions mips32_configure_ibs and _dbs Split function mips32_configure_break_unit to mips32_configure_ibs
	and mips32_configure_dbs to make code more readable.  This will probably make work easyer with differnet EJTAG versions.  Change-Id: I666f949fd7bc3656bdf75e7bcaadb164f15855dd Signed-off-by:
	Oleksij Rempel <linux@rempel-privat.de> Reviewed-on:
	http://openocd.zylin.com/1463 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-04-15  Oleksij Rempel <bug-track@fisher-privat.net>

	* : mips32: add jump instruction This instruction we will need to make jump to 0xff20.0000 Change-Id: Ic723e683e8848492cd8e186e71fd668dbd1d97e6 Signed-off-by:
	Oleksij Rempel <bug-track@fisher-privat.net> Reviewed-on:
	http://openocd.zylin.com/1338 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-04-18  Oleksij Rempel <bug-track@fisher-privat.net>

	* : mips32_dmaacc: add new funct ejtag_dma_dstrt_poll Change-Id: I8472a85032e397445408dce917f60c8e6ce852e2 Signed-off-by:
	Oleksij Rempel <bug-track@fisher-privat.net> Reviewed-on:
	http://openocd.zylin.com/1343 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-06-28  Oleksij Rempel <linux@rempel-privat.de>

	* : mips_ejtag: cache ejtag version to avoid recalculation Some parts of code are version specific. It will be easier if we
	extract ejtag version and store it some where.  Change-Id: I8f9addc42108cba5ae9d61b8ade8f9d7f02a0fb5 Signed-off-by:
	Oleksij Rempel <linux@rempel-privat.de> Reviewed-on:
	http://openocd.zylin.com/1462 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-07-07  Martin Schmˆlzer <martin.schmoelzer@student.tuwien.ac.at>

	* : OpenULINK firmware: change .lnk file extension to .lk in "make
	clean" Recent versions of SDCC generate .lk files instead of .lnk - change
	the OpenULINK Makefile "clean" target and top level .gitignore file
	to reflect this.  Change-Id: I36f38638b712b962498c69c362f123378e1aa045 Signed-off-by:
	Martin Schm√∂lzer <martin.schmoelzer@student.tuwien.ac.at>
	Reviewed-on: http://openocd.zylin.com/1485 Tested-by: jenkins
	Reviewed-by: Spencer Oliver <spen@spen-soft.co.uk>

2013-07-04  Martin Schmˆlzer <martin.schmoelzer@student.tuwien.ac.at>

	* : ULINK driver and OpenULINK firmware: whitespace and comment
	fixes (trivial) In commit de0130a0aad83c1ef692ee4d68ab996a8668424d, some doxygen
	documentation blocks of the form "///< ..." (documentation after
	member) got changed to "/* /< ...", which is not recognized by
	doxygen. This commit changes them to the correct form "/**< ...".  Also, remove some leading whitespace characters and fix alignment of
	comment blocks where appropriate.  Change-Id: I73a5cf55753722fa0e1d6551f05c47ee88172f0f Signed-off-by:
	Martin Schm√∂lzer <martin.schmoelzer@student.tuwien.ac.at>
	Reviewed-on: http://openocd.zylin.com/1483 Tested-by: jenkins
	Reviewed-by: Spencer Oliver <spen@spen-soft.co.uk>

2013-06-27  Martin Schmˆlzer <martin.schmoelzer@student.tuwien.ac.at>

	* : ULINK driver: port from libusb-0.1 to libusb-1.0 API The ULINK driver now uses libusb-1.0 calls (synchronous device I/O)
	directly (not the common layer provided by libusb1_common.c) Successfully tested with ULINK probe and STM32F103 (debug, erase and
	write flash).  Change-Id: Ic037a3582db85e49a8cc1ec0dd36f629e4757929 Signed-off-by:
	Martin Schm√∂lzer <martin.schmoelzer@student.tuwien.ac.at>
	Reviewed-on: http://openocd.zylin.com/1459 Tested-by: jenkins
	Reviewed-by: Spencer Oliver <spen@spen-soft.co.uk>

2013-07-06  Paul Fertser <fercerpav@gmail.com>

	* : configure: remove AM_MAINTAINER_MODE, effectively always
	enabling all the rules There're strong arguments against using this macro (mostly regarding
	build consistency), so remove it altogether.  Change-Id: I90c8e9a86a24571019366435bd868a6799a09c45 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1476 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2013-07-08  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : ulink: Move firmware install from pkglibdir to pkgdatadir The precompiled OpenULINK firmware is just data to OpenOCD so I
	think it belongs in $(prefix)/share/openocd rather than in
	$(prefix)/lib.  Change-Id: Id84c32cd0ddfb96861e903e8f23c16a81e1a0ca1 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1487 Tested-by: jenkins Reviewed-by: Martin
	Schm√∂lzer <martin.schmoelzer@student.tuwien.ac.at> Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-07-01  Bernhard Kiesbauer <bernhard@kiesbauer.com>

	* : dsp563xx: Adding breakpoint/watchpoint support.  Added missing breakpoint/watchpoint implementation to dsp563xx
	target.  Implementation is not yet complete, which means it does not
	leverage all available features of the once debug interface.  This
	does NOT use the openocd breakpoint/watchpoint command because of
	the "special" memory address spaces (X/Y/P/L) of the 56k DSP series.  Change-Id: I6840a3ff1e6fdebb38ab7758f164886aff773af6 Signed-off-by:
	Bernhard Kiesbauer <bernhard@kiesbauer.com> Reviewed-on:
	http://openocd.zylin.com/1468 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-06-28  Marek Vasut <marek.vasut@gmail.com>

	* : target: Pull out the jtag_rtck from iMX5x files Pull the jtag_rtck setting from imx51.cfg and imx53.cfg . Since not
	all boards using these CPUs do support RTCK signal, move the
	configuration of RTCK into board files.  Change-Id: I632c5d38e00ada8779a451cd26428fd122452001 Signed-off-by:
	Marek Vasut <marek.vasut@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1460 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2013-07-09  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : flash/stm32*: Sync all device/rev IDs with reference manuals Uppercase device/family names and change them to be more specific
	and consistent across all STM32 families.  High-density STM32F10x has a Rev Y according to RM0008 Rev 14, so
	add it.  I have a STM32F30x Rev Y, sitting on my desk, but it isn't described
	in the reference manual. Add it as well.  Split the STM32L1xx Medium+ Density devices based on ID, to match
	the reference manual. If I read it correctly, the Medium+ devices
	have different revision mappings depending on their package/device
	ID. I have no real devices to examine, however.  Change-Id: I5b95e5fa3cdeba219aa96838ea06ec1bb62bd921 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1497 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-07-09  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : flash/stm32*: Remove the halted check in protect_check These chips are capable of reading the flash registers while they're
	running.  Change-Id: I76b90b2bae1aa79b5a063b2073faa5d3ed93cfd7 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1495 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-07-08  Paul Fertser <fercerpav@gmail.com>

	* : oocd_trace: fix warnings gcc (Gentoo Hardened 4.6.3 p1.13) produces a warning about the
	variable assigned but not used. write() can sometimes write less
	than the specified count so it's marked with warn_unused_result in
	the system headers and its return value can't be ignored. The most
	correct solution would be to have a loop writing the buffer until
	all bytes are written or an error is returned but here it's
	impractical.  Change-Id: I75f7482e2b26fe0e6d70d34947518d3a8f0afe5c Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1490 Reviewed-by: Laszlo Papp
	<lpapp@kde.org> Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-07-08  Paul Fertser <fercerpav@gmail.com>

	* : versaloon: remove bogus assignment This fixes the build with Clang 3.3.  Change-Id: I729b4791c16178cdd4a87f7e1c04019da2c84b26 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1488 Reviewed-by: Laszlo Papp
	<lpapp@kde.org> Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-07-03  Paul Fertser <fercerpav@gmail.com>

	* : ft2232_libftdi: perform basic configure checking when
	cross-compiling When cross-compiling, current configure script fully ignores libftdi
	unavailability and proceeds with LIBS having -lftdi -lusb, that
	results in a non-obvious failure much later.  Try to verify libftdi is available by checking if ftdi_new function
	is linkable.  Change-Id: I4f593d8ada1f38f82e7f1baa1a4b37b09619e1b4 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1473 Tested-by: jenkins Reviewed-by:
	Xiaofan <xiaofanc@gmail.com> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2013-07-07  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : cfg: Update Flyswatter 2 URL It pointed to the Flyswatter 1 page.  Change-Id: Ib7e82669a31cad2bf8f6ba4a60b25ef9920b2584 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1478 Tested-by: jenkins Reviewed-by:
	Xiaofan <xiaofanc@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-07-07  John Szakmeister <john@szakmeister.net>

	* : Fix a typo.  Change-Id: I3c8ab03932d8769c1cf0c0ccf84cd150c5eb82d8 Signed-off-by:
	John Szakmeister <john@szakmeister.net> Reviewed-on:
	http://openocd.zylin.com/1481 Reviewed-by: Xiaofan
	<xiaofanc@gmail.com> Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2013-06-24  Robert Jarzmik <robert.jarzmik@free.fr>

	* : target: xscale make reset init work properly On XScale architecture, to write debug control register DCSR and
	activate JTAG debug (ie. to choose Halt Mode), the enabling can only
	be done while the board is held in reset state (ie. PXAxx #RST line
	held low).  The current implementation writes to the register before asserting
	the SRST line. Swap the order to activate the SRST line before
	writing to DCSR.  Change-Id: I914b9d53d39bdeb5fe4ee5e11068cafafe0da4d2 Signed-off-by:
	Robert Jarzmik <robert.jarzmik@free.fr> Reviewed-on:
	http://openocd.zylin.com/1458 Tested-by: jenkins Reviewed-by: Marek
	Vasut <marek.vasut@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-05-27  Ulf Wetzker <ulf.wetzker@eas.iis.fraunhofer.de>

	* : at91sam3: Added support for at91sam3s8a, b and c Only the support for at91sam3s8b is tested on real hardware.  Change-Id: I4ce23bc2f6131d9cf3ff1b301ab9e470d20845ab Signed-off-by:
	Ulf Wetzker <ulf.wetzker@eas.iis.fraunhofer.de> Reviewed-on:
	http://openocd.zylin.com/1424 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-05-27  Ulf Wetzker <ulf.wetzker@eas.iis.fraunhofer.de>

	* : flash/nor/at91sam3: fixed lock region size According to the "AT91SAM ARM-based Flash MCU SAM3S Series
	datasheet" (http://www.atmel.com/Images/doc11090s.pdf) p. 30 the
	lock region size for the at91sam3sd9 family is 32 kbyte.  This fix is only based on the datasheet due to missing hardware.  Change-Id: Ic47b0642e4f11a60de477eaa0167038103b8ff15 Signed-off-by:
	Ulf Wetzker <ulf.wetzker@eas.iis.fraunhofer.de> Reviewed-on:
	http://openocd.zylin.com/1422 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-06-16  Paul Fertser <fercerpav@gmail.com>

	* : armv4_5: prevent segfault when gdb connects to an
	underinitialised target This prevents segmentation fault that can occur on cortex_a targets
	if gdb connection is established before it's halted and CPSR
	examined.  Change-Id: Id996200e0fd95440496509c1fecaabbdbf425e23 Tested-by:
	Henrik Nordstrom <hno@squid-cache.org> Signed-off-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-on: http://openocd.zylin.com/1446
	Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-06-12  Spencer Oliver <spen@spen-soft.co.uk>

	* : cortex_m: deprecate soft_reset_halt soft_reset_halt was only really intended for the older arm arch, eg.
	armv4/5.  Newer arch such as armv7m/mips do not need this as they
	have better alternatives.  Change-Id: Ifb360680b7e4bfa5365f3c79d82574bded952b45 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1442 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2012-10-24  Evan Hunter <ehunter@broadcom.com>

	* : Add support for 64 bit parameter to irscan Change-Id: I89e0422456c59ee86c4b6d9bd3b3ad32051b31ac Signed-off-by:
	Evan Hunter <ehunter@broadcom.com> Reviewed-on:
	http://openocd.zylin.com/831 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2013-06-21  Antonio Borneo <borneo.antonio@gmail.com>

	* : flash/nor/spi: uniform all hex data to lowercase Change-Id: I3daee7218283e521bf490993dba02a8658540951 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1453 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-06-08  R. Diez <rdiezmail-openocd@yahoo.de>

	* : Bus Pirate driver: Small assorted fixes.  Fixes are: - Discard any stale data from the previous connection.  - Disable CR/LF translation on the (virtual USB) serial port.  - Increase the average USB packet size. The 1 KiB buffer was
	underutilised.  - Option "buspirate_speed fast" now works out of the box.  - Some extra comments, error checking, etc.  Change-Id: I72c49d943a8ce9c5e5d1644ef90cb1482f93c618 Signed-off-by:
	R. Diez <rdiezmail-openocd@yahoo.de> Reviewed-on:
	http://openocd.zylin.com/1437 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-06-14  Spencer Oliver <spen@spen-soft.co.uk>

	* : build: add missing configure quotes Change-Id: I14abb24292d4c2ff088c7b95773f73ceac3287cd Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1445 Tested-by: jenkins

2013-04-25  Brent Roman <brent@mbari.org>

	* : hla: Add Simulated DCC register for target communicaton Change-Id: I193be169059caba661e46de8081d7e92f92cafee Signed-off-by:
	Brent Roman <brent@mbari.org> Reviewed-on:
	http://openocd.zylin.com/1364 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-05-30  Spencer Oliver <spen@spen-soft.co.uk>

	* : cfg: add stm32 flash driver alias This will enable the user to use either name when calling flash
	driver cmds.  For example the stm32f3x family use the same flash driver as the
	stm32f1x, so the user has to use 'stm32f1x mass_erase 0' which can
	be confusing.  Now the user can also use 'stm32f3x mass_erase 0'
	with the same result.  Change-Id: I14280674c8dfa2ce1c01e327af7f38e36150462c Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1428 Tested-by: jenkins

2013-06-06  Spencer Oliver <spen@spen-soft.co.uk>

	* : stm32: add new stm32f0 device id updated from RM0091 rev4.  Change-Id: Ic5e46229b85ce3974ef3016724d29a94037ac577 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1435 Tested-by: jenkins

2013-06-07  Spencer Oliver <spen@spen-soft.co.uk>

	* : str9: ignore boundary scan version Ignore version of Boundary Scan TAP in newer revisions of the str9.  Change-Id: I6e205f8c731f07078c469e686025857c180f3a6d Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1436 Tested-by: jenkins

2013-06-04  Paul Fertser <fercerpav@gmail.com>

	* : configure: remove --enable-libusb0 option, rework libusb
	selection This makes libusb handling more consistent: if any driver requires
	libusb, first check for libusb-1 availability, if not found and
	libusb0 is ok for this case, try libusb0.  A user-visible bug fixed by this is that when a user was selecting a
	driver that required libusb-1 but was lacking the necessary dev
	files or libraries, configure didn't complain (but the build was
	failing of course).  --enable-stlink doesn't really require libusb-1 but since it's using
	the same automake symbol HLAADAPTER, ti_icdi is getting built too
	which needs libusb1 unconditionally. Since using libusb-0.1 makes
	little sense anyway, leave that as is.  Signed-off-by: Paul Fertser <fercerpav@gmail.com> Change-Id:
	I630a4ad9e4583743d45b2233bf5d8f4e5c0aab82 Reviewed-on:
	http://openocd.zylin.com/1434 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-06-08  Paul Fertser <fercerpav@gmail.com>

	* : ftdi: config for TUMPA Add a config file for TIAO USB Multi-Protocol Adapter.  Based on schematics from http://www.mediafire.com/?zv158nnx1gv0cy2 Cc: Volkan K <volkan-k@users.sourceforge.net> Change-Id:
	I0dfd93b0b1e558e4ccd7c94c005c099947ec94df Signed-off-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1438 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2012-07-22  Paul Fertser <fercerpav@gmail.com>

	* : Add BCM2835 (as found in Raspberry Pi) interface driver This adds support for JTAG programming by bitbanging GPIOs exposed
	on the RaspberryPi's expansion header.  Tested by connecting directly to an STM32VLDiscovery board, without
	any additional circuity. I observed maximum about 4MHz on the TCK
	pin with an old analogue 'scope and about 100kHz when setting the
	speed to 100kHz.  Busyloop waiting is needed because even with a
	single 0ns nanosleep call (with FIFO priority) it lowers the TCK
	speed to ~30kHz which is way too low to be useful.  The speed testing with adapter_khz 2000 gave the following results:
	sudo chrt -f 1 nice -n -19 ./src/openocd \      -f interface/raspberrypi-native.cfg \      -c "set WORKAREASIZE 0x2000" \      -f target/stm32f1x.cfg -c "adapter_khz 2000" wrote 131072 bytes from file random.bin in 3.973677s (32.212 KiB/s)
	dumped 131072 bytes in 1.445699s (88.538 KiB/s) This is 3.7 times faster for writing and 14.3 times faster for
	reading compared to the generic sysfsgpio driver; probably the
	writing speed is limited by the target itself here and reading speed
	might be considerably higher too with appropriate connection and a
	capable target.  BCM2835 name is choosen over BCM2708 because the published
	peripherals datasheet uses the particular model name and not family
	name.  Change-Id: Ib78168be27f53c2a3c88c3dd8154d1190c318c78 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/758 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2013-05-15  Ryan Corbin <corbin.ryan@gmail.com>

	* : Added OpenJTAG Driver Updated OpenJTAG driver from www.openjtag.org to work with latest
	version of OpenOCD.  Change-Id: I2917f4e5835fb9ca5265e81dc38515fa97ae9503 Signed-off-by:
	Ryan Corbin <corbin.ryan@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1406 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-02-05  Hsiangkai Wang <hsiangkai@gmail.com>

	* : aice: add Andes AICE support Andes AICE uses USB to transfer packets between OpenOCD and AICE.
	It uses high-level USB commands to control targets instead of using
	JTAG signals. I define an interface as aice_port_api_s. It contains
	all basic operations needed by target-dependent code.  Change-Id: I117bc4f938fab2732e44c509ea68b30172d6fdb9 Signed-off-by:
	Hsiangkai Wang <hsiangkai@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1256 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-05-30  Spencer Oliver <spen@spen-soft.co.uk>

	* : cortex_m: print 'Cortex-M' rather than 'Cortex-M3' This file is used by all the Cortex-M family not just Cortex-M3.  Change-Id: Ie8680535b220c66bb8fcd862510407a46a73e8a0 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1429 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2013-06-02  Paul Fertser <fercerpav@gmail.com>

	* : rlink: fix speed table generation The speed table generation (by using explicit make -f
	Makefile.rlink) was broken since
	865efd828a267992db0f2a92a731c5ce23a34236 Dec 2 2009 which did a
	bunch of renaming and included hand-editing of a generated
	rlink_speed_table.c file.  This patch is compile-tested, i.e. the new generated
	rlink_speed_table.c links fine with the rlink driver.  Change-Id: I1789a2f2f5bf20183b772d55c55fe68a0bd05cf5 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1431 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-05-09  Paul Fertser <fercerpav@gmail.com>

	* : tools: add sample remote_bitbang sysfsgpio server This adds a sample server that implements remote_bitbang protocol,
	based on sysfsgpio interface driver.  Change-Id: I17633e91f819ab7b806606e1a1c38d5366ab4598 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1403 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-05-20  Paul Fertser <fercerpav@gmail.com>

	* : interface/ftdi: remove "untested" warning from DP Busblaster This is reported as working by mitsakos on IRC.  Change-Id: I26b97779c3e8e237c5b3996aa81183031b12ec0c Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1419 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-05-06  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : remote_bitbang: De-duplicate init code and clean up on error Change-Id: I8be413a9e1683f96f835232f9ff25d9bd42099de Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1380 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-04-18  Brandon Warhurst <roboknight@gmail.com>

	* : Added functionality to the SYS_SYSTEM semihosting call.  There seems to be a few missing semihosting calls.  I am not sure
	why this one is actually missing, since it seems simple enough to
	implement.  It was tested using an HTC HD7 connected to openocd
	through a "home brew" ftdi 4232H board.  Change-Id: Ie17dc96c6d48227a3dc9ff1e21201a85498a10b1 Signed-off-by:
	Brandon Warhurst <roboknight@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1345 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-05-05  Paul Fertser <fercerpav@gmail.com>

	* : stm32 configs: use 4kB working area size by default This is needed for configs that might be used with the cheapest
	STM32F100 parts that have only 4kB SRAM.  Restrictions for the other STM32 families are verified to be set
	appropriately.  Change-Id: I1ad2370435015604db9f27c1a76c153480311a28 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1378 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-04-29  Paul Fertser <fercerpav@gmail.com>

	* : efm32: fix FTBFS on ARM due to alignment issues The following warnings prevent OpenOCD from building: efm32.c: In
	function 'efm32x_read_lock_data': efm32.c:373:8: error: cast
	increases required alignment of target type [-Werror=cast-align]
	efm32.c:386:9: error: cast increases required alignment of target
	type [-Werror=cast-align] efm32.c:394:9: error: cast increases
	required alignment of target type [-Werror=cast-align]
	efm32.c:402:9: error: cast increases required alignment of target
	type [-Werror=cast-align] efm32.c: In function
	'efm32x_get_page_lock': efm32.c:430:17: error: cast increases
	required alignment of target type [-Werror=cast-align] efm32.c: In
	function 'efm32x_set_page_lock': efm32.c:441:19: error: cast
	increases required alignment of target type [-Werror=cast-align]
	cc1: all warnings being treated as errors This patch is compile-tested only.  Change-Id: Ia3a8f342e0f5e30c8ea4de9435c5c7a80bc100e3 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1370 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2013-05-04  Paul Fertser <fercerpav@gmail.com>

	* : jtag/adapter: add connect_[de]assert_srst to reset_config usage Add the connect under reset options to the online help for
	reset_config.  Change-Id: I4b9a87b234de01531390b39b898a848841d1e834 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1377 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2013-05-05  Freddie Chopin <freddie.chopin@gmail.com>

	* : Restore normal development cycle 1. Archive NEWS for 0.7.0 release 2. Add new blank NEWS file 3. Bump version to 0.8.0 and restore "-dev" suffix Change-Id: I21febc042faeed294f3beeb5e683535dbf011e8f Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2013-04-28  Freddie Chopin <freddie.chopin@gmail.com>

	* : doc: add info about FT232H and JTAG-lock-pick Tiny 2 adapter Change-Id: I3b1047580669da3f17ea87183536275a10671fec Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1367 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-04-28  Freddie Chopin <freddie.chopin@gmail.com>

	* : dev-doc: fix to release process docs Change-Id: I916e7ff1af211baef1c6d56fd44d292ee6983599 Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1368 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-05-02  Spencer Oliver <spen@spen-soft.co.uk>

	* : cfg: ignore ICEPick jrc tap version Due to reports of newer targets using a updated version of the
	ICEPick tap rather than add another tapid we ignore the tap version.  Also see Trac 49 for details.  Change-Id: Ic78414c54af2545c817e1bb2c860970c1b587259 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1373 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2013-04-28  Freddie Chopin <freddie.chopin@gmail.com>

	* : The openocd-0.7.0-rc2 release candidate.  Change-Id: I0a3576dd098d73437547b619c726cacd8f1dba64 Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2013-02-01  Spencer Oliver <spen@spen-soft.co.uk>

	* : target: rename cortex_m3 to cortex_m Rename cortex_m3 target to use a more correct cortex_m name.  This
	also adds a deprecated_name var so that older scripts issue a
	warning to update the target name.  cfg files have also been updated to the new target name.  Change-Id: Ia8429f38e88da677249c5caa560c50f8ce56ea10 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1129 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2013-04-25  Spencer Oliver <spen@spen-soft.co.uk>

	* : cortex_m: remove old target breakpoints/watchpoints Sometimes the target may have breakpoint registers set from a
	previous debug session, we can either sync them or as we have chosen
	here clear them.  Change-Id: I439a623ebbf010246a70e5596d04aa7d546da731 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1363 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2013-04-22  Spencer Oliver <spen@spen-soft.co.uk>

	* : build: fix libftd2xx regression Fix build when targeting closed src ftd2xx drivers.  configure is
	unable to find the dynamic linking loader lib (dl) as it is included
	before ftd2xx library.  Change-Id: Ibe7308b66ed846288a31f7a27ff549b6f39baeec Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1355 Tested-by: jenkins Reviewed-by: Luca
	Bruno <lucab@debian.org> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2013-04-15  Oleksij Rempel <bug-track@fisher-privat.net>

	* : build fix: ft2232 fix build with-ftd2xx-lib Change-Id: I4a9b5d204c29b7a0714a59494b2b5f959c73f99b Signed-off-by:
	Oleksij Rempel <linux@rempel-privat.de> Reviewed-on:
	http://openocd.zylin.com/1359 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2013-04-22  Spencer Oliver <spen@spen-soft.co.uk>

	* : Update NEWS Change-Id: Icfc1245552a400232988cf44f54e5c46af1db873 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1356 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2013-04-21  Freddie Chopin <freddie.chopin@gmail.com>

	* : The openocd-0.7.0-rc1 release candidate.  Change-Id: I2992c31b56b88062cdd8a8208506a61f6367fcbf Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2013-02-05  Matt Dittrich <mdittrich.dev@gmail.com>

	* : flash/nor: add lpc4300 variant to lpc2000 driver This patch adds flash programming support for internal flash of the
	LPC43x2/3/5/7 part, tested on a LPC4337 (also tested on a LPC1768
	and LPC2468). It should also work with LPC1800's with onchip flash.
	The "base" parameter of the "flash bank" command is now significant
	for the lpc4300 variant and required to determine the bank number
	parameter needed by the IAP routines.  NOTE: I could only program flash successfully when the chip is
	powered with "P2_7" pulled low to put it in ISP mode.  When running
	from flash (and not the ISP ROM), the target fails to halt and the
	sector erase fails. This is similar to the behavior I remember when
	trying out the spifi driver on a LPC4350... lots of power cycles to
	make progress, one To burn, one to run.  So I am not confident my
	config is set up correctly.  Change-Id: I8a75ef1b95cedd5b5898b2dedff477f502fd19f3 Signed-off-by:
	Matt Dittrich <mdittrich.dev@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1126 Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com> Tested-by: jenkins

2013-03-27  Spencer Oliver <spen@spen-soft.co.uk>

	* : telnet: add telnet history support adapted from Yoshinori Sato's patch:

	https://github.com/ysat0/openocd/commit/2f07f4600a0da8206612d78c159bbe1171aa41c2Change-Id: I084b86d316b0aa6e9593f007c024961dbda805e9 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1310 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2013-04-20  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : stm32f30x: Add boundary scan TAP ID to match silicon Change-Id: I74ef3cfc437540aedd99da46ac3e0c6cd9c5cd8d Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1354 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2013-03-03  Salvador Arroyo <sarroyofdez@yahoo.es>

	* : mips: m4k alternate pracc code. Patch 3 Functions mips32_pracc_read_mem(), mips32_cp0_read() and
	mips32_pracc_read_regs() are now modified.  mips32_cp0_read() is
	very similar to mips32_read_u32() with one store access.
	mips32_pracc_read_regs() is the only function that can not be
	executed from only one queue.  Now this function is modified to use
	reg8, it saves all the registers but does not restore reg8.  To
	remedy this, mips_ejtag_config_step() is called after
	mips32_save_context() in mips_m4k_debug_entry(). Function
	mips_ejtag_config_step() is modified to use reg8 and restore it from
	ejtag info instead of using DeSave for save/restore.  Change-Id: Icc224f6d7e41abdec94199483401cb512cc0b450 Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/1195 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2013-03-03  Salvador Arroyo <sarroyofdez@yahoo.es>

	* : mips: m4k alternate pracc code. Patch 1 This patch and the following patches define another way of doing
	processor access without the need to read back the pracc address as
	needed in current pracc code.  Current pracc code is executed
	linearly and unconditionally. The processor starts execution at
	0xff200200 and the fetch address is ever incremented by 4, including
	the last instruction in the delay slot of the branch to start.  Most
	of the processor accesses are fetch and some are store accesses.
	After a previous patch regarding the way of restoring registers
	(reg8 and reg9), there are no load processor accesses.  The pracc
	address for a store depends only on the store instruction given
	before.  m4k core has a 5 stage pipeline and the memory access is
	done in the 3rth stage. This means that the store access will not
	arrive immediately after a store instruction, it appears after
	another instruction enters the pipeline.  For reference: MD00249
	mips32 m4k manual.  A new struct pracc_queue_info is defined to help
	each function in generating the code. The field pracc_list holds in
	the lower half the list of instructions and in the upper half the
	store addressess, if any. In this way the list can be used by
	current code or by the new one to generate the sequence of pracc
	accesses.  For every pracc access only one scan to register "all" is
	used by calling the new function mips_ejtag_add_scan_96().  This
	function does not call jtag_execute_queue(), all the scans needed
	can be queued before calling for execution.  The pracc bit is not
	checked before execution, is checked after the queue has been
	executed.  Without calling the wait function the code works much
	faster, but the scan frequency must be limited. For pic32mx with
	core clock at 4Mhz works  up to 600Khz and with 8Mhz up to 1200. To
	increase the scan frequency a delay between scans is added by
	calling jtag_add_cloks().  A time delay in nano seconds is stored in
	scan_delay, a new field in ejtag_info, and a handler is provided for
	it.  A mode field is added to ejtag_info to hold the working mode.
	If a time delay of 2ms (2000000 ns) or higher is set, current code
	is executed, if lower, new code is executed.  Initial default values
	are set in function mips32_init_arch_info. A reset does not change
	this settings.  Change-Id: I266bdb386b24744435b6e29d8489a68c0c15ff65 Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/1193 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2013-04-19  Ben Nahill <bnahill@gmail.com>

	* : stm32w: Added sample target configuration for STM32W108 with
	STLink-V2 As requested, here is the target configuration that I'm using for an
	STLink-V2-attached STM32W108C8. For some reason, it only seems to
	work with "reset_config trst_only".  Change-Id: Icbff4f83343e1f505d8afdfc53ff6f8b7496cac9 Signed-off-by:
	Ben Nahill <bnahill@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1347 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2013-04-12  Spencer Oliver <spen@spen-soft.co.uk>

	* : program: do not poll target after reset run Disable polling the target before we issue a 'reset run'. This stops
	errors or warnings if the target disables the SWD or JTAG interface
	as part of the application code.  Change-Id: I5019dffdad41a8e210003ece1caf89069ee0f223 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1331 Tested-by: jenkins

2013-03-26  Spencer Oliver <spen@spen-soft.co.uk>

	* : parport: fix parport_toggling_time regression If parport_toggling_time is called before the adapter speed has been
	configured then the call fails. Probably not the best fix, but does
	at least enable parport_toggling_time to be used again.  This regression was added in commit
	740b9e25b410c164e661d0334a9ea4168406726b Change-Id: I90300916d6bda5ef053c557e5ac136c4f002bdd1 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1309 Tested-by: jenkins

2013-04-09  Spencer Oliver <spen@spen-soft.co.uk>

	* : libusb: disable debug messages by default Change-Id: I15dec0f521502139b57adaff576516af7883a74b Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1314 Tested-by: jenkins

2013-04-15  Peter Dietzsch <peter.dietzsch@ib-dt.de>

	* : cfg: Added cfg script for at91sam4sd32x targets Change-Id: I3b8a54d89a180bfded3dae3f1fe3d940540e6e7d Signed-off-by:
	Peter Dietzsch <peter.dietzsch@ib-dt.de> Reviewed-on:
	http://openocd.zylin.com/1333 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2012-12-11  Yann Vernier <yann.vernier@orsoc.se>

	* : ft2232: fix input scan ending in drshift/irshift The final bit was incorrectly added as output data, even if no data
	was to be written. Changed it to match handling of other bits.  Change-Id: I91e5ba0c932876bfb579c22e6c7ef0300baa1534 Signed-off-by:
	Yann Vernier <yann.vernier@orsoc.se> Reviewed-on:
	http://openocd.zylin.com/1049 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-03-02  Salvador Arroyo <sarroyofdez@yahoo.es>

	* : mips: code cleanup in cp0 command handlers After calling mips32_cp0_read() nothing has been queued, the call to
	jtag_exec_queue() is unnecessary.  Change-Id: Ie25438045a8e9b6b1b170df7b52609d45f284b5a Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/1190 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-02-23  Salvador Arroyo <sarroyofdez@yahoo.es>

	* : mips: mips32_pracc_fastdata_xfer() little modification In this function after loading the handler code and the jump code
	there is a call to wait_for_pracc_rw() to verify that a pracc access
	is pending.  Next the address is read to verify that the handler is
	running, the address should be at fastdata area.  Next, another call
	is made to wait_for_pracc_rw(). This call is not needed, we now
	already that a pracc access is pending.  Better we call this
	function before loading the end address to be sure it is loaded
	correctly.  Signed-off-by: Salvador Arroyo <sarroyofdez@yahoo.es> Change-Id:
	If311450ea634786fc28cf1a8e18ed24ce5257d20 Reviewed-on:
	http://openocd.zylin.com/1142 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-02-17  Salvador Arroyo <sarroyofdez@yahoo.es>

	* : pic32mx: false pending at low core clock To show up the fail try to step with the core clock set to 31.25Khz
	and with a ftdi/hs adapter or with a wiggler, -not with ft2232-.
	The scan frequency should be set to 300Khz or higher, at lower
	frequency probably will not fail.  The code exits with error because the pracc address is at 0x0.  It also fails when using the "all" register, but in this case the
	code works without any message because the pracc address is at
	0xff202004 when it fails.  I never saw this fail with the core clock set to 500Khz or higher,
	but ...  The workaround simply puts a 1 ms delay after the execution of the
	DERET instruction.  Change-Id: I38e8c01a9c39aedd3282140543b83a0844d8ad29 Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/1139 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-01-17  Evan Hunter <ehunter@broadcom.com>

	* : Add abort when JTAG-DP transaction times out.  Fixes system hang for devices that don't ignore transactions to bad
	addresses.  Change-Id: Ia98344d7efc12951ef79dbc82b8f792b70a22cee Signed-off-by:
	Evan Hunter <ehunter@broadcom.com> Reviewed-on:
	http://openocd.zylin.com/1115 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-04-02  Evan Hunter <ehunter@broadcom.com>

	* : gdb server: Fix buffer overrun - sprintf appends a terminating
	null to the data which was overrunning the supplied buffer.  Fixes regression introduced in commit
	07dcd5648d146d38f9ffa619f0737587e592d0b6 Signed-off-by: Evan Hunter <ehunter@broadcom.com> Change-Id:
	Iec64233c0da5a044fb984c4b1803309cb636efe9 Reviewed-on:
	http://openocd.zylin.com/1312 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-03-16  Spencer Oliver <spen@spen-soft.co.uk>

	* : docs: update incorrect urls These were missed when git was moved to the new SF platform during
	Nov 2012.  Change-Id: I7b4ae9dea010d95f9bf4c26841b5b724f41768be Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1248 Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Tested-by: jenkins

2013-03-14  Spencer Oliver <spen@spen-soft.co.uk>

	* : docs: fix html anchor xref links makeinfo has a long outstanding bug that means @anchors are not
	correctly formatted for split html, see:
	http://lists.gnu.org/archive/html/bug-texinfo/2012-06/msg00000.html The issue relates to using spaces or hyphens in the @anchor name.
	Issue also reported via Trac #44 Change-Id: Id72e23375dd167674b2ae5b314e8242b90a72a5f Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1244 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2013-03-24  Christian Gudrian <christian.gudrian@gmx.de>

	* : rtos: fixed handling of qThreadExtraInfo packets The commit "gdbserver: use common hexify/unhexify routines"
	[3d62c3d] mis-replaced a call to "str_to_hex" with a call to
	"unhexify". "hexify" should have been used instead.  Change-Id: I5f5904b1b422f819a6308e2c0740ea43d22c7d0b Signed-off-by:
	Christian Gudrian <christian.gudrian@gmx.de> Reviewed-on:
	http://openocd.zylin.com/1308 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2013-03-08  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : target: Retire target_bulk_write_memory() The only caller was arm_nandwrite(). Replace that call with
	target_write_buffer() instead, which in turn may end up calling the
	same bulk_write_memory target API function.  Change-Id: If34c7474df5cf14af3b732fb4774816818f28e79 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1214 Tested-by: jenkins Reviewed-by:
	√òyvind Harboe <oyvindharboe@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2012-10-12  Evan Hunter <ehunter@broadcom.com>

	* : arch: Added ARMv7R and Cortex-R4 support Rewrite to merge Cortex-A and Cortex-R code Change-Id: I4541557980d43d1bba6e8d1bfeb04f536ed25a00 Signed-off-by:
	Evan Hunter <ehunter@broadcom.com> Reviewed-on:
	http://openocd.zylin.com/358 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-10-23  Evan Hunter <ehunter@broadcom.com>

	* : cortex_a : optimize apb read/write access.  Rewrite: Adheres more closely to 'fast read/write' examples in TRM.
	up to 50x faster Change-Id: Ieb4da57d8367628f3e7306827a5b1f0ab550e641 Signed-off-by:
	Evan Hunter <ehunter@broadcom.com> Reviewed-on:
	http://openocd.zylin.com/903 Tested-by: jenkins Reviewed-by: Michel
	JAOUEN <michel.jaouen@stericsson.com> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-03-12  Stefan Mahr <stefan.mahr@sphairon.com>

	* : jtag: usb_blaster: fix allocation of usb_blaster_device_desc usb_blaster_device_desc was allocated, but never freed.  Change-Id: I764bd092c71b8c260b98aab0e7a1710fd7bfa9fd Signed-off-by:
	Stefan Mahr <stefan.mahr@sphairon.com> Reviewed-on:
	http://openocd.zylin.com/1224 Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk> Tested-by: jenkins

2013-03-09  Stefan Mahr <stefan.mahr@sphairon.com>

	* : jtag: opendous: fix tap buffer overflow Appending bits to TAP buffer doesn't check if there's enough space
	left.  This patch adds this check to fix TAP overflow error.  Change-Id: If80d5ab4a24983ad24f3cab31f9676d1590ebf5d Signed-off-by:
	Stefan Mahr <stefan.mahr@sphairon.com> Reviewed-on:
	http://openocd.zylin.com/1216 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-03-10  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : target: Remove write_memory_imp Change-Id: I5d933bc19443bba8a0193c90471fdd0614324a92 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1218 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2012-12-27  Rodrigo Melo <rmelo@inti.gob.ar>

	* : doc: opendous interface based on ft2232H It was listed in the ft2232 based cables supported. Moreover, the
	ft2232_channel option, which was added to support this cable, was
	explained.  Change-Id: I82ebc7bc10d6472f96ab150e78d623a617edccd2 Signed-off-by:
	Rodrigo Melo <rmelo@inti.gob.ar> Reviewed-on:
	http://openocd.zylin.com/1098 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2012-12-27  Rodrigo Melo <rmelo@inti.gob.ar>

	* : ft2232: ft2232_channel option added With this option a different channel of the ft2232 chip can be
	selected using a previously existing layout. It was made for a
	partner called Salvador Tropea.  Change-Id: Ia0dedb2f50e232d089e73788735edc8f47ee23e6 Signed-off-by:
	Rodrigo Melo <rmelo@inti.gob.ar> Reviewed-on:
	http://openocd.zylin.com/1095 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-03-03  Alex Austin <alex.austin@spectrumdsi.com>

	* : Kinetis: Flash command function matches datasheet The kinetis datasheets specify the flash registers as bytes rather
	than as words, as the previous implementation did.  This also makes
	a few code sections slightly less endian-magical.  Change-Id: If8f4adfc7f4341085ae5b6eacbf7d74bbd74cf08 Signed-off-by:
	Alex Austin <alex.austin@spectrumdsi.com> Reviewed-on:
	http://openocd.zylin.com/1192 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-03-07  Spencer Oliver <spen@spen-soft.co.uk>

	* : docs: add gerrit http password url Add url to show where the http password is configured.  Also add
	note that password can also be saved to url git config.  Change-Id: I3c1a022580e5f73372b0c50e8d1d2f0b1498966f Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1207 Tested-by: jenkins

2013-03-07  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : rtos: fixes warning Change-Id: I45db15b16b52c71009d8830985f42ac88eabe160 Signed-off-by:
	√òyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/1209 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com> Reviewed-by: √òyvind
	Harboe <oyvindharboe@gmail.com>

2012-12-27  Rodrigo Melo <rmelo@inti.gob.ar>

	* : interface: opendous_ftdi config file added This config file add support to the opendous cable based on the chip
	ft2232H, using the ftdi interface driver.  Change-Id: I4491f99d7b14f7078a04583ef0c4acd8692c4349 Signed-off-by:
	Rodrigo Melo <rmelo@inti.gob.ar> Reviewed-on:
	http://openocd.zylin.com/1097 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-02-28  Spencer Oliver <spen@spen-soft.co.uk>

	* : cfg: add Netgear DG834v3 configuration Change-Id: I3f4880d8b07b9623544b94d316b37e6d0ae97020 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1189 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2013-02-26  Spencer Oliver <spen@spen-soft.co.uk>

	* : stm32: update stm32f1x driver for f0x and f3x option bytes The stm32f0 and stm32f3 share the same option byte location, but the
	format differs.  Adding an option_offset fixes the broken options_read cmd and
	incorrectly setting Hardware Watchdog when unlocking a f3x device.  Change-Id: I82d66b6198294ea9eedb44ca8b2fb368c0cb15e8 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1184 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2013-02-08  Vladimir Zapolskiy <vz@mleia.com>

	* : cfg: add basic support of Freescale i.MX6 series targets This change adds a simple target configuration for Freescale
	single/dual/quad core i.MX6 SoCs, only one core is configured by
	default.  Change-Id: I853dd27f4c6765b7f731be2ddea82e85d496c6a4 Signed-off-by:
	Vladimir Zapolskiy <vz@mleia.com> Reviewed-on:
	http://openocd.zylin.com/1135 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2012-10-28  Peter Henn <Peter.Henn@web.de>

	* : speed up ftdi by reorder to out-in When the ftdi driver calls finally the mpsse_flush function, it
	first initiate the USB in and finally the corresponding USB out
	transaction.  Because data in is requested too early the USB device
	will always answer the first USB in by a NAK. That can prevented by
	a simple reordering of the out and then the in transfer and can
	improve the Jtag performance for high JTAG clock rates.  Change-Id: I17abf1487c914c92e2e447ee6d30562ef629f327 Signed-off-by:
	Peter Henn <Peter.Henn@web.de> Reviewed-on:
	http://openocd.zylin.com/942 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com> Reviewed-by: Xiaofan
	<xiaofanc@gmail.com>

2013-02-25  Mathias K <kesmtp@freenet.de>

	* : Move back off timer to target struct Move the global target back off timer to the target struct. This
	will fix the wrong error handling with multi target devices like smp
	systems.  Change-Id: Ia327182ed5d13ca87323700017a8c40ecc6b25a3 Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/1179 Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk> Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2012-07-17  Freddie Chopin <freddie.chopin@gmail.com>

	* : Update HACKING info Inform about possibility of discarding negative review in Gerrit
	when specific conditions are met.  Change-Id: I432b6c93cefc368fa22ce1096bea4cd174e03816 Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com> Reviewed-on:
	http://openocd.zylin.com/747 Reviewed-by: √òyvind Harboe
	<oyvindharboe@gmail.com> Tested-by: √òyvind Harboe
	<oyvindharboe@gmail.com>

2013-02-10  Joerg Fischer <turboj@gmx.de>

	* : Fix buffer overflow in versaloon interface The USB buffer will need space for both TMS and TDI buffers.  Each
	holds tap_buffer_size bytes maximum, so tap_buffer_size must be
	smaller than half of usb buf_size.  Change-Id: Id8f39936a894cbd98deb89eec5a859aef1e2b783 Signed-off-by:
	Joerg Fischer <turboj@gmx.de> Reviewed-on:
	http://openocd.zylin.com/1136 Tested-by: jenkins Reviewed-by: simon
	qian <simonqian.openocd@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-02-14  Spencer Oliver <spen@spen-soft.co.uk>

	* : armv7m: update to use correct register core_cache The was missed when the armv7m was moved over to using the std arm
	core_cache, probably because it is disabled by default.  Change-Id: I2f5a18ef6dd783b36e8c29f4c52379104bda4583 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1138 Tested-by: jenkins

2013-01-24  Johan Almquist <johan.almquist@assaabloy.com>

	* : stm32: add support for the STM32Lx 384kb dual bank flash This update adds support for the STM32Lx 384kb dual bank flash.
	Previously there was a problem when writing an image that was larger
	than 192Kb. That lead to openocd printing out two error messages
	like "Error: access denied / write protected" and "Error: invalid
	program address". The reason was that the stm32lx driver tried to
	write half pages which overlapped into the next flash bank.  A new
	configuration file stm32lx_dual_bank.cfg can be used for stm32lx
	chips with dual bank flash (256kb or 384kb devices).  A sanity check
	was added for probed flash size values to fix the issue seen on some
	ST samples that answered incorrectly.  Change-Id: I69e25131983d88613be8606b438f98870c5f1e52 Signed-off-by:
	Johan Almquist <johan.almquist@assaabloy.com> Reviewed-on:
	http://openocd.zylin.com/1125 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-02-03  Franck Jullien <franck.jullien@gmail.com>

	* : jtag_interface: .speed can be NULL  when not needed adapter_init (core.c) won't check speed configuration of the
	selected interface if it's not needed (.speed = NULL).  When it's not needed, we can now omit adapter_khz in init scripts
	and we don't have to implement dummy handlers for speed_div and khz
	functions.  It also removes calls to adapter_khz in interface configuration
	files when not used anymore.  Change-Id: I6eb1894385503fede542a368f297cec6565eed44 Signed-off-by:
	Franck Jullien <franck.jullien@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1131 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2013-01-10  Spencer Oliver <spen@spen-soft.co.uk>

	* : armv7m: restore core mode after executing algorithm Make sure we restore the core mode after executing any algorithm.  We also now check that we actually need to swap the core mode, we
	may already be in the correct mode.  Change-Id: Ia48af2c108e0f9868aae241bf25f60323503f092 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1107 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2012-11-08  Spencer Oliver <spen@spen-soft.co.uk>

	* : armv7m: use generic register core_cache This removes the armv7m::core_cache and uses the generic
	arm::core_cache.  Change-Id: If854281b31486cea8be005008f6a71a691b4c208 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/968 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2013-01-10  Spencer Oliver <spen@spen-soft.co.uk>

	* : armv7m: use generic arm::core_mode To simplify things change over to using the generic core_mode struct
	rather than maintaining a armv7m specific one.  Change-Id: Ibf32b785d896fef4f33307fabe0d8eb266f7086f Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/966 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2013-01-27  Freddie Chopin <freddie.chopin@gmail.com>

	* : rtos: fix error message Probably a copy&paste error or remainings of some older version.  Change-Id: Ifb81a9a1fe8242f3b114cd0686dd264fbaad4920 Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1123 Tested-by: jenkins Reviewed-by:
	√òyvind Harboe <oyvindharboe@gmail.com>

2013-01-03  Evan Hunter <ehunter@broadcom.com>

	* : rtos: Fix regression preventing use of first RTOS & clean up
	rtos_qsymbol() ThreadX support was not working due to it being first in the list of
	RTOS - regression.  Auto-detect off, an RTOS was always be marked as
	successfully detected, even if symbols are not found.  Lines 223-227
	were unnecessary as they are done in rtos_try_next() Added lots of
	comments Improved readability by separating: GDB not finding a
	symbol vs no more symbols being available Regression caused by patch which was allowed only 52 minutes for
	review : http://openocd.zylin.com/895 Change-Id: Ib4decb01db595ddb3796837c6d8338ce6b9a91ca Signed-off-by:
	Evan Hunter <ehunter@broadcom.com> Reviewed-on:
	http://openocd.zylin.com/986 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-12-26  Hsiangkai Wang <Hsiangkai@gmail.com>

	* : libusb: idProduct of USB device may be zero There is no constraint about idProduct in USB spec.  So, pids[i] may
	be 0 for USB devices.  Change-Id: I19d8974f4e7082e8b7e1f2d33c019ac4e61bc1e2 Signed-off-by:
	Hsiangkai Wang <hsiangkai@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1091 Tested-by: jenkins Reviewed-by:
	Xiaofan <xiaofanc@gmail.com> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2013-01-04  Spencer Oliver <spen@spen-soft.co.uk>

	* : flash: add stm32lx loader Hard Fault workaround An issue has been seen with the stm32lx flash driver that if a power
	cycle/reset is applied after a erase, any ram loader will Hard Fault
	on execution.  A similar issue is mentioned in the errata for the device.  Two
	solution's seem to workaround this issue: 1, Handle the exception,
	   this means adding exception vectors to the loader and changing the
	exception address using nvic vtor register.  2. falling back to using slower direct page writes - approx 50%
	slower.  Using solution 1 would mean restrictions are placed on the loader
	location.  Solution 2 was chosen mainly as it was simpler too
	implement.  Change-Id: I429f06b5a3e3b1d8de90071a88a7df11fc9b46a7 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1010 Tested-by: jenkins

2013-01-04  Spencer Oliver <spen@spen-soft.co.uk>

	* : flash: cleanup stm32lx driver Handle any leading bytes upto the next 128 byte page, enabling us to
	safely use the faster page write.  Rather than use a separate word/byte write to program any trailing
	bytes we use a combined write function.  Use memcpy for byte writes and change loader to using bytes.  Change-Id: Ie0164a30388f018dd00e752cf5ff87d4f96ced97 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1008 Tested-by: jenkins

2012-11-20  Spencer Oliver <spen@spen-soft.co.uk>

	* : flash: stm32f2x support write protection Change-Id: I42662681104bb06e28148229464ae144c4a54538 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/989 Tested-by: jenkins

2013-01-18  Spencer Oliver <spen@spen-soft.co.uk>

	* : build: replace deprecated AM_CONFIG_HEADER with
	AC_CONFIG_HEADERS automake-1.13 has now deprecated AM_CONFIG_HEADER, use the correct
	AC_CONFIG_HEADERS instead.  Change-Id: I8adaec64cbad7f7318ff69091176c30b707cbb0b Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1117 Tested-by: jenkins Reviewed-by: Mikko
	Viitam√§ki <mikko.viitamaki@gmail.com> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2013-01-15  Roman Reichel <romanreichel@aol.de>

	* : opendous: Inhibit unnecessary state transitions When current tap state and end state are the same, transitions are
	added which is not what should happen.  The usbprog driver was
	already patched like this long time ago.  Change-Id: I339e87156bdc7b5c83c10c14025b749605d3871a Signed-off-by:
	Roman Reichel <romanreichel@aol.de> Reviewed-on:
	http://openocd.zylin.com/1113 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2012-12-28  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : doc: Add documentation for the ftdi driver Change-Id: I1ade2eb187b404141051d9f59ba06e8e6e5d51aa Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1099 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2012-11-20  Spencer Oliver <spen@spen-soft.co.uk>

	* : flash: allow stm32f1x options_write args in any order Currently we have to supply the arg's to this cmd in a set order,
	this change fixes that issue.  Change-Id: I14a15732e1917a91009e1ac14fba39ca1523c739 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/992 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2012-11-19  Spencer Oliver <spen@spen-soft.co.uk>

	* : stm32f1x: fix stm32f0/f3 broken unlock The STM32F0 and F3 devices use a different default RDP to configure
	a unlocked device, make sure we use that.  Change-Id: I170779461412c4c202c2cfc8d90baedb7e388150 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/984 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2012-11-16  Szymon Modzelewski <szmodzelewski@gmail.com>

	* : flash: stm32f1x: write option bytes using the loader Some debuggers (stlink) can't issue 16 bit writes and have to use a
	loader to write flash memory.  Currently the loader is not used for option bytes, causing
	stm32x_write_options to fail silently on such hardware.  Fix this by using stm32x_write_block to write option bytes as well.  Change-Id: I49c29d53ab5e162463cb349d4c89bef96467e587 Signed-off-by:
	Szymon Modzelewski <szmodzelewski@gmail.com> Reviewed-on:
	http://openocd.zylin.com/480 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2012-12-07  Spencer Oliver <spen@spen-soft.co.uk>

	* : flash: stm32lx fallback to slow memory writes when no working
	area The current stm32lx driver will fail if no working area is provided
	- fallback to using slow writes if this is the case.  Change-Id: I92b1535fec4aebc855c63ce2c54b10f168f3c07e Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1007 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2012-12-06  Spencer Oliver <spen@spen-soft.co.uk>

	* : cfg: stm32l use minimum family ram size for working area The smallest pert in the family has 10k RAM, so use that as a
	default for the working area.  Change-Id: I78be0d14a254c109ac15a7163552c6132f810416 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1005 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2012-12-04  Spencer Oliver <spen@spen-soft.co.uk>

	* : flash: add new stm32l HD variant Updated as per latest RM0038 Rev 6.  Change-Id: Ia11309a1cdc3b8986f808b33a5c565bdc0ba58b0 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1003 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2012-11-15  Spencer Oliver <spen@spen-soft.co.uk>

	* : stlink: print target voltage if supported The stlink/v2 has the ability to check the target voltage if the
	firmware is recent enough (>= J13).  As a debugging aid we check the voltage at startup and issue an
	error if this is too low to debug reliably.  Change-Id: I98e251f3880e31049c4307051c30bedd3451cf87 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/980 Tested-by: jenkins

2012-12-12  Spencer Oliver <spen@spen-soft.co.uk>

	* : helper: improve windows gdb pipe performance Reducing the select and MsgWaitForMultipleObjects timeouts to 1ms
	makes a 2-300+% increase in the step time of gdb when using pipes
	under windows OS.  Change-Id: Id7e52cfb2b206347a9caea61672885a3e2b186de Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1050 Tested-by: jenkins

2012-12-05  Spencer Oliver <spen@spen-soft.co.uk>

	* : flash: add stm32f2x rev X Updated as per ST RM0033 rev 5 Change-Id: I627fdab69b440b75b8e4f7c474216538fa5273a4 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1001 Tested-by: jenkins

2012-11-08  Spencer Oliver <spen@spen-soft.co.uk>

	* : docs: update docs to include info on TI ICDI Change-Id: I3009920f512f76901d187318ee50284db34ab6f7 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/924 Tested-by: jenkins

2012-11-01  Spencer Oliver <spen@spen-soft.co.uk>

	* : hla: add ability to configure read/write buffer size Other adapters (TI ICDI) that use this driver can use a larger
	read/write buffer size than the original stlink could.  Change-Id: I9beb7748049097cbe29a2340799c450bd74e199d Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/948 Tested-by: jenkins

2012-10-23  Spencer Oliver <spen@spen-soft.co.uk>

	* : rtos: rename stm32_stlink target to hla_target Update rtos detection to use the new target name.  Change-Id: I4e55311bcfbc8af55708b43daf0c73b1c8145934 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/923 Tested-by: jenkins

2012-10-24  Spencer Oliver <spen@spen-soft.co.uk>

	* : target: add deprecated target name support This enables us to change the target name without breaking any
	target scripts.  Change-Id: I635f961e573264d3dab2560f3a803ef1986ccfde Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/919 Tested-by: jenkins

2012-10-15  Spencer Oliver <spen@spen-soft.co.uk>

	* : stlink: use common layout Even though the stlinkv1 and stlinkv2 use different usb classes they
	share the same layout scheme.  Merge the two into a common layout, thus enabling us to support
	other adapter layouts.  Change-Id: I7d02c44a7f94ebc7f2cb5428b02ee40294fb430d Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/918 Tested-by: jenkins

2012-11-21  Evan Hunter <ehunter@broadcom.com>

	* : rtos: Add Cortex-R4 support for ThreadX Change-Id: I0b55af690ed917ca783d90d11dcf012f49792ed7 Signed-off-by:
	Evan Hunter <ehunter@broadcom.com> Reviewed-on:
	http://openocd.zylin.com/994 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-12-07  is2t <devel@is2t.com>

	* : LPC1788 target configuration file.  Change-Id: I68bd6b7c19d9d1bee13d0921c32b4490e68ab8f2 Signed-off-by:
	is2t <devel@is2t.com> Reviewed-on: http://openocd.zylin.com/1002
	Tested-by: jenkins Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2012-11-13  Spencer Oliver <spen@spen-soft.co.uk>

	* : stlink: enable connect under reset Currently if the target supports srst_nogate we wait until target
	assert_reset until we get a chance to assert the srst.  However
	sometimes we will not get this far if the target has already failed
	the initial scan.  This has been tested on stm32.  Change-Id: I2c4486942a011534d3e2044788563669bf457b60 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/972 Reviewed-by: Paul Fertser
	<fercerpav@gmail.com> Tested-by: jenkins Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2012-11-26  Spencer Oliver <spen@spen-soft.co.uk>

	* : jtag: add connect_type reset_config mode flag This adds the ability to request to the adapter how we want to
	connect to the target, eg. while srst is asserted or not.  This ability can very handy for connecting to unresponsive targets.
	A prerequisite is that the target supports srst_nogate.  Change-Id: I0f7c9475160048e8a963e16077754f5403ac8325 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/976 Reviewed-by: Paul Fertser
	<fercerpav@gmail.com> Tested-by: jenkins Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2012-10-17  Kamal Dasu <kdasu.kdev@gmail.com>

	* : mips_m4k: Added SMP debug support for mips architectures This change adds smp debug support for mips platforms. The change
	leverages the exiting gdb smp support as mentioned in the OpenOCD
	documentation for using gdb in smp environemnt. Added commands
	smp_on, smp_off, smp_gdb to control the smp mode. The implementation
	also provides a way to send Jc packet and toggle the gdb display
	core context as well.  Change-Id: I0835a5aed1844b6ebf8291582912f20695346003 Signed-off-by:
	Kamal Dasu <kdasu.kdev@gmail.com> Reviewed-on:
	http://openocd.zylin.com/937 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-11-23  Spencer Oliver <spen@spen-soft.co.uk>

	* : helper: fix code formatting Change-Id: Ide2d704c9ef4f5563649d5db53bbdd3641868b70 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/995 Tested-by: jenkins

2012-11-19  Jason Moehlman <jmoehlma@linux-software.com>

	* : arm: Mis-aligned data issue fix.  Fixes issue with big endian hosts and mis-aligned data on some
	hosts.  Fixes unaligned access exception on hosts that do not
	support unaligned access when debugging some arm targets.  Signed-off-by: Jason Moehlman <jmoehlma@linux-software.com>
	Change-Id: I6bc6fb1b3c3565b256674b9ef43ed2afd14f5178 Reviewed-on:
	http://openocd.zylin.com/996 Tested-by: jenkins Reviewed-by: √òyvind
	Harboe <oyvindharboe@gmail.com>

2012-11-19  Spencer Oliver <spen@spen-soft.co.uk>

	* : flash: add stm32f42x/stm32f43x support Other than a larger memory layout these new devices also have an
	extra MER1 bit to perform the mass erase.  Change-Id: I7110a05bac95c1707160d1f5622181664291eb4a Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/985 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2012-11-03  Salvador Arroyo <sarroyofdez@yahoo.es>

	* : mips: optimize mips32_pracc_read_regs() code Current code needs 101 pracc accesses for this function, this code
	needs 12 less.  There is a singularity in this code, is the only
	function that restore a register from param out instead from  pracc
	stack. Obviously the register was previously stored at param out.
	This save 2 pracc accesses.  Change-Id: Ie95b6f983a3198dafc0eab2dd5acc11f871a8d83 Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/958 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-11-02  Salvador Arroyo <sarroyofdez@yahoo.es>

	* : mips: optimize write code for speed All the writes are done by the new function
	mips32_pracc_write_mem_generic().  The code is similar to the read
	generic code.  The reuse of register 15 as memory base address saves
	3 pracc accesses.  The first write takes 13(12) pracc accesses and
	for additional writes 3(2).  Loading miniprograms should take 25%
	less time and loading fastdata transfer handler code should be over
	2x faster.  Change-Id: Ia3b24ba084af33be99da19f00a7fd4d1b291f350 Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/956 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-11-01  Salvador Arroyo <sarroyofdez@yahoo.es>

	* : mips: optimize mips32_pracc_read_u32() function This function is highly optimized, there is not much to improve.
	Loading the base address for pracc access with the new defined
	MIPS32_PRACC_BASE_ADDR saves one instruction.  The memory address is
	loaded in too steps. First the upper address is loaded. The lower
	address is passed as an offset in the memory load instruction.  The
	offset is signed, if the lower address is in the range of 0x8000 to
	0xffff the offset is a negative value, and the upper address must be
	incremented by 1.  Pracc accesses are now 12 instead of 14.  Change-Id: I286945b240ed5c5d5cc540780a41a8a5fa075da3 Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/952 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-11-01  Salvador Arroyo <sarroyofdez@yahoo.es>

	* : mips: code clean up in mips_m4k_debug_entry() function The function mips_ejtag_read_debug() is defined in mips_ejtag.c and
	is called only by mips_m4k_debug_entry() for reading the CP0 debug
	register. The comment in this function is obviously wrong.  There is
	a generic function to read CP0 registers with similar code.  A call
	to mips32_cp0_read() should work in the same way.  The purpose of
	reading the debug register is to test if the DSS bit is set and
	clear the SSt bit.  It is faster and easier if the SSt bit is
	cleared without any check.  Remark: DSS bit set only means that a
	debug single-step exception ocurred, but it is not possible to step
	over a sdbbp instruction, in this case DSS will not be set and the
	SSt bit not cleared by code.  Resume command at another address will
	step, so really the behavior is not the same.  Change-Id: Ibd35f80e0f7669976d96f4ed813830cecf587971 Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/950 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-09-01  Salvador Arroyo <sarroyofdez@yahoo.es>

	* : Pic32mx.cfg: Change system clock to 8Mhz after reset-init.  As for openocd 0.6.0-rc2 the function mips32_pracc_fastdata_xfer()
	should now work at a scan frequency up to 1200Khz.  Mainly usefull
	to increase programming speed.  Also verify_image should be slightly faster.  Change-Id: I1e9b2be73690a4597e2f6ba069c1205026850f07 Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/805 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-11-09  Freddie Chopin <freddie.chopin@gmail.com>

	* : Revert "mpsse: Always perform a general reset of the MPSSE in
	mpsse_open()" This reverts commit 452248af1d06cb1140b85f53ef4fdee1c746d807. This
	change breaks all non-high speed adapters. The patch was not tested
	and did not get any review.  Change-Id: Ib38fd242a202fd7c5a8711d9f857cd8f586df44e Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com> Reviewed-on:
	http://openocd.zylin.com/973 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-11-05  Spencer Oliver <spen@spen-soft.co.uk>

	* : target: add async algorithm timeout An issue was observed when using an async algorithm with a target
	that had not been previously reset beforehand. The target would
	enter a infinite loop within target_run_flash_async_algorithm.  Add a timeout that will at least prevent this issue from happening.
	and also suggest the user resets the target.  Change-Id: I5277e0d64e252d3d353e8d5bc9889a37fdc63060 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/949 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2012-11-06  Spencer Oliver <spen@spen-soft.co.uk>

	* : cortex: autostep correctly handle user breakpoint If we halt due to a breakpoint make sure that we do not remove it
	during a step, only remove breakpoints we have created.  Change-Id: I060168e54e53637d4fbf3cbcf62072efdb353807 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/947 Tested-by: jenkins

2012-10-25  Gianluca Renzi <gianlucarenzi@eurekelettronica.it>

	* : Added support for NXP LPC1850 Microcontroller Added a new configuration file for LPC18xx based boards, such as
	HitexLPC1850RevA Evaluation Board, and all other based on the same
	microcontroller by NXP.  Change-Id: I68c3827be535b6d09a5c70b6d57191937d00354d Signed-off-by:
	Gianluca Renzi <gianlucarenzi@eurekelettronica.it> Reviewed-on:
	http://openocd.zylin.com/930 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-11-06  Gianluca Renzi <gianlucarenzi@eurekelettronica.it>

	* : Added support for SPI Flash Winbond W25Q64CV Added in spi device table SPI Flash Winbond W25Q64CV 64Mbit Its
	Device ID 0x001740ef is the same as Spansion S25FL064K (may be a
	clone?) Change-Id: I3cdbd182a0ccde75c78684cb9d54c76059bf34e0 Signed-off-by:
	Gianluca Renzi <gianlucarenzi@eurekelettronica.it> Reviewed-on:
	http://openocd.zylin.com/928 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-11-05  Matthias Blaicher <matthias@blaicher.com>

	* : rtos: Make ChibiOS code aware of endiness The ChibiOS code was derived from other RTOS support code which does
	not honor the target vs. host endiness.  The other RTOS code still needs to be fixed.  Change-Id: Idf42cfaa30945289bf1756ad6491fff84913eda9 Signed-off-by:
	Matthias Blaicher <matthias@blaicher.com> Reviewed-on:
	http://openocd.zylin.com/962 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-11-04  Matthias Blaicher <matthias@blaicher.com>

	* : rtos: Fix wrong ReadyList lookup in ChibiOS We already have the address of the ReadyList provided by gdb.  It is
	wrong to resolve that address a second time and it only works by
	accident.  Change-Id: I82fa2360931c416290cd7f83e1883f86f90dedc2 Signed-off-by:
	Matthias Blaicher <matthias@blaicher.com> Reviewed-on:
	http://openocd.zylin.com/959 Reviewed-by: Joel Bodenmann
	<joel@unormal.org> Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2012-10-12  Evan Hunter <ehunter@broadcom.com>

	* : Ensure Cortex-M reset wakes device from sleep (wfi/wfe) Change-Id: Idb52ca3123bb3e2f7863ba1b82ac9b176d7cb094 Signed-off-by:
	Evan Hunter <ehunter@broadcom.com> Reviewed-on:
	http://openocd.zylin.com/833 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-10-28  Peter Stuge <peter@stuge.se>

	* : ftdi/flyswatter2.cfg: Define the LED signal Change-Id: Ic5d85c0d855bcffba54de7df6cff4d726656af97 Signed-off-by:
	Peter Stuge <peter@stuge.se> Reviewed-on:
	http://openocd.zylin.com/940 Tested-by: jenkins

2012-10-24  Spencer Oliver <spen@spen-soft.co.uk>

	* : flash: update stm32 flash driver versions Seems ST have changed the ref manual (RM0313 rev1) and reverted to
	using letters rather than numbers for the stm32f3x family.  Change-Id: I3a87ec9b0b2447d57dfef98603d30e28fe9ac927 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/926 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com> Reviewed-by: Peter Stuge
	<peter@stuge.se>

2012-10-26  Spencer Oliver <spen@spen-soft.co.uk>

	* : gdb: use strncmp rather than strstr All the packets received will be at start of the packet buffer, so
	use more efficient strncmp.  Change-Id: Ib9c45d8f53425367006b1f880c1bde27f03a6cf9 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/932 Tested-by: jenkins Reviewed-by:
	Matthias Blaicher <matthias@blaicher.com> Reviewed-by: Peter Stuge
	<peter@stuge.se>

2012-10-09  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : adi_v5_jtag.c: Avoid infinite recursion in
	jtagdp_transaction_endcheck() Change-Id: I81163d9c2ff97ed768f8a3ac1505a8d2b5016b91 Signed-off-by:
	Peter Stuge <peter@stuge.se> Reviewed-on:
	http://openocd.zylin.com/908 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2012-10-27  Matthias Blaicher <matthias@blaicher.com>

	* : rtos: Use ARRAY_SIZE instead of coding it by hand Use ARRAY_SIZE in helper/types.h to determine the size of the symbol
	list.  Change-Id: Icc9838323510f8602efa5d0162a4daed33f863b9 Signed-off-by:
	Matthias Blaicher <matthias@blaicher.com> Reviewed-on:
	http://openocd.zylin.com/935 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2012-10-10  Spencer Oliver <spen@spen-soft.co.uk>

	* : Revert "gdb_server : 'R' command replied by OK" This reverts commit 1e7e59445287c3389b52903a7cacdb5635248f32.  For some reason the above commit added a reply to the restart
	command - this is not required as per the gdb docs.  Newer versions of gdb (7.0 and above) will complain about this
	reply.  Change-Id: Ieeae3dcf44d798a91dfc6f7348da982c2ce1be31 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/910 Tested-by: jenkins Reviewed-by: Joel
	Bodenmann <joel@unormal.org>

2012-10-08  Spencer Oliver <spen@spen-soft.co.uk>

	* : stlink: fix vector catch not being cleared Seems after a reset the stlink is not clearing the vector catch
	(VC_CORERESET) in the Debug Control Register.  This has the side effect if the user presses an external reset the
	core will halt, this patch fixes that.  Change-Id: Ic3b2c3991b79cacbbd901c02b79613c2e204e71f Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/905 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-10-04  Spencer Oliver <spen@spen-soft.co.uk>

	* : flash: fix at91sam3/4 driver typos Change-Id: I06efdfcc48279b06035e9e173945304310054864 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/896 Tested-by: jenkins Reviewed-by: Olivier
	Schonken <olivier.schonken@gmail.com>

2012-10-05  Freddie Chopin <freddie.chopin@gmail.com>

	* : Cleanup lpc2000.c Do some cleanup in lpc2000.c - concatenate short lines into single
	longer lines, move variable declarations to "just before" they are
	used, etc.  Change-Id: Ia7b9f0307dd4857ee8e15c8a6d4d7b5c4392fd80 Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com> Reviewed-on:
	http://openocd.zylin.com/861 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-10-08  Spencer Oliver <spen@spen-soft.co.uk>

	* : cfi: remove typos and code cleanup No change to code, just fix some formatting issues.  Change-Id: I177430a99bfecbf90a1ddf623321c29d4db516b0 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/906 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-10-09  Matthias Blaicher <matthias@blaicher.com>

	* : rtos: Don't crash on qSymbol GDB packet when no RTOS is
	configured Commit 43902905bbc8fdc9d764f3843d697161d9b5fd92 fixed a bug but also
	introduced a regression. The RTOS GDB packet handler is always
	called, not only when an RTOS is actually configured, so it is
	important to check if an RTOS has been configured or not before
	actually processing the qSymbol packet.  Change-Id: I1aed54f6c2817e1ebf99ddcda051df4554ea5a3a Signed-off-by:
	Peter Stuge <peter@stuge.se> Reviewed-on:
	http://openocd.zylin.com/907 Tested-by: jenkins

2012-10-08  Peter Horn <peter.horn@bluewin.ch>

	* : rlink: Fix DTC command timeout With the current timeout setting i = 10 in drtc_run_timeout() I get
	"Error: too many retries waiting for DTC status" when loading a
	program into the FLASH of an STM32F1.  By experimentation a value of i = 22 was found to be the minimum on
	my system. Therefore the value has been increased to i = 50.  Change-Id: Ib67fc648ccaad305871b81c2c39e49de53c330a0 Signed-off-by:
	Peter Horn <peter.horn@bluewin.ch> Reviewed-on:
	http://openocd.zylin.com/863 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-10-06  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : stm32f1x: Increase options erase timeout The erase time for the option byte page is not directly specified
	but is assumed to be the same as the other pages (or mass erase)
	which is 20 to 40 ms. The current timeout value is 10 which means 10
	ms plus the time to poll the status flag that many times.  With faster interfaces or drivers (such as when using the ftdi
	driver instead of the ft2232 driver) the adapter delay is not enough
	in some cases, unless the jtag freq is reduced as a workaround. The
	result is a "timed out waiting for flash" error when trying to write
	the options.  Increase the timeout to a minimum of 100 ms, which is in line with
	the other erase timeouts. Also make defines of both the erase and
	the program timeouts.  Change-Id: Ia86e71505033c52b60ef30092000689fbb547a18 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/902 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-09-30  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : flash/nor: make all working area pointers local Working area pointers shouldn't be re-used, so there's no point in
	storing them in the flash bank struct. Make all such pointers local.  Change-Id: Iab65b4e8b475fed7fc72fb8928f54590fa69d260 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/865 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2012-10-04  Spencer Oliver <spen@spen-soft.co.uk>

	* : Revert "target: remove unused working area 'user' field" This reverts commit 63a23e6fc862b94f00e0833ab474bd02901a019f Change-Id: I62778fb3b1dabc6470d582bea9ca64d593999233 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Change-Id:
	Iaf5a2cf5bdc4a62ba68ad9403e1c1229112970de Reviewed-on:
	http://openocd.zylin.com/899 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com> Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-10-04  Peter Stuge <peter@stuge.se>

	* : rtos: Rewrite rtos_try_next() for readability The new code is almost functionally equivalent to the old.  The function now returns 0 instead of -1 if target->rtos has not yet
	been allocated. All call sites only test for success, and in
	practise that is also the only thing that matters; if the function
	successfully iterated to the next RTOS or not.  Other than that the only difference is that the code is now
	readable.  Many thanks to Matthias Blaicher for the fix to the iteration error! Change-Id: I3342826f653b5e46c99ad1f58eec26ff10795c33 Signed-off-by:
	Peter Stuge <peter@stuge.se> Reviewed-on:
	http://openocd.zylin.com/894 Reviewed-by: Matthias Blaicher
	<matthias@blaicher.com> Tested-by: jenkins

2012-09-12  Olivier Schonken <olivier.schonken@gmail.com>

	* : Modified Sector Erase for AT91SAM4S In FLASHD_ErasePages AT91C_EFC_FCMD_EPA is used to erase sectors.
	According to the datasheet FARG[15:2] defines the page from which
	the erase will start.This page must be modulo 4, 8, 16 or 32
	according to the number of pages to erase. FARG[1:0] defines the
	number of pages to be erased. Previously (firstpage << 2) was used
	to conform to this, seems it should not be shifted... Changed it to
	(firstPage) | erasePages.  Change-Id: I791cc7fc4faf056623ad5a6c7e860315306098a1 Signed-off-by:
	Olivier Schonken <olivier.schonken@gmail.com> Reviewed-on:
	http://openocd.zylin.com/830 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-10-02  Spencer Oliver <spen@spen-soft.co.uk>

	* : lpc1768-stick: avoid driving srst high at startup this avoid driving nSRST high after startup, by making sure the nOE
	is initialized inactive/high.  This also matches the config used for the STM32-PerformanceStick.  Change-Id: I9376de575b7dc834310d57dbd58575d51f60183e Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/878 Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com> Tested-by: jenkins

2012-09-26  Spencer Oliver <spen@spen-soft.co.uk>

	* : cfg: fix incorrect cortino reset config The cortino uses a direct srst connection rather than via any
	buffer.  As a result this fixes issues with the newer ftdi driver.  Change-Id: I28f6781bccae24de79aa6a03161f298a14fe2581 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/850 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com> Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-10-02  Spencer Oliver <spen@spen-soft.co.uk>

	* : cfg: update ti/stellaris url's Change-Id: I96f17c5ea2be506a6b88434616ca52c3e392868a Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/879 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-10-02  Spencer Oliver <spen@spen-soft.co.uk>

	* : cfg: fix incorrect stm32-performance stick config This hardware uses a output enable buffer that was not correctly
	defined.  Fixes issues when using the new ftdi driver.  Change-Id: Iba6235a71a6d3c7d16ab729f858b336a4574dfea Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/844 Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com> Tested-by: jenkins

2012-09-28  Spencer Oliver <spen@spen-soft.co.uk>

	* : gdbserver: code cleanup Change-Id: Iab2966be8dd145f33f41902e2d55afe03d0f5856 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/857 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-09-28  Spencer Oliver <spen@spen-soft.co.uk>

	* : build: remove unnecessary jim.h include as well as not being required, as it is already included by
	jim-nvp.h.  It also makes the doxygen output a bit clearer to read.  Change-Id: Ia2bed7142b4a56b48b1ecf0734e63f860dcd1014 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/859 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-09-26  Spencer Oliver <spen@spen-soft.co.uk>

	* : cfg: add ti ek-lm3s8962 config Change-Id: I753cec80a904130088b00b3f81b6dd61808662d6 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/852 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-09-25  Spencer Oliver <spen@spen-soft.co.uk>

	* : cfg: str9-comstick tested and working Change-Id: Ia6c45477381e78cb9508b4731438161e18be1f38 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/843 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com> Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-09-10  Spencer Oliver <spen@spen-soft.co.uk>

	* : flash: add stm32f3 rev 2 flash support Change-Id: Ibab5112f5f70a609136d01ebc50530a334640d03 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/809 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-09-26  Spencer Oliver <spen@spen-soft.co.uk>

	* : ftdi: incorrectly using output register for direction fix a simple copy/paste bug.  Change-Id: I5caaa4d16d30f26a453bd6a00c95261fd6e716c5 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/849 Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com> Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2012-09-24  Spencer Oliver <spen@spen-soft.co.uk>

	* : ftdi: fix adapter_init rclk fallback adapter_init expects jtag_get_speed (via ftdi_khz) to return a valid
	fallback speed if the adapter does not support rclk. The call was
	failing and so was the rest of the adapter init.  The makes the new ftdi driver emulate the old ftdi driver.  Change-Id: Ic7fac7d201241eb181e98f1ba7111f159731f6e0 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/839 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-09-29  Peter Horn <peter.horn@bluewin.ch>

	* : Fix: Error while reading from USB endpoint This patch fixes the bug reported here: http://sourceforge.net/mailarchive/message.php?msg_id=28350157 When using Rlink under Linux, openocd exits with: "Error: Read of endpoint 2 returned -75, expected 17" The return value of -75 translates into EOVERFLOW. The cause is a
	wrong output buffer size argument passed to dtc_run_download().  Change-Id: I5d056705181ab6a6d4355524df06a0ea9c605961 Signed-off-by:
	Peter Horn <peter.horn@bluewin.ch> Reviewed-on:
	http://openocd.zylin.com/862 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2012-09-25  Evan Hunter <ehunter@broadcom.com>

	* : Add extra Coresight component ROM identifiers for the Cortex-M4 Signed-off-by: Evan Hunter <ehunter@broadcom.com> Change-Id:
	Iaf2d69cf10c341d3a516986677f69a4389b29b1a Reviewed-on:
	http://openocd.zylin.com/841 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2012-08-16  George Harris <george@luminairecoffee.com>

	* : SPI nor drivers refactor Moved common SPI flash driver code (device table, common commands)
	into flash/nor/spi.c and spi.h.  Updated flash/nor/stmsmi.c to
	reflect this refactor.  Change-Id: I141644b0af71d3835f29f06dd15b505a00e5b6ec Signed-off-by:
	George Harris <george@luminairecoffee.com> Reviewed-on:
	http://openocd.zylin.com/782 Tested-by: jenkins Reviewed-by:
	Aurelien Jacobs <aurel@gnuage.org> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2012-09-07  Freddie Chopin <freddie.chopin@gmail.com>

	* : Restore -dev suffix, archive NEWS file, add new blank NEWS file
	- start new cycle for version 0.7.0.  Change-Id: I549bd815b62292ea4da6ed5c445c7c8a55521d9d Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2012-09-06  Spencer Oliver <spen@spen-soft.co.uk>

	* : stlink: issue error for stm32 option writing The stlink interface currently does not support 16bit read/writes.
	Until a fix is included we issue a error that this is unsupported.  Change-Id: I4552cf2bd3b29e90ecc905325b743c08e2b92d67 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/808 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-08-30  Spencer Oliver <spen@spen-soft.co.uk>

	* : configure: use consistent help text Change-Id: I5e1d7c88e9310e6415f3663d7a657f516bd24660 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/803 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com> Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-08-30  Spencer Oliver <spen@spen-soft.co.uk>

	* : cortex_m: suggest using hardware srst if VECTRESET used If the target does not support SYSRESETREQ we fall back to using
	VECTRESET.  This however does not reset the peripherals and we issue
	a warning to the user to suggest using a reset-init script.  Also suggest that using hardware srst will give them the same
	functionality as using SYSRESETREQ.  Change-Id: Ie1781c4b849fed66c52222e6539735537c879fb3 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/802 Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2012-08-29  Freddie Chopin <freddie.chopin@gmail.com>

	* : The openocd-0.6.0-rc2 release candidate.  Signed-off-by: Freddie Chopin <freddie.chopin@gmail.com>

2012-08-21  Spencer Oliver <spen@spen-soft.co.uk>

	* : server: warn if user changes server port after init So the user can view the current port number these cmds were changed
	to COMMAND_ANY.  However this means that the user can also attempt
	to change the port number after init, even though this is not
	supported. Issue a warning that this is not supported.  Change-Id: I3d20dcd81277e7d994240a8e314f27672ff760c4 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/788 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-08-28  Spencer Oliver <spen@spen-soft.co.uk>

	* : stlink: improve swd hardware reset Treat SWD wait result as success, otherwise hardware reset will
	sometimes fail.  Change-Id: I0dbdbe9e75924fe0dde547a72883c60c3db7b15e Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/799 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-08-23  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : mpsse: check available buffer space even for discarded data
	scans When there's no data to scan in or out, we still use the clock data
	out command and fill the buffer with zeroes, so make sure the buffer
	is checked for available space.  Change-Id: Ia6005c40c81f7fdb89379f1b5023fe383184d210 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/793 Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk> Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-08-28  Spencer Oliver <spen@spen-soft.co.uk>

	* : adapter: add 'adapter speed:' prefix to output Currently only the adapter speed is printed, which can be rather
	misleading when DEBUG_INFO is disabled, all the user sees is 6000
	kHz instead lets print adapter speed: 6000 kHz Change-Id: I8f02a63f47344457e3c3d0a6774157fa18206440 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/797 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-08-20  Freddie Chopin <freddie.chopin@gmail.com>

	* : Add JTAG-lock-pick Tiny 2 config files DISTORTEC's JTAG-lock-pick Tiny 2 is a new interface using FT232HL
	chip and layout similar to KT-LINK.  Change-Id: I2831b169cd448ca70397f2dd86c5b749dda3dabf Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com> Reviewed-on:
	http://openocd.zylin.com/787 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-07-19  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : kinetis: bugfix in kinetis_write() fallback path Offset calculation into buffer was wrong and code would read outside
	buffer if count was not a multiple of four.  Change-Id: Ied625b10221423d5a5f25d27ce1edd8c2c3eca8a Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/749 Reviewed-by: Peter Stuge
	<peter@stuge.se> Tested-by: jenkins Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2012-08-24  Spencer Oliver <spen@spen-soft.co.uk>

	* : jtag: fix clang ulink memory leaks Memory leaks discovered by clang 3.1 Change-Id: I8a784ba9726deac508424eddb27e9c8409e2773f Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/795 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com> Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-08-23  Spencer Oliver <spen@spen-soft.co.uk>

	* : cfg: update for target's that support cortex_m AIRCR SYSRESETREQ If the target supports SYSRESETREQ make sure we use that as the
	default if srst is not fitted/configured.  Change-Id: I24c907493134506320e69c1218702930629c1cdc Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/792 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-08-22  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : arm7_9: Fix broken halfword/byte memory reads Always scan out all bits, but make sure only the allowed number of
	bytes end up in the caller-provided buffer. Discard the rest by
	adding another scan field when size < 4.  Rewrite the endianness callback to avoid reading outside allocated
	memory.  Make it directly usable as a callback without the need for
	a wrapper. Move the shared callback to a more suitable home in
	arm7_9_common.  This fixes the regressions introduced in commits
	991ed5a2b657e660f744eefddb084724e52938ea
	cb90d32e386a7489d31136997209c61e9559ff5e and
	c3074f377c1da33ca8ba8493826e1b52351eebc6 Change-Id: Ia8bde8c5a9844e89a1d6c0bc8534cd26f02f8d11 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/789 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2012-08-16  Spencer Oliver <spen@spen-soft.co.uk>

	* : target: remove unused working area 'user' field working_area::user has never been used so lets remove it.  Change-Id: I1200311b34248549c1fe30c9f675e6129b7bebee Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/781 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-08-01  Martin Nowak <dawg@dawgfoto.de>

	* : build: fix clang warnings Change-Id: I3c6a63a18034535f0a8c2c62ba8a708f09d7839b Signed-off-by:
	Martin Nowak <dawg@dawgfoto.de> Reviewed-on:
	http://openocd.zylin.com/765 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2012-08-13  Spencer Oliver <spen@spen-soft.co.uk>

	* : flash: remove lpc2000 clang warnings By Initialising the param_table we remove the clang warning's.  We
	are also make sure we are not passing any rogue values to
	lpc2000_iap_call.  Change-Id: Idb3b0077d1dae5f03dedab1d46d01140fe9ffb10 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/777 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-08-13  Spencer Oliver <spen@spen-soft.co.uk>

	* : build: fix memory leaks Fix the memory leaks found by clang-3.1 Change-Id: Iaae68627ef599c324c9c9ee5737c22e92512862d Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/775 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-08-10  Spencer Oliver <spen@spen-soft.co.uk>

	* : helper: command.c cleanup Change-Id: I66643960e38625e843b5f54d1c072e4eee78284d Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/772 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-08-11  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : configure.ac: Fix misspelled variable Nothing checks it against 0, so it hasn't caused any problems.  Change-Id: I5e349299c37fb72bab811d78992f6de3731a986a Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/774 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2012-08-10  Andrew Karpow <notandyk@gmail.com>

	* : cfg: added new openocd-usb highspeed adapter The embedded projects shop released a new highspeed version of the
	openocd-usb adapter. These configuration files adds support for it.  Change-Id: I9b23d7889f998712b9041af101e3f0b9aba85b28 Signed-off-by:
	Andrew Karpow <notandyk@gmail.com> Reviewed-on:
	http://openocd.zylin.com/771 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2012-08-02  Freddie Chopin <freddie.chopin@gmail.com>

	* : The openocd-0.6.0-rc1 release candidate.  Change-Id: Idd85159050a39c2136ee8a31f939a2b3e35cff1b Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2012-08-02  Freddie Chopin <freddie.chopin@gmail.com>

	* : Update link and instructions about ssh keys in HACKING Gitweb changed their instructions, info about ssh keys is now on
	separate page for all platforms (selector at top of the page).  Change-Id: I3eab5dfae06cfb73f4a76718f92518454021e557 Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com> Reviewed-on:
	http://openocd.zylin.com/768 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-06-08  Alexander Osipenko <sipych@gmail.com>

	* : arm946e: add icache/dcache manipulation commands.  Provide cache operations coherent with internal target state.
	Functions similar to xscale target.  Change-Id: Ic6b9a894154f6e4f5672b5d7f5035c9774ee9499 Signed-off-by:
	Alexander Osipenko <sipych@gmail.com> Reviewed-on:
	http://openocd.zylin.com/695 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-06-08  Alexander Osipenko <sipych@gmail.com>

	* : arm946e: cleanup C0.C cache type reg access Cache type register C0.C is read-only, and display hard core
	configuration information.  This information is unlikely be changed
	in runtime.   - removed C0.C access when result is not used in    arm946e_invalidate_dcache()  - access C0.C only once per target, store result    in cp15_cache_info field of target structure  - fix cache index count calculation Change-Id: I12bc4c967fdf07f54d755f2f2f42406c0ababc1a Signed-off-by:
	Alexander Osipenko <sipych@gmail.com> Reviewed-on:
	http://openocd.zylin.com/693 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-05-27  Vandra Akos <axos88@gmail.com>

	* : added target configs for the lpc17xx devices lpc1751, lpc1752, lpc1754, lpc1756, lpc1758, lpc1759 lpc1763,
	lpc1764, lpc1765, lpc1766, lpc1767, lpc1768, lpc1769 Change-Id: I740b66930cd379c9390f3c1031cdbada747a6ce4 Signed-off-by:
	Vandra Akos <axos88@gmail.com> Reviewed-on:
	http://openocd.zylin.com/676 Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com> Tested-by: jenkins

2012-07-20  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : flash: stm32f1x: Pad odd byte writes early to avoid 16-bit
	writes For odd byte counts, stm32x_write() pads the last byte and writes it
	using a discrete 16-bit access. The stlink debugger can't issue
	16-bit writes so it fails for odd byte writes.  This patch changes stm32x_write() to pad odd byte writes into a new
	buffer and use the normal code path with a single block write. The
	fallback path, when working area cannot be allocated, has to use
	16-bit writes though which means that sufficient working area is
	required for stlink and odd byte writes.  Change-Id: I4c5dc456300b6e1056f76b0095be8aceee3e954f Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/756 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2012-07-20  Freddie Chopin <freddie.chopin@gmail.com>

	* : cfg: Add config file variants using the ftdi driver instead of
	ft2232 part 3 - files that are currently untested but verified with
	schematics Change-Id: Ia00c3b6437bffcfa0d178e779926ad9309e289fe Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com> Reviewed-on:
	http://openocd.zylin.com/755 Tested-by: jenkins

2012-07-19  Freddie Chopin <freddie.chopin@gmail.com>

	* : cfg: Add config file variants using the ftdi driver instead of
	ft2232 part 1 - files that were tested an verified as working fine Change-Id: If5986853a1cf118a9eb3b4c13b036d0f71c39624 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com> Reviewed-on:
	http://openocd.zylin.com/534 Tested-by: jenkins

2012-07-23  Spencer Oliver <spen@spen-soft.co.uk>

	* : doc: add missing ulink v1 to supported interfaces Change-Id: Ic497a3f9076ec1799ca715a99bc2e634bd1af40d Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/761 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-05-09  Salvador <sarroyofdez@yahoo.es>

	* : Speed up mips_m4k_write_memory() Do not call mips32_cp0_read() if not needed.  This will speed up
	execution of mips_m4k_write_memory() by near 2x, with parameter
	count = 1.  Change-Id: I7829a7802b6475bc6d4ac3f0632d8d239d1072da Signed-off-by:
	Salvador <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/624 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com> Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-07-12  Spencer Oliver <spen@spen-soft.co.uk>

	* : flash: fix stm32 flash driver typo's Change-Id: I37f3fee063d7f8729e057dcfe8904651790439e6 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/745 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-07-12  Spencer Oliver <spen@spen-soft.co.uk>

	* : flash: stm32l handle flash size read failure Rather than failing if the flash size reg cannot be read lets assume
	we have the max flash size fitted.  It is quite common on early ST silicon to not correct support this
	register.  Change-Id: Ife058d60ae0027faad2c929ebd5b7fe2ef27234d Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/743 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com> Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-05-27  Vandra Akos <axos88@gmail.com>

	* : lpc1768.cfg abstracted and moved to lpc17xx.cfg - Moved variant-independent code to lpc17xx.cfg, which will be
	included from lpc17??.cfg files automatically.  - lpc1768.cfg filled with variant-dependent code.  Change-Id: I7dabe6ed7da7be640ed38c13aaaa096b8796d9a0 Signed-off-by:
	Vandra Akos <axos88@gmail.com> Reviewed-on:
	http://openocd.zylin.com/675 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2012-07-05  Freddie Chopin <freddie.chopin@gmail.com>

	* : Add support for FT232H chips FT232H chips are new highspeed devices from FTDI. Basically these
	are a half of FT2232H (or a quarter of FT4232H), so only one channel
	which can be used as OpenOCD interface. The chips are supported by
	libftdi 0.20 or later and by ftd2xx 2.08.12 or later.  Change-Id: Ic9a2c279167c3419a24f0d6befacbb83c4ffeb25 Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com> Reviewed-on:
	http://openocd.zylin.com/736 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk> Reviewed-by: Salvador Arroyo
	<sarroyofdez@yahoo.es>

2012-07-25  Alan Bowman <alan.michael.bowman@gmail.com>

	* : Test the incoming debug_level, rather than the current.  The existing code tests the current debug_level for validity,
	allowing the user to set it too high and never change it after that.
	The new behaviour is to test the debug_level that the user has
	requested.  Change-Id: I85726a2e606c8d137e9b1cfe76fee865084844b1 Signed-off-by:
	Alan Bowman <alan.michael.bowman@gmail.com> Reviewed-on:
	http://openocd.zylin.com/764 Tested-by: jenkins Reviewed-by: √òyvind
	Harboe <oyvindharboe@gmail.com>

2012-07-19  Tom Rini <trini@ti.com>

	* : board: Add TI AM335x Evaluation Module This patch adds the TI AM335x Evaluation Module (ti_am335xevm) board
	configuration file.  Change-Id: Id3529e54972f8acd8c790ad55c8d0f4058a1a1f6 Signed-off-by:
	Tom Rini <trini@ti.com> Reviewed-on: http://openocd.zylin.com/753
	Tested-by: jenkins Reviewed-by: Peter Stuge <peter@stuge.se>

2012-05-27  Salvador Arroyo <sarroyofdez@yahoo.es>

	* : MPSSE: Add FT232H to supported chips Change-Id: I1ce1db7eb87a7cdeafc1f8b8b34594f6fa3bf1f8 Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/677 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com> Reviewed-by: Peter Stuge
	<peter@stuge.se>

2012-01-30  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : Add MPSSE communications layer for FTDI chips This is a higher-level libftdi replacement for use when implementing
	protocol drivers for FT2232, FT2232H or FT4232H. It takes care of
	device open/close and, unlike libftdi, also MPSSE command
	abstraction, command queueing, buffer handling and return data
	parsing.  The FTDI device is accessed through libusb-1.0 in asynchronous mode.  Change-Id: I051adb574dcc39f8ca9cd7f6dbe6ae4aeea5f4c8 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/451 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com> Reviewed-by: Peter Stuge
	<peter@stuge.se>

2012-07-03  Spencer Oliver <spen@spen-soft.co.uk>

	* : stlink: fix arm semihosting support Add missing arm cmd handlers that enable semi hosting support to
	work as expected.  Change-Id: I063d82c48b82b4f6aed4efc4b08ea752d78e9047 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/734 Tested-by: jenkins Reviewed-by: Alan
	Bowman <alan.michael.bowman@gmail.com> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2012-06-28  Stefan Mahr <stefan.mahr@sphairon.com>

	* : jtag: fix opendous reset command This cast to uint16_t is not (host) endianess save.  Depending on
	compiler usb_out_buffer[1] may be undefined.  Change-Id: If686e5d5da39541329c340bbdef472ee7ab0281c Signed-off-by:
	Stefan Mahr <stefan.mahr@sphairon.com> Reviewed-on:
	http://openocd.zylin.com/732 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2012-06-26  Spencer Oliver <spen@spen-soft.co.uk>

	* : jtag: remove redundant id check commit 5b0a1315948252ddde03fc74763ef8300c5f329c removed the need to
	check for 0xffffffff.  Change-Id: Ib4d99bf1797ccd868ec15631dbc16079571a8dd6 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/728 Tested-by: jenkins Reviewed-by: Mathias
	K√ºster <kesmtp@freenet.de> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2012-05-25  Vandra Akos <axos88@gmail.com>

	* : target.c, jim_target_md using command_print_sameline jim_target_md is supposed to print out results with command_print in
	hexdump format. It was using command_print which appends a newline
	character aftre every invocation. Using command_print_sameline
	instead Change-Id: Iaff03021acc38d54b5a082cb58b82aa4449c0715 Signed-off-by:
	Vandra Akos <axos88@gmail.com> Reviewed-on:
	http://openocd.zylin.com/669 Tested-by: jenkins Reviewed-by:
	Alexander Osipenko <sipych@gmail.com> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2012-02-12  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : Add a bit-level transfer queue Interface drivers regularly need to keep track of where each part of
	a long read buffer should be copied, once that data arrives. Both
	source and destination are often at an arbitrary bit offset.  This queued bit-level copy can help with that, by allowing the
	driver to perform postponed reads from the receive buffer already
	when building the transmit buffer, and have those reads executed at
	a later time when data is available.  For simplicity, it uses the linked list implementation list.h
	imported from the Linux kernel.  Change-Id: I06862a0a6f057cbbcacfb021f17a795195faded2 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/450 Tested-by: jenkins Reviewed-by: Xiaofan
	<xiaofanc@gmail.com> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com> Reviewed-by: Peter Stuge <peter@stuge.se>

2012-05-25  Alexander Osipenko <sipych@gmail.com>

	* : J-Link: Initialize .transports to suppress warning.  jtag_interface.transports field was left uninitialized, which
	triggers warning message on program startup.  Although hardware natively supports SWD interface, no software
	support currently present, so the value choosen to be <jtag_only>.  Change-Id: I2da41790b1850950af416cec4362d5b7bf927b2b Signed-off-by:
	Alexander Osipenko <sipych@gmail.com> Reviewed-on:
	http://openocd.zylin.com/670 Tested-by: jenkins Reviewed-by: Xiaofan
	<xiaofanc@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2012-05-09  Mathias K <kesmtp@freenet.de>

	* : Fix idcode end of chain flag.  For multi core cpus with cores without an idcode this doesn't work
	because the extra bit for every core and a n-bit shift in the data
	stream.  Change-Id: Iba0ad9422ea55c01492b27b936d028719be31180 Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/618 Tested-by: jenkins Reviewed-by: Bill
	Traynor <wmat@alphatroop.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2012-05-28  Alexander Osipenko <sipych@gmail.com>

	* : J-Link: Forcibly select JTAG transport Some versions of Segger's software do not select JTAG interface by
	default.  Do it in the intial setup.  Firmware version check code still present, with updated set of
	unsupported.  Note from Segger: Alright, we were not aware of that OpenOCD does
	not select the interface before it starts communicating with the
	target.  A debugger should always select the appropriate target
	interface before it starts communicating with the target, since
	otherwise it could also happen that a previous session with another
	debugger had selected SWD and the interface was not switched again
	by OpenOCD.  Change-Id: I5b4eab7e0e3625ec32be75a36d89e16d17e899bf Signed-off-by:
	Alexander Osipenko <sipych@gmail.com> Reviewed-on:
	http://openocd.zylin.com/667 Tested-by: jenkins Reviewed-by: Xiaofan
	<xiaofanc@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2012-05-25  Alexander Osipenko <sipych@gmail.com>

	* : J-Link Unsupported firmware version check OpenOCD does not work with the latest firmware versions of Segger
	J-Link.  Latest working version: V4.42c Unsupported versions: 4.44 to 4.46f,
	4.20 to 4.30 Older versions of firmware can be found here:   http://www.segger.com/j-link-older-versions.html The firmware versions does not correspond directly with "Software
	and documentation pack for Windows", it may be distinguished by the
	"compile" date in the information string.  Print an warning message if unsupported firmware version detected.  Change-Id: Id7d1f965b8ce2fdbcd0026a85ddd093e2fa48720 Signed-off-by:
	Alexander Osipenko <sipych@gmail.com> Reviewed-on:
	http://openocd.zylin.com/666 Tested-by: jenkins Reviewed-by: Xiaofan
	<xiaofanc@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2012-05-27  Vandra Akos <axos88@gmail.com>

	* : lpc1768.cfg pulled out constants from flash init as variables Seems like an esthetic change, but it will allow easy support for
	other lpc17xx devices.  Change-Id: I2cb953ce1afdd82f6ca65b38d5557a28416f895e Signed-off-by:
	Vandra Akos <axos88@gmail.com> Reviewed-on:
	http://openocd.zylin.com/674 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-05-29  Liviu Ionescu <ilg@livius.net>

	* : tools: initial.sh fixed to accept spaces in current path When changing the path to the hooks folder, the path needs to be
	surrounded by quotation marks, to avoid failures when the current
	path contains spaces (not only legal, but a common case on Mac OS
	X).  Change-Id: I8f180ab5f26fab00a7d78ebfe5713d4146c27452 Signed-off-by:
	Liviu Ionescu <ilg@livius.net> Reviewed-on:
	http://openocd.zylin.com/683 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2012-05-25  Spencer Oliver <spen@spen-soft.co.uk>

	* : docs: include static members in doxygen output Change-Id: I1867e8d7a3bed1a399c0790f63fee68fb6b299c4 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/672 Tested-by: jenkins Reviewed-by: Xiaofan
	<xiaofanc@gmail.com>

2012-05-23  Vandra Akos <axos88@gmail.com>

	* : Jim_GetResult was called twice Removed the superflous call to Jim_GetResult, as we are reading in
	the result to a variable anyways in the next instruction.  Change-Id: Idc96400737dc15e28304e97bcea79fa6c7a88ae1 Signed-off-by:
	Vandra Akos <axos88@gmail.com> Reviewed-on:
	http://openocd.zylin.com/661 Tested-by: jenkins Reviewed-by: √òyvind
	Harboe <oyvindharboe@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2012-05-22  Spencer Oliver <spen@spen-soft.co.uk>

	* : jtag: fix incorrect LOG_DEBUG abs_chain_position Call jtag_tap_add before LOG_DEBUG otherwise abs_chain_position does
	not get correctly set.  Change-Id: I47bd00cc83259c8bfd5551e08c3bb2ebeb5993f5 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/658 Tested-by: jenkins Reviewed-by: Bill
	Traynor <wmat@alphatroop.com>

2012-05-25  Mathias K <kesmtp@freenet.de>

	* : config: Add TI Calypso CPU configuration This patch add the TI Calypso CPU to the configuration files.  Change-Id: Ieb462960391c4a2c630d7a83699c3b6e8162ace9 Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/630 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-05-22  Spencer Oliver <spen@spen-soft.co.uk>

	* : jtag: fix opendous typo Change-Id: Ia88c32f2394bde2048bdd73625e7664c93a9a87d Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/656 Tested-by: jenkins Reviewed-by: Bill
	Traynor <wmat@alphatroop.com> Reviewed-by: Peter Stuge
	<peter@stuge.se>

2012-05-22  Spencer Oliver <spen@spen-soft.co.uk>

	* : stlink: check read_reg result Change-Id: I284824aa6f5eae8f6e910a482e9f7435e649fc0d Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/657 Reviewed-by: Peter Stuge
	<peter@stuge.se> Tested-by: jenkins

2012-05-10  Spencer Oliver <spen@spen-soft.co.uk>

	* : target: enable TARGET_EVENT_EXAMINE_* events Change-Id: I33efc0994b7bfe0faa2f4e8457fcc3c8e43d3571 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/635 Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com> Tested-by: jenkins Reviewed-by: Bill
	Traynor <wmat@alphatroop.com>

2012-05-14  Spencer Oliver <spen@spen-soft.co.uk>

	* : target: remove legacy target events These events have been deprecated for a number of years, update any
	remaining scripts to the new events.  Change-Id: Ic31ff388545ac8b3a500045699ca92c541b13f12 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/634 Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com> Tested-by: jenkins Reviewed-by: Bill
	Traynor <wmat@alphatroop.com>

2012-05-15  Spencer Oliver <spen@spen-soft.co.uk>

	* : target: disable armv6m unaligned memory access Change-Id: I42704cf80939ab9c9d4f402d2cd51c196e2fadb3 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/645 Tested-by: jenkins

2012-05-17  Spencer Oliver <spen@spen-soft.co.uk>

	* : build: add helper/types.h to config.h this header is used in numerous files and adding to config.h
	simplifies its use globally.  Change-Id: Id724a9950b90504721233022c7fb5768e9bc5548 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/649 Tested-by: jenkins Reviewed-by: Xiaofan
	<xiaofanc@gmail.com>

2012-05-19  Christopher Kilgour <techie@whiterocker.com>

	* : flash/nor/driver.h: typo fix Change-Id: Ie260f3c38b648e66958c014658bb6860171a7cc9 Signed-off-by:
	Christopher Kilgour <techie@whiterocker.com> Reviewed-on:
	http://openocd.zylin.com/653 Tested-by: jenkins Reviewed-by: Bill
	Traynor <wmat@alphatroop.com> Reviewed-by: Xiaofan
	<xiaofanc@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2012-05-17  Spencer Oliver <spen@spen-soft.co.uk>

	* : stlink: remove superfluous stlink_usb.h Change-Id: I34bc59b35fafd3fa659549e350b91310c5b33dd4 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/650 Tested-by: jenkins Reviewed-by: Xiaofan
	<xiaofanc@gmail.com>

2012-05-17  Spencer Oliver <spen@spen-soft.co.uk>

	* : remote_bitbang: fix native windows build Change-Id: Ied29ade0346c4595ffc1dafa788e2d5a595e0de3 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/648 Tested-by: jenkins Reviewed-by: Xiaofan
	<xiaofanc@gmail.com>

2012-05-14  Peter Stuge <peter@stuge.se>

	* : docs: Fix incorrect -rtos option values Commit 9ca1592cb9fe4e61ee5bc327345fdfc254c9fe13 started on
	documentation for the -rtos option, but some of the documented
	values were incorrect so we'll clean up the mess here.  Many thanks to Freddie Chopin for spotting this! Change-Id: Iaa633bd40ff5f75dd6a69e74e79dafc1643ee21a Signed-off-by:
	Peter Stuge <peter@stuge.se> Reviewed-on:
	http://openocd.zylin.com/642 Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com> Tested-by: jenkins

2012-05-11  Spencer Oliver <spen@spen-soft.co.uk>

	* : jtag: add opendous and estick support Change-Id: I49c25d226f05fdcaca6cbfc35c2ab47e8464abec Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/611 Tested-by: jenkins

2012-05-10  Spencer Oliver <spen@spen-soft.co.uk>

	* : flash: blank check use default_flash_blank_check Use default_flash_blank_check, this will use the much faster
	blank_check_memory handler if supported - 15x quicker on stm32f4.  Otherwise it will fall back to using the slower
	default_flash_mem_blank_check.  Change-Id: Ia231b3e95468c9e92594dbdbe1fa2d69e1506fc3 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/632 Tested-by: jenkins

2012-05-11  Spencer Oliver <spen@spen-soft.co.uk>

	* : jimtcl: update jim to fix make clean bug jimtcl 0.73 has a issue when make clean is called.  we have only
	included that fix as this is close to a release to update to jimtcl
	master.  Change-Id: I5791ff32a98bd76e52feb9475605cbecf58420e5 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/638 Tested-by: jenkins

2012-05-04  Spencer Oliver <spen@spen-soft.co.uk>

	* : stlink: add stlink_api cmd This enables the manual selection of the stlink api version.  Change-Id: I0ec8c5b0a101b6456f426d2fec65971da56db4e7 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/617 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com> Reviewed-by: Xiaofan
	<xiaofanc@gmail.com>

2012-05-01  Spencer Oliver <spen@spen-soft.co.uk>

	* : mips: support connecting under reset Some targets support connecting while the target's srst is asserted.
	Tested on pic32 family.  Change-Id: I0d20c40af6d031d1306043893e95e61f484c0a87 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/608 Tested-by: jenkins

2012-05-03  Spencer Oliver <spen@spen-soft.co.uk>

	* : cfg: add stm320518-eval onboard stlink config Change-Id: Ie92a87ce077c538fdd04af37c798e0a8054b423a Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/610 Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com> Tested-by: jenkins Reviewed-by: Xiaofan
	<xiaofanc@gmail.com>

2012-05-01  Spencer Oliver <spen@spen-soft.co.uk>

	* : cortex-m3: support connecting under reset Some targets support connecting while the target's srst is asserted.
	Tested on stm32 family.  Change-Id: I9df43623025e37832155aeee7aa099b844b85f16 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/606 Tested-by: jenkins

2012-05-03  Spencer Oliver <spen@spen-soft.co.uk>

	* : cfi: fix cfi arch check regression seems 9933fa334de551096674d4044ed7ac2152213e8b introduce a
	regression if the target was anything other than armv4_5 or armv7m.  Just check that we have an arm target.  Change-Id: I67c05138e5be2952ee92e9bfa15e1d050844462a Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/615 Tested-by: jenkins Reviewed-by:
	Aurelien Jacobs <aurel@gnuage.org>

2012-05-03  Spencer Oliver <spen@spen-soft.co.uk>

	* : build: use generic name for arm_algorithm vars This makes the code a bit easier to read as arm_algorithm can refer
	to other arch's, not just armv4_5.  Change-Id: I78c99d40f34cda04e06f2daee75b48ff40a1d23d Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/613 Tested-by: jenkins Reviewed-by:
	Aurelien Jacobs <aurel@gnuage.org> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2012-05-01  Spencer Oliver <spen@spen-soft.co.uk>

	* : armv7m: update crc/erase_check loaders for cortex-m0 Use loaders that have been built for cortex-m0, making them usable
	for both cortex-m0 and cortex-m3 families.  Change-Id: Ifd82be87eaec2cb96464290c80800cec3630d619 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/604 Tested-by: jenkins

2012-04-30  Spencer Oliver <spen@spen-soft.co.uk>

	* : flash: use correct stm32f0 flash size register The stm32f0 parts use a different address then the rest of the
	family.  Add a function that returns the correct FLASH_SIZE reg
	depending on variant.  Change-Id: Idb41580f7162f395b347cec034d6b745847326b7 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/601 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-04-30  Spencer Oliver <spen@spen-soft.co.uk>

	* : cfg: increase stm32f0 default working area The smallest stm32f0 has 4k sram, so use this as the default.  Change-Id: I9097be9608da92b1b9da504e5bacc1280c86907a Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/603 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-05-07  Bill Traynor <wmat@alphatroop.com>

	* : cfg: Fixed product link to Flyswatter2 Fixed the product link to the Flyswatter2 debugger:
	http://www.tincantools.com/product.php?productid=16153 Change-Id: I7d65e8c94d4521e61b9ae72a5ce14b140b775697 Signed-off-by:
	Bill Traynor <wmat@alphatroop.com> Reviewed-on:
	http://openocd.zylin.com/620 Reviewed-by: Peter Stuge
	<peter@stuge.se> Tested-by: jenkins

2012-04-27  Spencer Oliver <spen@spen-soft.co.uk>

	* : build: remove clang unused variable assignment warnings Change-Id: Ibe5254704d6cd879a318a82c4f50d9da3c14276c Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/600 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-04-27  Spencer Oliver <spen@spen-soft.co.uk>

	* : cfg: fix incorrect stm32vldiscovery working area The working area used in the config was incorrect, we only have 8K
	on this board not 16K as the original cfg was declaring.  Change-Id: Ie0309fb86d839bd3bc1ac9383905b581fac5c388 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/598 Tested-by: jenkins Reviewed-by: Mathias
	K√ºster <kesmtp@freenet.de> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2012-04-19  Spencer Oliver <spen@spen-soft.co.uk>

	* : cfg: remove unused stlink options reset_config is now supported by stlink, remove from the config as
	this is a per board option.  Change-Id: I85208d2154502b8d3a098afe1d9a28d75820a7c0 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/582 Tested-by: jenkins Reviewed-by: Mathias
	K√ºster <kesmtp@freenet.de> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2012-04-19  Spencer Oliver <spen@spen-soft.co.uk>

	* : stlink: export write_debug_reg Change-Id: I3944911d4a71dba4af48470ceb3e4850784a0e7d Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/580 Tested-by: jenkins Reviewed-by: Mathias
	K√ºster <kesmtp@freenet.de> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2012-04-19  Spencer Oliver <spen@spen-soft.co.uk>

	* : flash: update stm32f0x version info Change-Id: Iab0962021e6243d1df3e7c647654a51b4bf50d72 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/578 Tested-by: jenkins Reviewed-by: Mathias
	K√ºster <kesmtp@freenet.de> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2012-04-19  Spencer Oliver <spen@spen-soft.co.uk>

	* : stlink: add improved STLINK_JTAG_API_V2 support The STLINK/V2 supports two api's.  This completes the support so
	STLINK_JTAG_API_V2 is usable.  Support for hardware srst still needs adding.  Change-Id: Ic4d0499be2a225d18abf96fd6f5ce5e295fb1f37 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/561 Tested-by: jenkins Reviewed-by: Mathias
	K√ºster <kesmtp@freenet.de> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2012-04-19  Olivier Schonken <olivier.schonken@gmail.com>

	* : SAM3X - Added support for at91sam3x8h-ES, fixed CIDR for ES2 and
	production The first available devkits for the at91sam3x8h had the ES device
	populated.  The ES device had an error in the CIDR, specifically in
	the last byte of which the upper 3 bits identifies the chip family -
	cortex-m3, arm7tdmi etc.  The problem was fixed on the ES2 devices - Thanks to Pat Hickey for
	giving me the heads-up.  Change-Id: I13dd7fbe0cffaf76f948188c9459dc3cf4435570 Signed-off-by:
	Olivier Schonken <olivier.schonken@gmail.com> Reviewed-on:
	http://openocd.zylin.com/575 Tested-by: jenkins Reviewed-by: Jim
	Norris <u17263@att.net> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2012-04-24  Linus Tolke <linus@tigris.org>

	* : topic: Fixed a clang Dead assignment warning.  The value returned from target_write_buffer is still ignored.  Change-Id: Icb49d4d1313a5e4f7df68d3f122a5f81cfa0604a Signed-off-by:
	Linus Tolke <linus@tigris.org> Reviewed-on:
	http://openocd.zylin.com/596 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2012-04-20  Allen Martin <amartin@nvidia.com>

	* : cfg: Add interface config for Dangerous Prototypes Bus Blaster This is a FT2232 based USB JTAG dongle Change-Id: Ibed773a23b6446df62fe4eac16c27fb2d741f4c3 Signed-off-by:
	Allen Martin <amartin@nvidia.com> Reviewed-on:
	http://openocd.zylin.com/589 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-04-22  Bill Traynor <wmat@alphatroop.com>

	* : UserGuide: Updated link to Versaloon-Link tool.  In section '2.8 USB Other' updated the URL to the Versaloon-Link to:
	http://www.versaloon.com Change-Id: Idd92333cb3d87d1b89dfb282134332387df5a0fc Signed-off-by:
	Bill Traynor <wmat@alphatroop.com> Reviewed-on:
	http://openocd.zylin.com/592 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-04-22  Bill Traynor <wmat@alphatroop.com>

	* : UserGuide: Fixed link to ST flashlink.  In section '2.9 IBM PC Parallel Printer Port Based' fixed link to
	ST's flashlink PDF and removed alternate URL text:

	http://www.st.com/internet/com/TECHNICAL_RESOURCES/TECHNICAL_LITERATURE/DATA_BRIEF/DM00039500.pdf Change-Id: I99702dd00d4145784baee1f63b5998bf79e06678 Signed-off-by:
	Bill Traynor <wmat@alphatroop.com> Reviewed-on:
	http://openocd.zylin.com/594 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-04-16  Spencer Oliver <spen@spen-soft.co.uk>

	* : docs: update gerrit publish refs since gerrit 2.3 pushing changes to refs/for/ is deprecated in
	favour of using refs/publish/.  Change-Id: I6244b9645da2144921583bd9778a95c563fac89f Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/567 Tested-by: jenkins

2012-04-19  Bill Traynor <wmat@alphatroop.com>

	* : UserGuide: Fixed link to Raisonance RLINK.  In section 2.6 USB JLINK based, fixed link to RLINK:

	http://www.mcu-raisonance.com/~rlink-debugger-programmer__microcontrollers__tool~tool__T018:4cn9ziz4bnx6.html Change-Id: I15f7a1b68b851054e07eefc07a50b4590ebce677 Signed-off-by:
	Bill Traynor <wmat@alphatroop.com> Reviewed-on:
	http://openocd.zylin.com/588 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-04-19  Bill Traynor <wmat@alphatroop.com>

	* : UserGuide: Add ref. to Flyswatter2 Added the Flyswatter2 to section 2.3 USB FT2232 Based hardware list.  Change-Id: I6a382644b5a0313d30afb5a97d0a9ea00f01efa9 Signed-off-by:
	Bill Traynor <wmat@alphatroop.com> Reviewed-on:
	http://openocd.zylin.com/584 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-04-19  Bill Traynor <wmat@alphatroop.com>

	* : UserGuide: Fixed link to IAR J-Link.  In Section 2.5 USB JLINK based, fixed the URL for IAR J-Link:
	http://www.iar.com/en/products/hardware-debug-probes/iar-j-link/ Change-Id: If613d2e915a0a704569d74094e612e34bcc849d3 Signed-off-by:
	Bill Traynor <wmat@alphatroop.com> Reviewed-on:
	http://openocd.zylin.com/586 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-04-18  Bill Traynor <wmat@alphatroop.com>

	* : zy1000: fixed link to Zylin ZY1000 JTAG Probe This patch fixes the link to the Zylin ZY1000 JTAG Probe webpage.
	The ZY1000 product line was acquired by Ultimate Solutions, Inc. in
	May 2011.  Change-Id: If68cd45a0c47aa20b2e4bb62939b2c505c8c8c2e Signed-off-by:
	Bill Traynor <wmat@alphatroop.com> Signed-off-by: √òyvind Harboe
	<oyvind.harboe@zylin.com> Reviewed-on: http://openocd.zylin.com/571
	Tested-by: jenkins Reviewed-by: Peter Stuge <peter@stuge.se>
	Reviewed-by: Spencer Oliver <spen@spen-soft.co.uk>

2012-04-18  David Anders <danders.dev@gmail.com>

	* : omap4460: add initial TCL support for the omap4460 es1.0 this patch adds the initial support for the omap4460 es1.0 version
	which is similar to the omap4430 and used on the pandaboard-es.  Change-Id: If885f7d9f8809929bd799786b539e4f499fa3478 Signed-off-by:
	David Anders <danders.dev@gmail.com> Reviewed-on:
	http://openocd.zylin.com/572 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2012-04-11  Uwe Hermann <uwe@hermann-uwe.de>

	* : Glyn Tonga2: Faster JTAG speed after CPU/RAM init.  Change-Id: Ib08dae0035355138c468483a7ee2d73aadedf430 Signed-off-by:
	Uwe Hermann <uwe@hermann-uwe.de> Reviewed-on:
	http://openocd.zylin.com/564 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-04-04  Mathias K <kesmtp@freenet.de>

	* : STM32L: Write partial-page flash data after full-page data The target address for the partial data needs to be bumped past the
	full page data. Otherwise, the partial data overwrites the start of
	the flash block.  Change-Id: I1246b2fa8acbdb8193edcf7029309f11d1c6069c Signed-off-by:
	Keith Packard <keithp@keithp.com> Signed-off-by: Mathias K
	<kesmtp@freenet.de> Reviewed-on: http://openocd.zylin.com/555
	Tested-by: jenkins Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2012-03-27  Wjatscheslaw Stoljarski (Slawa) <wjatscheslaw.stoljarski@kiwigrid.com>

	* : cfg: add icnova_imx53_sodimm board config Add board config for In-Circuit ICnova iMX53 SODIMM Change-Id: I3802ab1695baa75c1f170cf1af0e38ada284c0b8 Signed-off-by:
	Wjatscheslaw Stoljarski (Slawa)
	<wjatscheslaw.stoljarski@kiwigrid.com> Reviewed-on:
	http://openocd.zylin.com/543 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-04-03  Antonio Borneo <borneo.antonio@gmail.com>

	* : contrib/openocd.udev: fix warning Fix following warning message logged by udev at start udevd[421]: SYSFS{}= will be removed in a future udev version,
	please use ATTR{}= to match the event device, or ATTRS{}= to match a
	parent device, in /etc/udev/rules.d/95-openocd.rules:81 Change-Id: I6de935c13a3327e3d718c110f97d19b9847ceca5 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/552 Tested-by: jenkins Reviewed-by: Luca
	Bruno Reviewed-by: Spencer Oliver <spen@spen-soft.co.uk>

2012-03-17  Simon Qian <simonqian.openocd@gmail.com>

	* : topic: add reset functions for SWD Add swd_init_reset and swd_add_reset.  Add adapter_assert_reset and
	adapter_deassert_reset, and call them instead of JTAG reset
	functions.  Change-Id: Ib2551c6fbb45513e0ae0dc331cfe3ee3f922298a Signed-off-by:
	Simon Qian <simonqian.openocd@gmail.com> Reviewed-on:
	http://openocd.zylin.com/526 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2012-04-02  Salvador <sarroyofdez@yahoo.es>

	* : Finish off functions mips32_pracc_read_mem16() and
	mips32_pracc_read_mem8() This functions are unfinished and work only with  parameter count up
	to 1024.  Commands mdh and mdb from pic32mx context show values not related to
	memory content if parameter count is bigger than 1024. Firt 1024 are
	ok.  Change-Id: Ie3f4d4a0f9d1d1a69bd3a18de2f72dd9249514cb Signed-off-by:
	Salvador <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/550 Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk> Tested-by: jenkins

2012-04-03  Spencer Oliver <spen@spen-soft.co.uk>

	* : docs: add gerrit server url Change-Id: If39b522594a4ee3758fb85309af01f7a98c9f939 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/553 Tested-by: jenkins

2011-12-20  Ulf Samuelsson <ulf@emagii.com>

	* : tools/initial.sh Small script to setup Gerrit with the local repository Usage: tools/initial.sh <username> Change-Id: I26527c35cfe040c7752efec06064d5dc9e3ec6a2 Signed-off-by:
	Ulf Samuelsson <ulf@emagii.com> Signed-off-by: Attila Kinali
	<attila@kinali.ch> Reviewed-on: http://openocd.zylin.com/290
	Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2012-03-24  Wim Lewis <wiml@hhhh.org>

	* : Add value "openbsd" for ocd_HOSTOS.  Change-Id: I9b0dd87d85c0792730f507176001d39c44da7117 Signed-off-by:
	Wim Lewis <wiml@hhhh.org> Reviewed-on: http://openocd.zylin.com/547
	Tested-by: jenkins Reviewed-by: Peter Stuge <peter@stuge.se>

2012-03-30  Spencer Oliver <spen@spen-soft.co.uk>

	* : armv7m: fix broken stlink build The stlink partially supports the cortex-m4 fp regs and requires
	these defines to build.  Change-Id: Id3aa802ecc7006cb6d9f84b79ab3c21af24c1001 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/545 Tested-by: jenkins

2012-03-15  Mathias K <kesmtp@freenet.de>

	* : armv7m: detect floating point feature This patch add fp feature detection on cortex-m4.  Change-Id: I99e9d1bf5534630a22b8ad9c878165683db2d0ba Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/524 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-03-26  Spencer Oliver <spen@spen-soft.co.uk>

	* : cfg: add support for STM3220G-EVAL onboard STLINK Change-Id: Icd7a1baf6f2623e5b57d29c4602a2762af730936 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/541 Tested-by: jenkins

2012-03-26  Spencer Oliver <spen@spen-soft.co.uk>

	* : scripts: use adapter_nsrst_delay not deprecated jtag_nsrst_delay Change-Id: Idf98526d64dcba4d8a5b6910bd3c539756753e8e Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/539 Tested-by: jenkins

2012-03-20  Spencer Oliver <spen@spen-soft.co.uk>

	* : docs: update release docs to use configure.ac Change-Id: I7b52ad1c3744a82832c5b55898bf47607e24d03e Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/538 Tested-by: jenkins

2012-02-29  Salvador Arroyo <sarroyofdez@yahoo.es>

	* : topic: Flash support for Pic32mx1xx/2xx Change-Id: I496cb745fb1eb5c9159471838013b8d19418f5c0 Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/500 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-03-19  Spencer Oliver <spen@spen-soft.co.uk>

	* : transport: remove interface multiple transport warning Currently if we have multiple transport's defined we receive an
	warning similar to: must select a transport.  allow transport 'jtag'
	allow transport 'swd This removes that warning and only prints this info if
	transport_init fails.  Change-Id: I87126390f234bc2f705e1f150a0dcc110dcab151 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/532 Tested-by: jenkins

2012-03-19  Mathias K <kesmtp@freenet.de>

	* : Add warn message if no flash bank found for the current image
	address.  Add a warn message to inform the user that something is wrong with
	the flash settings or command parameters.  Change-Id: Ia55868b2abf2a17845e51620b0f29b2809d841c2 Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/280 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-03-13  Mathias K <kesmtp@freenet.de>

	* : gdb_server: Fix wrong index/length compare.  This patch fix the compare for the list size and the register index.  Change-Id: I36d5e078f57d2a9f7823cfdf0d537762e00f6929 Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/516 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-03-14  Paul Fertser <fercerpav@gmail.com>

	* : rtos: fix segfault in FreeRTOS handling When gdb loads an elf file of a newer or older version of the
	firmware being debugged, or when the firmware is not running yet,
	there's a high probability of FreeRTOS variables to be read
	incorrectly, thus leading to an attempt to allocate an enourmous
	amount of memory. Without this check OpenOCD simply crashes and
	that's mad confusing.  Change-Id: I404a072e886d2d47d9d942cfaea8417eb8bd4a5d Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/520 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-03-13  Mathias K <kesmtp@freenet.de>

	* : gdb_server: sanity check the gdb register size This patch checks the received register length with the local
	configured register length and disconnect on a length missmatch.  Change-Id: I6b112c6b55a9ffb4526f582a384ffa91dc8b792f Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/517 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-03-10  Mathias K <kesmtp@freenet.de>

	* : stm32: Add floating point register read/write.  This patch add floating point register read/write functionality
	through the SCS debug interface.  Change-Id: Id20e109dd7cccba00671d55ca8aabeb4936cceb9 Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/512 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-03-09  Mathias K <kesmtp@freenet.de>

	* : flash: Fix flash write algorithm on pflash only devices.  This patch fix the slow flash write issue on pflash only devices.
	The Family Reference Manual says: For devices with FlexNVM: FlexRAM For devices with program flash
	only: Programming acceleration RAM So the acceleration RAM is available for the flash section command
	on this device.  Change-Id: If6541a23a4457c5ed8858848a145f35cac63138b Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/509 Tested-by: jenkins Reviewed-by: Tomas
	Frydrych <tf+openocd@r-finger.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2012-03-12  Drasko DRASKOVIC <drasko.draskovic@gmail.com>

	* : mips: Forced to running state to enable (subsequent) target
	halt.  Change-Id: I9aff8fb3ac703b50194088dd4e68cec8f9bb2ada Signed-off-by:
	Drasko DRASKOVIC <drasko.draskovic@gmail.com> Reviewed-on:
	http://openocd.zylin.com/513 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-03-05  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : ecosboard: delete bit-rotted eCos code Change-Id: Iff7943eb9da3f41dcc45492acd0f36cf63b3497f Signed-off-by:
	√òyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/503 Reviewed-by: √òyvind Harboe
	<oyvindharboe@gmail.com> Tested-by: jenkins

2012-03-06  Olivier Schonken <olivier.schonken@gmail.com>

	* : topic: Added support for the SAM3X/A variants Atmel introduced 7 new Cortex-M3 processors on 2012-02-28 SAM3X4C -
	256KB flash SAM3X4E - 256KB flash SAM3X8C - 512KB flash SAM3X8E -
	512KB flash SAM3X8H (Only on dev-kit - not in production...) - 512KB
	flash SAM3A4C - 256KB flash SAM3A8C - 256KB flash The SAM3X/A processors still suffer from the "6 waitstates needed to
	program device" errata.  The CIDR address for the SAM3X/A processors are different from the
	other SAM3 processors.  Unfortunately, the chip identification
	register is not at a constant address across all of the SAM3
	series'. As a consequence, a simple heuristic is used to find where
	it's at... If the contents at the first address is zero, then we
	know that the second address is where the chip id register is.  We
	can deduce this because for those SAM's that have the chip id @
	0x400e0940, the first address, 0x400e0740, is located in the memory
	map of the Power Management Controller (PMC). Furthermore, the
	address is not used by the PMC.  So when read, the memory controller
	returns zero.  Another interesting change is the flash bank address for flash bank
	1.  It is not fixed at 0x00100000 like the Sam3U.  Bank 1 of the
	at91sam3a/x series starts at 0x00080000 + half the total flash size.
	Thus for the 256KB devices Bank 1 is located at 0x000A0000, and for
	the 512KB devices Bank 1 is located at 0x000C0000.  The configuration files for the SAM3X/A processors will follow Change-Id: I6c3a707c00e05d993a2ad1d5a423f23b37ffd553 Signed-off-by:
	Olivier Schonken <olivier.schonken@gmail.com> Reviewed-on:
	http://openocd.zylin.com/505 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-03-13  Spencer Oliver <spen@spen-soft.co.uk>

	* : target: remove unused declaration arm7_9_prepare_reset_halt is long since gone and the functionality
	is implemented in the target's assert_reset handler.  Change-Id: Ib03c730cb39d68e5e3bb42f92af13daf8074e4e2 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/515 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2012-02-26  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : target_request: fix warning, do not set local variable to value
	it already has Change-Id: If29b0efdc326ee1ce4c07ec9d8777744d674f367 Signed-off-by:
	√òyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/490 Tested-by: jenkins Reviewed-by: √òyvind
	Harboe <oyvindharboe@gmail.com>

2012-02-29  Fredrik Hederstierna <fredrik.hederstierna@securitas-direct.com>

	* : flash: Additional check for NULL in str9xpec enable_turbo Change-Id: Ifde8783b27c64e4a4bbea180cfa2c86f6a9fe49a Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/496 Tested-by: jenkins Reviewed-by: √òyvind
	Harboe <oyvindharboe@gmail.com>

2012-03-01  Jim Norris <u17263@att.net>

	* : Add new configuration files for the Diolan LPC-4350-DB1
	development board with the NXP LPC4350 processor.  Change-Id: I0843e96af9ca05d3e598e2e16eb19fc0581ab46d Signed-off-by:
	Jim Norris <u17263@att.net> Reviewed-on:
	http://openocd.zylin.com/501 Tested-by: jenkins Reviewed-by: √òyvind
	Harboe <oyvindharboe@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2012-02-28  Attila Kinali <attila@kinali.ch>

	* : SAM3: Add missing architecture names for SAM3S and SAM3N Change-Id: Ie2177487d4315219eb364db360cb7f88d2720783 Signed-off-by:
	Attila Kinali <attila@kinali.ch> Reviewed-on:
	http://openocd.zylin.com/494 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-03-06  Jaap de Jong <jaap.dejong@nedap.com>

	* : config: fix typo in at91 config Change-Id: I596cbac3439456fcb02111caee6e8c290c12a6d5 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/504 Reviewed-by: Peter Stuge
	<peter@stuge.se> Tested-by: jenkins

2012-02-29  Spencer Oliver <spen@spen-soft.co.uk>

	* : Revert "stlink-v1: fix memory writes" I committed in the wrong
	order This reverts commit 79230a8e3c5b85601fca730dfc09ecc52e693afa Change-Id: Iace872ac4844891f4f38fca87448a2ebd9f17593 Reviewed-on:
	http://openocd.zylin.com/497 Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk> Tested-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2012-02-24  Attila Kinali <attila@kinali.ch>

	* : Fix assert to check flash programming offset The assert introduced in 00c864835149a96b431fc8f31dd89542d88fd383
	checks whether the programming offset equals to page_size of the
	flash, while it wants to check whether the offset is a multiple of
	the page_size.  Change-Id: I794d021951a28c1cc520b5eea5d500f097721b06 Signed-off-by:
	Attila Kinali <attila@kinali.ch> Reviewed-on:
	http://openocd.zylin.com/482 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk> Reviewed-by: Alexandre Pereira da
	Silva <aletes.xgr@gmail.com>

2012-02-17  Spencer Oliver <spen@spen-soft.co.uk>

	* : flash: change stm32lx driver probe behaviour Currently stm32lx flash driver will remove the readout protection if
	set during a probe.  This may not be what the user wants, so let them decide.  Change-Id: I8575e3b339b10a4f7bac57cca9586dcab513d347 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/465 Tested-by: jenkins

2012-02-16  Spencer Oliver <spen@spen-soft.co.uk>

	* : flash: add new devices to pic32mx flash driver update as per DS61145 rev J Change-Id: I2b5da84248ff2f44c7ca9d2ed1c52db453714c05 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/461 Tested-by: jenkins

2012-02-24  Neil Jensen <neil30al@gmail.com>

	* : cfg: beaglebone cleanup Simplified the configuration and removed things that were not
	necessary for debugging.  Also added reset configuration.  Signed-off-by: Neil Jensen <neil30al@gmail.com> Change-Id:
	I96f991c3051aa68278212cd6509484cbce40ccb7 Reviewed-on:
	http://openocd.zylin.com/488 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-02-21  Spencer Oliver <spen@spen-soft.co.uk>

	* : jtag: fix cmd scan_chain expected_ids bug This fixes scan_chain to correctly print all the expected_ids.  Change-Id: I93738980d85e0fe369d40c58b19339424d37ec34 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/474 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2012-02-10  Spencer Oliver <spen@spen-soft.co.uk>

	* : flash: add stellaris async flash loader This enable the Stellaris flash driver to use the asynchronous
	algorithm support.  Speed increase is as follows: before - wrote 65536 bytes from file
	test.bin in 5.486040s (11.666 KiB/s) after - wrote 65536 bytes from
	file test.bin in 2.274001s (28.144 KiB/s) Change-Id: I9004c9aadffa1ae3b0cbf908e6549b5b1f794508 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/403 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2012-02-23  Neil Jensen <neil30al@gmail.com>

	* : cfg: beaglebone Moved ti_beaglebone.cfg to the board configuration directory.  This
	was originally placed in the wrong location.  Signed-off-by: Neil Jensen <neil30al@gmail.com> Change-Id:
	I05d10b62b1a21618635ee1773c30d77dc756ec82 Reviewed-on:
	http://openocd.zylin.com/481 Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk> Tested-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2012-02-13  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : target: add function to get number of bytes available in working
	area This is a much cleaner solution to the problem of allocating as much
	working area as possible than what is currently being done in
	most/all flash drivers (which is: try an arbitrary sized chunk, if
	it fails, pick a smaller number, rinse and repeat).  Use this function to find out how much working area is available,
	limit or restrict that amount at will and then simply allocate it.  Change-Id: Ib7d5d0b7485aed3e0a4fad60c1bedb7dfd16146f Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/446 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-02-20  Spencer Oliver <spen@spen-soft.co.uk>

	* : cfg: enable stm32f2x SYSRESETREQ support The stm32 family supports using SYSRESETREQ as a software reset,
	lets use it.  Change-Id: I171ffa8d888a2d0c28b266051030311521e9bca9 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/472 Tested-by: jenkins Reviewed-by: Mathias
	K√ºster <kesmtp@freenet.de>

2012-02-21  Spencer Oliver <spen@spen-soft.co.uk>

	* : docs: fix more texinfo warnings A period or comma must follow the closing brace of an @xref.  Change-Id: Ida5dc3600eca328d95b0a8f6b5c9fe0a0f3ba820 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/475 Tested-by: jenkins Reviewed-by: Mathias
	K√ºster <kesmtp@freenet.de>

2012-02-17  Mathias K <kesmtp@freenet.de>

	* : stlink: add error status check This patch add the status check.  Change-Id: I0fdb9bf66dad5ae416c7aa4c6e19116f846571f9 Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/463 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-02-16  Mathias K <kesmtp@freenet.de>

	* : Fix typo that result in recursion.  Change-Id: Ie1102b4960bcb5acb254eae69b94fe87ab33dd0b Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/462 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-02-14  Spencer Oliver <spen@spen-soft.co.uk>

	* : cfg: change default stellaris working area This sets the default stellaris working area to 2k rather than the
	current 8k. 2K is the smallest RAM size in the stellaris family.  Change-Id: I1407f758eb0926cc094b824a6d25199b313c45de Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/458 Tested-by: jenkins

2012-02-14  Spencer Oliver <spen@spen-soft.co.uk>

	* : build: fix automake 1.11.2 issues automake 1.11.2 throws `pkglibdir' is not a legitimate directory for
	`DATA' if nobase_dist_pkglib_DATA is used.  We work around this issue by defining our own location.  Change-Id: I3c29e2df0b67e745283c50d358e31699bd60dc74 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/457 Tested-by: jenkins

2012-02-07  Jonathan Dumaresq <jdumaresq@cimeq.qc.ca>

	* : Add stm32f0x probe and info working I used the CPUID instead of adding a new argument to the flash bank
	command Fixed Type in comments Add the failsafe return value in device_id Change-Id:
	Ieb5a46fc002b5390a0c81bc8b49f6c687036ae1d Signed-off-by: Jonathan
	Dumaresq <jdumaresq@cimeq.qc.ca> Reviewed-on:
	http://openocd.zylin.com/438 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-02-13  Spencer Oliver <spen@spen-soft.co.uk>

	* : flash: fix incorrect stm32f2x/stm32f4x flash size register The ref manuals for the stm32f2x (RM0033 Rev4) and stm32f4x (RM0090
	rev1) are unclear to the address of the flash size register (F_ID).  According to contacts @ ST this is the correct address, the manuals
	will be updated in due coarse.  Change-Id: If9fb83b3100458d17038cf27c2b23355e1dc5a9e Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/448 Reviewed-by: Peter Stuge
	<peter@stuge.se> Tested-by: jenkins

2011-10-26  Lars Poeschel <lars@kiwigrid.com>

	* : add icnova_sam9g45_sodimm support This adds support for in-circuit icnova sam9g45 sodimm:

	http://www.ic-board.de/product_info.php?info=p214_ICnova-SAM9G45-SODIMM.html|ICnovaThe NAND flash is not yet working.  Change-Id: I94ca5203f8d8a55dec1e4e87cd0631bd2b8393f9 Signed-off-by:
	lars@kiwigrid.com Reviewed-on: http://openocd.zylin.com/418
	Tested-by: jenkins Reviewed-by: √òyvind Harboe
	<oyvindharboe@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2012-02-09  Freddie Chopin <freddie.chopin@gmail.com>

	* : Add init_board documentation This patch adds init_board concept information to OpenOCD manual.
	Additionally a link from init_targets chapter to new chapter about
	init_board is added.  Change-Id: I09b9aaa1cf68b94f35701224f641cae9811a5bcf Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com> Reviewed-on:
	http://openocd.zylin.com/440 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-02-10  Spencer Oliver <spen@spen-soft.co.uk>

	* : cfg: fix incorrect STM32L SW-DP id STM32L ref manual (RM00038 Rev5) states the SW-DP id should be
	0x4ba00477.  The correct value from silicon is 0x2ba01477 - the typo
	has been confirmed by ST.  Change-Id: Ie35a1f13dc5dedc1b148fb219c6974bfa48b537c Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/441 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2012-02-10  Spencer Oliver <spen@spen-soft.co.uk>

	* : cfg: add ST-LINK TRANSPORT config override This enables the user to override the transport used for st-link.
	If JTAG is selected it will also change the default id used to the
	JTAG id rather than the SW-DP id.  Change-Id: I4fe352e4932e2f4ec278168e99ba2d2d50fd850a Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/443 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2012-02-09  Freddie Chopin <freddie.chopin@gmail.com>

	* : Add missing init_targets documentation Add init_targets procedure documentation to OpenOCD manual
	explaining the concept.  Change-Id: I82933ed90397cbcdc5c72801182573ca69b1d265 Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com> Reviewed-on:
	http://openocd.zylin.com/439 Reviewed-by: Chris Morgan
	<chmorgan@gmail.com> Tested-by: jenkins Reviewed-by: Peter Stuge
	<peter@stuge.se>

2012-02-06  Spencer Oliver <spen@spen-soft.co.uk>

	* : docs: add original stlink (STLINK-V1) usage note Add a note to the docs about the original stlink being broken under
	linux.  Change-Id: Ib440d78e5c7d31eeace99f611a76fcf701bfb8bc Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/433 Tested-by: jenkins Reviewed-by: Mathias
	K√ºster <kesmtp@freenet.de> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2012-02-06  Spencer Oliver <spen@spen-soft.co.uk>

	* : doxygen: use correct comment syntax This issue was caused by uncrustify not correctly converting the
	doxygen comments.  Signed-off-by: Spencer Oliver <spen@spen-soft.co.uk> Change-Id:
	Ie6dc3b057a08603b670cb27312e5f0d989426e6c Reviewed-on:
	http://openocd.zylin.com/431 Tested-by: jenkins

2012-02-02  Spencer Oliver <spen@spen-soft.co.uk>

	* : build: cleanup src/jtag/drivers directory Change-Id: I99c08ec0132d5a15250050e718310f1ddd9fe546 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/425 Tested-by: jenkins

2012-02-02  Spencer Oliver <spen@spen-soft.co.uk>

	* : build: cleanup src/jtag directory Change-Id: I7caf57ca3d9dfbe152504472a6bb26c2a28b92e8 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/423 Tested-by: jenkins

2012-01-31  Spencer Oliver <spen@spen-soft.co.uk>

	* : build: cleanup src/flash/nor directory Change-Id: Ic299de969ce566282c055ba4dd8b94892c4c4311 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/420 Tested-by: jenkins

2012-01-30  Spencer Oliver <spen@spen-soft.co.uk>

	* : build: cleanup src/flash directory Change-Id: I33c32a884095cff139546f760bc8fa6586e8c5b0 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/417 Tested-by: jenkins

2012-01-30  Spencer Oliver <spen@spen-soft.co.uk>

	* : build: cleanup src/helper directory Change-Id: I71a312df783995e9083c345c25e73902d5aef59e Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/415 Tested-by: jenkins

2012-01-30  Spencer Oliver <spen@spen-soft.co.uk>

	* : checkpatch: remove typedef check We may enable this again - but at the moment is causing extra issues
	with reformatting the codebase.  Change-Id: Ic64310a20605a0ef3206caa15c8e6c8ee655bfda Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/413 Tested-by: jenkins

2012-01-27  Spencer Oliver <spen@spen-soft.co.uk>

	* : build: cleanup src/transport directory Change-Id: If73da1a7272602314f042c3e3c0e61050530998d Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/411 Tested-by: jenkins

2012-01-27  Spencer Oliver <spen@spen-soft.co.uk>

	* : build: cleanup src/svf directory Change-Id: If9186964e2597f8ca1f01885fc28418df7d92964 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/409 Tested-by: jenkins

2012-01-27  Spencer Oliver <spen@spen-soft.co.uk>

	* : build: cleanup src/ directory Change-Id: Ia6ed99ce75625ad6ef5e0d3c3bbdc1c1bec21df3 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/407 Tested-by: jenkins

2012-01-29  Mathias K <kesmtp@freenet.de>

	* : STLINK: add check for the supported jtag API version This patch add a validation for the supported jtag api version.  Change-Id: I0b51350e58e351d6662f4039c0a9e9d0d79ba4ec Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/405 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-01-28  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : target: increase chunk size in dump_image Replace the big stack-allocated buffer with a much bigger
	heap-allocated.  There was no explanation for the apparently
	arbitrary chunk size, and performance was improved by increasing it,
	leveling out at about 4k.  Change-Id: I3b06d4469092ec8d89d0ce05bff0b7cf213c5062 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/404 Tested-by: jenkins Reviewed-by: Marti
	Bolivar <mbolivar@leaflabs.com> Reviewed-by: √òyvind Harboe
	<oyvindharboe@gmail.com>

2012-01-25  Mathias K <kesmtp@freenet.de>

	* : STLINK: Test device version (v1/v2) on usb transfers and add sg
	support This patch test the device version and differentiate between v1 and
	v2 devices.  Change-Id: Ie79bf2c5534211493b004329fb6d5b9d4ea5453b Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/396 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-01-25  Spencer Oliver <spen@spen-soft.co.uk>

	* : cfg: correct Stellaris LM3S811 config typo This only effects the older Stellaris LM3S811 kits (rev B and
	below).  Change-Id: Ie068cce7748fede9e7113ea63a69c96222c809fa Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/401 Tested-by: jenkins

2012-01-24  Spencer Oliver <spen@spen-soft.co.uk>

	* : stlink: add missing memory check handlers Change-Id: I502575ab77c0c87ffebb56ec3d78905f7fcf7cc5 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/398 Tested-by: jenkins

2012-01-17  Timo Ketola <timo@exertus.fi>

	* : NAND: Misleading report of erased blocks For example, when blocks 2 and 3 were erased, openocd reported
	"erased blocks 2 to 4". That should be "2 to 3", I think.  Change-Id: Icece63dedd3dd931b70fa73616819a19572e39de Signed-off-by:
	Timo Ketola <timo@exertus.fi> Reviewed-on:
	http://openocd.zylin.com/385 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-01-17  Timo Ketola <timo@exertus.fi>

	* : i.MX25: Add support for i.MX25 NAND Flash Controller This patch is based on Erik Ahl√©n's work on i.MX35 NFC support.
	Basically it redefines the CCM.RCSR register which is in a different
	address in i.MX25.  Change-Id: Ia6faf9cb5efae5e564b72ef9a9b7c7f8bfde3ce0 Signed-off-by:
	Timo Ketola <timo@exertus.fi> Reviewed-on:
	http://openocd.zylin.com/383 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-01-17  Spencer Oliver <spen@spen-soft.co.uk>

	* : flash: update stellaris_set_flash_timing for target class stellaris_set_flash_timing should only be used for Sandstorm and
	Fury device classes.  Change-Id: Ib5eff9d954c039f2c5726a8ecc3ee45d1694cfd3 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/389 Tested-by: jenkins

2012-01-13  Spencer Oliver <spen@spen-soft.co.uk>

	* : stlink: better handle target reset/events This makes the stlink target use the std armv7m_arch_state giving
	consistent OpenOCD output.  Added debug entry handler so we get debug entry reason.  Change-Id: Ia3c1380fd5033a8e541b0d45a7c3559f1b05957d Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/379 Tested-by: jenkins

2012-01-19  Spencer Oliver <spen@spen-soft.co.uk>

	* : cleanup: rename armv4_5 to arm for readability Nothing more than a name change, just to make reading the code a bit
	simpler.  Change-Id: I73a16b7302b48ce07d9688162955aae71d11eb45 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/390 Tested-by: jenkins Reviewed-by: √òyvind
	Harboe <oyvindharboe@gmail.com>

2012-01-16  Spencer Oliver <spen@spen-soft.co.uk>

	* : flash: add missing stellaris device classes This adds missing classes to the stellaris flash driver.  Change-Id: I90f2218479e5eb60950046fef04429b9529f7ddf Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/382 Tested-by: jenkins Reviewed-by: √òyvind
	Harboe <oyvindharboe@gmail.com>

2012-01-13  Spencer Oliver <spen@spen-soft.co.uk>

	* : target: move regmaps to armv7m.c This move will enable use to share with regmaps with the stlink
	target.  Change-Id: If8f41c7c53323d5074cb22ec3440530c1e402004 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/377 Tested-by: jenkins Reviewed-by: √òyvind
	Harboe <oyvindharboe@gmail.com>

2012-01-16  Spencer Oliver <spen@spen-soft.co.uk>

	* : build: fix broken make distcheck 0a4b27ec4bcb303547af68490f007d65a00bff02 commit forgot to update
	required distcheck files.  Change-Id: I3a5b94d4548c02cb9c1fc371a6fdcc2a3854e9c7 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/380 Tested-by: jenkins

2012-01-11  Michel JAOUEN <michel.jaouen@stericsson.com>

	* : rtos : linux awareness Change-Id: I41294ccaa4a3cd253919c8b1b558205903bcb695 Signed-off-by:
	Michel JAOUEN <michel.jaouen@stericsson.com> Reviewed-on:
	http://openocd.zylin.com/348 Tested-by: jenkins Reviewed-by: Heythem
	Bouhaja <heythem.bouhaja-nonst@stericsson.com> Reviewed-by: √òyvind
	Harboe <oyvindharboe@gmail.com>

2012-01-03  Michel JAOUEN <michel.jaouen@stericsson.com>

	* : rtos : receive reset info Change-Id: I03c64f50eed9bec43303bf47ac1f226a0e8dbd53 Signed-off-by:
	Michel JAOUEN <michel.jaouen@stericsson.com> Reviewed-on:
	http://openocd.zylin.com/346 Tested-by: jenkins Reviewed-by: Evan
	Hunter <evan@ozhiker.com> Reviewed-by: √òyvind Harboe
	<oyvindharboe@gmail.com>

2012-01-03  Michel JAOUEN <michel.jaouen@stericsson.com>

	* : rtos : smp support Change-Id: I583cddf5e62ed77f108786a085569ab8699ad50d Signed-off-by:
	Michel JAOUEN <michel.jaouen@stericsson.com> Reviewed-on:
	http://openocd.zylin.com/344 Tested-by: jenkins Reviewed-by: Evan
	Hunter <evan@ozhiker.com> Reviewed-by: √òyvind Harboe
	<oyvindharboe@gmail.com>

2012-01-03  Michel JAOUEN <michel.jaouen@stericsson.com>

	* : rtos :introduce possible overload by rtos of gdb_thread_packet Change-Id: I17381b581556fa75098a84699dbbf69423fe20eb Signed-off-by:
	Michel JAOUEN <michel.jaouen@stericsson.com> Reviewed-on:
	http://openocd.zylin.com/342 Tested-by: jenkins Reviewed-by: Evan
	Hunter <evan@ozhiker.com> Reviewed-by: √òyvind Harboe
	<oyvindharboe@gmail.com>

2012-01-13  John <john@clip-4-win.co.uk>

	* : cfg: fix typo in str730.cfg Change-Id: Ie0222b68b3d8dd21726ac4f0cd4106da0e0456dd Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/376 Reviewed-by: Peter Stuge
	<peter@stuge.se> Tested-by: jenkins

2012-01-12  Mathias K <kesmtp@freenet.de>

	* : stlink: add none 32bit memory read/write functions This patch add none 32bit memory read/write  functions.  Change-Id: Ie3a761cf006249b30d0691d1ea167d69a012c36a Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/367 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-01-12  Spencer Oliver <spen@spen-soft.co.uk>

	* : build: fix broken commit fixes commit 04fe2ca5547f76686c7dc555f90510eed6fcc551 Change-Id: Id7fcb82fa1a445f1df21b8d98e945f7c0e08ec93 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/375 Tested-by: jenkins

2012-01-09  Spencer Oliver <spen@spen-soft.co.uk>

	* : flash: stm32f2x incorrectly using 512 as max family size Change-Id: I2bac348c6d0baabd3d88335c5aa0a318ef66653a Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/353 Tested-by: jenkins

2012-01-09  Spencer Oliver <spen@spen-soft.co.uk>

	* : cmd: add missing usage var Change-Id: I0f05d643b0801b19cc3beb88f0d12d7e4c83ef9c Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/356 Tested-by: jenkins

2012-01-09  Spencer Oliver <spen@spen-soft.co.uk>

	* : flash: use correct device_id mask The stm32 drivers have been using 0x7ff as the DEV_ID mask, this
	should have been 0xfff.  Change-Id: I232469620969d6dd1b9a2a2aa15ec18b947dbb05 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/352 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2012-01-09  Spencer Oliver <spen@spen-soft.co.uk>

	* : build: remove unused variables detected by clang.  Change-Id: Id9effcc5437870f37fecd33803f7753c6eca53d6 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/361 Tested-by: jenkins Reviewed-by: √òyvind
	Harboe <oyvindharboe@gmail.com> Reviewed-by: Mathias K√ºster
	<kesmtp@freenet.de>

2012-01-09  Spencer Oliver <spen@spen-soft.co.uk>

	* : xsvf: fix clang warning clang reports 'Function call argument is an uninitialized value'.  Change-Id: I50f4a7932b59930a5f1e3ece70b12c59e85ea3c6 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/360 Tested-by: jenkins Reviewed-by: √òyvind
	Harboe <oyvindharboe@gmail.com>

2012-01-04  Spencer Oliver <spen@spen-soft.co.uk>

	* : flash: support stm32f4x flash This uses the same controller as the stm32f2x family.  Change-Id: I931a9ceb0cd1219514d14b8b59475179e543dd0f Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/338 Tested-by: jenkins Reviewed-by: Mathias
	K√ºster <kesmtp@freenet.de>

2012-01-05  Spencer Oliver <spen@spen-soft.co.uk>

	* : docs: add initial st-link info Change-Id: I213bf26dec582fd8e273e604d43a6e849599dd50 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/340 Tested-by: jenkins Reviewed-by: Mathias
	K√ºster <kesmtp@freenet.de>

2012-01-04  Spencer Oliver <spen@spen-soft.co.uk>

	* : cfg: add stlink pseudo stm32 targets Change-Id: I71253c2090162b1214bbbb37396735bb9128f920 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/334 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-01-06  Spencer Oliver <spen@spen-soft.co.uk>

	* : docs: fix doxygen build This fixes issues with newer versions of doxygen Change-Id: Id5d3287857cb154e26064b4ce37f6b72117d5254 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/350 Tested-by: jenkins Reviewed-by: √òyvind
	Harboe <oyvindharboe@gmail.com>

2012-01-05  Spencer Oliver <spen@spen-soft.co.uk>

	* : docs: whitespace fixes Change-Id: I9c6c7017ce3077bb131a05ea9b53a115506c94d9 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/339 Tested-by: jenkins Reviewed-by: Mathias
	K√ºster <kesmtp@freenet.de> Reviewed-by: √òyvind Harboe
	<oyvindharboe@gmail.com>

2012-01-04  Spencer Oliver <spen@spen-soft.co.uk>

	* : stlink: update to use ERROR_COMMAND_SYNTAX_ERROR Change-Id: I21b669b09df65b56659d2f057cf389ba7b1cecfa Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/335 Reviewed-by: √òyvind Harboe
	<oyvindharboe@gmail.com> Tested-by: √òyvind Harboe
	<oyvindharboe@gmail.com>

2011-12-28  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : retire ERROR_INVALID_ARGUMENTS and replace with
	ERROR_COMMAND_SYNTAX_ERROR Change-Id: I6dee51e1fab1944085391f274a343cdb9014c7a4 Signed-off-by:
	√òyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/300 Tested-by: jenkins Reviewed-by: √òyvind
	Harboe <oyvindharboe@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2012-01-03  Spencer Oliver <spen@spen-soft.co.uk>

	* : build: fix make dist add missing files to distribution after previous commit.  Change-Id: I0e4b278c090c71d15dd059b6755c9821427cc8ab Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/332 Tested-by: jenkins Reviewed-by: Mathias
	K√ºster <kesmtp@freenet.de>

2011-12-17  Mathias K <kesmtp@freenet.de>

	* : Add STLINK/V2 interface config file.  Change-Id: I6df27ce619a5938ef854ff89bf76c6de4e122204 Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/286 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-12-21  Mathias K <kesmtp@freenet.de>

	* : ST-LINK USB initial release ST-Link USB support added.  Change-Id: I2812646f2895b1529ff3f911edbdce7fa0051c8f Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/261 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-12-15  Mathias K <kesmtp@freenet.de>

	* : Make cortex_m3 functions public accessible.  Change this functions to make it accessible for other target
	implementations.  Change-Id: Ib41fc793cfb4de5439af026c2e8b52e7a9507c85 Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/278 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-12-20  Spencer Oliver <spen@spen-soft.co.uk>

	* : helper: fix arm11 help text This fixes a long standing bug: see Trac #4 Increased help text
	recursion limit and added LOG_DEBUG so we can catch future errors
	like this.  Change-Id: I5fac95c4486eaddaf1e88a27ecb1835168f87711 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Signed-off-by: √òyvind Harboe
	<oyvind.harboe@zylin.com> Reviewed-on: http://openocd.zylin.com/291
	Tested-by: jenkins Reviewed-by: √òyvind Harboe
	<oyvindharboe@gmail.com>

2011-12-14  Erik AhlÈn <erik.ahlen@avalonenterprise.com>

	* : Renamed mx2.{c,h} to mxc.{c,h} and added copyright notice Change-Id: I07a280acdce58b8af4a145cd6beafccbb59f20d7 Signed-off-by:
	Erik Ahl√©n <erik.ahlen@avalonenterprise.com> Reviewed-on:
	http://openocd.zylin.com/272 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-12-14  Erik AhlÈn <erik.ahlen@avalonenterprise.com>

	* : Added support for i.MX35 NAND Flash Controller (v2) Change-Id: I7237ec29792b6a7ee690751fa7e6cba0846d5aa8 Signed-off-by:
	Erik Ahl√©n <erik.ahlen@avalonenterprise.com> Reviewed-on:
	http://openocd.zylin.com/271 Tested-by: jenkins Reviewed-by: Mathias
	K√ºster <kesmtp@freenet.de> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2011-12-13  Erik AhlÈn <erik.ahlen@avalonenterprise.com>

	* : Made BI-swap optional in mxc.  Change-Id: Ibdf3b1e415adcf1fdb38de25fe05da726ef58ca4 Signed-off-by:
	Erik Ahl√©n <erik.ahlen@avalonenterprise.com> Reviewed-on:
	http://openocd.zylin.com/269 Tested-by: jenkins Reviewed-by: Mathias
	K√ºster <kesmtp@freenet.de> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2011-12-20  Ulf Samuelsson <ulf@emagii.com>

	* : at91sam3XXX.cfg: Configure JTAG clock to 500 kHz.  This affects all configurations including target/at91sam3XXX.cfg Change-Id: I2c1e1edf0986d30e63f109604a38bf402ded369e Signed-off-by:
	Ulf Samuelsson <ulf@emagii.com> Reviewed-on:
	http://openocd.zylin.com/292 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-12-22  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : jtag: only if an in_value storage is provided will the captured
	IR value be checked added comments and removed bogus assert.  Change-Id: Ic7aa56570a84834b1265df03d25a47fd11c4d626 Signed-off-by:
	√òyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/297 Tested-by: jenkins Reviewed-by: Mathias
	K√ºster <kesmtp@freenet.de> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2011-12-14  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : jtag: stop using sharp corner of JTAG API this particular edge case of the JTAG API will no longer be
	supported.  the in_value buffer must be provided by the caller when the callback
	needs the buffer.  Change-Id: I552c72a64af6875f4aa4fa9b923194dcf3b57b64 Signed-off-by:
	√òyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/265 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-12-13  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : jtag: retire jtag_alloc_in_value32 no longer used after arm7/9tdmi.c stopped using it.  Change-Id: I65bfe67641970e63e8276cbd378aa68f5701a8d9 Signed-off-by:
	√òyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/263 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-12-16  Mathias K <kesmtp@freenet.de>

	* : STM32F2x: check flash unlock, add mass erase Add verification of the flash unlock sequence and return an error if
	the flash is still locked.  Add mass erase subcommand.  Change-Id: Id586b1eaf983a3f25b933847dd6608c15bf0b07e Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/281 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-12-12  Spencer Oliver <spen@spen-soft.co.uk>

	* : build: update to using new AC_OUTPUT macro Change-Id: I4937fac73345a85fcad62a2aeb0a106bd4a62467 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/258 Tested-by: jenkins Reviewed-by: Mathias
	K√ºster <kesmtp@freenet.de>

2011-12-13  Erik AhlÈn <erik.ahlen@avalonenterprise.com>

	* : Renamed mx2/imx27 to mxc.  Renamed all functions, enums, structs and defines from mx2/imx27 to
	mxc. This is in preparation of adding support for mx35 NFC(v2).  Change-Id: I92ad23f0cfab605215bbf0d5846c5c288423facf Signed-off-by:
	Erik Ahl√©n <erik.ahlen@avalonenterprise.com> Reviewed-on:
	http://openocd.zylin.com/267 Tested-by: jenkins Reviewed-by: √òyvind
	Harboe <oyvindharboe@gmail.com>

2011-12-15  Mathias K <kesmtp@freenet.de>

	* : Initialize return value.  Because no future error checking we will initialize the pointer to a
	know value.  Change-Id: I2466eeb413245a398927ec9f3742c2a9a3d51baf Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/283 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk> Reviewed-by: √òyvind Harboe
	<oyvindharboe@gmail.com>

2011-12-16  Spencer Oliver <spen@spen-soft.co.uk>

	* : checkpatch: disable extern and switch indent checks We allow extern's in c files so disable checkpatch checks.  Change-Id: Ia649585cd70ec45289c4edaf26c1fd773a140db4 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/284 Tested-by: jenkins Reviewed-by: √òyvind
	Harboe <oyvindharboe@gmail.com>

2011-12-15  Dean Glazeski <dnglaze@gmail.com>

	* : Updating FSF Address.  Change-Id: Ic6895b89e8798a3636333dd50a8540eae643719a Signed-off-by:
	Dean Glazeski <dnglaze@gmail.com> Reviewed-on:
	http://openocd.zylin.com/274 Tested-by: jenkins Reviewed-by: √òyvind
	Harboe <oyvindharboe@gmail.com>

2011-11-21  Mauro Gamba <maurillo71@gmail.com>

	* : jlink libusb-1.0 driver.  jlink modified to use the new usb abstaction layer.  During the
	configuration process we can select if use libusb0 or libusb-1.0
	library for this driver.  Change-Id: I70bc9ee2f89b7597e0f64ea80cad7f1b9070f01b Signed-off-by:
	Mauro Gamba <maurillo71@gmail.com> Reviewed-on:
	http://openocd.zylin.com/236 Tested-by: jenkins Reviewed-by: Xiaofan
	<xiaofanc@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2011-12-05  rodrigo_l_rosa <rodrigorosa.lg@gmail.com>

	* : dsp5680xx - indent fix no logic changes, only coding style (spaces to tabs, etc) Change-Id: I5933447c633990e103bc62d088ca2e12f11f031d Signed-off-by:
	rodrigo_l_rosa <rodrigorosa.lg@gmail.com> Reviewed-on:
	http://openocd.zylin.com/253 Tested-by: jenkins Reviewed-by: √òyvind
	Harboe <oyvindharboe@gmail.com>

2011-12-01  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : make checkpatch.sh take an optional 'since' refspec Change-Id: I793778037db08bd5462f61b9bcafd484708cc1b6 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/250 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-28  Spencer Oliver <spen@spen-soft.co.uk>

	* : libusb: Fix build issues under cygwin/mingw This fixes issues with the folliwing patch under cygwin/mingw
	builds.  http://openocd.zylin.com/236 Change-Id: I7dd0b2d09cc64568bc99b16aa32e791a8273c5db Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/240 Tested-by: jenkins Reviewed-by: Mathias
	K√ºster <kesmtp@freenet.de> Reviewed-by: Mauro Gamba
	<maurillo71@gmail.com>

2011-11-30  Spencer Oliver <spen@spen-soft.co.uk>

	* : openocd.c: whitespace cleanup Change-Id: Ieb8c1e4eb72f66a6343b169a12a058555d67069e Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/242 Tested-by: jenkins

2011-12-01  Harald Welte <laforge@gnumonks.org>

	* : make sure file name case of at91sam3uxx matches what other files
	include Before this patch, at91sam3u4c.cfg includes "at91sam3uxx.cfg" which
	doesn't exist - the filename was at91sam3uXX.  However, many operating systems have case sensitive file names! Change-Id: I8b2f987f1f4214269b80ef5cba8177ce05ad90b6 Signed-off-by:
	Harald Welte <laforge@gnumonks.org> Reviewed-on:
	http://openocd.zylin.com/247 Tested-by: Spencer Oliver
	<spen@spen-soft.co.uk> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2011-11-30  James Zhao <jamzhao@gmail.com>

	* : Fix compile error when _DEBUG_GDB_IO_ is set Compile error is encountered when _DEBUG_GDB_IO_ is set, due to
	duplicate variables.  Fixed by renaming the variable.  Change-Id: I729c06e317fdb899142c9ceaf543b7f580088807 Signed-off-by:
	James Zhao <jamzhao@gmail.com> Reviewed-on:
	http://openocd.zylin.com/243 Tested-by: jenkins Reviewed-by: √òyvind
	Harboe <oyvindharboe@gmail.com>

2011-11-22  Evan Hunter <ehunter@broadcom.com>

	* : Add stack alignment support to RTOS awareness - needed for ARM
	ABI processors Change-Id: I69a2f3d0606a97d48b7738561a85da87f458b82b Signed-off-by:
	Evan Hunter <ehunter@broadcom.com> Reviewed-on:
	http://openocd.zylin.com/238 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk> Reviewed-by: Mathias K√ºster
	<kesmtp@freenet.de> Reviewed-by: √òyvind Harboe
	<oyvindharboe@gmail.com>

2011-11-21  rodrigo_l_rosa <rodrigorosa.lg@gmail.com>

	* : dsp5680xx - match page erase with mass erase when last==first==0 then mass erase is executed, it's faster.  the
	page marking was wrong in this case.  Change-Id: I5c579d59b5c4778cf057cb5986e086abdd4209b2 Signed-off-by:
	Rodrigo L. Rosa <rodrigorosa.lg@gmail.com> Reviewed-on:
	http://openocd.zylin.com/232 Tested-by: jenkins Reviewed-by: √òyvind
	Harboe <oyvindharboe@gmail.com>

2011-11-19  rodrigo_l_rosa <rodrigorosa.lg@gmail.com>

	* : dsp5680xx - mark erase after unlocking flash the unlocking procedure erases the flash mem (even if it wasn't
	locked), so it should be marked as erased after unlocking.  Change-Id: I5cc6a1e1d6cf4e1f243de532eff54111ffd66187 Signed-off-by:
	Rodrigo L. Rosa <rodrigorosa.lg@gmail.com> Reviewed-on:
	http://openocd.zylin.com/222 Tested-by: jenkins Reviewed-by: √òyvind
	Harboe <oyvindharboe@gmail.com>

2011-09-02  rodrigo_l_rosa <rodrigorosa.lg@gmail.com>

	* : dsp5680xx - separate debug from halt i had assumed two possible halt/debug states:   - halted + debug mode   - running + not debug mode turns out this one also exists   - halted + NOT in debug mode added code to handle this in an
	appropiate way.  Change-Id: Ia0ddcd55d1890c90d100a9e6f5e84ed8dda812a3 Signed-off-by:
	Rodrigo L. Rosa <rodrigorosa.lg@gmail.com> Reviewed-on:
	http://openocd.zylin.com/220 Tested-by: jenkins Reviewed-by: √òyvind
	Harboe <oyvindharboe@gmail.com>

2011-09-02  rodrigo_l_rosa <rodrigorosa.lg@gmail.com>

	* : dsp5680xx - added more error codes Change-Id: I36962a0ab0cc9d1eb6a29d7e577c24c38cab946b Signed-off-by:
	Rodrigo L. Rosa <rodrigorosa.lg@gmail.com> Reviewed-on:
	http://openocd.zylin.com/218 Tested-by: jenkins Reviewed-by: √òyvind
	Harboe <oyvindharboe@gmail.com>

2011-09-02  rodrigo_l_rosa <rodrigorosa.lg@gmail.com>

	* : dsp5680xx - relocating code moved reset_jtag to the top, since it will be needed in future
	changes.  also send a define to the .h Change-Id: I53ef9c02ffa70e7d0416364525a6fbfef855e222 Signed-off-by:
	Rodrigo L. Rosa <rodrigorosa.lg@gmail.com> Reviewed-on:
	http://openocd.zylin.com/216 Tested-by: jenkins Reviewed-by: √òyvind
	Harboe <oyvindharboe@gmail.com>

2011-11-23  Spencer Oliver <spen@spen-soft.co.uk>

	* : target: fix init_targets script handling This fixes an issue when init is called before init_targets has been
	executed.  Make sure init_targets is called before init.  Change-Id: Icd5bd4c2a8eea2e399d9de4e331a77560e9672ac Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/235 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2011-11-18  Antonio Borneo <borneo.antonio@gmail.com>

	* : TCL: Add board file for EVAL_SPEAr320CPU Initial support for SPEAr320 chip and for evaluation board named
	EVAL_SPEAr320CPU.  Change-Id: I85524655769bcc610294a26db47a7a399256fbb7 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/231 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-21  Antonio Borneo <borneo.antonio@gmail.com>

	* : TCL/SPEAr: remove code to autodetect DDR The code to autodetect DDR was wrong and not complete.  Replaced
	with a parameter passed to TCL proc.  Split DDR configuration in the
	two cases of single and dual DDR chip, using single chip as default.  Change-Id: If39aa518670398e8e4f207d7db6e812a49743e15 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/229 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-01-21  Antonio Borneo <borneo.antonio@gmail.com>

	* : TCL/SPEAr: Join two initialization files.  The support for SPEAr3xx family members does not require dedicated
	files for each member.  Join the initialization scripts in a single
	file.  Change-Id: I45e9dc64809a6f52c4592e3e0eef5529394887c6 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/227 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-01-21  Antonio Borneo <borneo.antonio@gmail.com>

	* : TCL/SPEAr: move device specific code The initialization of memory port 1 is required by SPEAr310 only Change-Id: I9d655da1026795f02ff2f82aed36441068cf266d Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/225 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-15  Spencer Oliver <spen@spen-soft.co.uk>

	* : scripts: use adapter_khz not deprecated jtag_khz Change-Id: Ibaeebf564a95360dcf21a0921ec99f5263f11915 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/202 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2011-11-15  Spencer Oliver <spen@spen-soft.co.uk>

	* : scripts: notify user of deprecated jtag_* functions Change-Id: Ia97dda6918e20fb29d6e76d43856eede8fcc60dd Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/203 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2011-11-14  Spencer Oliver <spen@spen-soft.co.uk>

	* : flash: cleanup stm32f2x loader Change-Id: I89efdc45bcd61ded437d67d4cbee4c53345d4d76 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/197 Tested-by: jenkins

2011-11-14  Spencer Oliver <spen@spen-soft.co.uk>

	* : build: fix gcc 4.6.2 warnings see trac #47 Change-Id: I48a3e963354dfc82209477672c2508c96fb737d6 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/198 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2011-11-14  Philip Nye <philipnye@users.sf.net>

	* : gdb: Potential rounding error in reg_packet_size
	gdb_get_registers_packet The calculation for reg_packet_size in gdb_get_registers_packet()
	could generate a wrong result in the case of multiple registers
	whose size is not a multiple of 8.  The current calculation sums the sizes for all registers then rounds
	the result up to the next multiple of 8.  Instead it should round each register size up individually and sum
	the results for all registers.  Change-Id: Idfb5e5eeee0e69a6889dbe9769c0bf17feacb63b Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/200 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2011-11-14  Spencer Oliver <spen@spen-soft.co.uk>

	* : contrib: stm32f2x use std naming rules Change-Id: I109297aa480b3474f1251571cb8e1a0baa1442fd Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/195 Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2011-11-13  Tomas Frydrych <tomas@sleepfive.com>

	* : configuration for Freescale TWRK60N512 board Based on the K40/Kwikstik config files Change-Id: Icb3adc7126bacea65209b712ebaa0eb3b894372e Signed-off-by:
	Tomas Frydrych <tomas@sleepfive.com> Reviewed-on:
	http://openocd.zylin.com/210 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-17  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : stm32f1x: improve variable naming and avoid potential
	divide-by-zero Don't call a variable num_pages if it holds the flash size. Also
	rearrange flash size to num_pages calculation to avoid
	divide-by-zero if there will be a device with < 1024 byte pages
	someday.  Change-Id: I2febea39694a2f9750de141f52ec88ae1599c086 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/211 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-16  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : bitq: reduce scope of variables Change-Id: Ie1049b9d8ed5e44aee038e9181e423c35b4263c4 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/208 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-08  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : stm32f1x: add more asserts this at least checks the post conditions after convoluted code.  Change-Id: Idfa8cbedce5288d8bae5743687949f141dfb07b2 Signed-off-by:
	√òyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/187 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2011-11-15  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : bitq: remove dead code field->in_value is already checked so it must be non-null here,
	which means the else clause can never execute so the entire buffer
	allocation and handling code is completely dead.  Change-Id: Id465012a7e607349401d554fc7a8e5db7e967998 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/205 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-11  Marek Vasut <marek.vasut@gmail.com>

	* : Add Tincantools Flyswatter2 support This is a successor to the Flyswatter cable and is very close to the
	original.  The new revision is based on FT2232H.  Change-Id: Icc6efcf0e4f9d8a10b65df8679b4973f6b375a9f Signed-off-by:
	Marek Vasut <marek.vasut@gmail.com> Cc: David Anders
	<danders@tincantools.com> Reviewed-on: http://openocd.zylin.com/193
	Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2011-11-05  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : target: make it absolutely clear that no null pointers are
	accepted there are no comments about what the rules w.r.t. null pointers are
	and it is inconsistent.  It's simply a bug in the app if we ask about the properties of a
	null pointer w.r.t. what kind of target it is. It's equally wrong to
	say that it is an arm target as that it isn't an arm target.  Change-Id: I0925a6a5c8b38e594ffa7c3ca4390487b5e9b718 Signed-off-by:
	√òyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/168 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2011-11-10  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : ft2232: fix warning about assignment to local variable variable is not read afterwards.  Change-Id: I905bbb10c596190f75494e6c6ad400a3e51843f6 Signed-off-by:
	√òyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/192 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-10-22  Kyle Manna <kyle.manna@fuel7.com>

	* : ft2232: Set PWR_RST and LOOPBACK for xds100v2 The CPLD on the xds100v2 expects to see a rising edge on PWR_RST to
	enable the outputs.  This patch creates that transition correctly by
	fixing the direction register for PWR_RST.  THe CPLD will also loop back the data if the LOOPBACK signal is
	asserted.  Set this signal to an output and keep it clear.  This was tested with a TI DM3730 Beagleboard xM.  Change-Id: I4ea216bef6ae5c40e935741af5c69dc844d5d494 Signed-off-by:
	Kyle Manna <kyle.manna@fuel7.com> Reviewed-on:
	http://openocd.zylin.com/189 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-10-27  Attila Kinali <attila@kinali.ch>

	* : Work around silicon bug in the SAM3 family flash waitstates * Add flash waitstate support for Atmel SAM3 chips.  * Set default waitstates to 6, to workaround a silicon bug in the
	SAM3 family This code has been tested on SAM3U4, SAM3N4 and SAM3N1 based on Change-Id: I477446f9bfb3e910ea3e2414a6e9a75beb14a214 by Jim
	Norris <u17263@att.net> Change-Id: I8d360080f6968979ca5e197ad638282cadd18fb7 Signed-off-by:
	Attila Kinali <attila@kinali.ch> Signed-off-by: Spencer Oliver
	<spen@spen-soft.co.uk> Reviewed-on: http://openocd.zylin.com/128
	Tested-by: jenkins

2011-11-08  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : at91sam7: fix warnings by removing dead assignments Change-Id: I836038b3518e617291ac7d5d255a388d9486f67f Signed-off-by:
	√òyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/180 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-08  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : warning fix: remove unused variable assignment Change-Id: I8c73b0f9a6a10734e539eedcedd79e1a34122f60 Signed-off-by:
	√òyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/185 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-08  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : usbprog: fix unecessary and confusing assignment clang found silly code that was trivially fixed.  Change-Id: Ied6c1b254c1823cd111140cbe0c8a03d2ede65fb Signed-off-by:
	√òyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/186 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2011-11-08  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : arm7_9: remove warnings by reducing scope of variables Change-Id: Idc384b733056a72108680b073da7c327a8eeedc3 Signed-off-by:
	√òyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/179 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-05  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : disassembly: fix access to undefined memory pointer upon unknown
	instruction return error message instead. Found by clang.  Change-Id: Ica109d077206236a12d007e77cc78061ffd05834 Signed-off-by:
	√òyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/169 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-05  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : dsp5680xx: fix warnings - propagate error - remove dead assignment Change-Id: I0d7078f531d96e421e95f08bfd908e818500d74c Signed-off-by:
	√òyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/170 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-03  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : at91sam3: fix warnings - reduce scope of variables - assert on post condition to fix clang warning Change-Id: Id91038f73a632f9688ba52c9c34eae923626e770 Signed-off-by:
	√òyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/160 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-10-29  Uwe Hermann <uwe@hermann-uwe.de>

	* : target config files: Fix whitespace issues.  Drop useless double-space occurences, drop trailing whitespace, and
	fix some other minor whitespace-related issues.  Change-Id: I6b4c515492e2ee94dc25ef1fe4f51015a4bba8b5 Signed-off-by:
	Uwe Hermann <uwe@hermann-uwe.de> Signed-off-by: Spencer Oliver
	<spen@spen-soft.co.uk> Reviewed-on: http://openocd.zylin.com/137
	Tested-by: jenkins

2011-11-07  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : xscale: cleanup - fix error propagation - add some debug output for "unused" variables - reduce scope of variable to avoid "unread" variables.  Change-Id: I136995f2a043102e64b8fff3017502fae564013b Signed-off-by:
	√òyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/175 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-03  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : cfi: fix gaffe in fixing warnings introduced reading garbage value for arm32.  Change-Id: Ib5792a8a3207ee4db6d01d354df98c3cfabce037 Signed-off-by:
	√òyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/162 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-03  Spencer Oliver <spen@spen-soft.co.uk>

	* : tools: add checkpatch script execute from openocd root dir after commiting change but before
	pushing to gerrit.  tools/checkpatch.sh This is the same script used by the jenkins build server to validate
	a change.  Change-Id: Ib40d44b160e1c50a5e47ab55fc48a554381ea763 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/167 Tested-by: jenkins

2011-11-03  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : cortex_m: initialize unused CPU variables to 0 for poll info
	output fixes warnings.  Change-Id: I1a9ec09083d4e6269889fb79e6121f25e83eb396 Signed-off-by:
	√òyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/163 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-03  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : at91sam9: fix broken error propagation Change-Id: I3288ce6f7642e519c26dd099be888a395fe1de94 Signed-off-by:
	√òyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/159 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-10-30  Uwe Hermann <uwe@hermann-uwe.de>

	* : interface configs: Add missing URLs and names.  Also, drop author name from interface/hilscher_* files, that info is
	in the git log, and none of the other files contain author names
	either.  Change-Id: Idf0eb4279c4bff31d15c166619c0bf8b1c5bb877 Signed-off-by:
	Uwe Hermann <uwe@hermann-uwe.de> Reviewed-on:
	http://openocd.zylin.com/138 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-03  Spencer Oliver <spen@spen-soft.co.uk>

	* : checkpatch: increase line length warning to 100 Change-Id: Ief0445ea6581929b3ffdcf8bc644ce5f27b392c4 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2011-10-29  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : gdb_server: assert to avoid malloc(0) Change-Id: I6ae3e007f4aa768f8bc64de78351750138f12e53 Signed-off-by:
	√òyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/135 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com> Reviewed-by: √òyvind
	Harboe <oyvindharboe@gmail.com>

2011-11-01  Spencer Oliver <spen@spen-soft.co.uk>

	* : cfg: add Blizzard class to stellaris.cfg Change-Id: I2a1320c696b6d9b070e4a927c4cd4d68178af751 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/150 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2011-11-01  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : fix warning: remove assigned to variable variable is subsequently not used Change-Id: I177d21c6ba9f1f2e3765feffdbf317ea375a8cfe Signed-off-by:
	√òyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/149 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-01  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : usbtoxxx: remove warning by reducing scope of variable Change-Id: Icc3cfe601082cd83ad1c8818c1e21e7ada014150 Signed-off-by:
	√òyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/154 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-01  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : cortex_m: add missing error checking found by clang.  Change-Id: I099c6fe6b044dba36c20221cb439bdcba5a6bb6f Signed-off-by:
	√òyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/152 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2011-10-31  Spencer Oliver <spen@spen-soft.co.uk>

	* : flash: add Stellaris Blizzard class Change-Id: I83f0d6edf3ab31d9fa86682f20cec77dc47ba2f6 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/146 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2011-10-31  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : warning fix: remove senseless assignment before bailing out of
	fn w/error Change-Id: I822f3adce0eccb880007673d60c7eccf7d36b398 Signed-off-by:
	√òyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/144 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2011-10-28  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : cfi: unsupported code paths now report and return error found by clang, would have done something undefined and mysterious
	later on.  Change-Id: If7d7aca8514575d229ed0b17378bf8b1bbf347c4 Signed-off-by:
	√òyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/133 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-10-30  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : dsp563xxx: fix missing error propagation found by clang Change-Id: I7380ce145b4942e21b174f2a810928a877c32bc7 Signed-off-by:
	√òyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/140 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-10-29  Uwe Hermann <uwe@hermann-uwe.de>

	* : config files: Drop incorrect comments.  There are many "force an error till we get a good number" comments
	in target/board files. This refers to the use-case where a config
	script sets _CPUTAPID to 0xffffffff (which presumely gets overridden
	later):  if { [info exists CPUTAPID ] } {     set _CPUTAPID $CPUTAPID  } else {     # Force an error until we get a good number.      set _CPUTAPID 0xffffffff  } However, the same comment was also copy-pasted in many files which
	do _not_ set _CPUTAPID to 0xffffffff, where the comment doesn't make
	any sense at all. Drop those comments. Also, add one missing
	comment, and fix small whitespace and grammar issues.  Change-Id: Ic4ba3b5ccba87ed40cea0d6a7d66609fbdfa3c71 Signed-off-by:
	Uwe Hermann <uwe@hermann-uwe.de> Reviewed-on:
	http://openocd.zylin.com/136 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2011-10-28  Jonathan Dumaresq <jdumaresq@cimeq.qc.ca>

	* : Fixes comment typo for page size Change-Id: I6dd8aadcecd680c48e696aeec0daf74d2addbb05 Signed-off-by:
	Jonathan Dumaresq <jdumaresq@cimeq.qc.ca> Reviewed-on:
	http://openocd.zylin.com/132 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2011-10-27  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : clang: fix warning about missing check for return value Change-Id: I0c6b6b8d1f0c30b6a503cb98df30584252bc0ee1 Signed-off-by:
	√òyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/129 Tested-by: jenkins Reviewed-by: √òyvind
	Harboe <oyvindharboe@gmail.com>

2011-10-26  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : clang: fix warning about use of unitialized variable this was a false positive, silence it.  Change-Id: I432e0c466c94cf8fd6bbf0ea153c8501a8a261eb Signed-off-by:
	√òyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/126 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-10-25  Jim Norris <u17263@att.net>

	* : Add configuration for ATMEL SAM3N series.  Change-Id: Iac498ab37e59127b989f29a1c4167ab29d625b05 Signed-off-by:
	Jim Norris <u17263@att.net> Reviewed-on:
	http://openocd.zylin.com/124 Tested-by: jenkins Reviewed-by: √òyvind
	Harboe <oyvindharboe@gmail.com>

2011-10-25  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : armv7a: fix scan-build warnings "Value stored to 'retval' is never read": Check and propagate error
	"Dereference of null pointer": Probably bogus, maybe triggered by
	the null check on armv7a, so remove the check since it can't be null
	anyway.  Change-Id: I3bc44e52af1589ff40e6a42deda0ce7f3a25e397 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/119 Tested-by: jenkins Reviewed-by: √òyvind
	Harboe <oyvindharboe@gmail.com>

2011-10-25  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : armv7m: improve error handling Propagate errors unchanged.  Free allocated working area in the
	error return path.  Remove duplicated cleanup code by rewriting the
	logic.  As a side-effect, fixes a scan-build warning.  Change-Id: I80e3c0015be672778f916e998c8c2e4f23d7588c Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/117 Tested-by: jenkins Reviewed-by: √òyvind
	Harboe <oyvindharboe@gmail.com>

2011-10-24  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : warning: silence gcc by initializing local variables GCC doesn't understand that these are in fact initialized if they
	are used.  Change-Id: I01988adb0547f785b48d869ddbe44cc17dca4739 Signed-off-by:
	√òyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/116 Tested-by: jenkins Reviewed-by: √òyvind
	Harboe <oyvindharboe@gmail.com>

2011-10-23  Richard Barlow <richard@richardbarlow.co.uk>

	* : cfg: Add interface config for Dangerous Prototypes BusBlaster The BusBlaster from Dangerous Prototypes is based on the FTDI
	FT2232H IC.  It has a CPLD between the FT2232H and the JTAG header
	allowing it to emulate various debugger types. It comes configured
	as a JTAGkey compatible device.  Change-Id: Iab56907bf67ded87001e628d93012f1e16287d90 Signed-off-by:
	Richard Barlow <richard@richardbarlow.co.uk> Reviewed-on:
	http://openocd.zylin.com/53 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2011-10-23  Antonio Borneo <borneo.antonio@gmail.com>

	* : NAND/CORE: fix clang warning The fix is inline with the Linux coding style that forbids
	assignment in if condition Change-Id: I42a371d6adfdf3b3fb867705211c47d89776ee2a Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/85 Tested-by: jenkins Reviewed-by: √òyvind
	Harboe <oyvindharboe@gmail.com>

2011-10-22  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : mx2: add error propagation and remove warnings Change-Id: Idd4fb452790e5d7921a749679dbd865586e5a4a9 Signed-off-by:
	√òyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/48 Tested-by: jenkins Reviewed-by: √òyvind
	Harboe <oyvindharboe@gmail.com>

2011-10-22  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : kinetis: fix warning about malloc(0) w/assert Change-Id: Ib40204675bfc5429c744f9ed7e2f7098384b753d Signed-off-by:
	√òyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/47 Tested-by: jenkins Reviewed-by: √òyvind
	Harboe <oyvindharboe@gmail.com>

2011-10-22  Mathias K <kesmtp@freenet.de>

	* : add Freescale Kinetis K40 devices and Kwikstik eval board Change-Id: I4817921d09ab915c50f42651bc073690033450fe Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/51 Tested-by: jenkins Reviewed-by: √òyvind
	Harboe <oyvindharboe@gmail.com>

2011-10-21  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : clang: fix malloc() warning with assert Change-Id: I989d2655622a9f11f4a0a2994014e42822587ecd Signed-off-by:
	√òyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/41 Tested-by: jenkins Reviewed-by: √òyvind
	Harboe <oyvindharboe@gmail.com>

2011-10-22  Antonio Borneo <borneo.antonio@gmail.com>

	* : FLASH/STMSMI: fix clang "dead store" warning Change-Id: Icfdefdc48432db2057d3fea19dc424571d2385eb Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/50 Tested-by: jenkins Reviewed-by: √òyvind
	Harboe <oyvindharboe@gmail.com>

2011-10-22  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : warning: fix false positive may be used uninitialized in this function [-Werror=uninitialized] Change-Id: Ida2cf8efe4e7da6fd9f669b806a20894563ac3d4 Signed-off-by:
	√òyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/49 Tested-by: jenkins Reviewed-by: √òyvind
	Harboe <oyvindharboe@gmail.com>

2011-10-21  Spencer Oliver <spen@spen-soft.co.uk>

	* : jim: add missing jim license Change-Id: Ib8e34739d92cd54655b9b47d07b856a82ff25f3c Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/39 Tested-by: jenkins Reviewed-by: √òyvind
	Harboe <oyvindharboe@gmail.com>

2011-10-20  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : rtos: return the correct value if the T or H packets are handled Change-Id: Iea31e20ee4e35c1a9cb7b93424c92b3f38081067 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/38 Tested-by: jenkins Reviewed-by: Evan
	Hunter <evan@ozhiker.com> Reviewed-by: Peter Stuge <peter@stuge.se>

2011-10-13  Marc Willam / Holger Wech <openocd.fseu@de.fujitsu.com>

	* : Updated fm3.c, added Flash type 2 support, error handling
	improved Change-Id: I684aca11c4554290d0e57c6d3318d8082980c1ef Signed-off-by:
	√òyvind Harboe <oyvind.harboe@zylin.com> Signed-off-by: Spencer
	Oliver <ntfreak@users.sourceforge.net> Reviewed-on:
	http://openocd.zylin.com/10 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-10-19  Uwe Hermann <uwe@hermann-uwe.de>

	* : Toshiba TMPA900 config: Fix incorrect working area.  The Toshiba TMPA900 series (TMPA900/901) only has internal RAM
	regions RAM-0 (16kB) and RAM-1 (8kB) which we can use as working
	area.  This is probably a copy-paste error from tmpa910.cfg, which has the
	correct values and sizes for the TMPA910 series
	(TMPA910/911/912/913): there are RAM-0, RAM-1, and RAM-2 (each
	16kB).  Also, change "built-in RAM" to "internal RAM" to match what the
	datasheet uses.  Change-Id: I993cd6b7fadc28cf34e5cc18426bb2bb42597670 Signed-off-by:
	Uwe Hermann <uwe@hermann-uwe.de> Reviewed-on:
	http://openocd.zylin.com/34 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2011-10-17  Spencer Oliver <spen@spen-soft.co.uk>

	* : luminary: add new targets update target support from latest SW-DRL 8049 Change-Id: I40aba4d30fe2b79fd955f466c64d99a1dfd63ecf Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/31 Reviewed-by: √òyvind Harboe
	<oyvindharboe@gmail.com> Tested-by: √òyvind Harboe
	<oyvindharboe@gmail.com>

2011-10-02  Karl Kurbjun <kkurbjun@gmail.com>

	* : AM/DM37x: Use ICEPick warm reset and include halt when gdb
	connects.  Using the ICEPick reset seems to allow the processor to be halted
	sooner and the halt on gdb connection makes the connect process more
	robust.  Change-Id: I0586f6e6becc60a729030509ef58907a19d545ec Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/23 Tested-by: √òyvind Harboe
	<oyvindharboe@gmail.com> Reviewed-by: √òyvind Harboe
	<oyvindharboe@gmail.com>

2011-10-10  Attila Kinali <attila@kinali.ch>

	* : Add the SAM3N familly to the chip_details table Change-Id: Ic122d324eacf6e667ed6008ebb84708be944222c Signed-off-by:
	Attila Kinali <attila@kinali.ch> Reviewed-on:
	http://openocd.zylin.com/29 Reviewed-by: √òyvind Harboe
	<oyvindharboe@gmail.com> Tested-by: √òyvind Harboe
	<oyvindharboe@gmail.com>

2011-10-14  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : target: DCC / target message backoff algorithm by immediately polling again when we have received a message from
	the target instead of waiting 100ms, we can hope for much better
	performance. More than 100x? :-) Change-Id: Ieaf0c6c8b6e5addc482895670ffbf9a743e07a29 Signed-off-by:
	√òyvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/27 Reviewed-by: √òyvind Harboe
	<oyvindharboe@gmail.com> Tested-by: √òyvind Harboe
	<oyvindharboe@gmail.com>

2011-10-14  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : arm-jtag-ew: whitespace cleanup Change-Id: I8861e825f9c84525e0c09c3adaa3fe300640770d Signed-off-by:
	Spencer Oliver <ntfreak@users.sourceforge.net> Reviewed-on:
	http://openocd.zylin.com/21 Tested-by: Spencer Oliver
	<spen@spen-soft.co.uk> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2011-10-14  Uwe Hermann <uwe@hermann-uwe.de>

	* : Add an interface file for DLP Design DLP-USB1232H.  The DLP Design DLP-USB1232H UART/SPI/JTAG module is based on an FTDI
	FT2232H chip. Among other things, it can used as JTAG programmer if
	connected to the JTAG target properly. I have successfully wired the
	module to an Olimex STM32-H103 eval board and flashed a firmware
	onto that using OpenOCD.  The setup details and schematics are documented at:

	http://randomprojects.org/wiki/DLP-USB1232H_and_OpenOCD_based_JTAG_adapterChange-Id: I5eb9255a61eeece233009bee77d7dc3b5d1afb8b Signed-off-by:
	Uwe Hermann <uwe@hermann-uwe.de> Reviewed-on:
	http://openocd.zylin.com/20 Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk> Tested-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2011-10-13  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : target: whitespace cleanup Change-Id: I1453f4f3dc0add529da20577e38b8b82d7d00366 Signed-off-by:
	Spencer Oliver <ntfreak@users.sourceforge.net> Reviewed-on:
	http://openocd.zylin.com/18 Reviewed-by: Alex Austin
	<alex.austin@spectrumdsi.com> Tested-by: Spencer Oliver
	<spen@spen-soft.co.uk> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2011-10-12  Peter Stuge <peter@stuge.se>

	* : Merge "docs: update HACKING to point to Gerrit"

2011-10-12  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : docs: update more url's Change-Id: I476078f32910579fed55777c3b0e6da3ef3363b7 Signed-off-by:
	Spencer Oliver <ntfreak@users.sourceforge.net>

2011-10-03  Michel Jaouen <michel.jaouen@stericsson.com>

	* : breakpoint : indentation Change-Id: Icdb8f72dbb516cd0dfc612c3d61b6801f6382be6 Signed-off-by:
	√òyvind Harboe <oyvind.harboe@zylin.com>

2011-10-11  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : contrib: remove extra lf Change-Id: I6e16010e13ad2ea0cdff99b2e8805c74bcd0eb56 Signed-off-by:
	Spencer Oliver <ntfreak@users.sourceforge.net>

2011-07-17  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : stm32f1x: use register base instead of register offset Access the different flash banks' registers using a bank specific
	register base and a register specific offset. This is equivalent but
	feels more natural.  Some accesses were discovered that maybe should not be hard coded to
	bank0 registers. Add a note about that.  Signed-off-by: Andreas Fritiofson <andreas.fritiofson@gmail.com>

2011-07-15  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : armv7m: implement async algorithm functions Split armv7m_run_algorithm into two pieces and use them to
	reimplement it.  The arch_info parameter is used to keep context
	between the two calls, so both calls must refer to the same
	armv7m_algorithm struct. Ugly but works for a proof-of-concept.  Signed-off-by: Andreas Fritiofson <andreas.fritiofson@gmail.com>

2011-09-16  Simon Barner <barner@gmx.de>

	* : arm-jtag-ew: Send GDB keep_alive() messages when logging USB
	communication - Ticket: #35

2011-09-16  Simon Barner <barner@gmx.de>

	* : arm-jtag-ew: In armjtagew_init(), set initial JTAG speed to 32
	kHz (before TAP initialization).  This prevents rare communication errors during startup.

2011-09-16  Simon Barner <barner@gmx.de>

	* : arm-jtag-ew: Declare interface as `jtag_only'

2011-09-16  Simon Barner <barner@gmx.de>

	* : arm-jtag-ew: Fix setting interface speed (2/2) Interface expects speed in Hz, not kHz - Ticket #34

2011-10-04  Eugeniy Meshcheryakov <eugen@debian.org>

	* : Add udev rules for openmoko neo1973 debug board

2011-09-30  Ash Charles <ash@gumstix.com>

	* : Verdex: Add support for Gumstix Verdex boards.  Gumstix Verdex is a PXA270-based series of computer-on-modules. This
	configuration file is based off the voipac.cfg configuration with a
	different flash memory configuration. This has been tested
	flyswatter adapter to reflash a Gumstix Verdex XL6P board.

2011-09-29  Michel Jaouen <michel.jaouen@stericsson.com>

	* : armv7a ,cortex a : add L1, L2 cache support, va to pa support

2011-09-28  Vladimir Zapolskiy <vz@mleia.com>

	* : AM/DM37x: add ES1.2 silicon type into account The missing value for ES1.2 silicon revision is mentioned in
	sprugn4m.pdf, and the recent TI Beagleboard XM is powered by it, so
	let support the revision.

2011-09-20  Michel Jaouen <michel.jaouen@stericsson.com>

	* : kinetis : fix deadlock on device having hasidcode false.

2011-09-13  Luca Bruno <lucab@debian.org>

	* : contrib: fix udev rules for tty based adaptors Most serial adaptors are identified by udev with SUBSYSTEM=tty and
	without DEVTYPE. This patch fix udev rules to work with any listed
	tty-based adaptor. It has been tested with a FTDI-based Bus Pirate.  Signed-off-by: Luca Bruno <lucab@debian.org>

2011-09-10  Luca Bruno <lucab@debian.org>

	* : Fixes and spellchecks for various Buspirate output messages Signed-off-by: Luca Bruno <lucab@debian.org>

2011-08-25  Richard Uhler <ruhler@mit.edu>

	* : Implementation of a new jtag remote_bitbang driver.  The driver sends ascii encoded bitbang commands over unix sockets or
	TCP to another process. This driver is useful for debugging software
	running on processors which are being simulated.

2011-08-31  Martin Schmˆlzer <martin.schmoelzer@student.tuwien.ac.at>

	* : ULINK driver: Remove typedefs in OpenULINK firmware: Use
	typedefs from stdint.h (uint8_t, uint16_t) instead of custom
	typedefs in shorttypes.h (u8, u16, ...) Signed-off-by: Martin Schm√∂lzer
	<martin.schmoelzer@student.tuwien.ac.at>

2011-08-31  Rodrigo L. Rosa <rodrigorosa.LG@gmail.com>

	* : usleep to jtag_sleep this will help avoid platform specific timing issues

2011-08-31  Rodrigo L. Rosa <rodrigorosa.LG@gmail.com>

	* : speed up, relocate function added an attempt to use the non-reseting halting sequence. if it
	fails, then the full sequence will be attempted. this makes things a
	bit faster most of the time.  changed the location of a function,
	avoiding a forward def

2011-08-23  Martin Schmoelzer <martin.schmoelzer@student.tuwien.ac.at>

	* : ULINK driver: Update firmware image to reflect the latest
	changes in source code.  Signed-off-by: Martin Schm√∂lzer
	<martin.schmoelzer@student.tuwien.ac.at>

2011-08-04  Martin Schmoelzer <martin.schmoelzer@student.tuwien.ac.at>

	* : ULINK driver: Implement variable TCK frequency in OpenOCD driver Signed-off-by: Martin Schm√∂lzer
	<martin.schmoelzer@student.tuwien.ac.at>

2011-08-23  Martin Schmoelzer <martin.schmoelzer@student.tuwien.ac.at>

	* : ULINK driver: Fix whitespace in OpenULINK firmware usb.c module
	(trivial) Signed-off-by: Martin Schm√∂lzer
	<martin.schmoelzer@student.tuwien.ac.at>

2011-07-04  Martin Schmˆlzer <martin.schmoelzer@student.tuwien.ac.at>

	* : ULINK driver: Implement JTAG_STABLECLOCKS command Signed-off-by: Martin Schm√∂lzer
	<martin.schmoelzer@student.tuwien.ac.at>

2011-07-04  Martin Schmˆlzer <martin.schmoelzer@student.tuwien.ac.at>

	* : ULINK driver: Re-order queue functions to reflect the order in
	commands.h Signed-off-by: Martin Schm√∂lzer
	<martin.schmoelzer@student.tuwien.ac.at>

2011-06-27  Martin Schmˆlzer <martin.schmoelzer@student.tuwien.ac.at>

	* : ULINK driver: Update some comments, fix some coding mistakes Signed-off-by: Martin Schm√∂lzer
	<martin.schmoelzer@student.tuwien.ac.at>

2011-08-30  Rodrigo L. Rosa <rodrigorosa.LG@gmail.com>

	* : removed trailing whitespaces emacs is awesome.  replace-regexp RET [ ]+$ RET RET and it's done

2011-08-30  Rodrigo L. Rosa <rodrigorosa.LG@gmail.com>

	* : fix irlen handling sometimes the master tap will be enabled, since tap switching is
	required during halt/lock/unlocking procedures.  now irscan handles
	this, avoiding unnecessary warnings and preventing errors.

2011-08-30  Rodrigo L. Rosa <rodrigorosa.LG@gmail.com>

	* : fix error handling during halt the user can execute halt, but no enter_debug_mode. modified the
	error handling to suite this.  the new implementation of unlocking
	will use enter_debug_mode, and should not get the same errors as the
	user would, because not being able to enter debug mode is actually
	success when checking for locked flash.

2011-08-30  Rodrigo L. Rosa <rodrigorosa.LG@gmail.com>

	* : def syntax to match tap irlen the master tap has a 4 bit irlen changed the instructions to be 4
	bit, ie, removed the zeros.  it makes it clearer to interpret.

2011-05-09  Heythem Bouhaja <heythem.bouhaja@stericsson.com>

	* : cortex_a hybrid & context breakpoints

2011-08-24  Jonathan Dumaresq <jdumaresq@cimeq.qc.ca>

	* : Add Valuline HD to config file This will add the BSTAP for the medium and high density devices

2011-08-24  Jie Zhang <jie.zhang@analog.com>

	* : remove target argument from gdb packet handling functions

2011-08-23  Evan Hunter <ehunter@broadcom.com>

	* : Fix FreeRTOS thread list parsing

2011-08-19  Andreas Bieﬂmann <andreas.devel@googlemail.com>

	* : non_cfi: add SST39WF1601 support Invented by jknick in sparkfun forum:
	http://forum.sparkfun.com/viewtopic.php?t=19788 Signed-off-by: Andreas Bie√ümann <andreas.devel@googlemail.com>

2011-08-18  Gunnar Henne <g.henne@combio.de>

	* : cfi: add EN29LV800BB support Posted by telekatz@gmx.de in the bettyhacks forum for openocd 0.4.0
	and integrated into 0.5.0 by Gunnar Henne.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-08-16  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : build: check buspirate build host buspirate has never supported building on native windows (mingw).
	configure will now check this is not the case.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-08-16  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : build: check guess-rev.sh can be found/executed Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-08-16  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : jim: update to fix mingw/msys build issues Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-08-14  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : jimtcl: delete OpenOCD's broken 'stacktrace' command Use "info stacktrace" instead. This fixes build problems with latest
	Jim Tcl.

2011-08-10  Stefan Mahr <stefan.mahr@sphairon.com>

	* : mips: fix reading uint32 and uint16 when running on big endian
	host

2011-08-10  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : ftd2xx: fix build warnings Due to build warnings introduced in newer versions of ftd2xx we use
	strings to report errors rather than result codes. This also gives
	us the same behaviour as libftdi.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-08-11  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : commit a62d8f2271312ba955e839509590f5a5975b1b49 Author: Steve
	Bennett <steveb@workware.net.au> Date:   Thu Aug 11 12:10:54 2011
	+1000

2011-08-05  Rodrigo L. Rosa <rodrigorosa.LG@gmail.com>

	* : fix return code from dsp5680xx_read it returned ERROR_OK even though it actually failed.  this made the
	Tcl interface report success, though it had not succeeded.

2011-07-16  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : rlink: read only the expected number of bytes After correcting the reply size counter, it should be safe to rely
	on it for the number of bytes expected in the USB read, instead of
	reading the endpoint maximum. This doesn't make things go any faster
	but it's nicer and removes the local buffer.  Signed-off-by: Andreas Fritiofson <andreas.fritiofson@gmail.com>

2011-07-16  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : rlink: remove redundant text from log messages __FILE__ and __LINE__ are already printed using the log macros.  Signed-off-by: Andreas Fritiofson <andreas.fritiofson@gmail.com>

2011-07-16  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : rlink: fix reply counter to enable sending full buffers dtc_queue.reply_index was wrongly being increased during out scans,
	causing the queue to be sent before the out buffer was full. This
	patch increases raw upload speed by 50% or so.  Signed-off-by: Andreas Fritiofson <andreas.fritiofson@gmail.com>

2011-07-16  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : rlink: fix indentation errors Indentation was inconsistent and some lines not indented at all.
	Quickfix using Eclipse's auto-indentation.  Signed-off-by: Andreas Fritiofson <andreas.fritiofson@gmail.com>

2011-07-07  Drasko DRASKOVIC <drasko.draskovic@gmail.com>

	* : mips32: Sync Caches to Make Instr Writes Effective Pprogram that loads another program into memory is actually writing
	the D- side cache.  The instructions it has loaded can't be executed
	until they reach the I-cache.  After the instructions have been written, the loader should arrange
	to write back any containing D-cache line and invalidate any
	locations already in the I-cache.  For the MIPS Architecture Release2 cores, we can use synci command
	that does this job.  For Release1 we must use "cache" instruction.

2011-07-07  Drasko DRASKOVIC <drasko.draskovic@gmail.com>

	* : mips_m4k: common_magic should be unsigned For all architectures we use distinct common magic number, and this
	should be a uint32_t type.  Otherwise, comparison with macros will
	yield compilation warning.

2011-08-09  Rodrigo L. Rosa <rodrigorosa.LG@gmail.com>

	* : fix tapenabler return code if tap enable/disable failed then a warning was written to the log,
	but JIM_OK was returned. if using openocd via a TCP interface to the
	TCL port, there is no way to catch that the command failed (it
	didn't enable the tap, so it failed) now it return an error if it
	fails.

2011-07-12  Andreas Bieﬂmann <andreas.devel@googlemail.com>

	* : flash/nor/cfi: fix TopBottom for atmel chips There are some older atmel nor chips which have negated logic for
	TopBottom detection. This patch adds a special handling for the old
	chips. This is the same mechanism as implemented in linux kernel.  Signed-off-by: Andreas Bie√ümann <andreas.devel@gmail.com>

2011-07-19  Rodrigo L. Rosa <rodrigorosa.LG@gmail.com>

	* : dsp5680xx fix constante ref a counter was incorrectly set when i added the macros i incorrectly
	called them.  fixed that.

2011-07-19  Rodrigo L. Rosa <rodrigorosa.LG@gmail.com>

	* : dps5680xx fix warnings reorganized code to get rid of compiler warnings the warning were
	related to allignment, i do not get these warning on my build system
	(i've tried setting the compiler flag but it doesn't work, still
	working on why) so i cannot detect them (yet.)

2011-08-09  Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

	* : Bump minor version and add -dev tag.  Bump minor package version number: 0.5.0 -> 0.6.0 Add '-dev' version
	tag: 0.6.0 -> 0.6.0-dev

2011-08-05  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : arm11: disable broken optimization for setting current scan
	chain

2011-08-02  B. A. Bryce <bbcu2011@gmail.com>

	* : cfg: allow stellaris device class override Some devices, eg. The Tempest class return the wrong device class
	when queried. Add the ability to manually override the device class.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-07-29  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : cfg: support calling legacy stm32 scripts For the time being we support the old stm32 script names - this will
	be removed before the next release cycle.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-07-28  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : flash: add support for deprecated stm32 flash cmds Issue warning when the old cmd is used and redirect to new supported
	one.  These deprecated cmds will be removed at some point.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-07-28  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : docs: update to use new stm32 driver names Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-07-27  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : cfg: add Fujitsu FM3 config Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-07-21  Jie Zhang <jie.zhang@analog.com>

	* : remove doc on the deprecated '-p' option Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-07-26  Ronny Strutz <ronny@ewoks.de>

	* : add Fujitsu FM3 Family flash support Signed-off-by: Ronny Strutz <ronny@ewoks.de> Signed-off-by: Spencer
	Oliver <ntfreak@users.sourceforge.net>

2011-07-18  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : build: do not install jimtcl We now make use of the new jimtcl --disable-install-jim Now we can
	install openocd without jimtcl bring installed.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-07-15  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : stm32f2xxx: comments about frequency choice

2011-07-12  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : ftd2xx: handle FT_GetLatencyTimer bug in v1.04 Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-07-12  Steve Bennett <steveb@workware.net.au>

	* : ft2232: Fix warnings when building against D2XX The default is -Werror, so warnings become errors Signed-off-by: Steve Bennett <steveb@workware.net.au> Signed-off-by:
	Spencer Oliver <ntfreak@users.sourceforge.net>

2011-07-10  Luca Bruno <lucab@debian.org>

	* : Fix typo in command output Fix a bunch of minor typo in user facing output.  Signed-off-by: Luca Bruno <lucab@debian.org>

2011-07-04  Peter Horn <peter.horn@bluewin.ch>

	* : cortex_m3: add auto maskisr This patch extends the cortex_m3 maskisr command by a new option
	'auto'.  The 'auto' option handles interrupts during stepping in a
	way they are processed but don't disturb the program flow during
	debugging.  Before one had to choose to either enable or disable interrupts. The
	former steps into interrupt handlers when they trigger. This
	disturbs the flow during debugging, making it hard to follow some
	piece of code when interrupts occur often.  When interrupts are disabled, the flow isn't disturbed but code
	relying on interrupt handlers to be processed will stop working. For
	example a delay function counting the number of timer interrupts
	will never complete, RTOS task switching will not occur and output
	I/O queues of interrupt driven I/O will stall or overflow.  Using the 'maskisr' command also typically requires gdb hooks to be
	supplied by the user to switch interrupts off during the step and to
	enable them again afterward.  The new 'auto' option of the 'maskisr' command solves the above
	problems. When set, the step command allows pending interrupt
	handlers to be executed before the step, then the step is taken with
	interrupts disabled and finally interrupts are enabled again. This
	way interrupt processing stays in the background without disturbing
	the flow of debugging. No gdb hooks are required. The 'auto' option
	is the default, since it's believed that handling interrupts in this
	way is suitable for most users.  The principle used for interrupt handling could probably be used for
	other targets too.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-07-01  Drasko DRASKOVIC <drasko.draskovic@gmail.com>

	* : mips_m4k : Fix soft breakpoint endianess handling In order to compare data read from the target with some marcros or
	data defined on the host, we must transform this read data from
	target endianess to host endianess.  target_read_memory() gets bytes
	from target to the host, but keeps them in _target_ endianess. This
	is OK if we just want to temporary keep this data on the host, like
	keeping breakpoint->orig_instr. But if we want to use this data for
	any ispections and comparisons on the host side, we must transform
	it to _host_ endianess, by using target_buffer_get_u32() function.
	Currently this transformation is missing, and check current_instr ==
	MIPS32_SDBBP will never pass if target and host endianess differ,
	because current_instr will be kept in _target_ endianess and
	MIPS32_SDBBP will be kept in _host_ endianess, The patch fix this issue by using target_buffer_get_u32() to
	transform current_instr to _host_ endianess before comparison.

2011-06-28  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : dsp5680xx: disable for now, it generates warnings Use "git revert <commit>" to revert this commit, then build and
	repair and post patch to the mailing list.  Warnings generated with: nios2-elf-gcc (GCC) 3.4.6 (Altera Nios II 9.1 b222) openocd/src/target/dsp5680xx.c: In function 'eonce_rx_upper_data':
	openocd/src/target/dsp5680xx.c:252: warning: cast increases required
	alignment of target type openocd/src/target/dsp5680xx.c: In function
	'eonce_rx_lower_data': openocd/src/target/dsp5680xx.c:268: warning:
	cast increases required alignment of target type
	openocd/src/target/dsp5680xx.c: In function 'eonce_pc_store':
	openocd/src/target/dsp5680xx.c:508: warning: dereferencing
	type-punned pointer will break strict-aliasing rules
	openocd/src/target/dsp5680xx.c: In function 'dsp5680xx_read':
	openocd/src/target/dsp5680xx.c:736: warning: cast increases required
	alignment of target type openocd/src/target/dsp5680xx.c:737:
	warning: cast increases required alignment of target type
	openocd/src/target/dsp5680xx.c: In function 'dsp5680xx_write_8':
	openocd/src/target/dsp5680xx.c:823: warning: cast increases required
	alignment of target type openocd/src/target/dsp5680xx.c: In function
	'dsp5680xx_write': openocd/src/target/dsp5680xx.c:938: warning: cast
	increases required alignment of target type
	openocd/src/target/dsp5680xx.c:941: warning: cast increases required
	alignment of target type openocd/src/target/dsp5680xx.c: In function
	'dsp5680xx_f_wr': openocd/src/target/dsp5680xx.c:1355: warning: cast
	increases required alignment of target type

2011-06-28  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : dsp5680xx: fix compilation problems use a more specific global variable name than "context", which can
	easily conflict with other things.

2011-06-28  Peter Horn <peter.horn@bluewin.ch>

	* : cortex_m3: add BKPT_TYPE_BY_ADDR define Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-06-20  Martin Schmˆlzer <martin.schmoelzer@student.tuwien.ac.at>

	* : Add description for configure argument "--enable-ulink" to
	README file

2011-06-20  Martin Schmˆlzer <martin.schmoelzer@student.tuwien.ac.at>

	* : Add -DPKGLIBDIR to AM_CPPFLAGS.  This is required so the OpenULINK driver knows the install location
	of the OpenULINK firmware image.

2011-06-20  Martin Schmˆlzer <martin.schmoelzer@student.tuwien.ac.at>

	* : Include ULINK driver in src/Makefile.am

2011-06-20  Martin Schmˆlzer <martin.schmoelzer@student.tuwien.ac.at>

	* : Add ULINK interface script

2011-06-20  Martin Schmˆlzer <martin.schmoelzer@student.tuwien.ac.at>

	* : Add OpenULINK firmware Build requires SDCC, the Small Device C Compiler.

2011-06-22  Drasko DRASKOVIC <drasko.draskovic@gmail.com>

	* : Fix load_image for ELF with all p_paddr set to zero So far image_load command tries to load ELF binaries to address
	discovered by reading p_paddr member of a Program header of an ELF
	segment.  However, ELF specifications says for p_paddr : ...Because System V
	ignores physical addressing for application programs, this member
	has unspecified contents for executable files and shared objects.  ARM ELF specifiaction goes even further, demanding that this member
	be set to zero, using the p_vaddr as a segment load address.  To avoid the cases to wrong addr where p_paddr is zero, we are now
	using p_vaddr to as a load destination in case that *all* p_paddr ==
	0. Basically, this patch re-implements the approach present in BDF's
	elf.c, which is used by GDB also (so that we can be consistent).

2011-06-17  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : build: add missing files to make dist Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-06-17  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : build: add missing files from dist release Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-06-16  Tomek CEDRO <cederom@tlen.pl>

	* : OPENOCD: Renamed ambiguous main2() into openocd_thread() to show
	possible solution for thread support in future.

2011-06-13  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : transport: move files over to transport folder as we introduce swd and jtag as two transports, we want to start up
	with a new transport folder to organize the code a bit.

2011-06-10  rlrosa <rodrigo@evolution.com>

	* : added minimodule interface

2011-06-10  Rodrigo L. Rosa <rodrigorosa.lg@gmail.com>

	* : doxy & cleanup

2011-06-10  Rodrigo L. Rosa <rodrigorosa.lg@gmail.com>

	* : cleanup trailing whitespaces

2011-06-10  Rodrigo L. Rosa <rodrigorosa.lg@gmail.com>

	* : removed unnecessary actions/controls

2011-06-10  Rodrigo L. Rosa <rodrigorosa.lg@gmail.com>

	* : fix read for verify_image

2011-06-10  Rodrigo L. Rosa <rodrigorosa.lg@gmail.com>

	* : fix flash driver size, sector erase

2011-06-06  Laurent Charpentier <laurent_pubs@yahoo.com>

	* : Added configuration file for STM3220G-EVAL board.

2011-06-07  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : Silence -O3 warning

2011-06-03  Stefan Mahr <stefan.mahr@sphairon.com>

	* : mips: add nor flash write from memory block

2011-06-02  Rodrigo L. Rosa <rodrigorosa.lg@gmail.com>

	* : code cleanup

2011-06-03  Freddie Chopin <freddie_chopin@op.pl>

	* : Fix "unused variable" warnings (errors) detected with GCC 4.7.0
	- trivial fixes

2011-06-01  Tormod Volden <debian.tormod@gmail.com>

	* : bootstrap: Various code improvements - Do not specify -e twice.  - Use "which" instead of calling commands that might not exist.  - Fix bashism ("==" is C not sh) - Carefully quote potentially empty variables - Check command arguments before doing anything - Rewrite argument checking to be more easily extensible - Consistent indentation - UNIX style error messages

2011-05-30  Stefan Mahr <stefan.mahr@sphairon.com>

	* : mips: fix some more endian madness

2011-05-29  Damjan Marion <damjan.marion@gmail.com>

	* : Board definition for mini6410/tiny6410 (ARM1176) The following mini6410/tiny6410 functions are available: init_6410 -
	initialize clock, timer, DRAM init_6410_flash - initializes NAND
	flash support install_6410_uboot - copies u-boot image into RAM and
	runs it

2011-05-29  Damjan Marion <damjan.marion@gmail.com>

	* : SMDK6410 is not target, move file to board

2011-05-23  Damjan Marion <damjan.marion@gmail.com>

	* : Improve NAND flash detection Detect based on both manufacturer id and chip id if manufacturer id
	is defined in table

2011-05-25  Stefan Mahr <stefan.mahr@sphairon.com>

	* : mips: fix swapping if openocd is running on big endian host

2011-05-23  Alan Bowman <alan.michael.bowman@gmail.com>

	* : Add eCos/Cortex RTOS support

2011-05-23  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : dsp5680xx: whitespace cleanup Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-05-18  Rodrigo L. Rosa <rodrigorosa.lg@gmail.com>

	* : flashing speed improved using queued jtag. error propagation
	improved.

2011-05-15  Alan Bowman <alan.michael.bowman@gmail.com>

	* : Corrected test for invalid current_threadid

2011-05-17  Rodrigo L. Rosa <rodrigorosa.lg@gmail.com>

	* : partial support for 568013 and 568037, target integration.

2011-05-09  Michel Jaouen <michel.jaouen@stericsson.com>

	* : cortex a : smp doc update

2011-05-05  Jonas Hoerberg <jhorberg@sauer-danfoss.com>

	* : at91rm9200-ek: add low default communication speed

2011-04-27  Alexandre Pereira da Silva <aletes.xgr@gmail.com>

	* : Make the lpc2xxx generic driver support romless parts

2011-04-28  Jonas Hˆrberg <jhorberg@sauer-danfoss.com>

	* : adapter speed: require init script setting and centralize
	activation from drivers to core.c Signed-off-by: Jonas H√∂rberg <jhorberg@sauer-danfoss.com>

2011-04-19  Michel Jaouen <michel.jaouen@stericsson.com>

	* : u8500.cfg : ste u8500 support

2011-04-19  Michel Jaouen <michel.jaouen@stericsson.com>

	* : cortex_a : smp support Conflicts:         src/target/cortex_a.c

2011-04-27  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : cfi: leave check on whether target is running to
	target_write_memory() there was a check in clearing the status register that called exit()
	if the target was running. target_write_memory() has such a check
	and will report the error correctly.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2011-04-24  SimonQian <SimonQian@SimonQian.com>

	* : remove read of flash_size in STM32F2

2011-04-18  Michel Jaouen <michel.jaouen@stericsson.com>

	* : rtos : compilation error on amd64

2011-04-12  Alexandre Pereira da Silva <aletes.xgr@gmail.com>

	* : Make the LPC32xx nand driver support up to 5 address cycles.
	This will only work in the SLC driver.

2011-04-13  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : jtag: clarify jtag->init() and jtag->quit() definitions only set jtag global pointer if jtag->init() succeeds. Less code,
	more clear what the rules are.  Fix nit that error value from init() was not propagated unmodified.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2011-04-13  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : pic32: update pic32mx flash driver Update devices as per the latest programming manual.  We now use the full DEVID to identify the target. Previously we used
	a 8bit id but that has now been changed in the manual.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-04-13  Luca Ellero <lroluk@gmail.com>

	* : Add opcodes for load/store registers words immediate
	post-indexed Signed-off-by: Luca Ellero <lroluk@gmail.com>

2011-04-13  Alexandre Pereira da Silva <aletes.xgr@gmail.com>

	* : Add the REV A tap id to the LPC3250 configuration

2011-04-12  Michel JAOUEN <michel.jaouen@stericsson.com>

	* : cortex_a : multiple target on the same dap

2011-04-09  Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

	* : at91: add at91sam9263 chip register definition Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD
	<plagnioj@jcrosoft.com> Cc: Nicolas Ferre <nicolas.ferre@atmel.com>
	Cc: Patrice Vilchez <patrice.vilchez@atmel.com>

2011-04-09  Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

	* : add at91sam9263-ek support Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD
	<plagnioj@jcrosoft.com> Cc: Nicolas Ferre <nicolas.ferre@atmel.com>
	Cc: Patrice Vilchez <patrice.vilchez@atmel.com>

2011-04-09  Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

	* : at91: add at91sam9261 chip register definition Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD
	<plagnioj@jcrosoft.com> Cc: Nicolas Ferre <nicolas.ferre@atmel.com>
	Cc: Patrice Vilchez <patrice.vilchez@atmel.com>

2011-04-03  Ali Lown <ali@lown.me.uk>

	* : Buffering for up to 64 bytes in USB Blaster.  Uses a global buffer.  Add self to acknowledgements.

2011-04-05  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : build: correctly use AC_LANG_PROGRAM With newer versions of autoconf >= 2.68 we receive warnings about
	the incorrect use of AC_LANG_PROGRAM. This fixes those warnings.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-04-04  Drasko DRASKOVIC <drasko.draskovic@gmail.com>

	* : Added mips_ejtag_drscan_32_out() for optimization.

2011-04-04  Drasko DRASKOVIC <drasko.draskovic@gmail.com>

	* : Added correct endianess treatment for big endian targets. Now it
	is possible to use mips_m4k_write_memory() and
	mips_m4k_read_memory() to correctly set-up SDRAM, as well as bulk
	data write, which already handled endianess well. Also added correct
	endianess manipulation in case of fallback from erroneus bulk write
	to simple write (to avoid byte swapping two times).

2011-04-01  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : cortex_a: delete dbgbase hack vestiges Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2011-04-01  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : Merge remote branch 'origin/master' into HEAD

2011-04-01  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : cortex_a: remove broken dbgbase patchup code the patchup code would get false positives when checking whether a
	dbgbase had to be corrected.  The solution is to have autodetect default, with manual override in
	scripts.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2011-04-01  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : mips: illustrates how to improve performance Do not require unecessary roundtrips for clocking out data.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2011-03-31  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : mips: delete kludgy code that modifies data sent to
	write_memory() Could this cause confusion as data sent to write would be flipped
	and then if the caller subsequently used the data, e.g. a compare
	mismatch might happen? Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2011-03-31  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : mips: mips32_pracc_exec error propagation fixes Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2011-03-31  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : mips: fix mips_ejtag_set_instr error handling this fn does not fail, it queues data.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2011-03-31  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : xscale: fix gaffe in phys write it would *read* instead of *write* to memory when the MMU was
	disabled.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2011-03-30  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : target: add -dbgbase option to target configuration Really a Cortex-A specific option, but there is no system in place
	to support target specific options currently and there has been no
	need for such a system until now.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2011-03-30  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : docs: add HACKING file to help users get started with patches Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2011-03-29  Alexandre Pereira da Silva <aletes.xgr@gmail.com>

	* : Add Micron 2GiB nand Hi, This will add support for a new nand chip device.  Thanks.

2011-03-27  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : command: fix leak when executing commands found via valgrind, not observed/reported.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2011-03-22  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : omap4430: tried to add in workaround for broken dbgbase query Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2011-03-21  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : omap4430: cortex a9 and a8 are now merged again Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2011-03-18  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: removed JTAG master TCP/IP server Move ZY1000 OpenOCD driver more in the direction of being a client
	to simplify code.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2011-03-03  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: add code to check that SRST asserts Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2011-03-17  John and Tina Peterson <jpfp@byu.edu>

	* : SYS_WRITE0 fix Problem is, trying to print "Hello, world!\n" just prints endless
	H's, because r1 is never incremented.  One way to fix it would be to add a "++" after "r1".

2011-03-14  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : dsp563xx: fix alignment warnings Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2011-03-03  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: switch to pthread pthreads work under Linux and eCos.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2011-03-03  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: fix incorrect usage of jtag_sleep() Found by inspection: the correct thing in the context is to use
	usleep() rather than jtag_sleep(). Relates to JTAG over TCP/IP only.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2011-03-15  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: reduce memory usage for fw upgrade fn Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2011-03-10  Aaron Carroll <aaronc@ok-labs.com>

	* : omap4430: force hardware breakpoints for GDB Soft breakpoints are currently broken if the MMU is enabled due to
	incorrect cache flushing.  Until this is fixed, force the use of
	hardware breakpoints.  Signed-off-by: Aaron Carroll <aaronc@ok-labs.com>

2011-03-07  Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

	* : jlink: add detect hw type Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD
	<plagnioj@jcrosoft.com> Cc: Nicolas Ferre <nicolas.ferre@atmel.com>
	Cc: Patrice Vilchez <patrice.vilchez@atmel.com>

2011-03-07  Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

	* : jlink: add capability dumper and command Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD
	<plagnioj@jcrosoft.com> Cc: Nicolas Ferre <nicolas.ferre@atmel.com>
	Cc: Patrice Vilchez <patrice.vilchez@atmel.com>

2011-03-02  Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

	* : at91: add at91sam9g45 support Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD
	<plagnioj@jcrosoft.com> Cc: Nicolas Ferre <nicolas.ferre@atmel.com>
	Cc: Patrice Vilchez <patrice.vilchez@atmel.com>

2011-03-02  Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

	* : at91sam9260: update sram information Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD
	<plagnioj@jcrosoft.com> Cc: Nicolas Ferre <nicolas.ferre@atmel.com>
	Cc: Patrice Vilchez <patrice.vilchez@atmel.com>

2011-03-02  Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

	* : at91: add at91sam9261 support Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD
	<plagnioj@jcrosoft.com> Cc: Nicolas Ferre <nicolas.ferre@atmel.com>
	Cc: Patrice Vilchez <patrice.vilchez@atmel.com>

2011-02-28  Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

	* : jlink: add jlink_pid to specify the pid to use this will allow us to use multiple jlink at the same time as when
	the USB-Address is specified the PID change from 0x0101 to (0x101 +
	usb_adress) Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD
	<plagnioj@jcrosoft.com>

2011-02-28  Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

	* : jlink: harmonise the device name to J-Link Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD
	<plagnioj@jcrosoft.com>

2011-02-25  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : svf: add nil option that just runs through the svf file useful for debugging without access to hardware to e.g.  regression
	test, reproduce memory corruption problems, etc.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2011-02-24  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : jtag: add wait_srst_deassert command Useful to do something *real quick* after a SRST deassert.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2011-02-22  Luca Ellero <lroluk@gmail.com>

	* : cortex_a8: remove dap_ap_sel calls add new mem_ap_sel_* functions (as was made for cortex_a9) see
	commit: 779005f43dc372de937dfd4b445f31d882b98eca Signed-off-by: Luca Ellero <lroluk@gmail.com>

2011-02-21  Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

	* : jlink: set the speed at JLINK_MAX_SPEED when an exceeded speed
	is requested it will allow to be at the highest speed of the jlink without
	touching the board or cpu config tested on sam-ice v5 and at91rm9200-ek Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD
	<plagnioj@jcrosoft.com> Cc: Nicolas Ferre <nicolas.ferre@atmel.com>
	Cc: Patrice Vilchez <patrice.vilchez@atmel.com>

2011-02-21  Edgar Grimberg <edgar.grimberg@gmail.com>

	* : gitmodules: use http protocol for git2cl module Use the http protocol for git2cl module, as it makes it easier for
	the firewall safe mirror to keep all submodules firewall safe.  Signed-off-by: Edgar Grimberg <edgar.grimberg@gmail.com>

2011-02-17  Luca Ellero <lroluk@gmail.com>

	* : stm32: add ID for medium density device Rev Z stm32-discovery evaluation board (STM32F100RBTB6): reading device id
	register (0xE0042000) returns 0x10010420 Signed-off-by: Luca Ellero <lroluk@gmail.com>

2011-02-17  Mathias K <kesmtp@freenet.de>

	* : dsp563xx: minor fixes, code cleanup This patch move the dsp563xx_target_create function to the related
	code block. Also the target examine function was added and the
	register cache is initialized in a separate function. The missing
	functionality to invalidate the x memory context on memory writes
	was also added.

2011-02-15  Mathias K <kesmtp@freenet.de>

	* : - remove pipeline context, use once register instead - fix wrong
	register write in resume and step function - add more conditional
	branch handling

2011-02-15  Mathias K <kesmtp@freenet.de>

	* : - add parameter flush to the once api to signalize if the jtag queue
	need to be flushed after the command

2011-02-15  Phil Fong <fongpwf@yahoo.com>

	* : dsp563xx_once: Correct definition of JTAG_INSTR_CLAMP  I've been working on Rodrigo on adding support to flash Freescale
	dsp56800e devices and have been looking at the dsp563xx code.  I
	think the define for the JTAG CLAMP instruction in dsp563xx_once.c
	is incorrect.  It should be 0x05 according the Freescale AN2074 (and
	is also 0x05 in the dsp568xx according to AN1935).  It won't
	actually change anything in OpenOCD since this define is not used
	anywhere (as far as I can tell).

2011-02-12  Luca Ellero <lroluk@gmail.com>

	* : cortex_a9: move dap_ap_select to arm_avi_v5 dap_ap_select was used in the code at various points, but that can
	lead to confusion, without any knowledge of what AP is really
	selected at some points.  Some bugs derive from this (for example
	md/mw doesn't work well after issueing "dap apsel" command).  Moving
	it to arm_adi_v5.c (using  mem_ap_sel* functions instead of
	mem_ap_*) make the code more clear and more easier to maintain.  In
	the future it should be made "static" to avoid its use outside
	arm_adi_v5 One further benefit is the various goto has been removed as well Signed-off-by: Luca Ellero <lroluk@gmail.com>

2011-02-12  Luca Ellero <lroluk@gmail.com>

	* : arm_adi_v5: add transfer functions prototypes with selection of
	ap Signed-off-by: Luca Ellero <lroluk@gmail.com>

2011-02-12  Luca Ellero <lroluk@gmail.com>

	* : cortex_a9: check target halted on APB read/write memory Signed-off-by: Luca Ellero <lroluk@gmail.com>

2011-02-10  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : buikd: fix cygwin -mno-cygwin build error Remove duplicate inline that causes certain versions of gcc to
	choke.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-02-03  Aaron Carroll <aaronc@cse.unsw.edu.au>

	* : cortex_a9: fix dap_ap_select() usage Save, select and restore AP in cortex_a9_step and
	cortex_a9_init_debug_access.  Fixes a bug where the wrong AP is
	selected after a reset.  Signed-off-by: Aaron Carroll <aaronc@cse.unsw.edu.au>

2011-02-08  Mathias K <kesmtp@freenet.de>

	* : performance: committed wrong version of buf_set_buf optimization oops...  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2011-02-03  Mathias K <kesmtp@freenet.de>

	* : dsp563xx: add x, y and p memory access Hello, this patch add commands to access to x,y and p memory. For run time
	optimization some local jtag function was changed to static inline.  Regards, Mathias

2011-02-04  Mathias K <kesmtp@freenet.de>

	* : buf_set_buf around 30% speed increase Also i have checked the input of this function and in many cases a
	simple byte copy is possible.  I have added this check now and is it possible the buffer is copied
	byte by byte and not bit by bit.  With byte boundary input the test looks like this: buf_set_buf 0x02000000 iteration test: runtime (seconds): old:
	6.828559 new: 0.436191 diff: 6.392368 runtime (seconds): old:
	6.853636 new: 0.430389 diff: 6.423247 runtime (seconds): old:
	6.794985 new: 0.423065 diff: 6.371920 Without: buf_set_buf 0x02000000 iteration test: runtime (seconds): old:
	6.370869 new: 5.552624 diff: 0.818245 runtime (seconds): old:
	6.420730 new: 5.665887 diff: 0.754843 runtime (seconds): old:
	6.583306 new: 5.599021 diff: 0.984285 Regards, Mathias

2011-02-01  Mathias K <kesmtp@freenet.de>

	* : more changes to dsp563xx code Hello, this patch adds the missing cpu registers and the correct read/write
	register functions and fixed most of the halt/step/resume issues.
	The complete missing error propagation was added.  + fix tab/spaces Regards, Mathias

2011-02-02  Aaron Carroll <aaronc@cse.unsw.edu.au>

	* : omap4430: fix reset sequence * Write to the PRM reset control register should have been 'phys'; * Setup empty reset-assert handlers for the M3's, since the
	  board-level reset takes care of them; * Remove the dbginit cruft, because it gets called implicitly on
	reset.  Signed-off-by: Aaron Carroll <aaronc@cse.unsw.edu.au>

2011-01-31  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : error: remove debug output when reporting errors The user does not need to know or care about "command handlers".  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2011-01-24  Aaron Carroll <aaronc@cse.unsw.edu.au>

	* : TCL configs for OMAP4430 and Pandaboard Signed-off-by: Aaron Carroll <aaronc@cse.unsw.edu.au>

2011-01-24  Aaron Carroll <aaronc@cse.unsw.edu.au>

	* : arm_dpm: add some SCR/RCR macros Signed-off-by: Aaron Carroll <aaronc@cse.unsw.edu.au>

2011-01-24  Aaron Carroll <aaronc@cse.unsw.edu.au>

	* : Add cscope to .gitignore Signed-off-by: Aaron Carroll <aaronc@cse.unsw.edu.au>

2011-01-27  Mathias K <kesmtp@freenet.de>

	* : add cortex-r4 etm id to dap info Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-01-25  Thomas Schmid <thomas.schmid@gmail.com>

	* : Fixed small mistakes in at91sam3 info command Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-01-26  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : fix segfault from stack corruption in ahbap_debugport_init ahbap_debugport_init was queueing reads to a local stack variable
	but didn't execute the queue before returning. Since the result of
	the reads are not used anyway, it's better to pass NULL as the
	destination instead of a dummy variable. I changed this throughout
	the function, even for the reads that were actually executed.  Signed-off-by: Andreas Fritiofson <andreas.fritiofson@gmail.com> Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-01-10  Erik Botˆ <erik.boto@pelagicore.com>

	* : Flash driver for em357 Hi, I took the stm32x NOR flash driver and adapted it for the Ember
	EM357 chip. This chip is very similar to em351 and stm32w so the
	driver should be easily extended to support those as well if anyone
	can get their hands on some of those for testing.  changelog: Added NOR flash driver em357 Best regards, Erik Bot√∂

2011-01-13  simon qian <simonqian.openocd@gmail.com>

	* : transport: fix transport command args gaffe the wrong index of argv. argv[0] is the command itself, argv[1] the
	the transport to select.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2011-01-10  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : cfi: fix release build warnings Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-01-08  Freddie Chopin <freddie_chopin@op.pl>

	* : Add another level of procedures to LPC2xxx initialization -
	procedures for specific targets (setup_lpc<number>) take core clock
	and adapter clock as parameters. This way "constant" parameters
	(flash size and type, CPUTAPID, etc.) do not need to be copied if
	one wishes to change the "variable" parameters - like the core clock
	or adapter clock - in a board config file or somewhere else.  Signed-off-by: Freddie Chopin <freddie_chopin@op.pl>

2011-01-06  Freddie Chopin <freddie_chopin@op.pl>

	* : Add common LPC2xxx setup procedure, use in all LPC2xxx files.  Signed-off-by: Freddie Chopin <freddie_chopin@op.pl>

2011-01-06  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : loader: update loader src for armv7-m arch Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-01-05  Jonathan Dumaresq <jdumaresq@cimeq.qc.ca>

	* : Add the contrib file for the armv7m arch Signed-off-by: Jonathan Dumaresq <jdumaresq@cimeq.qc.ca>

2011-01-04  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : mips32: add fastdata loader working area Add a working area that is preserved between calls to
	mips_m4k_bulk_write_memory - this gives us a speed increase of
	approx 3kb/sec during flash writes to the pic32mx.  This area is released during a resume/reset.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-01-03  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : nit: do not add \n at end of LOG_ERROR This is done in many other places as well, patch to fix gratefully
	accepted!

2011-01-02  Michael Schwingen <michael@schwingen.org>

	* : actux3.cfg: add function to setup for u-boot debugging Signed-off-by: Michael Schwingen <michael@schwingen.org>

2011-01-02  Michael Schwingen <michael@schwingen.org>

	* : non-CFI flash code uses data from CFI structures. Make sure that
	timeouts are filled in on non-CFI flashes, and print CFI information
	in all cases, nut just on CFI flashes.  Signed-off-by: Michael Schwingen <michael@schwingen.org>

2011-01-02  Jon Povey <jon.povey@racelogic.co.uk>

	* : svf: fix USAGE and related error reporting Signed-off-by: Jon Povey <jon.povey@racelogic.co.uk>

2010-12-31  Antonio Borneo <borneo.antonio@gmail.com>

	* : NAND/ORION: remove private "target" copy Remove "target" form private data, and use common one in struct
	nand_block.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-12-31  Antonio Borneo <borneo.antonio@gmail.com>

	* : NAND/MX3: remove private "target" copy Remove "target" form private data, and use common one in struct
	nand_block.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-12-31  Antonio Borneo <borneo.antonio@gmail.com>

	* : NAND/LPC3180: remove private "target" copy Remove "target" form private data, and use common one in struct
	nand_block.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-12-31  Antonio Borneo <borneo.antonio@gmail.com>

	* : NAND/AT91SAM9: remove private "target" copy Remove "target" form private data, and use common one in struct
	nand_block.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-12-31  Antonio Borneo <borneo.antonio@gmail.com>

	* : NAND/TCL: fix segfault on syntax error Fix segfault if incomplete command "nand device dummy" is executed.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-12-31  Antonio Borneo <borneo.antonio@gmail.com>

	* : NAND/CORE: Replace decimal dot in messages Table of NAND devices reports operating voltage.  Replace comma with
	proper decimal dot.  √òyvind: "." is correct for UK/US, but incorrect for many other
	languages. OpenOCD is not localized at this point, so sticking to
	"." for US/UK should be OK.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>
	Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-12-30  Marek Vasut <marek.vasut@gmail.com>

	* : CORTEX A8: Fix broken CPU identification This patch fixes the issue where the OMAP CPU (and possibly others)
	was mistaken for iMX51 and therefore had misadjusted debug base.  Signed-off-by: Marek Vasut <marek.vasut@gmail.com>

2010-12-29  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : warning: fix warning where GCC didn't catch a doubly declared
	global structure Why hasn't earlier versions of GCC caught this? Bug? Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-12-29  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : target: do not expose error numbers to users error numbers are only reported at DEBUG log levels and used
	internally, they are not part of the user interface.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-12-23  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : stm32x : always use valid flash base address This change matches the previous behaviour of using the known flash
	address.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-12-23  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : stm32: fix reversed option byte write This has been a long standing bug that has never been spotted.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-12-22  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : stm32: add stm32 xl family flash support Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-12-10  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : contrib: change stm32 flash loader extension As the stm32 flash loader now uses the preprocessor change extension
	so that it used by default.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-12-19  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : config: add init_targets proc that is executed just before init this allows configuration scripts to export a init_targets proc
	rather than setting up the target directly.  This allows for new conventions in how to set up target vs. board
	script and how to transfer default settings between board and target
	scripts.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-12-21  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : server: remove error value from LOG_INFO the error values is not part of the interface to the user, so they
	should never be printed in LOG_INFO or LOG_USER.  Printing them in LOG_DEBUG() rarely makes much sense but is OK.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-12-19  Tormod Volden <debian.tormod@gmail.com>

	* : tcl/board: Clean up STM32 EVAL boards configurations Make consistent use of hex memory size for flashing.  Delete stm32f10x_128k_eval.cfg. It has no product reference nor any
	settings in it.

2010-12-19  Michael Schwingen <michael@schwingen.org>

	* : update IXP42x target / XBA board config

2010-12-18  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : script: support only Tcl comments Only Tcl comments are now supported. For classic style commands
	comments were supported at the end of the line.  Move in the direction of letting the script language decide syntax,
	rather than have special rules for some commands.  Before this patch goes in, the scripts should be updated to use ;#
	instead of # for end of line comments.  > mdw 0 1 2 mdw ['phys'] address [count]   zy1000.cpu mdw address [count] Command handler execution failed in
	procedure 'mdw' > mdw 0 1 #2 mdw ['phys'] address [count]   zy1000.cpu mdw address [count] Command handler execution failed in
	procedure 'mdw' > mdw 0 1 ;#2 0x00000000: ffffffff > mdw 0 1
	0x00000000: ffffffff > mdw 0 0x00000000: ffffffff Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-12-16  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : openocd doc: update the comments about Jim Tcl a bit Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-12-15  Paul Richards <paulr227@gmail.com>

	* : Fix for segfault in handle_nand_dump_command.

2010-12-14  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : flash: clarify protect documentation some chips unprotect more than the range asked for. The protect fn,
	must unprotect/protect minimally the range given.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-12-09  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : contrib: make sure loaders use correct arch Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-12-08  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : cfi: disable buffer writes for M29W128G For some reason buffer writes for the M29W128G do not work reliably,
	so disable them.  See:

	http://git.kernel.org/?p=linux/kernel/git/torvalds/linux-2.6.git;a=commitdiff;h=504a3e72208fc6a65924426ff5693982590bccdcSigned-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-12-08  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : cfi: calculate correct timeouts The existing code used incorrect timeout values for the various cfi
	operations. We now calculate the timeouts and convert to msecs if
	necessary.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-12-08  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : cfi: add time format to cfi query output Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-12-08  Paul Richards <paulr227@gmail.com>

	* : Fix for segmentation fault from freed memory access in
	jtag_unregister_event_callback()

2010-12-08  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : build: fix build from previous commit commit 740b9e25b410c164e661d0334a9ea4168406726b broke the drivers
	for ftdi and parport due to retval already being defined.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-12-07  Andrew Leech <coronasensei@gmail.com>

	* : svf: various improvements * added support for targeting particular tap * improved file reading * improved command line parsing * added progress meter * more readable time measurement output

2010-12-02  Mike Dunn <mikedunn@newsguy.com>

	* : xscale: trace buffer remains enabled until explicitly disabled Hi everyone, Since a call went out for patches... been sitting on this for
	months.  For some reason, the xscale trace buffer is automatically
	disabled as soon as a break occurs and the trace data is collected.
	This patch was a result of the frustration of always re-enabling it,
	or else hitting a breakpoint and checking the trace data, only to
	discover that I forgot to re-enable it before resuming.  Don't see
	why it should work this way.  There is no run-time penalty, AFAIK.  Along the way, I also cleaned up a little by removing the ugly
	practice of recording wrap mode by setting the fill count variable
	to "-1", replacing it with an enum that records the trace mode.  I've been using this for months.  Comments, criticisms gratefully
	received.  Mike Signed-off-by: Mike Dunn <mikedunn@newsguy.com>

2010-12-03  Rolf Meeser <rolfm_9dq@yahoo.de>

	* : Fix flash name in Hitex LPC2929 board config

2010-12-02  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : stm32: set default soft reset config If no srst is configured then default to using sysresetreq to reset
	the target.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-12-02  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : cortex_m3: change cortec_m3 reset_config behaviour Currently the cmd 'cortex_m3 reset_config' will overide the default
	target's 'reset_config'.  Chnage the behaviour to use the target
	'reset_config' if configured and fallback if not.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-12-01  Freddie Chopin <freddie_chopin@op.pl>

	* : rename some target scripts to be consistent with the rest Rename Atmel target scripts which had wrong name ("at91" missing for
	ARM7 AT91SAM7..., "at" missing for AVR ATmega...) Signed-off-by: Freddie Chopin <freddie_chopin@op.pl>

2010-12-01  Rolf Meeser <rolfm_9dq@yahoo.de>

	* : lpc2900.c: Improve debug output for device probing

2010-11-27  Rolf Meeser <rolfm_9dq@yahoo.de>

	* : LPC2900: Avoid false positive reprobing if first probing fails

2010-11-29  Piotr Esden-Tempski <piotr@esden.net>

	* : Added support for the blinking leds on Floss-JTAG v0.3 and
	newer.

2010-11-26  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : build: fix make install with jimtcl Update subproject jimtcl to fix issue with make install.  see jimtcl
	commit 373b721510fd2d0754a41cc70a3b7cfd02e929bd Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-11-22  Antonio Borneo <borneo.antonio@gmail.com>

	* : FLASH/NOR: Rename spearsmi.c to stmsmi.c Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-11-17  Antonio Borneo <borneo.antonio@gmail.com>

	* : STR750: Add SMI interface support Modified spearsmi driver to include support for STR75x Added missing
	initialization in tcl file for STR750 Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-11-22  Antonio Borneo <borneo.antonio@gmail.com>

	* : Documentation: fix typo Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-11-22  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : fastload: fix error handling upon running out of memory Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-11-19  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : build: disable jimtcl lineedit This is a recent jimtcl feature but it currently breaks mingw builds
	as this system does not have termios.h etc.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-11-19  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : build: update bootstrap comments Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-11-17  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : build: add autobuild jimtcl to configure scripts Rather than having to configure/build jimtcl openocd will do this as
	part of its own build.  To use an external jimtcl lib specify disable-internal-jimtcl to the
	configure step.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-11-17  Antonio Borneo <borneo.antonio@gmail.com>

	* : FLASH/NOR: Remove useless file tms470.h Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-11-17  Antonio Borneo <borneo.antonio@gmail.com>

	* : FLASH/NOR: Remove useless file str9x.h Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-11-17  Antonio Borneo <borneo.antonio@gmail.com>

	* : FLASH/NOR: Remove useless file stm32x.h Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-11-17  Antonio Borneo <borneo.antonio@gmail.com>

	* : FLASH/NOR: Remove useless file pic32mx.h Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-11-17  Antonio Borneo <borneo.antonio@gmail.com>

	* : FLASH/NOR: Remove useless file lpc2000.h Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-11-15  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : flash: fix bug with multiple back-to-back flash chips flash programming via flash write_image or gdb load would produce a
	bogus error message that the flash chip was to small.  The solution is to limit the current flash programming run to the
	current chip.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-11-17  Antonio Borneo <borneo.antonio@gmail.com>

	* : FLASH/NOR: Remove useless file at91sam3.h Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-11-17  Antonio Borneo <borneo.antonio@gmail.com>

	* : NOR/SPEARSMI: Add comments about SPI SMI interface hides the real SPI bus between SPEAr and external
	flash.  Added comments to highlight the SPI operation, to help a
	future rework in SPI generic and SPEAr specific drivers.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-11-11  Antonio Borneo <borneo.antonio@gmail.com>

	* : NOR/SPEAr: Add support for Serial NOR Add support and documentation for STMicroelectronics SPEAr Serial
	Memory Interface (SMI).  Code tested on SPEAr3xx only.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-11-13  Freddie Chopin <freddie_chopin@op.pl>

	* : Add comments and tiny improvements to STM32 flash loader
	algorithm Add comments to assembly flash loader for STM32. Add tiny
	improvement in size of the algorithm (40 vs 48 bytes) and tiny speed
	improvement (~1.5%, as time is wasted on waiting for end of
	operation anyway).  Signed-off-by: Freddie Chopin <freddie_chopin@op.pl>

2010-11-11  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : gdb: improve error message when gdb connect fails gdb connect can fail when the flash has not been probed.  During gdb connect, the flash layout is reported, but this can not
	be automatically detected for a target that is powered up and
	OpenOCD supports connecting to gdb server even if the target is
	powered down.  The solution is to turn of the gdb_memory_map feature.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-11-09  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : target: document that target_poll() will report and clear sticky
	errors Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-11-08  Antonio Borneo <borneo.antonio@gmail.com>

	* : JIM: document "echo" command Document "-n" option in manual; Modify "echo" command definition as
	COMMAND_HANDLER to easily add help message Add help message aligned
	with manual.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-11-08  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : stm32: return early upon block write failure only if we do not have enough ram do we continue.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-11-08  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : stm32: add error propagation on writes catch problems earlier.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-11-09  Andrew Leech <coronasensei@gmail.com>

	* : lpc3131: target definition

2010-10-29  Marek Vasut <marek.vasut@gmail.com>

	* : Add EfikaMX smarttop board support This patch finally adds support for i.MX51 based Genesi USA EfikaMX
	smarttop board.  Signed-off-by: Marek Vasut <marek.vasut@gmail.com>

2010-10-29  Marek Vasut <marek.vasut@gmail.com>

	* : CortexA8: Implement debug base autodetection Implement autodetection of debug base. Also, implement a function
	solving various hardware quirks (like iMX51 ROM Table location bug).  Signed-off-by: Marek Vasut <marek.vasut@gmail.com>

2010-10-31  Marek Vasut <marek.vasut@gmail.com>

	* : ADIv5: Introduce function to detect ROM Table location This patch adds function called "dap_detect_debug_base()", which
	should be called to get location of the ROM Table. By walking ROM
	Table, it's possible to discover the location of DAP.  Sadly, some CPUs misreport this value, therefore I had to introduce
	an fixup table, which will be used in case such CPU is detected.  Signed-off-by: Marek Vasut <marek.vasut@gmail.com>

2010-10-29  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : bootstrap: add quick start build instructions leave some bread-crumbs for users to figure out how to build OpenOCD Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-10-10  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : jim tests: use installed Delete obsolete jim that comes with OpenOCD.

2010-10-28  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : contrib: add ram loader src code Add src code for ram loaders to contrib directory.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-10-27  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : help: help now works on configuration commands help would not show help for commands when the command interpreter
	was in the wrong mode, which means that e.g. "help newtap" didn't
	work, it wouldn't show the "jtag newtap" help as it was a
	configuration command.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-10-24  Peter Stuge <peter@stuge.se>

	* : Remove srst_pulls_trst from LPC1768 target srst_pulls_trst may be true on some (broken) LPC1768 boards but is
	not true in general for the LPC1768.  Signed-off-by: Peter Stuge <peter@stuge.se>

2010-10-22  Michal Demin <michaldemin@gmail.com>

	* : buspirate: Serial port was not correctly closed.  Signed-off-by: Michal Demin <michaldemin@gmail.com>

2010-10-12  Antonio Borneo <borneo.antonio@gmail.com>

	* : TARGET: fix segfault in handle_dump_image_command() The struct fileio is used after fileio_close().  Move fileio_close()
	after last usage.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-10-10  David Brownell <dbrownell@users.sourceforge.net>

	* : add JLINK protocol doc ref Provide URL for a recent version of JLINK protocol.  Signed-Off-By:
	David Brownell <dbrownell@users.sourceforge.net>

2010-10-05  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : gdbderver: fix gdb pipe startup overflow When usng gdb pipes we need to keep openocd output at a minimum,
	otherwise the gdb stdin will overflow and fail.  Make the calls to
	gdb_port and log_output synchronous to stop this.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-10-04  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : server: fix server pipe windows support commit 50d5441e2a615fb2c44b41a777e4373901f7a2e6 caused native
	windows build to fail.  Firstly this patch fixes the build issue, but it also disables
	support for named pipes under Windows. Windows does not support
	posix named pipes.  A cross-platfom access layer will need creating
	before support can be enabled again.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-09-27  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : pipes: add documentation for pipes Stick with the name "gdb_port" even if this command can be used for
	other things(disable, named pipes, anonymous stdin/out pipe). "port"
	is correct for probably more than 90% of use cases, if not more.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-09-27  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : server: specify port as a string This will allow switching to using named pipes.  Split this out as a seperate commit to make changes easier to
	follow.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-09-27  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : server: split file descriptors in in/out fd's pipes have different fd's for in/out. This makes the code more
	orthogonal and prepares for adding pipes.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-09-26  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : log: remove hack to redirect logs when pipes are in use There is an explicit command "log_output" that can be used to
	redirect log output to a file, no need for a hack in the first
	place.  Before enabling pipes, use "log_output foo" to redirect log output
	to the "foo" files.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-09-29  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : fileio: fileio_size() can now fail Part of making the fileio API more robust.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-09-28  Antonio Borneo <borneo.antonio@gmail.com>

	* : TCL scripts: fix ocd_mem2array/mem2array In previous patch, I have introduced again the symbol
	"ocd_mem2array", now replaced by "mem2array".  Fix the error.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-09-27  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : image: fix spelling mistake struct imageection => struct imagesection Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-09-26  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: fix non-JTAG master build Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-09-21  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : jtagdp: remove #if 0'd kludges and explain why the code is
	correct short story: if the JTAG clock is too high, then the behavior will
	be flaky and kludging the code may seem to make things beter, but
	really it's just a red herring.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-09-20  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : embeddedice: fix error handling error is now reported at failure site.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-09-10  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : startup: removed capture_catch not used.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-09-08  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : tcl_server: switch to ctrl-z by using ctrl-z instead of line end, multi-line tcl scripts can be
	handled.  Testing: send ctrl-z a couple of times to make telnet enter the mode
	where it sends ctrl-z unencoded.  Programs that talk to the tcl_server can send ctrl-z to indicate end
	of tcl-let to be executed without having to worry about telnet
	protocols.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-09-07  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: add support for Linux host used /dev/mem and mmem() to memory map JTAG registers into user
	space and used new configure options to exclude eCos specific code.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-09-03  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : warnings: fix alignment warnings These warnings are for architectures that do not support non-aligned
	word access.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-09-07  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: remove obsolete debug code Obsolete code clutter Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-09-19  Mike Dunn <mikedunn@newsguy.com>

	* : xscale: some wp detail added to user manual Hi everyone (again), Watchpoints on xscale are quirky, so I thought a little explanation
	in the user's manual was warranted.  Comments gratefully received.  Last one, √òyvind :-) Thanks, Mike Signed-off-by: Mike Dunn <mikedunn@newsguy.com>

2010-09-19  Mike Dunn <mikedunn@newsguy.com>

	* : xscale: bp/wp: additional LOG_ERROR on failure Hi everyone, Added more LOG_ERROR messsages to watchpoint and breakpoint code,
	given that the infrastructure no longer interprets returned error
	codes.  Also changed existing LOG_INFO and LOG_WARNING to LOG_ERROR
	for cases where an error is returned.  Note that the check of the target state is superflous, since the
	infrastruture code currently checks this before calling target code.
	Is this being reconsidered as well?  Also, should we stop returning
	anything other than ERROR_OK and ERROR_FAIL? Comments gratefully received.  Thanks, Mike Signed-off-by: Mike Dunn <mikedunn@newsguy.com>

2010-09-15  Flemming Futtrup <ffu@deif.com>

	* : cfi: add sst39vf6401b Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-09-14  Tak·cs ¡ron <takacs.aron@infracont.hu>

	* : board scripts: Marvell PXA270M processor has a new TAPID:
	0x89265013 the new Marvell PXA270M processor has a new TAPID: 0x89265013.
	Attached you will find a patch for target/pxa270.cfg that will
	handle this.  I have also attached a board/colibri.cfg file to support the Colibri
	PXA270 module by Toradex.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-09-12  Mike Dunn <mikedunn@newsguy.com>

	* : propagate return status of set_breakpoint() up call chain Hi everyone, I figured since I was poking around in the breakpoint code on other
	arches, I'd add this change to those arches that don't do it
	already.  This patch propagates the return code of
	<arch>_set_breakpoint() up the call stack.  This ensures that the
	higher layer breakpoint infrastructure is aware that an error
	ocurred, in which case the breakpoint is not recorded.  Normally I wouldn't touch code that I can't test, but the code is
	very uniform across architectures, and the change is rather benign,
	so I figured after careful inspection that it is safe.  If the
	maintainers or others think this is imprudent, the patch can be
	dropped.  Also changed the error code to something more appropriate in two
	cases where hardware resources are unavailable.  Comments and criticisms of course gratefully received.  Mike Signed-off-by: Mike Dunn <mikedunn@newsguy.com> Signed-off-by:
	√òyvind Harboe <oyvind.harboe@zylin.com>

2010-09-12  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : jim: fix crash when using Jim_ListInsertElements Jim_ListInsertElements was simply forgotten from the fn that
	registered all the APIs.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-09-10  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : command: capture command now handles both types commands Commands that output progress output and no return value will have
	the progress output captured.  Commands that do not output progress output(tcl commands) will
	return the tcl return value instead.  The advantage here is that it is no longer necessary to consider
	which command one is capturing, it works for either.  Example #1: capture progress output: set foo [capture help] Example #2: capture tcl return value set foo [capture {set abc def}] Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-09-10  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : cfi: tighten up type usage a bit sizeof() is a bit less scary than seing assumption about size of
	type, no bug as such.  Use NULL instead of 0 for pointers. More obvious that it is a
	pointer from code inspection.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-09-08  Alexander Stein <alexander.stein@informatik.tu-chemnitz.de>

	* : Remove duplicated initialization I a mail conversation with √òyvind we stated that speed may not be
	set at all on case CLOCK_MODE_KHZ and CLOCK_MODE_RCLK. Also there
	isn't proper error propagation adapter_khz_to_speed or
	jtag_rclk_to_speed.  So jtag_get_speed may need some rewrite for
	error propagation.  CC: √òyvind Harboe <oyvind.harboe@zylin.com> Signed-off-by:
	Alexander Stein <alexander.stein@informatik.tu-chemnitz.de>
	Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-09-01  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : jtag: fix regression with dummy driver and when starting OpenOCD
	with target powered down Do not fail startup if communication with target is not possible.  OpenOCD supports launching without a target connected or the target
	powered down.  The user will typically power up the target and issue a "reset init"
	+ load his application after OpenOCD is started then.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-08-25  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : cortex m3: add cortex_m3 reset_config cmd This new cmd adds the ability to choose the Cortex-M3 reset method
	used.  It defaults to using SRST for reset if available otherwise it
	falls back to using NVIC VECTRESET. This is known to work on all
	cores.  Move any luminary specific reset handling to the stellaris cfg file.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-08-24  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : cfg: update Luminary config files  - Update all Luminary config's to use a common
	 target/stellaris.cfg.  - Add Luminary ek-lm3s6965 config.   - Increase working area for boards with more ram.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-08-19  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : imx35pdk: fix clock and reset delays Use rclk and 100ms delay on ntrst Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-08-16  David Brownell <dbrownell@users.sourceforge.net>

	* : update more Stellaris EK board comments Using the bundled JTAG/SWD debug support in JTAG mode is optional on
	*all* of the EK boards.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-08-16  David Brownell <dbrownell@users.sourceforge.net>

	* : Update comments for some Stellaris EK boards.  These  don't need to use the on-board debuggers in JTAG mode.
	Off-board is OK, as would be SWD mode.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-08-15  David Brownell <david-b@pacbell.net>

	* : at32ap7000 config file nice board to play with.

2010-08-13  Catalin Patulea <cat@vv.carleton.ca>

	* : Fix typo in usb_blaster_vid_pid error message

2010-08-13  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : lpc1768: turn down the jtag clock Tests should that it needs to be as low as 100kHz to be stable.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-08-03  Piotr Esden-Tempski <piotr@esden.net>

	* : Added Lisa/L script as a target board.

2010-08-12  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : at91cap7a-stk-sdram.cfg: faster reset crank up JTAG speed as soon as clocks are set up.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-08-10  Thomas Koeller <thomas.koeller@baslerweb.com>

	* : DM36x: Set OSCDIV divider The ability to set up the OSCDIV divider was missing.  Signed-off-by: Thomas Koeller <thomas.koeller@baslerweb.com>

2010-08-10  Thomas Koeller <thomas.koeller@baslerweb.com>

	* : DM36x: Use enable bit for PLL pre-divider The PLL pre- and postdividers seem to have enable bits, although
	these are not mentioned in the chip documentation.  Signed-off-by: Thomas Koeller <thomas.koeller@baslerweb.com>

2010-08-11  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : tcl: remove silly ocd_ prefix to array2mem and mem2array ocd_ prefix is used internally in OpenOCD as a kludge more or less
	to deal with the two kinds of commands that OpenOCD has.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-08-11  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : debug: use assert's when approperiate error was returned instead of using assert.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-08-11  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : config scripts: remove useless reference to OpenOCD docs clutters config scripts.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-08-08  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : arm7/9: fix "reset run + halt" if polling is off, then "reset run + halt" would fail since halt
	incorrectly assumed the target was in the reset state as it is the
	internal poll implementation that moves the sw tracking of the
	target state out of the reset state.  To reproduce: > reset run; halt JTAG tap: zy1000.cpu tap/device found: 0x1f0f0f0f
	(mfg: 0x787, part: 0xf0f0, ver: 0x1) BUG: arm7/9 does not support
	halt during reset. This is handled in arm7_9_assert_reset() Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-08-03  David Brownell <dbrownell@users.sourceforge.net>

	* : Luminary-icdi comment update Clarify that ICDI is the generic logic, but this config is for the
	JTAG-only (no-SWD) mode.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-08-02  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : verify_image: print out a statement that there are no further
	errors It is useful to know that the printed errors are *all* the errors
	there were.  Added missing error handling(found by inspection).  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-08-02  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: print out khz correctly in response to setting JTAG
	speed Calculate printout based on same core routines.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-08-02  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : ioutil: fix internal fn names prefix w/ioutil_ Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-07-31  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : jtag: add jtag_flush_queue_sleep debug command it can be useful to throttle performance: test differences in
	behavior, test performance effect of long roundtrips.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-08-01  Peter Stuge <peter@stuge.se>

	* : Support NGX Technologies product NGX ARM USB JTAG This is a standard FT2232 device. More info at their web page:

	http://shop.ngxtechnologies.com/product_info.php?cPath=26&products_id=30

2010-08-01  David Brownell <dbrownell@users.sourceforge.net>

	* : stellaris flash comment update This flash driver works on more than just two chips.  (Though it
	does need work still, e.g. to protect more than 64K.  (On
	non-'3748-A0 chips where errata allow that.)) Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-07-24  David Brownell <dbrownell@users.sourceforge.net>

	* : "transport select" returns Jim value Make it scriptable, so code can be conditionalized based on what
	transport is in use for the session.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-07-20  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : docs: removed unused cmd 'fast' The cmd fast was removed in commit
	c0d14dc7f19d785702eee5f69de5b1a63902554b Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-07-19  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : mips32: exit_point optional for mips32_run_algorithm As the mips32 uses instruction breakpoints for algorithms we do not
	really need to check the pc on exit.  This now matches the behaviour of the arm codebase.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-07-20  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : armv4_5: add algorithms instruction breakpoint support Update the arm_checksum_memory and arm_blank_check_memory algorithms
	to use a breakpoint instruction on v5 arch.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-07-20  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : arm_jtag_scann error propagation fixes Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-07-19  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : adi_jtag_ error propagation Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-07-19  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : arm_adi_v5: dap_run() error propagation Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-07-19  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : arm_adi_v5: error propagation of mem_ap_read_atomic_u32 failure Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-07-19  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : arm_adi_v5: add error propagation for dap_setup_accessport Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-07-19  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : cortex a8: added timeout handling Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-07-19  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : arm: add error propagation to generic get_ttb fn Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-07-19  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : cfg: add Amontec JTAGkey2p interface config (Issue #26) Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-07-16  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : nand: nand probe also outputs manufacturer The nand probe now outputs the manufacturer if found.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-07-16  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : docs: missing parameter from nand check_bad_blocks Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-07-18  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : cortex a8: mem_ap_read_buf_u32() error handling Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-07-18  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : cortex a8: add missing error handling from
	cortex_a8_exec_opcode() Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-07-18  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : cortex a8: add missing error handling for
	mem_ap_read_atomic_u32() Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-07-18  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : spelling fixes in comments Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-07-17  David Brownell <dbrownell@users.sourceforge.net>

	* : lm3s811-ek uses generic stellaris target config There's no point in an lm3s811-specific target file, so remove it in
	favor of the generic "stellaris.cfg".  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-07-16  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : flash: use bkpt for str9 flash algo algorithm STR9 is ARMv5 arch so use bkpt instruction rather than waste a
	breakpoint.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-07-16  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : debug-feature: jtagtcpip, reduce performance impact of ping
	times queue read back of data Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-07-16  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : debug feature: jtagtcpip, improved performance only check error flag when rclk is actually enabled.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-07-13  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : cfg: add Avalue RSC-W910 config Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-07-12  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : arm9: revert change arm9tdmi cmd group name to arm9 This reverts the incorrect change made to the arm9 cmd group in
	commit d1eca9a74c7c57ba6a3210c51b2a10cc5adb22e1.  The code now matches the docs and the release notes.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-07-12  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : adapter.c: missing space in handle_interface_command Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-07-09  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : transport: fix bug/typo in transport_register cmd Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-07-07  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : transport: fix bug/typo in interface_transports command Classic manifestation of weakness of dangling { formatting :-) Hard
	to spot these sort of mistakes visually.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-07-04  Stacey Sheldon <stac@solidgoldbomb.org>

	* : transport: fix segfault in setup_command_handler() Commit 93f2afa45f4c dropped the sentinel off the end of the
	command_registrants[] array.  The loop immediately following the
	initialization will walk right off the end.  Signed-off-by: Stacey Sheldon <stac@solidgoldbomb.org>

2010-07-02  David Brownell <dbrownell@users.sourceforge.net>

	* : initial "transport" framework This adds the guts of a transport framework with initialization,
	which should work with current JTAG-only configurations (tested with
	FT2232).  Each debug adapter can declare the transports it supports, and
	exactly one transport is initialized.  (with its commands) in any
	given OpenOCD session.    * Define a new "struct transport with init hooks and a few  "transport"  subcommands to support it:      "list" ... list the transports configured (just "jtag" for now)      "select" ... makes the debug session use that transport      "init" ... initializes the selected transport (internal)   * "interface_transports" ... declares transports the current
	    interface can support.  (Some will do this from C code instead,
	    when there are no hardware versioning (or other) issues to prevent
	it.  Plus some FT2232 tweaks, including a few to streamline upcoming
	support for an SWD transport (initially for Luminary adapters).  Eventually src/jtag should probably become src/transport, moving
	jtag-specific stuff  to transport/jtag.  Signed-off-by: David Brownell <db@helium.(none)>

2010-07-01  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : ft2232: bugfix from previous commit fix build error with commit dd88b461da1cb8642200dd5c96fb1ff384ca9f7b Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-06-17  Marc Pignat <marc.pignat@hevs.ch>

	* : ft2232: cleanup ft2232_write * Include the size check into ft2232_write, so calling it is
	simpler.  * Use sizeof(buffer) when possible

2010-06-22  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : openocd: setup_command_handler() must not be static when OpenOCD is linked with an app this fn can be used from the
	outside.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-06-23  Antonio Borneo <borneo.antonio@gmail.com>

	* : error number: review Review allocation of error numbers in openocd to avoid overlap.  Put
	brackets around negative numbers to avoid issues during macro
	expansion.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-06-22  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : cortex a8: only physical read/write's are available when target
	is running Memory read/writes to virtual memory, requires that the CPU is
	halted.  Use 'phys' option to write to memory while target is running.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-06-22  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : target: mwX on target object now supporst phys argument $_TARGETNAME mww phys 0x10 0xdeadbeef => write 0xdeadbeef to physical address 0x10 Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-06-21  Edgar Grimberg <edgar.grimberg@zylin.com>

	* : target: Fix shadow issues on Mac wait is declared in /usr/include/sys/wait.h Signed-off-by: Edgar Grimberg <edgar.grimberg@zylin.com>

2010-06-21  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : board: add alpha am3517evm ti board config file Signs of life: reset(kinda), halt, resume and memory display/modify.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-06-21  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : cortex a8: print message that locking debug access succeeded on
	second try when locking the debug access fails on the first try, it's a bit
	noisy, so print out message that it succeeded on second try.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-06-21  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : cortex a8: add timeouts waiting for restart, prepare and halt It would previously sit in an infinite loop rather than reporting an
	error.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-06-21  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : arm_adi_v5: error propagation fixes Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-06-20  Antonio Borneo <borneo.antonio@gmail.com>

	* : nor/str7x: review scope of symbols Add "static" qualifier to private function.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-06-20  Antonio Borneo <borneo.antonio@gmail.com>

	* : nor/virtual: review scope of symbols Add "static" qualifier to private functions.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-06-20  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/avr: review scope of symbols Add "static" qualifier to private functions.  Move duplicated global
	declarations from "target/avrt.c" and "nor/avrf.c" to
	"target/avrt.h".  Remove unused declarations form "nor/avrf.c".  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-06-20  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/mips_m4k: review scope of symbols Add "static" qualifier to private functions.  Remove private
	prototypes from include file.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-06-19  Antonio Borneo <borneo.antonio@gmail.com>

	* : helper/jim-eventloop: review unused symbols Remove unused functions: - Jim_CreateSignalHandler - Jim_DeleteSignalHandler Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-06-21  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : jtag: retire jtag_get_error() This fn is an implementation detail of jtag_execute_queue() that is
	not to be exposed externally.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-06-21  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : adi_v5_jtag: add missing error handling Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-06-19  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : arm-jtag-ew: -Wshadow fix declaration of ‚Äòindex‚Äô shadows a global declaration in
	/usr/include/string.h Signed-off-by: Andreas Fritiofson <andreas.fritiofson@gmail.com>

2010-06-18  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/dsp563xx: review unused symbols Remove unused functions: - dsp563xx_jtag_senddat - dsp563xx_write_ir_u16 - dsp563xx_write_dr_u16 - dsp563xx_write_ir_u32 Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-06-18  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : reverse order of Jim stack trace output The stack traces makes much more sense this way.  Signed-off-by: Andreas Fritiofson <andreas.fritiofson@gmail.com>

2010-06-18  Antonio Borneo <borneo.antonio@gmail.com>

	* : helper/jim: review unused symbols Remove unused functions: - Jim_IdentityHashFunction - StringAppendObj - JimReferencesHTDoubleHashFunction Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>
	Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-06-17  Freddie Chopin <freddie_chopin@op.pl>

	* : mingw32: -Wshadow fixes in arm-jtag-ew.c (error: declaration of ‚Äòstat‚Äô shadows a global declaration;

	/usr/local/lib/gcc/i686-w64-mingw32/4.4.2/../../../../i686-w64-mingw32/include/sys/stat.h:279: error: shadowed declaration is here)Signed-off-by: Freddie Chopin <freddie_chopin@op.pl>

2010-06-17  Freddie Chopin <freddie_chopin@op.pl>

	* : rlink: -Wshadows fixes (error: declaration of ‚ÄòpHDev‚Äô shadows a global declaration;
	../../../../src/jtag/drivers/rlink.c:102: error: shadowed
	declaration is here) Signed-off-by: Freddie Chopin <freddie_chopin@op.pl>

2010-06-17  Antonio Borneo <borneo.antonio@gmail.com>

	* : jlink: fix -Wshadow warning Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>
	Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-06-17  Oyvind Harboe <oyvind.harboe@zylin.com>

	* : gdb-server: fix -Wshadow warning This warning was only reproducable with Cygwin.  Cygwin now builds without warnings for the basic case.  Signed-off-by: Oyvind Harboe <oyvind.harboe@zylin.com>

2010-06-14  Antonio Borneo <borneo.antonio@gmail.com>

	* : helper: remove helper membuf Helper is now unused. Can be removed.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-06-16  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : build: enable -Wshadow by default Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-06-16  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : gdb: clean up error handling in step/continue if step/continue fails, then the error should be reported to the
	calling fn.  The calling fn decides if the connection has to be aborted or if
	packet processing can continue.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-06-16  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : svf: -Wshadow warning fixes Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-06-16  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : arm_io: -Wshadow warning fix Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-06-16  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : tms470: -Wshadow warning fixes Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-06-16  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : str9x: -Wshadow warning fixes Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-06-16  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : str7x: -Wshadow warning fixes Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-06-15  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : stellaris: -Wshadow warning fixes Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-06-15  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : lpc2000: -Wshadow warning fixes Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-06-15  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : at91sam7: -Wshadow warning fixes Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-06-15  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : mips_ejtag: -Wshadow warning fixes Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-06-15  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : mips_m4k: -Wshadow warning fixes Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-06-15  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : cortex_a8: -Wshadow warning fixes Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-06-15  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : arm926ejs: -Wshadow warning fix Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-06-15  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : arm720t: -Wshadow warning fix Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-06-15  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : arm_adi: -Wshadow warning fix Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-06-15  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : arm_dpm: -Wshadow warning fix Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-06-15  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : breakpoint: -Wshadow warning fix Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-06-15  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : fileio: -Wshadow warning fix Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-06-14  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : jim: more jim -Wshadow fixes that should be straightforward this bunch was a bit less obvious, but looked straightforward.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-06-15  Thomas Koeller <thomas.koeller@baslerweb.com>

	* : DM36x: pll & clock setup Added a function 'pll_v03_setup' to set up PLLs and clock dividers
	on DM365 and DM368.  Signed-off-by: Thomas Koeller <thomas.koeller@baslerweb.com>
	Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-06-14  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : -Wshadow fixes Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-06-14  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : flash: fix bug in error propagation of flash write_image when a write/unlock/erase failed during write_image, then an error
	was not propagated back up so e.g. flash write image from tcl
	scripts would not throw an exception.  Also flash filling speed was printed even when the operation failed.
	Output is now less confusing.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-06-14  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : cfi: fix gaffe introduced in previous version flash probe broke w/in last commit.  ecc8041c0f4c30a7310c0f8414a5261ee7a090ca Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-06-12  Antonio Borneo <borneo.antonio@gmail.com>

	* : TARGET: removed unused parameters Parameters "domain" and "ap" of function armv4_5_mmu_translate_va()
	are not used.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-06-12  Antonio Borneo <borneo.antonio@gmail.com>

	* : TARGET: fix handling return code of MMU translation Function armv4_5_mmu_translate_va() now properly signals errors in
	the return value.  Remove former error handling by setting variable
	"type" to value "-1".  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-06-12  Antonio Borneo <borneo.antonio@gmail.com>

	* : TARGET/ARM920T: fix compile warning Commit 0538081246fafbfb74d554bb1b758412534aa254 introduces a compile
	time warning: arm920t.c: In function ‚Äòarm920t_write_memory‚Äô:
	arm920t.c:567: warning: ‚Äòretval‚Äô may be used uninitialized in
	this function Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-06-10  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : arm mmu: error propagation added for address translation The return value for MMU translation was a mess, either error or
	value.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-06-10  Thomas Koeller <thomas.koeller@baslerweb.com>

	* : jtag: added mising header Distributions created by 'make dist' were incomplete due to a
	missing header file.  Signed-off-by: Thomas Koeller <thomas.koeller@baslerweb.com>

2010-06-09  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : flash: flash erase_address takes unsigned arguments fixed bug where address was parsed as a signed, rather than unsigned
	it.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-05-06  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: added watchdog server Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-05-05  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : verify: display up to 128 diff's Showing up to 128 differences.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-06-05  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : jtag: rename JTAG_MOVESTATE to JTAG_TLR_RESET JTAG_MOVESTATE is misleading, this cmd is only used for reset.  JTAG_PATHMOVE should be used otherwise.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-06-03  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : NEWS: updates Add new features since 0.4.0 release.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-05-29  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : nor: fix memory leaks during probe Fix similar memory leaks as per commit:
	ef72484b785ec7462a0415afea679d08b864c7fb Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-05-24  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : nor: add get_flash_bank_by_name autoprobe When a flash cmd is called using the flash name the autoprobe
	function is not called. autoprobe is called if
	flash_command_get_bank falls through to get_flash_bank_by_num.  This makes both get_flash_bank_by_name and get_flash_bank_by_num
	behave the same.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-05-24  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : flash: add virtual flash bank driver This adds a virtual flash bank driver that allows virtual banks to
	be defined that refer to an existing flash bank.  For example the real address for bank0 on the pic32 is 0x1fc00000
	but the user program will either be in kseg0 (0xbfc00000) or kseg1
	(0x9fc00000).  This also means that gdb will be aware of all the
	read only flash addresses.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-05-22  Freddie Chopin <freddie_chopin@op.pl>

	* : There are no variants of arm7tdmi target Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-05-21  Freddie Chopin <freddie_chopin@op.pl>

	* : add correct CPUTAPID value for LPC2129 Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-05-21  Freddie Chopin <freddie_chopin@op.pl>

	* : LPC23xx and LPC24xx after reset run on internal 4MHz RC
	oscillator, so "flash bank" parameter should be 4000 (not 12000) Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-05-21  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : cfg: update stm32 performance stick config  - As this is a complete unit, including jtag we might as welli
	 nclude the jtag cfg.   - Add missing id for the str750 that is also in the jtag chain.   - Reduce jtag startup speed to 500kHz.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-05-21  Jon Povey <jon.povey@racelogic.co.uk>

	* : board: dm355evm.cfg SDTIMR0/1 minor naming fix Register name fix; ref. TI document sprueh7d Signed-off-by: Jon Povey <jon.povey@racelogic.co.uk> Signed-off-by:
	√òyvind Harboe <oyvind.harboe@zylin.com>

2010-05-18  Gary Carlson <gcarlson@carlson-minot.com>

	* : reset: fix reset halt bug I was finally able to figure out the cause of this problem.  There
	are two parts to the patch.  The first patch modifies the
	configuration file I originally generated for the Atmel AT91SAM9G20
	board and achieves the following: +++ Splits the reset-init handler into a reset-start handler for
	some of the initial configuration activities and keeps the remainder
	in the reset-init handler as was the case before.  This was the real
	issue that was causing the timing problems I identified before.
	This solution was confirmed with an o-scope on actual target
	hardware.  +++ Adds a new instruction in the reset-start handler to disable
	fast memory accesses in the reset-start handler.  When the target
	jtag clock is started out at 2 kHz during system clock
	initialization, memory writes (i.e.  register write to enable
	external reset pin -- basically to RSTC_MR) are naturally slow and
	cause GDB keep-alive issues (refer to PATCH 2/2 for additional
	fixes).  +++ Modifies the configuration file to use srst_only reset action.
	The reset-start/reset-init handler split also now allows the correct
	behavior to be used in the configuration file (previously had to use
	both SRST and TRST even though only SRST is actually used and
	connected on the evaluation board).  +++ Adds external NandFlash configuration support to take advantage
	of flash driver added earlier.  Doesn't fix any bugs but adds
	functionality that was marked as TBD before and thrown in when I did
	other work on the configuration file.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-05-18  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : jim: fix bug in tcl "puts" tcl "puts" didn't work because the logging code sensored strings
	that did not include a '\n'. The correct thing is to sensor empty
	strings, which are used to keep gdb connection alive.  The tcl "puts" code broke apart strings which do contain '\n' in
	order to implement the -nonewline argument, which is how it got hurt
	by the bug in log.c Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-05-18  Marc Pignat <marc.pignat@hevs.ch>

	* : at91rm9200 : reset_config should go to the board config file Let other boards do other things with srst and trst.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-05-17  Jon Povey <jon.povey@racelogic.co.uk>

	* : NAND: catch read errors when building BBT nand_build_bbt() was ignoring the return value from nand_read_page()
	and blindly continuing.  It now passes the return value up to the
	caller if the read fails.  Signed-off-by: Jon Povey <jon.povey@racelogic.co.uk>

2010-05-13  Jon Povey <jon.povey@racelogic.co.uk>

	* : Change kb/s to KiB/s in messages about kibibytes Change download rate messages about kibibytes from "kb/s" to "KiB/s"
	units.  See: http://en.wikipedia.org/wiki/Data_rate_units Signed-off-by: Jon Povey <jon.povey@racelogic.co.uk>

2010-05-11  Antonio Borneo <borneo.antonio@gmail.com>

	* : NOR/CFI: add cfi_read() implementation Final step to force bus_width size during CFI flash read.  Added CFI specific implementation cfi_read() that uses only accesses
	at bus_width size.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-05-10  Antonio Borneo <borneo.antonio@gmail.com>

	* : NOR/TCL: fix typo in error message Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-05-07  Antonio Borneo <borneo.antonio@gmail.com>

	* : NOR/CFI: remove use of cfi_add_byte() Remove the function cfi_add_byte() and rewrite the only instance of
	it.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-23  Antonio Borneo <borneo.antonio@gmail.com>

	* : NOR/CFI: use bus_width for memory access on flash ID.  NOR flash structure requires each access to be bus_width wide.  Fix
	read of flash ID accordingly to rule above.  Add case (chip_width ==
	4), allowed by CFI spec and coherent with current value of
	CFI_MAX_CHIP_WIDTH but currently not used by any target.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-19  Antonio Borneo <borneo.antonio@gmail.com>

	* : NOR/CFI: simplify bufferwsize computation Review and simplify computation of bufferwsize.  Add comments about
	variables' meaning.  The same code is present 3 times in the file.  Current patch updates
	all the 3 instances.  Step 1)   Replace "switch(bank->chip_width) {...}".    Illegal values of bank->chip_width are already dropped.    For legal values, the code is equivalent to:         bufferwsize = buffersize / bank->chip_width; Step 2)   The above code replacement plus the following line:         bufferwsize /= (bank->bus_width / bank->chip_width);   is merged in a single formula:         bufferwsize = (buffersize / bank->chip_width) /                 (bank->bus_width / bank->chip_width);   and simplified as:         bufferwsize = buffersize / bank->bus_width; Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-05-14  Jun Ma <sync.jma@gmail.com>

	* : comments on doc/manual/primer/jtag.txt 1. fix some errors in jtag.txt(in my personal opinion, please
	review).  2. remove a broken link Signed-off-by: Jun Ma <sync.jma@gmail.com> Signed-off-by: √òyvind
	Harboe <oyvind.harboe@zylin.com>

2010-05-13  Jon Povey <jon.povey@racelogic.co.uk>

	* : NAND: fix first and last handling in nand_build_bbt Last block was being skipped, fix by changing the loop test from "<"
	to "<=" First block argument was ignored, always started from block 0 (and
	counted the wrong blocks as bad if first was nonzero). Now we use
	it.  Signed-off-by: Jon Povey <jon.povey@racelogic.co.uk> Signed-off-by:
	√òyvind Harboe <oyvind.harboe@zylin.com>

2010-05-12  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : scripts: update flash bank names As the flash bank name is now unique update the scripts to suit.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-05-12  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : flash: add flash bank name support flash cmds can now be passed either the bank name or the bank
	number.  For example.  flash info stm32.flash flash info 0 Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-05-10  Jun Ma <jma@hfut.edu.cn>

	* : fix instruction refilling bug when using software breakpoints on
	a big-endian arm926ej-s system Signed-off-by: Jun Ma <sync.jma@gmail.com> Signed-off-by: √òyvind
	Harboe <oyvind.harboe@zylin.com>

2010-05-11  Marc Pignat <marc.pignat@hevs.ch>

	* : Documentation: consistency in GDB command name Always use the complete name of the GDB command, not an
	abbreviation.

2010-05-10  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : mips32: 20 second timeout/megabyte for CRC check There was a fixed 20 second timeout which is too little for large,
	slow timeout checks.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-05-10  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : cfi: add Numonyx M29W128G reset workaround The ST/Numonix M29W128G has an issue when a 0xff cmd is sent, it
	cause an internal undefined state. The workaround according to the
	Numonyx is to send another 0xf0 reset cmd Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-05-06  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : server: incorrectly display socket port number c->sin.sin_port does not contain a valid port number so just use
	service->port as this is always correct.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-05-05  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : flash: erase_address now has an unlock option Quite useful to be able to unlock the flash, just like in the flash
	write_image cmd.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-05-05  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: fix tcl command to read power dropout status Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-05-04  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: fix keep_alive() bug introduced in latest commit. Should have held off merging that
	commit. Sigh....  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-05-03  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : command context: fix errors when running certain commands on
	startup Various commands, e.g. "arm mcr xxxx" would fail if invoked upon
	startup since it there was no command context defined for the jim
	interpreter in that case.  A Jim interpreter is now associated with a command context(telnet,
	gdb server's) or the default global command context.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-05-03  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : str7x: improve error handling clean up error handling a bit. No change in behavior.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-05-05  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : docs: now builds again Fix gaffe committed last time.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-05-03  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : flash: less bogus errors Removed bogus errors when trying to allocate a large a target memory
	buffer as possible.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-05-03  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : target: clean up target memory allocation error messages target memory allocation can be implemented not to show bogus error
	messages.  E.g. when trying a big allocation first and then a smaller one if
	that fails.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-05-04  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : cfi: made som info output debug output E.g. how much target memory that is used during flashing is debug
	info.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-04-30  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: it has a CFI chip, no need for the ecosflash driver The ecosflash driver is no longer used by any of the config scripts.
	It is more useful to get more testing of CFI.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-04-29  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : flash: write_image will now pad erase to nearest sector this is done for unlocking and it is a simple omission that it
	wasn't done for sectors.  The unnerving thing is that nobody has complained about this until
	now....  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-04-26  Marek Vasut <marek.vasut@gmail.com>

	* : Add Voipac PXA270 module support This patch adds support for the Voipac PXA270 module. Including NOR
	flash.  Signed-off-by: Marek Vasut <marek.vasut@gmail.com>

2010-04-21  Mike Dunn <mikedunn@newsguy.com>

	* : xscale: add support for length arg to wp command This patch adds support for the length argument to the xscale
	implementation of the wp command.  Per discussion with David, the
	length argument specifies the range of addresses over which a memory
	access should generate a debug exception.  This patch utilizes the
	"mask" feature of the xscale debug hardware to implement the correct
	functionality of the length argument.  Some limitations imposed by
	the hardware are:    - The length must be a power of two, with a minumum of 4.     - Two data breakpoint registers are available, allowing for two
	     watchpoints.  However, if the length of a watchpoint is greater
	     than four, both registers are used (the second for a mask value),
	     limiting the number of watchpoints to one.  This patch also removes a useless call to xscale_get_reg(dbcon) in
	xscale_set_watchpoint() (value had already been read from the
	register cache, and the same previously read value is then modified
	and written back).  I have been using and testing this patch for a couple days.  Questions, corrections, criticisms of course gratefully received.

2010-04-24  michal smulski <michal.smulski@ooma.com>

	* : adapter: allow adjusting srst assert with Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-04-20  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : doc: gdb-attach can fix gdb connect issues Flash probing must succeed for e.g. gdb load and automatic
	hardware/software breakpoints to work.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-04-15  David Brownell <dbrownell@users.sourceforge.net>

	* : NOR/core bugfix: restore invariants The The patch labeled "CFI CORE: bug-fix protect single sector" was
	merged rged without some requested bugfixes.  Most significantly it
	broke invariants in the code, invalidating descriptions and changing
	the calling convention for underlying drivers.  (It (Also wasn't
	CFI-specific...) Fix that, and Include an update from Antonio Borneo for the
	degenerate "nothing to do" case, (although that's still in the
	wrong location.  which is presumably why that is it was working in
	some cases but not all.)  src/flash/nor/core.c |   21 ++++++++++++++++-----  1 file changed, 16 insertions(+), 5 deletions(-) Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-04-14  Antonio Borneo <borneo.antonio@gmail.com>

	* : NOR/CFI: fix order of arguments check Syntax of "flash bank" command requires: - chip_width as CMD_ARGV[3] - bus_width  as CMD_ARGV[4] Actual code swaps the arguments.  Bug
	has no run time impact since wrong variables are only used to check
	value and both are checked against same constraint.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-15  Antonio Borneo <borneo.antonio@gmail.com>

	* : TCL SCRIPTS: fix command name Some tcl script has underline between the words "flash bank"
	resulting in 'invalid command name "flash_bank"'.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-11  Antonio Borneo <borneo.antonio@gmail.com>

	* : TARGET/ARM7_9_COMMON: review scope of symbols Add "static" qualifier to private functions.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-11  Antonio Borneo <borneo.antonio@gmail.com>

	* : TARGET/MIPS32: review scope of functions Add "static" qualifier to private functions.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-11  Antonio Borneo <borneo.antonio@gmail.com>

	* : TARGET/MIPS32_DMAACC: review scope of functions Add "static" qualifier to private functions.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* : TARGET/MIPS_EJTAG: review scope of functions Add "static" qualifier to private functions.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* : TARGET/DSP563XX_ONCE: review scope of functions Add "static" qualifier to private functions.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* : JTAG/COMMANDS: review scope of functions Add "static" qualifier to private functions.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* : NOR/STR7X: review scope of data Add "static" qualifier to private data.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* : MFLASH: review scope of functions Add "static" qualifier to private functions.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* : NAND/CORE: review scope of functions Add "static" qualifier to private functions.  Move function's
	comment from core.h to core.c.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* : NOR/ADUC702X: review scope of data Add "static" qualifier to private data.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* : NOR/CORE: review scope of data Add "static" qualifier to private data.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* : STR9XPEC: review scope of functions Add "static" qualifier to private functions.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* : TIME_SUPPORT: review unused symbols Remove unused functions: - timeval_add Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* : PLD: review scope of functions Add "static" qualifier to private functions.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* : ARM920T: review scope of functions Add "static" qualifier to private functions.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* : ARM_SIMULATOR: review scope of functions Add "static" qualifier to private functions.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* : ARMV4_5: review scope of data Add "static" qualifier to private data.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* : TARGET: review unused symbols Remove unused functions: - target_all_handle_event Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* : ARMv7M: review scope of functions Add "static" qualifier to private functions.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-04  David Brownell <dbrownell@users.sourceforge.net>

	* : target: are we running algorithm code? Fixing one bug can easily uncover another  .... in this case, making
	sure that we properly invalidate some cached NOR state when resuming
	arbitrary target code turned up an issue when the code wasn't quite
	arbitrary (and we couldn't know that, but some parts of OpenOCD
	assumed the cache would not be invalidated.  Specifically:  some flash drivers (like CFI) update that state in
	loops with downloaded algorithms, thus invalidating the state as
	it's probed.   + Add a new target state flag, to record whether the target is   running downloaded algorithm code.   + Use that flag to add a special case:  "trust" downloaded
	   algorithms not to corrupt that cached state, bypassing cache
	invalidation.  Also update some of the documentation to stipulate that this flavor
	of trustworthiness is now *required* ... not just a fortuitous
	acident.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-04-03  David Brownell <dbrownell@users.sourceforge.net>

	* : buildfix Without this, a system using gcc (GCC) 4.2.4 (Ubuntu 4.2.4-1ubuntu4)
	aborts builds after reporting: tcl.c: In function ‚Äòhandle_irscan_command‚Äô: tcl.c:1168: warning:
	passing argument 1 of ‚Äòbuf_set_u32‚Äô discards qualifiers from
	pointer target type Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-27  David Brownell <dbrownell@users.sourceforge.net>

	* : jtag/tcl.c cleanup -- split out "adapter.c" Clean up the jtag/tcl.c file, which was one of the biggest and
	messiest ones in that directory.  Do it by splitting out all the
	generic adapter commands to a separate "adapter.c" file (leaving the
	"tcl.c" file holding only JTAG utilities).  Also rename the little-used "jtag interface" to "adapter_name",
	which should have been at least re-categorized earlier (it's not
	jtag-only).  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-26  Antonio Borneo <borneo.antonio@gmail.com>

	* : TCL scripts: update to current "flash bank" syntax While "flash bank" syntax has been changed long ago, several tcl
	script are still not fully update.  Fix following cases related with "cfi" driver: - syntax error: the mandatory <name> parameter is missing - warning: the <target> parameter is a number, instead of   the target name - the comment line above the command does not report   actual syntax Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-03-25  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : target: fix poll off I don't know when "poll off" broke, but "poll off" didn't stop
	background polling of target. The polling status flag simply wasn't
	checked in the handle_target timer callback.  All target polling(including power/reset state) is now stopped upon
	"poll off".  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-03-04  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: allow it to build on linux host for testing purposes For testing and checking the build this can be useful, it doesn't
	have any practical application outside development.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-03-24  Antonio Borneo <borneo.antonio@gmail.com>

	* : telnet_server: review scope of functions Add "static" qualifier to private functions.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-03-24  Antonio Borneo <borneo.antonio@gmail.com>

	* : server: review unused symbols Remove unused function Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-03-22  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: fix optimisaion bug in dcc writes Introduced & corrected since 0.4.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-03-22  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : bitq: fix warning now that out_value is const This was an easy one. Just add the missing "const" to a local
	variable definition.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-03-21  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : arm breakpoints: amended fix comment the handling of caches, should be moved into the breakpoint specific
	callbacks rather than being plonked into generic memory write fn's.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-03-19  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : jtag: move towards making out_value const These were relatively straightforward fixes which are backwards
	compatible.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-03-19  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: clean up jtag_add_xx_scan fn's The implementation is now more straightforward as the scan_fields
	have been greatly simplified over time.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-03-18  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : jtag: retire jtag_get/set_end_state() Voila! This get rids of mysteries about what what state the TAP is
	in.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-03-18  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : jtag: get rid of unecessary jtag_get_end_state() By code inspection.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-03-18  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : jtag: remove jtag_get_end_state()'s that should be unecessary By a bit of code inspection it seems like all of these instances of
	jtag_get_end_state() can be unambigously replaced by constants.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-03-18  David Brownell <dbrownell@users.sourceforge.net>

	* : ADI_v5 - it's not always an "SWJ-DP" So don't use the name "swjdp" for all DAPs; rename to plain old
	"dap", which *is* always correct.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-18  David Brownell <dbrownell@users.sourceforge.net>

	* : remove more duplication Not sure how the original "move code to adi_v5_swd.c" patch left
	some code in the "arm_adi_v5.c" file, but a recent patch was only a
	partial fix -- it didn't remove all the duplication.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-18  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : oops: committed and pushed two temp files....  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-03-18  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : PIC32MX: add unlock cmd 'unlock' performs a full unlock/erase of the device, removing any
	code protection.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-03-16  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : jtag: cut down on usage of unintended modification of global end
	state jtag_get/set_end_state() is now deprecated.  There were lots of places in the code where the end state was
	unintentionally modified.  The big Q is whether there were any places where the intention was
	to modify the end state. 0.5 is a long way off, so we'll get a fair
	amount of testing.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-03-17  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : mips: fix warning Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-03-16  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : target: faster mww operations Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-03-17  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : SCRIPT: add add_script_search_dir cmd Add a add_script_search_dir cmd so that adding search dir's can be
	added to cfg scripts.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-03-16  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : MIPS: remove ejtag_srst variant The mips_m4k_assert_reset has now been restructured so the variant
	ejtag_srst is not required anymore.  The ejtag software reset will
	be used if the target does not have srst connected.  Remove ejtag_srst from docs.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-03-16  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: tweak the DCC inner loop a tiny bit Uses FIFO a bit more efficiently now.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-03-16  David Brownell <dbrownell@users.sourceforge.net>

	* : ADIv5 transport support moves to separate files Unclutter arm_adi_v5.c by moving most transport-specific code to a
	transport-specific files adi_v5_{jtag,swd}.c ... it's not a full
	cleanup, because of some issues which need to be addressed as part
	of SWD support (along with implementing the DAP operations on top of
	SWD transport):  - The mess where mem_ap_read_buf_u32() is currently coded to    know about JTAG scan chains, and thus needs rewriting before    it will work with SWD;  - Initialization is still JTAG-specific Also  move JTAG_{DP,ACK}_* constants from adi_v5.h to the JTAG file;
	no other code should care about those values.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-16  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : PARPORT: add PARPORTADDR tcl variable Add PARPORTADDR tcl variable making it easier to change parallel
	port address in scripts.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-03-16  richard vegh <vegh.ricsi@gmail.com>

	* : lpc3180: LPC3180(LPC3250) SLC driver implemented Until this time only basic  SLC functionality exists when you want
	to use SLC to access external nand flash.  Basic functionality can
	     be selected with command: lpc3180 select 0 slc It is anyway very
	slow to write/read to/from nand flash.  With the new command, SLC speed improved about 20 times, and
	     hardware ECC info also read/written from/to nand flash OOB area:
	lpc3180 select 0 slc bulk Speed improvement achieved by using
	working are in SRAM of the LPC3250 chip and controlling DMA
	controller to interact between SRAM and SLC peripheral.  Here are the patches, and if they are ok than take them.  Tested
	with hitex LPC3250 usb stick.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-03-15  David Brownell <dbrownell@users.sourceforge.net>

	* : move "reset_config" out of JTAG command group The SRST configuration options are not specific to JTAG, so this
	command may be needed with non-JTAG debug sessions.  Just move the
	command to a different group.  (The TRST options are, however, clearly JTAG-specific, but for
	compatibility, they're now left alone.  The flags they control could
	later be disabled in non-JTAG sessions.) Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-15  David Brownell <dbrownell@users.sourceforge.net>

	* : rename jtag_nsrst_delay as adapter_nsrst_delay Globally rename "jtag_nsrst_delay" as "adapter_nsrst_delay", and
	move it out of the "jtag" command group ...  it needs to be used
	with non-JTAG transports Includes a migration aid (in jtag/startup.tcl) so that old user
	scripts won't break.  That aid should Sunset in about a year.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-15  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : FT2232: bulidfix Fix build issue with commit c23d4596d2239bdbba080499de837f53e0c89e59 Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-03-14  David Brownell <dbrownell@users.sourceforge.net>

	* : rename jtag_interface_{init,quit}() These routines apply to non-JTAG debug adapters too.  To reduce
	confusion, give them better (non-misleading) names.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-11  Mike Dunn <mikedunn@newsguy.com>

	* : fix xscale icache and dcache commands Simple patch that fixes the broken xscale icache and dcache
	commands.  This broke when the helper functions and macros were
	changed.  [ dbrownell@users.sourceforge.net: don't use strcasecmp ] Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-11  simon qian <simonqian.openocd@gmail.com>

	* : New JTAG driver for Versaloon This patch greatly simplifies the Versaloon driver:  - reducing the code size from more than 50K to less than 28K  - adding support for IR/DR scan with unlimited size  - using tap_get_tms_path and tap_get_tms_path_len.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-11  David Brownell <dbrownell@users.sourceforge.net>

	* : split "interface" commands from "jtag" ones We'll need to be able to work with debug adapter interfaces
	(drivers) even when they're not used for JTAG ... for example, while
	there are multi-transport drivers which support JTAG *and* several
	other transports (or just one more, like SWD) there are also
	adapters with more limited goals (and no JTAG support at all).  Start decoupling the two concepts ("debug adapter driver", "jtag")
	by having two command groups, which initialize separately.  This will help us support OpenOCD sessions using only non-JTAG
	transports, in which JTAG commands should not be registered.  Update
	docs to mention that the JTAG, SVF, and XSVF commands won't work
	without a JTAG transport.  Note that at least commands working with SRST are still
	inappropriately coupled  to JTAG ... inappropriate because (a) SRST
	is not part of the JTAG standard, for all that many platforms (like
	ARM) expect it; and also (b) because they're used with non-JTAG debug and programming
	interfaces, too.  They should perhaps become generic "interface"
	operations at some point.  (Similarly with the clock rate to be used
	by a given adapter.) Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-10  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : JLINK: user info message cleanup  - remove trailing LF's from user info messages.   - split long lines.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-03-08  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : STM32: flash loader cleanup - make algorithm array static const.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-03-08  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : STR9: flash loader cleanup - make algorithm array static const.   - increase algorithm buffer size to 32k.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-03-09  Antonio Borneo <borneo.antonio@gmail.com>

	* : CFI CORE: bug-fix protect single sector Cannot protect or unprotect single sector in cfi flash.  When
	first==last the procedure fails.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>
	Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-03-08  Antonio Borneo <borneo.antonio@gmail.com>

	* : cfi: simplify and clearify code At the end I have added comments /* FIXME: to be removed */ There
	are 3 lines in which my simplification is not complete due to data
	dependency with LOG_DEBUG() messages visible in the patch.  Such
	log_debug has been introduced on Jan 22, 2007 with commit
	4fc97d3f2726efa147cfdb0c456eace51550e1e3 during development activity
	in this file/procedure.  From my point of view, these logs can be removed, since not part of
	a consistent flow of information.  Alternatively, could be borrowed
	in the new cfi_send_command(), but this will increase verbosity.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-03-06  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : jtag: simplify jtag_add_plain_ir/dr_scan These fn's now clearly just clock out/in bits. No mystical fields
	are involved.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-03-01  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : jtag: retire tap field jtag_add_dr/ir_scan() now takes the tap as the first argument,
	rather than for each of the fields passed in.  The code never exercised the path where there was more than one tap
	being scanned, who knows if it even worked.  This simplifies the implementation and reduces clutter in the
	calling code.  use jtag_add_ir/dr_plain_scan() for more fancy situations.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-03-05  David Brownell <dbrownell@users.sourceforge.net>

	* : doc: not all debug adapters are "dongles" Talk more about "debug adapters" instead of only "dongles".  Not all
	adapters are discrete widgets; some are integrated onto boards.  If
	we only talk about "dongles" we rule out many valid setups, and help
	confuse some users (who may be using Dongle-free environments).  Also start bringing out the point that JTAG isn't the only transport
	protocol, even though OpenOCD historically presumes "all is JTAG".
	(Not all debug adapters are JTAG adapters, or JTAG-only adapters.) Plus a few minor fixes (spelling etc) in the vicinity of those
	changes, and updates about FT2232H clocking issues (they can go
	faster than the older chips, and can support adaptive clocking).  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-05  David Brownell <dbrownell@users.sourceforge.net>

	* : ADIv5 share DAP command support Get rid of needless and undesirable code duplication for all the DAP
	commands (resolving a FIXME) ... there's no need for coreas to have
	private copies of that stuff.  Stick a pointer to the DAP in "struct
	arm", letting common code get to it.  Also rename the "swjdp_info" symbol; just call it "dap".  This is an overall code shrink.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-04  David Brownell <dbrownell@users.sourceforge.net>

	* : rename "swjdp_common" as "adiv5_dap" This partially corrects an inappropriate name choice (and its
	associated FIXME).  There are still too many variables named "swjdp", bug little current
	code actually relies on them referencing an SWJ-DP instead of some
	other flavor of DAP.  Only the two new dap_to{swd,jtag}() calls
	could behave differently on an SWJ-DP instead of a SW-DP or a
	JTAG-DP.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-03  David Brownell <dbrownell@users.sourceforge.net>

	* : NOR: invalidate cached state on target resume The NOR infrastructure caches some per-sector state, but it's not
	used much ... because the cache is not trustworthy.  This patch addresses one part of that problem, by ensuring that
	state cached by NOR drivers gets invalidated once we resume the
	target -- since targets may then modify sectors.  Now if we see sector protection or erase status marked as anything
	other than "unknown", we should be able to rely on that as being
	accurate.  (That is ... if we assume the drivers initialize and
	update this state correctly.) Another part of that problem is that the cached state isn't much
	used (being unreliable, it would have been unsafe).  Those issues
	can be addressed in later patches.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-03  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : STM32: Add Value Line Flash Programming Support Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-03-02  David Brownell <dbrownell@users.sourceforge.net>

	* : ADIv5: use new DAP ops for DP read/write Make ADIv5 internals use the two new transport-neutral calls for
	reading and writing DP registers.  Also,  bugfix some of their call
	sites to handle the fault returns, instead of ignoring them.  Remove the old JTAG-specific calls, using their code as the bodies
	of the JTAG-specific implementation for the new methods.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-02  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: start abstracting ADIv5 transports (JTAG/SWD) To support both JTAG and SWD, ADIv5 needs DAP operations which are
	transport-neutral, instead being of JTAG-specific.  This patch:  - Defines such a transport-neutral interface, abstracting access    to DP and AP registers through a conceptual queue of operations.   - Builds the first implementation of such a transport with the
	   existing JTAG-specific code.  In contrast to the current JTAG-only interface, the interface adds
	support for two previously-missing (and unused) DAP operations:  - aborting the current AP transaction (untested);  - reading the IDCODE register (tested) ... required for SWD init.  The choice of transports may be fixed at the chip, board, or
	JTAG/SWD adapter level.  Or if all the relevant hardware supports
	both transport options, the choice may be made at runtime, This
	patch provides basic infrastructure to support whichever choice is
	made.  The current "JTAG-only" transport choice policy will necessarily
	continue for now, until SWD support becomes available in OpenOCD.
	Later patches start phasing out JTAG-specific calls in favor of
	transport-neutral calls.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-02  David Brownell <dbrownell@users.sourceforge.net>

	* : LPC1768 updates, IAR board support Fix some issues with the generic LPC1768 config file:  - Handle the post-reset clock config:  4 MHz internal RC, no PLL.     This affects flash and JTAG clocking.   - Remove JTAG adapter config; they don't all support trst_and_srst  - Remove the rest of the bogus "reset-init" event handler.   - Allow explicit CCLK configuration, instead of assuming 12 MHz;    some boards will use 100 Mhz (or the post-reset 4 MHz).   - Simplify: rely on defaults for endianness and IR-Capture value  - Update some comments too Build on those fixes to make a trivial config for the IAR LPC1768
	kickstart board (by Olimex) start working.  Also, add doxygen to the lpc2000 flash driver, primarily to note a
	configuration problem with driver: it wrongly assumes the core clock
	rate never changes.  Configs that are safe for updating flash after
	"reset halt" will thus often be unsafe later ... e.g. for LPC1768,
	after switching to use PLL0 at 100 MHz.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-01  David Brownell <dbrownell@users.sourceforge.net>

	* : arm_semihosting buildfix The recent "add armv7m semihosting support" patch introduced two
	build errors: arm_semihosting.c: In function ‚Äòdo_semihosting‚Äô:
	arm_semihosting.c:71: error: ‚Äòspsr‚Äô may be used uninitialized in
	this function arm_semihosting.c:71: error: ‚Äòlr‚Äô may be used
	uninitialized in this function This fixes those build errors.  The behavior is, however, untested.  (Also, note the two new REVISIT comments.) Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-01  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: arm11 load is now faster 290kBytes/s @ 8MHz, no need to inline jtag_tap_next_enabled().  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-03-01  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : jtag: the post TAP state is now passed to the drivers after clocking out a tms sequence, then the TAP will be in some
	state. This state is now handed to the drivers.  TAP_INVALID is a possible state after a TMS sequence if switching to
	SWD.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-02-28  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : cm3-ftest: change to use arm disassemble Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-02-28  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : FT2232: add missing enum when using ftd2xx library Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-02-26  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : semihosting: move semihosting cmd to arm cmd group Move semihosting cmd to the arm cmd group.  Targets that support semihosting will setup the setup_semihosting
	callback function.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-02-26  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : ARMv7M: add arm cmd group - Add arm cmd group to armv7m cmd chain.   - arm cmd's now check the core type before running a cmd.   - todo: add support for armv7m registers for reg cmd.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-02-02  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : ARMv7M: use software breakpoints for algorithms  - armv7m_run_algorithm now requires all algorithms to use    a software breakpoint at their exit address  - updated all algorithms to support this Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-02-27  Mariano Alvira <mar@devl.org>

	* : add board/redbee-econotag.cfg and JTAG support The Redbee Econotag is an open hardware development kit from
	Redwire, LLC (www.redwirellc.com/store), for the Freescale MC13224V
	ARM7TDMI + 802.15.4 radio.  It includes both an MC13224V and an FT2232H (for JTAG and UART
	support).  It has flexible power supply options.  Additional features are:   - inverted-F pcb antenna   - 36 GPIO brought out to 0.1" pin header     (includes all peripheral pins)   - Reset button   - Two push buttons (on kbi1-5 and kbi0-4)   - USB-A connector, powered from USB   - up to 16V external input   - pads for optional buck inductor   - pads for optional 32.768kHz crystal   - 2x LEDS on TX_ON and RX_ON [ dbrownell@users.sourceforge.net: shrink lines; texi ] Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-27  David Brownell <dbrownell@users.sourceforge.net>

	* : new "stellaris recover" command Stellaris chips have a procedure for restoring the chip to what's
	effectively the "as-manufactured" state, with all the non-volatile
	memory erased.  That includes all flash memory, plus things like the
	flash protection bits and various control words which can for
	example disable debugger access.  clearly, this can be useful during
	development.  Luminary/TI provides an MS-Windows utility to perform this procedure
	along with its Stellaris developer kits.  Now OpenOCD users will no
	longer need to use that MS-Windows utility.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-27  David Brownell <dbrownell@users.sourceforge.net>

	* : ft2232: implement TMS sequence command Implement the new TMS_SEQ command on FT2232 hardware.  Also, swap a
	bogus exit() call with a clean failure return.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-25  Mariano Alvira <mar@devl.org>

	* : ft2232: add a mechanism to specify channel in layout structs FT2232-family chips have two or more MPSSE modules.   FTDI
	documentation calls these channels.  JTAG adapter drivers thus need
	to be able to choose which channel to use.  (For example, one
	channel may connect to a board's microcontroller, while another
	connects to a CPLD.) Since each channel has its own USB interface, libftdi (somewhat
	confusingly) identifies channels using INTERFACE_* symbols.  Most
	boards use INTERFACE_A for JTAG, which is the default in OpenOCD.
	But some wire up a different one.  Note that there are two facets of what makes a wiring "layout":  - The mapping between debug signals map and channel signals ...
	   embedded in C functions.   - Label used in Tcl configuration scripts ... part of the "layout"
	 structure.  By letting the channel be part of the layout struct, we permit
	sharing the C functions between Tcl-visible layouts, when those
	signal mappings are reused.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-24  Hans Peter Mortensn <hp000@space.aau.dk>

	* : AVR flash: handle AT90CAN128 chips I have successfully programmed the AT90CAN128, based on the mega128
	¬† with some small modifications.  [ dbrownell@users.sourceforge.net: patch cleanup ] Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-09  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : arm11: improve performance using minidriver hook zy1000 performance for GDB load went from 100kBytes/s to 300kBytes/s
	@ 8 MHz by implementing the inner loop of unack arm11 memory writes
	directly on top of the hw fifo.  Profiling info:  78.57      0.77     0.77
	  arm11_run_instr_data_to_core_noack_inner 5.10      0.82     0.05
	  memcpy 4.08      0.86     0.04
	  jtag_tap_next_enabled 3.06      0.89     0.03
	gdb_input Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-02-08  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: jtag_add_dr_scan() performance improvement Reduce overhead in jtag_add_dr_scan() a bit.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-02-21  David Brownell <dbrownell@users.sourceforge.net>

	* : Developer's Guide: refresh release procedures Be a closer match to what I've actually done for the past few
	cycles.  In particular, hold off pushing repository updates until after the
	packages are published, as part of opening the merge window, and
	mention the utility commands which actually create the archives.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-21  David Brownell <dbrownell@users.sourceforge.net>

	* : ADIv5: remove ATOMIC/COMPOSITE interface mode This removes context-sensitivity from the programming interface and
	makes it possible to know what a block of code does without needing
	to know the previous history (specifically, the DAP's "trans_mode"
	setting).  The mode was only set to ATOMIC briefly after DAP initialization,
	making this patch be primarily cleanup; almost everything depends on
	COMPOSITE.  The transactions which shouldn't have been queued were
	already properly flushing the queue.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-21  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: ADIv5 code shrinkage, cleanup adi_jtag_dp_scan_u32() now wraps adi_jtag_dp_scan(), removing code
	duplication.  Include doxygen for the former.  Comment some
	particularly relevant points.  Minor fault handling fixes for both
	routines:  don't register a callback that can't run, or return
	ERROR_OK after an error.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-21  David Brownell <dbrownell@users.sourceforge.net>

	* : ADIv5 clean up AP selection and register caching Handling of AP (and AP register bank) selection, and cached AP
	registers, is pretty loose ... start tightening it:  - It's "AP bank" select support ... there are no DP banks.  Rename.     + dap_dp_bankselect() becomes dap_ap_bankselect()    + "dp_select_value" struct field becomes "ap_bank_value"  - Remove duplicate AP cache init paths ... only use
	 dap_ap_select(), and don't make Cortex (A8 or M3) cores roll their
	own code.   - For dap_ap_bankselect(), pass up any fault code from writing  the SELECT register.  (Nothing yet checks those codes.)  - Add various bits of Doxygen Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-21  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM DPM: support adding/removing HW breakpoints Generalize the core of watchpoint setup so that it can handle
	breakpoints too.  Create breakpoint add/remove routines which will
	use that, and hook them up to target types which don't provide their
	own breakpoint support (nothing, yet).  This suffices for hardware-only breakpoint support.  The ARM11 code
	will be able to switch over to this without much trouble, since it
	doesn't yet handle software breakpoints.  Switching Cortex-A8 will
	be a bit more involved.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-21  David Brownell <dbrownell@users.sourceforge.net>

	* : ARMv7-M: start using "struct arm" This sets up a few of the core "struct arm" data structures so they
	can be used with ARMv7-M cores.  Specifically, it:  - defines new ARM core_modes to match the microcontroller modes    (e.g. HANDLER not IRQ, and two types of thread mode);  - Establishes a new microcontroller "core_type", which can be    used to make sure v7-M (and v6-M) cores are handled right;  - adds "struct arm" to "struct armv7m" and arranges for the    target_to_armv7m() converter to use it;  - sets up the arm.core_cache and arm.cpsr values  - makes the Cortex-M3 code maintain arm.map and arm.core_mode.  This is currently set up as a parallel data structure, primarily to
	minimize special cases for the semihosting support with
	microcontroller profile cores.  Later patches can rip out the duplicative ARMv7-M support and start
	reusing core ARM code.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-21  David Brownell <dbrownell@users.sourceforge.net>

	* : Label builds as OpenOCD v0.4.0 Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-20  David Brownell <dbrownell@users.sourceforge.net>

	* : arm920t line length cleanup The recent patch to fixbreakpoints and dcache handling added a bunch
	of overlong lines (80+ chars) ... shrink them, and do the same to a
	few lines which were already overlong.  Also add a few FIXME comments to nudge (a) replacement of some magic
	numbers with opcode macros, which will be much better at showing
	what's actually going on, and (b) correct return codes.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-20  David Brownell <dbrownell@users.sourceforge.net>

	* : FreeBSD buildfix Fix an unused variable warning seen when building the parport driver
	under FreeBSD.  Using information from Xiaofan Chen <xiaofanc@gmail.com> Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-16  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM920T scanchain 15 comments/cleanup For folk who don't know the ARM920 JTAG interface very well, the two
	modes of scan chain 15 access to CP15 are confusing.  Make those parts of the ARM920 code less opaque, by:  - Adding comments referencing the relevant parts of the TRM,    catching up to similar updates in the User's Guide.   - Replacing magic numbers in physical access clients with    symbolic equivalents.  No functional change.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-15  David Brownell <dbrownell@users.sourceforge.net>

	* : LPC1768.cfg -- partial fixes for bogus reset-init handler Cortex-M targets don't support ARM instructions.  Leave the NVIC.VTOR setup alone, but comment how the whole routine
	looks like one big bug...  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-13  David Brownell <dbrownell@users.sourceforge.net>

	* : NEWS: mention removal of obsolete commands Removed remaining support for various commands, like advice for
	migrating old-style TAP declarations.  The documentation no longer describes them either ... so if users
	have been delaying config updates, they may need to consult older
	releases.  ALL this stuff has been clearly marked as "do not use" for at least
	a year now, so anyone still using it hasn't been holding up their
	end.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-13  David Brownell <dbrownell@users.sourceforge.net>

	* : v4.0-rc2 milestone Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-11  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : STM32x: issue warning when unlocking device (bug #16) Issue warning to user when unlocking or writing the option bytes.
	The new settings will not take effect until a target reset.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-02-12  Marc Pignat <marc.pignat@hevs.ch>

	* : arm920: add virt2phys fn Copy of the 926ejs function. I have tested it only using my rtems
	application (where virtual address mapping == physical).  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-02-10  David Brownell <dbrownell@users.sourceforge.net>

	* : User's Guide: "#" in filesystems names is bad Sometimes MS-Windows users try to use filesystem names which include
	the "#" character.  That's generally unwise, since it begins Tcl
	comments.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-10  David Brownell <dbrownell@users.sourceforge.net>

	* : User's Guide: clarify jtag_rclk advice Not all cores and boards support adaptive clocking, so qualify all
	advice to use it to depend on core and board support.  It's primarily ARM cores which support this; and many of the newer
	ones (like Cortex-M series) don't.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-09  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : str730.cfg: fix incorrect mem regions  - update str73x mem regions to correct values.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-02-06  David Brownell <dbrownell@users.sourceforge.net>

	* : ADIv5: doxygen Provide doxygen for many of the public ADIv5 interfaces (i.e. the
	ones called from Cortex core support code).  Add FIXMEs (and a TODO) to help resolve implementation issues which
	became more apparent when trying to document this code:  - Error-prone context-sensitivity (queued/nonqueued) in many
	 procedures.   - Procedures that lie by ignoring errors and wrongly claiming
	 success.  Also, there was no point in a return from dap_ap_select(); it can't
	fail, and no caller checks its return status.  Clean that up, make
	it void.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-04  David Brownell <dbrownell@users.sourceforge.net>

	* : ARMv7-M: make DAP commands verify target is an ARMv7-M Init the ARMv7-M magic number.  Define predicate verifying it.  Use
	it to resolve a lurking bug/FIXME:  make sure the ARMv7-M specific
	DAP ops reject non-ARMv7-M targets.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-04  David Brownell <dbrownell@users.sourceforge.net>

	* : JLink: reference protocol documentation Segger publishes some documentation on this protocol; reference it,
	so future maintainers can know it exists.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-04  Ethan Eade <ethan@evolution.com>

	* : scripts: Phytec/LPC2350 config scripts Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-02-02  Harald Kipp <harald.kipp@egnite.de>

	* : AT91R40008/Ethernut 3 configuration Moved board specific settings from target/at91r40008.cfg to a new
	file board/ethernut3.cfg.  Set correct CPUTAPID.  Reset delay increased, see MIC2775 data
	sheet.  Increased work area size from 16k to 128k.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-02  Edgar Grimberg <edgar.grimberg@zylin.com>

	* : tcl/str7x: Reset init unlocks the flash For STR7x flash, the device cannot be queried for the protect
	status.  The solution is to remove the protection on reset init. The
	driver also initialises the sector protect field to unprotected.  [dbrownell@users.sourceforge.net: line length shrinkage] Signed-off-by: Edgar Grimberg <edgar.grimberg@zylin.com>
	Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-02  Nicolas Pitre <nico@fluxnic.net>

	* : ARM semihosting: fix EOF handling with SYS_READ The semihosting interface has a strange convention for read/write
	where the unused amount of buffer must be returned.  We failed to
	return the total buffer size when the local read() call returned 0.  Signed-off-by: Nicolas Pitre <nico@marvell.com>

2010-01-31  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : gdb: restore behavior from 0.3.1 for srst_asserted and
	power_restore srst_asserted and power_restore can now be overriden to do nothing.
	By default they will "reset init" the targets and halt gdb.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-01-31  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : build: fix problems with "struct stat" not being defined under
	eCos Include <sys/stat.h> according to
	http://www.opengroup.org/onlinepubs/000095399/functions/stat.html Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-01-31  David Brownell <dbrownell@users.sourceforge.net>

	* : Subject: ADIv5: fix more diagnostics If the MEM-AP cache is invalid, don't display it; just report that
	invalidity as an error.  (This bug has been observed with "mdw 0 32"
	after just a "reset halt".  Some code is being wrongly bypassed...) If it's valid, display that cache at DEBUG level, not ERROR.  Also,
	don't assume it's an AHB-AP; it could be another flavor of MEM-AP.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-30  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM ADIv5: fix diagnostics for block writes They were reporting "read" errors, not "write" errors.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-29  David Brownell <dbrownell@users.sourceforge.net>

	* : ARMv7-M: use command handler for "dap baseaddr".  Make the ARMv7-M DAP code reuse the command handler for "dap
	baseaddr".  For some reason, this DAP command wasn't converted
	earlier.  This is a code shrink and simplification; it also removes a needless
	transport dependency on JTAG.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-29  Alex Austin <alex.austin@spectrumdsi.com>

	* : Clang buildfixes Building with clang took a few very small changes. The change to
	helper/log.h is because clang doesn't like an expression where the
	result is unused. In helper/system.h, I just defined true and false
	since clang doesn't have them builtin.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-28  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: reference DPM defn from v6/v7 arch spec The term "DPM" is probably not well known ("Device Power
	Management"?), so identify its source in the current ARM
	architecture specification.  It's relevant to ARMv6, ARMv7-A, and
	ARMv7-R ... but not "M" profiles.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-27  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : ARM semihosting: fix writing to stdout SYS_FLEN would be called before a write on a descriptor to check its
	size.  Currently lseek would fail with -1 when given the
	stdout/stderr descriptor.  Changing to use fstat seems to be the
	standard way of handling this.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-01-27  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM ADIv5: messaging tweaks Add space missing after the invalid ACK value.  On init, say which
	AP is being used, and don't assume it's an AHP-AP.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-26  David Brownell <dbrownell@users.sourceforge.net>

	* : various: don't mention wiki The openfacts.berlios wiki isn't particularly current, and isn't
	publicly editable.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-24  simon qian <simonqian.openocd@gmail.com>

	* : SVF: all content between parentheses is one parameter More SVF fixes:  * Treat all content between parentheses as part of the same    parameter; don't (wrongly) treat whitespace as a delimiter.   * Use isspace() to catch that whitespace; it's not all single    spaces, newlines etc are also valid.   * When parsing bitstrings, strip leading whitespace too.  So for example, these are equivalent and should (now) be OK:   "TDI( 1234 )"   "TDI( 1 2 3 4 )"   "TDI(00 12 34 )"   "TDI(         00 12         34)" [dbrownell@users.sourceforge.net: comment updates; trivial cleanup] Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-18  simon qian <simonqian.openocd@gmail.com>

	* : SVF: insert space before '(' and after ')' See http://forum.sparkfun.com/viewtopic.php?p=90983#90983 for
	discussion; basically, the SVF parser wrongly expects "TDI (123)"
	but the space is optional and it should accept "TDI(123)" too.  In the same way, "TDI(123)TDO(456)" should work too.  Rather than update the command parsing, this just makes sure the
	expected spaces are present.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-22  David Brownell <dbrownell@users.sourceforge.net>

	* : NEWS updates Summarize most ARM11 and Cortex-A8 updates as "acting much more like
	other ARMs", and mention code sharing.  Clarify a few other points, including support for "reset-assert" on
	all ARMs except Cortex-M (which doesn't exactly need it).  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-21  David Brownell <dbrownell@users.sourceforge.net>

	* : Various doc/comment updates Doxygen: don't be needlessly verbose; alphabetically sort members
	TODO: add random bits; clarify which manuals are referenced ARM
	disassembler: mention a few opcodes that still aren't handled Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-21  David Brownell <dbrownell@users.sourceforge.net>

	* : ADIv5 header cleanup (+ #defines) Update the comments about DP registers and some of the bitfields.
	Remove inappropriate (and unused) DP_ZERO declaration.  Add some (currently unused) #defines needed for SWD protocol
	support, based on previous patches from Andreas Fritiofson and Simon
	Qian.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-21  Edgar Grimberg <edgar.grimberg@zylin.com>

	* : interface: Changed parport address to LPT1 Changed the parport address to LPT1, since it's the most obvious
	default value.  Signed-off-by: Edgar Grimberg <edgar.grimberg@zylin.com>

2010-01-20  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : gdb_server: handle stepi/continue packet while target is running
	with more grace Rather than issuing a halt and then stepi/resume, just wait for
	target to halt.  Issue a sterner warning via gdb console that any gdb register
	changes will be ignored in this case.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-01-20  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : BUILD: remove cygwin gcc 3.4.4 build warnings Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-01-20  David Brownell <dbrownell@users.sourceforge.net>

	* : board configs -- unique names for flash chips Don't give the same names to both flash chips on two OMAP boards.  For OSK, enable DCC downloads (removing a warning).  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-20  Michael Grzeschik <m.grzeschik@pengutronix.de>

	* : tcl/target/at91sam3u4e.cfg: changed case in dependent file openocd does not start with the target configfile due to the case in
	the dependent config file.  Signed-off-by: Michael Grzeschik <m.grzeschik@pengutronix.de>
	Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-20  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : arm7/9: add nags upon reset about options to improve performance arm7_9 fast_memory_access and working area nags added.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-01-20  David Brownell <dbrownell@users.sourceforge.net>

	* : User's guide: mention lpc2000 checksum issue Folk almost certainly want to have OpenOCD compute the checksum when
	they modify the vector table.  However, that almost guarantees that
	"verify_image" will fail.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-19  David Brownell <dbrownell@users.sourceforge.net>

	* : gdb_server -- symbol cleanup Make most methods static; net minor object code shrink.  Likewise
	various data symbols; no net change.  Shrink some overlong lines.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-19  David Brownell <dbrownell@users.sourceforge.net>

	* : NOR: fix diagnostic The "NOR: last_addr also needs correction when checking alignment"
	patch omitted a necessary update to the key diagnostic; fix.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-19  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: print out PCB revision upon boot Simplify debugging a bit.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-01-18  David Brownell <dbrownell@users.sourceforge.net>

	* : vsllink -- add comment Previous patch deserved *inline* comment, not just in git revision
	history.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-17  simon qian <simonqian.openocd@gmail.com>

	* : read target voltage first in vsllink The very first command after init command should be "read target
	voltage".  This is a tweak for the Old Versaloon firmware.  Without this, in
	most most cases, it works.   Under Ubuntu9.04, there is a chance
	that the USB will fail.  The problem disappears if I read target
	voltage first.  For the lastest Versaloon firmware, it's OK.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-15  David Brownell <dbrownell@users.sourceforge.net>

	* : ADIv5 improved diagnostic Don't just complain about an invalid ACK; say what the value was, to
	help troubleshooting.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-15  David Brownell <dbrownell@users.sourceforge.net>

	* : NEWS: include s3c64xx NAND driver Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-14  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM ADIv5: add comments Add doxygen and other comments for what's more or less the lowest
	level JDAG-DP primitive, to access JTAG_DP_{A,D}PACC registers.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-11  Peter Korsgaard <jacmet@sunsite.dk>

	* : nand flash support for s3c64xx Identical to the existing 2412/2443 support except for the base
	address and NFCONF value (bit 2 is reserved and should be written as
	1 ref UM).  Tested on a s3c6410 board, but controller is identical in 6400/6410
	except for 8bit MLC ECC support in 6410 which isn't supported by the
	driver.  Signed-off-by: Peter Korsgaard <jacmet@sunsite.dk> Signed-off-by:
	√òyvind Harboe <oyvind.harboe@zylin.com>

2010-01-14  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM7/9 minor cleanups Shrink some overlong lines.  Add my 2009 copyright.  Move a
	declaration to the beginning of its block.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-13  David Brownell <dbrownell@users.sourceforge.net>

	* : User's Guide updates Capture various bits of useful information that have come up on the
	list but haven't yet gotten into the documentation:  - Watchdog timers firing during JTAG debug need attention;  - Some chips have special registers to help JTAG debug;  - Cortex-M3 stepping example with IRQs and maskisr;  - Clarifications re adaptive clocking:  not all ARMs do it, and    explain it a bit better.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-13  David Brownell <dbrownell@users.sourceforge.net>

	* : Cortex-M3: improved core exception handling This updates three aspects of debugger/exception interactions:  - Save the user's "vector_catch" setting, and restore it after
	   reset.  Previously, it was obliterated (rather annoyingly) each
	time.   - Don't catch BusFault and HardFault exceptions unless the user
	   says to do so.  Target firmware may need to handle them.   - Don't modify SHCSR to prevent escalating BusFault to HardFault.     Target firmware may expect to handle it as a HardFault.  Those simplifications fix several bugs.  In one annoying case,
	OpenOCD would cause the target to lock up on ome faults which
	triggered after the debugger disconnected.  NOTE:  a known remaining issue is that OpenOCD can still leave DEMCR
	set after an otherwise-clean OpenOCD shutdown.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-11  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : arm7/9: add fn to check if dcc downloads have been enabled DCC downloads should be enabled for any self repecting openocd
	config file for arm7/9. Print out note about it otherwise.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-01-11  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : gdbserver: fix typo that broke read/write watchpoint It looks like a bugfix from normal breakpoints was not copied over.  Do not use clever mathematics and assumptions to convert from GDB
	enum for break/watchpoints to OpenOCD enum.  Drop connection upon unknown breakpoint type, this code path was not
	really considered by the previous code I think.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-01-12  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: bugfix for "movt" disassembly Use the correct bitfield to specify the register whose top halfword
	gets replaced.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-11  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : target: return JIM_OK instead of ERROR_OK No change in actual binary as JIM_OK == ERROR_OK, but JIM_OK is
	correct here.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-01-11  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : commands: make error messages a bit more terse we don't need to know the build path of command.c when reading
	normal user level error messages.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2010-01-11  David Brownell <dbrownell@users.sourceforge.net>

	* : Doxygen file comments Add file comments to a few files.  Make the GDB server use more
	conventional (pointer-free) hex digit conversion.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-10  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : build: doxygen build  - Fix for building doxygen out of tree Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-01-09  David Brownell <dbrownell@users.sourceforge.net>

	* : Presto: doxygen fix Newline needed.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-09  David Brownell <dbrownell@users.sourceforge.net>

	* : ZY1000 help/usage fixups The usual:  same EBNF as in the User's Guide, full sentence
	helptext, function names *are* their addresses.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-09  David Brownell <dbrownell@users.sourceforge.net>

	* : jtag/gw16012 usage/help updates Use standard BNF.  Improve/correct helptext for its "parport_port"
	command.  Function address is just its name.

2010-01-09  David Brownell <dbrownell@users.sourceforge.net>

	* : src/helper: usage/help updates Make "usage" messages use the same EBNF as the User's Guide; no
	angle brackets.  Improve and correct various helptexts.  Don't use "&function"; a function's name is its address.  Fix some
	whitespace glitches, shrink a few overlong lines.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-08  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : MIPS: update arch_info access to match other targets  - add target_to_mips32 and target_to_m4k to match test of codebase.   - mips32_arch_state now shows if processer is running mips16e isa.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-01-09  Masaki Muranaka <monaka@monami-software.com>

	* : buildfix on MacOS Recent Apple gcc versions use __APPLE__ instead of __DARWIN__;
	accept that too.  Also use #warning, not #warn; neither is standard, but most CPP
	versions require it to be spelled out.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-08  David Brownell <dbrownell@users.sourceforge.net>

	* : NAND: help/usage/doc updates Usage messages should use the same EBNF as the User's Guide; no
	angle brackets.  Be more complete too ... some params were missing.
	Improve and correct various helptexts.  Make user's guide refer to the NAND "driver" name, not the
	controller name; that's a bit more precise.  Don't use "&function"; its name is its address.  Line up struct
	initializers properly.  Remove some blank lines.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-08  David Brownell <dbrownell@users.sourceforge.net>

	* : *SVF: help/usage updates Usage messages should use the same EBNF as the User's Guide; no
	angle brackets.  Be more complete too ... some params were missing.  Don't use "&function"; its name is its address.  Unrelated: fix typo in one "target.c" usage message.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-08  David Brownell <dbrownell@users.sourceforge.net>

	* : Coexist with quilt: rename PATCHES --> PATCHES.txt The issues is on Win32, which ignores case in filesystem and thus
	doesn't tolerate the quilt "patches" directory.  Rename, and add "patches" to .gitignore so that developers can
	choose to use quilt for local patch management.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-07  David Brownell <dbrownell@users.sourceforge.net>

	* : misc ARM help/usage updates Usage syntax messages have the same EBNF as the User's Guide; there
	should be no angle brackets in either place.  Uupdate some helptext to be more accurate.  Don't use "&function"; functions are like arrays, their address is
	their name.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-07  David Brownell <dbrownell@users.sourceforge.net>

	* : Xscale: User's Guide updates Fix some EBNF goofs ... these commands have *optional* params, etc Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-07  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM720: help/usage updates Deprecate the "pass an instruction opcode" flavor of cp15 access in
	favor of the "arm mcr ..." and "arm mrc ..." commands, which offer
	fewer ways to break things.  Use the same EBNF syntax in the code as for the user's guide.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-07  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM7/ARM9: help/usage updates Provide helptext which was sometimes missing; update some of it to
	be more accurate.  Usage syntax messages have the same EBNF as the User's Guide; there
	should be no angle brackets in either place.  Fix the User's Guide in a few places to be more consistent (mostly
	to use brackets not parentheses) and to recognize that parameter may
	be entirely optional (in which case the command just displays
	output, and changes nothing).  Also reference NXP, not Philips, for
	LPC chips.  Don't use "&function"; functions are like arrays, their address is
	their name.  Shrink some overlong lines.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-07  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM ETM/ETB/trace: help/usage updates Provide helptext which was sometimes missing; update some of it to
	be more accurate.  Usage syntax messages have the same EBNF as the User's Guide; no
	angle brackets in either place.  Don't use "&function"; functions are like arrays, their address is
	their name.  Shrink some overlong lines, remove some empties.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-07  David Brownell <dbrownell@users.sourceforge.net>

	* : XScale: help/usage updates Provide helptext which was sometimes missing; update some of it to
	be more accurate (mostly they display something w/no args).  Usage syntax messages have the same EBNF as the User's Guide.  In
	some cases, *exactly* what the user's guide shows... e.g.  talking
	about "offset" not "address" for trace_image.  Don't use "&function"; functions are like arrays, their name is
	their address.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-07  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : MIPS: whitespace cleanup Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-01-05  David Brownell <dbrownell@users.sourceforge.net>

	* : buildfix with -DNDEBUG Don't save that state unless its only user, an assertion, is
	compiled.  Saving it broke a cygwin build.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-05  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: add #defines for JTAG ack codes JTAG has only two possible JTAG ack codes for APACC and DPACC
	register reads/writes.  Define them, and remove empty "else" clause
	in the code which now uses those codes.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-05  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : MIPS: pracc access tweaks reorder the pracc access so we can save a few access cycles Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2009-12-21  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : MIPS: optimize pracc access remove unnecessary nops when accessing ejtag pracc general fastdata
	patch cleanup Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2009-12-16  David Claffey <dnclaffey@gmail.com>

	* : MIPS: merge mips fast_data patch from David N. Claffey Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-01-04  Johannes Stezenbach <js@sig21.net>

	* : update udev rules for new udev version New versions of udev (148+) emit the following warnings: udevd[425]: BUS= will be removed in a future udev version,   please use SUBSYSTEM= to match the event device, or   SUBSYSTEMS= to match a parent device, in
	  /lib/udev/rules.d/60-openocd.rules:1 udevd[425]: SYSFS{}= will be
	  removed in a future udev version, please use ATTR{}= to match the
	  event device, or ATTRS{}= to match a parent device, in
	/lib/udev/rules.d/60-openocd.rules:4 udevd[425]: SYSFS{}= will be
	  removed in a future udev version, please use ATTR{}= to match the
	  event device, or ATTRS{}= to match a parent device, in
	/lib/udev/rules.d/60-openocd.rules:7 ...  See also http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=560141 [dbrownell@users.sourceforge.net: add IDs for Stellaris ICDI, Olimex
	Tiny-H] Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-03  David Brownell <dbrownell@users.sourceforge.net>

	* : FT2232: fix doc typo Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-03  David Brownell <dbrownell@users.sourceforge.net>

	* : JTAG/Drivers: Amontec JTAG accelerator fixes Remove superfluous #include.  Correct the helptext (configures *or* displays based on #params),
	and usage (use the same BNF as the User's Guide).  Add doxygen -- file-level description and a @todo for doing RTCK
	correctly.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-03  David Brownell <dbrownell@users.sourceforge.net>

	* : JTAG/drivers: cleanup jtag_interface structs Get rid of excess indents.  Ditto superfluous "&" before function
	pointers.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-02  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: ADIv5 JTAG symbol cleanup Rename DAP_IR_* as JTAG_DP_* since those symbols are specifically
	for JTAG-DP (or SWJ-DP in JTAG mode), and won't work with SWD.
	Define the JTAG ABORT and IDCODE instructions for completeness; add
	a comment about where to (someday) use ABORT.  Fix messaging which assumes everything is an SWJ-DP; say "JTAG-DP"
	instead, it's at least more appropriate for all JTAG transports.  Shrink the affected lines.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-02  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: ADIv5 export cleanup Make some private functions "static".  Remove their public
	declarations, and what is now an obviously unused function.  Shrinks
	this object's size (about 5% on x86_64) while making the code's
	scope easier to understand.  Shrink the affected lines.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-02  David Brownell <dbrownell@users.sourceforge.net>

	* : Cortex-M3: minor breakpoint cleanup Shrink some lines, add some comments, simplify some tests.  During
	debug startup, log the core revision level too.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-31  Dean Glazeski <dnglaze@gmail.com>

	* : Fix usage/help search for subcommands.  This makes it so that the usage/help command properly uses the whole
	command, including subcommand, in the search for help information.
	This previously caused erroneous output from the usage command
	handler.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-31  Antonio Borneo <borneo.antonio@gmail.com>

	* : Added ST FlashLINK interface config file.  The relevant cable config is already in OpenOCD, but not a config
	for the JTAG adapter.  I have tested with FlashLINK on ARM926.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>
	Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-30  Dean Glazeski <dnglaze@gmail.com>

	* : Remove some more Eclipse stuff from Git's eyes.  This adds the .settings folder and the .cproject file put down by
	Eclipse from the eyes of Git.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-30  Antonio Borneo <borneo.antonio@gmail.com>

	* : whitespace cleanup, mostly for docs Remove useless space/tab at end of lines.  Remove spaces in
	indentation and replace with tab.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>
	Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-30  Antonio Borneo <borneo.antonio@gmail.com>

	* : Fix parport_dcl5 config file.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2009-12-30  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: unlock flash upon startup for revc Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2009-12-25  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: firmware upgrade fixes for revc Use ecos firmwareutil upgrade utilities Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2009-12-28  Piotr Esden-Tempski <piotr@esden.net>

	* : Added Open-BLDC board config file.

2009-12-28  Freddie Chopin <freddie_chopin@op.pl>

	* : MinGW build fixes Print "ssize_t" as "%ld" (+ cast to long) not as "%zu".  Official
	MinGW (gcc 3.4.5) doesn't understand "z" flag.  Signed-off-by: Freddie Chopin <freddie_chopin@op.pl> Signed-off-by:
	David Brownell <dbrownell@users.sourceforge.net>

2009-12-28  David Brownell <dbrownell@users.sourceforge.net>

	* : Fix Luminary FT2232 layout docs/configs Most of this patch updates documentation and comments for various
	Luminary boards, supporting two bug fixes by helping to make sense
	of the current mess:  - Recent rev C lm3s811 eval boards didn't work.  They must use    the ICDI layout, which sets up some signals that the older    boards didn't need.  This is actually safe and appropriate    for *all* recent boards ... so just make "luminary.cfg" use    the ICDI layout.   - "luminary-lm3s811.cfg", was previously unusable!  No VID/PID;    and the wrong vendor string.  Make it work, but reserve it    for older boards where the ICDI layout is wrong.   - Default the LM3748 eval board to "luminary.cfg", like the    other boards.  If someone uses an external JTAG adapter, all    boards will use the same workaround (override that default).  The difference between the two FT2232 layouts is that eventually the
	EVB layout will fail cleanly when asked to enable SWO trace, but the
	ICDI layout will as cleanly be able to enable it.  Folk using
	"luminary.cfg" with Rev B boards won't see anything going wrong
	until SWO support is (someday) added.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-27  David Brownell <dbrownell@users.sourceforge.net>

	* : create tcl/board/dm365evm.cfg This config is only lightly tested, and doesn't work well yet; but
	it's a start.   * Notably missing is PLL configuration, since each DaVinci    does that just a bit differently; and thus DDR2 setup.   * The SRST workaround needed for the goof in the CPLD's VHDL    depends on at least the not-yet-merged patch letting ARM9    (and ARM7) chips perform resets that don't use SRST.  So this isn't yet suitable for debugging U-Boot.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-26  Catalin Patulea <cat@vv.carleton.ca>

	* : Driver for USB-JTAG, Altera USB-Blaster and compatibles The 10-pin JTAG layout used with these adapters is used by a variety
	of platforms including AVR.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-26  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: add comment re register exports Modern versions of GDB can understand VFP3 and iwMMXt hardware.

2009-12-26  David Brownell <dbrownell@users.sourceforge.net>

	* : NOR: messaging fix Fix syntax error:  default to "wrote N bytes"; writing a single byte
	is an unusual case, not the normal one.

2009-12-26  David Brownell <dbrownell@users.sourceforge.net>

	* : cygwin 1.7 build fixes It's less accepting of signed char ... insisting that e.g. tolower()
	not receive one as a parameter.  It's probably good to phase out such usage, given the number of bugs
	that lurk in the vicinity (assumptions that char is unsigned), so
	fix these even though such usage is actually legal.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-21  David Brownell <dbrownell@users.sourceforge.net>

	* : Restore "-dev" version suffix Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-21  David Brownell <dbrownell@users.sourceforge.net>

	* : Packaging fix, NEWS update Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-20  Oyvind Harboe <oyvind.harboe@zylin.com>

	* : help: list all commands that match string Restore behavior where help lists all commands that match string
	passed to help.  Signed-off-by: Oyvind Harboe <oyvind.harboe@zylin.com>

2009-12-19  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM11: recognize ARM11 MPCore And add my copyright.  MPCore is untested, but it's the only other
	ARM11 core to care about.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-19  David Brownell <dbrownell@users.sourceforge.net>

	* : cygwin build fixes and shrink some too-long lines Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-19  David Brownell <dbrownell@users.sourceforge.net>

	* : oocd_trace buildfixes Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-19  David Brownell <dbrownell@users.sourceforge.net>

	* : ETM: more ETM_CTRL bit cleanup Change handling of the CYCLE_ACCURATE, BRANCH_OUTPUT, and TRACE_*
	flags; also the CONTEXTID size values.   - Convert to symbols matching the actual register bits, instead of    some random *other* bits (and then correcting that abuse).   - Get rid of a now-needless enum.   - Keep those values in etm->control, and remove etm->tracemode.  These values all affect the trace data that's recorded by a trace
	pod or in the ETB.  I modified the file format used to dump ETB
	data; since it's fairly clear nobody can use this mechanism now,
	this can't cause anyone trouble.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-19  David Brownell <dbrownell@users.sourceforge.net>

	* : ETM trigger_percent becomes an ETB command This command was misplaced; it's not generic to all traceport
	drivers, only the ETB supports this kind of configuration.  So move
	it, and update the relevant documentation.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-18  David Brownell <dbrownell@users.sourceforge.net>

	* : NOR FLASH: only erase/unlock whole sectors Much to my surprise, I observed a "flash erase_address ..." command
	erasing data which I said should not be erased.  The issue turns out to be generic NOR flash code which was silently,
	and rather dangerously, morphing partial-sector references into
	unrequested whole-sector ones.  This patch removes that low-level morphing.  If desired, it can and
	should be done in higher level code.  (We might need to fix some
	stuff in the GDB server code.) Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-18  David Brownell <dbrownell@users.sourceforge.net>

	* : stellaris: fix min buffer length checks Word count == size/4; cope.  And increase buf_min so it's large
	enough to cover the overhead in my tests.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-18  David Brownell <dbrownell@users.sourceforge.net>

	* : dsp563xx: cygwin build fixes Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-17  Dean Glazeski <dnglaze@gmail.com>

	* : NAND write data page refactoring.  Refactored the write page raw function into two new functions for
	writing data to a NAND device and then another function to finish up
	a write to a NAND device.  This includes some new updates to
	introduce more error checking to existing code.  [dbrownell@users.sourceforge.net: fix fault handling, whitespace] Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-17  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : target.cfg: update to use new flash configuration syntax Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2009-12-16  David Brownell <dbrownell@users.sourceforge.net>

	* : JTAG: shrink "scan_chain" output Tweak the "scan_chain" output by removing column separators.  Also
	remove the "current instruction" state ... which changes constantly.  Now its style resembles the "targets" output, and can even fit on
	one line in standard terminals and in the PDF docs.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-16  David Brownell <dbrownell@users.sourceforge.net>

	* : stellaris: probe() cleanups Fix potential memory leak:  make sure the per-bank data structures
	are only allocated in probe(), and that calling probe() multiple
	times is a NOP.  Use it for auto_probe().  Require probe() to have done its thing:  don't make access routines
	cope with it not having been called.  Shrink a bunch of failure
	paths; and in some cases, correct them.  Don't needlessly insist on a halted target for probe().  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-16  David Brownell <dbrownell@users.sourceforge.net>

	* : stellaris: avoid chip writes Previously "reading" clock info (and part info) also, as a side
	effect, wrote the flash timing register.  Instead, be more safe:
	"reading" should only read.  Write paths still refresh timing,
	coping with changes the application code may have made.  Also rename the routine which sets flash timing, indicating what
	it's really doing; it's got nothing to do with a "mode".  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-16  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: removed some redundant include spotted by lint.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2009-12-15  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : server: server loop will exhaust data inputs before sleeping By exhausting data on input, the performance will be more consistent
	+ the code more clearly distinguishes between polling and
	processing. A test showed gdb packet load performance go from
	~1550kByte/s to 1650kBytes/s + being more stable.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2009-12-15  David Brownell <dbrownell@users.sourceforge.net>

	* : testing/examples/.../*cfg: rm jtag_device calls That syntax has been obsolete forever and is now gone; remove a few
	remaining references.  Shows how seldom this stuff gets used.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-15  mkdorg@users.sourceforge.net <mkdorg@users.sourceforge.net>

	* : target: add basic dsp563xx support

2009-12-15  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : command: retire obsolete macro COMMAND_REGISTER() was only used transiently during code conversion.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2009-12-14  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM11: improved reset support Teach ARM11 how to use:  - the new "reset-assert" event  - vector catch to implement "reset halt"  - use SRST more like other cores do  - ... including leaving post-SRST delays up to config scripts This gives OMAP2420 the ability to reset, and doesn't seem to cause
	new iMX31 problems.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-14  David Brownell <dbrownell@users.sourceforge.net>

	* : lm3748: use new Stellaris config file Use the new file, and remove the old target/lm3s3748.cfg one.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-14  Eric Wetzel <thewetzel@gmail.com>

	* : stellaris: device IDs I added the remaining devices and device IDs to stellaris.c, and
	removed several devices that don't exist on the Stellaris web page.  Additionally, I found a few devices with duplicate IDs ... the DID1
	Version Number for LM3Sxxx parts have DID1 Version = 0x0, and for
	LM3Sxxxx have DID1 Version = 0x1. So I extended the comparison to
	use the VER and FAM fields from DID1 also.  ID=0x33: LM3S812 (DID1v0) and LM3S2616 (DID1v1) ID=0x39: LM3S808
	(DID1v0) and LM3S2276 (DID1v1) These are the parts I removed from the file for lack of
	documentation (no data sheet to confirm part ID):   LM3S318,   LM3S1101, LM3S1108,   LM3S1615, LM3S1616,   LM3S2016,   LM3S2101, LM3S2108,   LM3S3759, LM3S3768,   LM3S5757, LM3S5767, LM3S5768, LM3S5769,   LM3S6815, LM3S6816,   LM3S6915, LM3S6916,   LM3S6111, LM3S6118.  Also, sort devices according to part number.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-13  David Brownell <dbrownell@users.sourceforge.net>

	* : target files shouldn't #include <target/...h> Make these ".h" files adopt the same policy the ".c" files already
	follow:  don't use <subsystem/...h> syntax for private interfaces.  If we ever get reviewed/supported "public" interfaces they should
	come exclusively from some include/... directory; that'll be the
	time to switch to <...> syntax for any subsystem's own interfaces.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-12  David Brownell <dbrownell@users.sourceforge.net>

	* : LPC2000: rename "r13_svc" as "sp_svc" This driver didn't get updated when the name changed.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-11  Zachary T Welch <zw@superlucidity.net>

	* : add missing call to add new NAND devices I forgot to add a call to the newly factored nand_device_add(),
	along with its forward declaration.

2009-12-11  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM DPM: support updating HW breakpoints Abstract the DPM breakpoint and watchpoint data structures to have a
	shared core for housekeeping.  Abstract the code updating the watchpoint registers so that it can
	be used to update breakpoint registers.  Then do so, when something
	has set up the breakpoint state used by this code.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-11  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM11: minor cleanup, mostly ITR comments ITR register handling seemed to be giving me problems, so I updated
	the comments to better say what the code is trying to do ... and to
	note the preconditions (one of which seems to be an issue) as listed
	in the ARM1136 TRM.  Also removed the unused "ARM11_TAP_DEFAULT" from the ITR scan code;
	all the callers already specify an exit path, since this register
	isn't usable with such vague semantics.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-10  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : build: fix cygwin build warnings Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2009-12-10  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : gdb_server: make struct gdb_connection private it is only used inside gdb_server.c Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2009-12-10  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : embedded hosts: optimize common code path for core arm
	operations avoid fn call for the if check on whether anything needs to be done.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2009-12-07  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: revc FPGA now works remove kludge code.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2009-12-09  David Brownell <dbrownell@users.sourceforge.net>

	* : stellaris: flash protection updates, minor fixes Bugfix the read side of flash protection:  - read the right register(s)!  - handle more than 64K  - record the results in the right places  - don't display garbage.  Partially bugfix the write side:  - use 2KB lock regions instead of 1KB pages (!)  - validate input range  - don't try to _remove_ protection (it's write-once)  - #define values we'll need to commit writes.   - ... still doesn't handle pages over 64KB mark, or commit writes And minor cleanup and fixes:  - get rid of some forward decls  - properly locate a doxygen comment  - fix some bad indentation  - remove superfluous #include  - add a new part ID (many are still missing)  - make the downloaded algorithm code be read-only Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-09  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : ETM: only include oocd_trace.h when tracing enabled.  Fixes
	build issue on systems that do not have <termios.h>, eg native
	win32.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2009-12-08  David Brownell <dbrownell@users.sourceforge.net>

	* : target: remove more exit() calls These were all basically "can't happen" cases ... like having state
	be corrupted by an alpha particle after the previous check for
	whether a value was in-range.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-08  David Brownell <dbrownell@users.sourceforge.net>

	* : target: move 'extern' decls to *.h files The exception being declarations for drivers.  Those should be split
	out in some clean way -- like driver add/remove calls made by
	initialization code -- but that's for another day.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-08  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: some background info on the zy1000 file.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2009-12-05  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: remove unecessary include Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2009-12-07  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: cope with stupidheaded compiler Some versions of GCC don't understand that if you mask with 0x3 then
	have cases 0-3, it's not possible for a variable assigned in all
	those branches to have no value at end-of-case.  Feh.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-07  David Brownell <dbrownell@users.sourceforge.net>

	* : target: add debug_reason_name() Provide and use debug_reason_name() instead of expecting targets to
	call Jim_Nvp_value2name_simple().  Less dependency on Jim, and the
	code becomes more clear too.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-07  David Brownell <dbrownell@users.sourceforge.net>

	* : User's Guide: add quickie setup notes Add a brief "setup with no customization" note showing the how
	easily things can work if standard OpenOCD config scripts already
	exist.  We've had some new users comment that this information is
	needlessly hard to find, so that starting to use OpenOCD is more
	difficult than it should be.  Plus describe a few other issues that come up when setting up an
	OpenOCD server.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-07  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: rename some generic routines Rename some (mostly) generic ARM functions:     armv4_5_arch_state()       --> arm_arch_state()     armv4_5_get_gdb_reg_list() --> arm_get_gdb_reg_list()     armv4_5_init_arch_info()   --> arm_init_arch_info() Cores using the microcontroller profile may want a different
	arch_state() routine though.  (Also fix strange indentation in arm_arch_state: use tabs only! And
	update a call to it, removing assignment-in-conditional.) Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-07  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: remove mrc_opcode(), use MRC() or MCR() Get rid of mrc_opcode() in favor of ARMV4_5_MRC() or, where arm*20t
	should have used it, ARMV4_5_MCR() instead.  Basically, *writing* coprocessor registers shouldn't have used the
	*read* opcode ... and both should stick to standard opcode
	constructors, not rearranging parameter sequence any more than
	already needed.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-07  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM DPM: don't write low bits of watchpoint value The low two bits are defined as should-be-zero-or-presereved.  We'll
	take the zero option, it's easier to enforce.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-07  David Brownell <dbrownell@users.sourceforge.net>

	* : User's Guide: mention ETM on ARM11 comes up too Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-06  Zachary T Welch <zw@superlucidity.net>

	* : allow 'flash_banks' command to give GDB output The 'flash banks' command produces a list that needs to be formatted
	properly for GDB's 'mem info' to work properly.  The flash_banks TCL
	wrapper provided this formatting, but wrappers no longer work for
	second-level commands as they did in the past.  With this patch, the
	'flash_banks' command can be used with the new command syntax and
	display the required information.

2009-12-05  David Brownell <dbrownell@users.sourceforge.net>

	* : misc code review updates More updates from the code review by Steve Grubb
	<sgrubb@redhat.com>.  The Jim float-comparision bug just gets a
	comment not a fix, though.  Cc: Steve Grubb <sgrubb@redhat.com>.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-05  Nicolas Pitre <nico@fluxnic.net>

	* : ARM semihosting: use breakpoint on ARM7 Fall back to software breakpoint when vector catch isn't available.  Possible enhancements:  - add extra optional command parameter to select high vectors  - add extra optional command parameter to select hardware
	 breakpoint Signed-off-by: Nicolas Pitre <nico@marvell.com> Signed-off-by: David
	Brownell <dbrownell@users.sourceforge.net>

2009-12-04  Zachary T Welch <zw@superlucidity.net>

	* : rename nand.h to flash//nand/core.h Rename nand.h as flash/nand/core.h, chase consumers.  The public
	APIs need to be sorted out with imp.h, but this allows other changes
	to begin improving the separation between policy and mechanism.  Moves #include <target/target.h> and #include "driver.h" into the
	internal headers or source files, removing it from
	<flash/nand/core.h>.

2009-12-04  Zachary T Welch <zw@superlucidity.net>

	* : split nand.c into nand/{core,fileio,tcl}.c Moves commands into nand/tcl.c and core implementation to
	'nand/core.c' and 'nand/fileio.c'.  Eliminates 'flash/nand.c'.  Adds 'nand/imp.h' to share routines between TCL commands and core.

2009-12-04  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: doc updates for main header Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-04  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: rename armv4_5_algorithm as arm_algorithm Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-04  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: ARMV4_5_COMMON_MAGIC --> ARM_COMMON_MAGIC Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-04  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: rename armv4_5_state_* as arm_state_* And make arm_state_strings[] be const.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-04  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: rename ARMV4_5_MODE_* as ARM_MODE_* Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-04  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM11: report watchpoint trigger insn As with Cortex-A8, the WFAR register holds useful information that
	should be recorded and, where relevant, displayed.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-04  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM11: tweak TAP ops and debugging Tweak scanchain 7 debug messaging:  - show register addresses in decimal, matching ARM docs;  - remove some pointless noise Avoid some needless roundtrips:  - skip SCAN_N when SCREG already holds that number (speeds up    polling and other common operations)  - avoid zeroing vcr twice on resume Show the IR opcode as a label ("RESTART") too; and in decimal,
	matching ARM docs.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-04  Zachary T Welch <zw@superlucidity.net>

	* : remove flash.h from tree Remove the now vestigial <flash/flash.h> header from the tree,
	replacing a few references with <flash/nor/core.h>

2009-12-04  Zachary T Welch <zw@superlucidity.net>

	* : remove target.h from flash.h The flash.h header does not require the target.h header file, but
	its implementation source files do.  Move it to flash/nor/imp.h.

2009-12-04  Zachary T Welch <zw@superlucidity.net>

	* : eliminate src/flash/flash.c Move remaining NOR flash implemenation into flash/nor/core.c Removes
	flash.c from the build, leaving only its header to split.

2009-12-04  Zachary T Welch <zw@superlucidity.net>

	* : move more nor flash implementation details Splits the exec mode commands out of flash.c into the flash/nor/
	files.  The routines used by these high-level commands are moved
	into nor/core.c, with their internal declarations placed in
	nor/imp.h.  Fixes distribution of <flash/nor/core.h> header.

2009-12-04  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: remove semihosting globals Store a flag and errno in in "struct arm".  Have "poll" output
	report when semihosting is active.  Shrink some of the affected
	lines.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-04  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : bootstrap: stop execution upon error When tools are not installed, exit immediately. This makes the error
	messages clearer.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : add flash/nor/{tcl.c,imp.h} from flash/flash.c Moves the top-level 'flash' command handlers into flash/nor/tcl.c,
	with flash/nor/imp.h providing an internal implementation header to
	share non-public API components.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : switch 'rm' command away from using Jim Commands that do not need to use Jim should be registered as
	high-level command handlers.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : allow 'jtag init' to be run in any mode Help alleviate further potential problems with interactive startup.

2009-12-04  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: FPGA revC wip The bug in revC register memory access is pretty much cornered now.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2009-12-03  David Brownell <dbrownell@users.sourceforge.net>

	* : doxygen: remove some warnings Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-16  Dean Glazeski <dnglaze@gmail.com>

	* : ARM NAND I/O interface update Modify the arm_nand_data struct to better support both read and
	write operations while using the same struct.  An additional field
	was added, and initialized, to record the last operation so that the
	correct code can be loaded to the working area.  [dbrownell@users.sourceforge.net: merge init patch, tweak GPL note] Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-03  David Brownell <dbrownell@users.sourceforge.net>

	* : ARMv7-A: tweak arch_state() Punt to the armv4_5_arch_state() for all the common stuff, to shrink
	code and so we will get any improvements it provides.  Don't hide watchpoint status if we happen to be in "abort" mode.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-03  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM11: use shared DSCR bit names For the bits now defined in "arm_dpm.h", switch to the shared DSCR_*
	symbol and remove the ARM11_DSCR_* version.  Define DSCR_INT_DIS and use it instead of the ARM11_DSCR_* sibling
	symbol.  (Note:  for both ARM11 and Cortex-A8, this should arguably
	be enabled by default when single stepping.) Remove some other unused declarations in "arm11.h".  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-03  David Brownell <dbrownell@users.sourceforge.net>

	* : fix another init regression This makes Beagle work again, instead of losing horribly because the
	JTAG event handlers are no longer able to e.g. "runtest".  I get the
	previous quirky behavior ... comes up OK but "reset halt" somewhat
	mysteriously makes it all better.  (Instead of nothing being able to
	work at all...)  However, I'm still seeing:  The 'init' command must be used before 'init'.  That seems to come from invoking "jtag init", sometime after it gets
	mapped to "ocd_jtag init", according to debug message traces.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : fix regressions with GDB port numbers Use a separate variable for iterating GDB service port numbers than
	the one set by the user.  Restores the behavior of returning the
	original port number and only incrementing the port used on success.

2009-11-28  Zachary T Welch <zw@superlucidity.net>

	* : remove tertiary include paths With all #include directives converted, we only need to have the
	top-level src/ directory in the search path.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "xsvf.h" to <xsvf/xsvf.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing:         #include "xsvf.h" the following form should be used.          #include <xsvf/xsvf.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "pld.h" to <pld/pld.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing:         #include "pld.h" the following form should be used.          #include <pld/pld.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "server.h" to <server/server.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing:         #include "server.h" the following form should be used.          #include <server/server.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "gdb_server.h" to <server/gdb_server.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing:         #include "gdb_server.h" the following form should be used.          #include <server/gdb_server.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "ocl.h" to <flash/nor/ocl.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing:         #include "ocl.h" the following form should be used.          #include <flash/nor/ocl.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "mflash.h" to <flash/mflash.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing:         #include "mflash.h" the following form should be used.          #include <flash/mflash.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "arm_nandio.h" to <flash/arm_nandio.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing:         #include "arm_nandio.h" the following form should be used.          #include <flash/arm_nandio.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "target_request.h" to <target/target_request.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing:         #include "target_request.h" the following form should be used.          #include <target/target_request.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "register.h" to <target/register.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing:         #include "register.h" the following form should be used.          #include <target/register.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "mips32_pracc.h" to <target/mips32_pracc.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing:         #include "mips32_pracc.h" the following form should be used.          #include <target/mips32_pracc.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "image.h" to <target/image.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing:         #include "image.h" the following form should be used.          #include <target/image.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "embeddedice.h" to <target/embeddedice.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing:         #include "embeddedice.h" the following form should be used.          #include <target/embeddedice.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "avrt.h" to <target/avrt.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing:         #include "avrt.h" the following form should be used.          #include <target/avrt.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "armv7a.h" to <target/armv7a.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing:         #include "armv7a.h" the following form should be used.          #include <target/armv7a.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "armv4_5_cache.h" to <target/armv4_5_cache.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing:         #include "armv4_5_cache.h" the following form should be used.          #include <target/armv4_5_cache.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "arm_jtag.h" to <target/arm_jtag.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing:         #include "arm_jtag.h" the following form should be used.          #include <target/arm_jtag.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "arm_adi_v5.h" to <target/arm_adi_v5.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing:         #include "arm_adi_v5.h" the following form should be used.          #include <target/arm_adi_v5.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "arm966e.h" to <target/arm966e.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing:         #include "arm966e.h" the following form should be used.          #include <target/arm966e.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "arm7_9_common.h" to <target/arm7_9_common.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing:         #include "arm7_9_common.h" the following form should be used.          #include <target/arm7_9_common.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "algorithm.h" to <target/algorithm.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing:         #include "algorithm.h" the following form should be used.          #include <target/algorithm.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "jtag.h" to <jtag/jtag.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing:         #include "jtag.h" the following form should be used.          #include <jtag/jtag.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "commands.h" to <jtag/commands.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing:         #include "commands.h" the following form should be used.          #include <jtag/commands.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "time_support.h" to <helper/time_support.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing:         #include "time_support.h" the following form should be used.          #include <helper/time_support.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "membuf.h" to <helper/membuf.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing:         #include "membuf.h" the following form should be used.          #include <helper/membuf.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "jim.h" to <helper/jim.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing:         #include "jim.h" the following form should be used.          #include <helper/jim.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "fileio.h" to <helper/fileio.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing:         #include "fileio.h" the following form should be used.          #include <helper/fileio.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "command.h" to <helper/command.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing:         #include "command.h" the following form should be used.          #include <helper/command.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : normalize headers to make changing easier These headers need minor tweaks to paves the way for wholesale
	scripted coversion of the header files.

2009-11-24  Zachary T Welch <zw@superlucidity.net>

	* : allow #include directives to use module name Includes the src directory in the search path, so header files may
	be migrated from:   #include "foo.h" to   #include <module/foo.h> which is more conducive for installation.

2009-12-02  Zachary T Welch <zw@superlucidity.net>

	* : remove #if HAVE_JTAG_INTERFACE_H from minidriver.h Adds two "minidriver_imp.h" files, so the right one is allowed to be
	"#included" by the Makefile logic.

2009-12-02  Zachary T Welch <zw@superlucidity.net>

	* : move nor drivers to src/flash/nor Moves NOR flash drivers to 'src/flash/nor/'.  Adds
	'src/flash/nor/Makefile.am'.  Builds 'libocdflashnor.la'.

2009-12-02  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM11: don't expose DSCR Remove the remaining extra copy of DSCR, and the register cache of
	which it was a part.  That cache wasn't a very safe, or even
	necessary, idea; it was essentialy letting debugger-private state be
	manipulated by Tcl code that couldn't know how to do it right.  This makes the "reg" output of an ARM11 resemble what most other ARM
	cores produce ... forward motion in the "make ARM11 work like the
	rest of the ARM cores" Jihad!

2009-12-02  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM11: don't expose WDTR Don't expose the WDTR register through the register cache any more.
	If anyone wants Tcl scripts to be able to use DCC based
	communication with app code in the target, this wouldn't do it.  Bugfix:  don't trust the Tcl-accessible version of DSCR to flag
	whether WDTR needs to be restored when resuming.

2009-12-02  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM11: streamline debug entry Streamline arm11_on_enter_debug_state() entry:  - It should handle the standard updates:     * target->debug_reason     * target->state  - Don't waste time re-reading DSCR; just pass it in Also rename the routine to "arm11_debug_entry()", matching the
	convention used elsewhere in OpenOCD.

2009-12-02  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM DPM: tweak initialization Move the initial breakpoint/watchpoint disable calls to
	arm_dpm_initialize(), and start using that routine.  This split
	helps with arm11 support.

2009-12-02  Zachary T Welch <zw@superlucidity.net>

	* : adding files required for distribution Add headers missing from Makefile rules to pass 'make distcheck'.
	These were included in the tree but were not added with those
	commits.

2009-12-02  David Brownell <dbrownell@users.sourceforge.net>

	* : stubs: buildfix The new stubs for httpd and ioutil gave errors like:   ioutil_stubs.c: In function ‚Äòioutil_init‚Äô:   ioutil_stubs.c:27: error: implicit declaration of function
	  ‚ÄòLOG_DEBUG‚Äô ioutil_stubs.c:28: error: ‚ÄòERROR_OK‚Äô
	  undeclared (first use in this function) ioutil_stubs.c:28: error:
	  (Each undeclared identifier is reported only once ioutil_stubs.c:28:
	error: for each function it appears in.) Fix.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-01  Zachary T Welch <zw@superlucidity.net>

	* : remove BUILD_IOUTIL symbol Add ioutil_stubs.c to provide an empty ioutil_init() routine.  Add
	ioutil.h to prevent applications from needing to declare it.  Allows unconditionally calling that function during startup, and the
	resulting libocdhelper library API is now more stable.  Prints a DEBUG message when the stub implementation is included.

2009-11-30  Zachary T Welch <zw@superlucidity.net>

	* : target: factor init to 'target init' Adds 'target init' command handler, called as part of 'init'.

2009-11-30  Zachary T Welch <zw@superlucidity.net>

	* : jtag: factor init into 'jtag init' Adds 'jtag init' command handler, which can be called as part of a
	fine-grained 'init' process.

2009-11-30  Zachary T Welch <zw@superlucidity.net>

	* : mflash: factor init to 'mflash init' Splits mflash initialiation to 'mflash init', called from 'init'.

2009-11-30  Zachary T Welch <zw@superlucidity.net>

	* : pld: factor init to 'pld init' Split PLD initialization into 'pld init', which gets called from
	'init'.

2009-12-02  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: label SP and LR correctly Except for USR/SYS mode, the labels for the shadowed SP and LR
	registers were reversed.  LR is r14; SP is r13.  Fix.  This would not affect GDB users; GDB references are positional.
	Only folk working directly with OpenOCD register values would have
	noticed this bug.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-01  David Brownell <dbrownell@users.sourceforge.net>

	* : Cortex-A8: basic watchpoint support Actually this should handle both breakpoints and watchpoints ... but
	the DPM framework only handles watchpoints for now.  Works on
	Beagle.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-01  David Brownell <dbrownell@users.sourceforge.net>

	* : ARMv7a: move constants out of Cortex-A8 header These are architecturally defined, not core-specific.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-01  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : target: at91eb40a.cfg is a board, not a target.  Also updated to use target name when creating flash and set jtag_khz
	to 16000.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2009-12-01  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : command: the Jim interpreter can now be provided rather than
	created In embedded hosts, the Jim interpreter can come from the existing
	context rather than be created by OpenOCD.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2009-12-01  David Brownell <dbrownell@users.sourceforge.net>

	* : Cortex-A8: remove previous mcr()/mrc() methods We don't need this code, now that the DPM code handles it.  Neither
	do we need the ARMv7-A CP15 operations; remove their remnants too.
	And disable a mostly-needless diagnostic.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-01  David Brownell <dbrownell@users.sourceforge.net>

	* : target: "mcr" and "mrc" are ARM-specific Switch "mrc" and "mcr" commands to be toplevel ARM operations, as
	they should initially have been.  Correct the usage message for both commands:  it matches ARM
	documentation (as one wants!) instead of reordering them to match
	the funky mrc() and mcr() method usage (sigh).  For Cortex-A8: restore a line that got accidentally dropped, so the
	secure monitor mode shadow registers will show again.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-01  David Brownell <dbrownell@users.sourceforge.net>

	* : Cortex-A8: stop using CP15 ops There were two chunks of Cortex-A8 code which called the ARMv7-A
	CP15 operations; get rid of them, helping prepare to remove those
	methods completely:  - post_debug_entry() can use the mrc() method to read    its two registers.   - write_memory() can use dpm->instr_write_data_r0() to    flush the ICache and DCache ... doing it this way is    actually faster since it reduces per-write overhead.  Note that the mrc() method parameters are re-ordered with respect to
	the ARM instruction documentation, so that part can be confusing.  Cleaned up the layout and comments in those areas a bit.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-28  Zachary T Welch <zw@superlucidity.net>

	* : improve command prohibition error report Ensures that the correct information gets displayed, depending on
	the mode of the command being denied.  Fixes misreporting all
	commands as needing to run "before 'init'".

2009-11-30  David Brownell <dbrownell@users.sourceforge.net>

	* : XScale: context restore, cleanup/bugfix This "loop over all registers" routine shared the same mess as
	full_context() in terms of dozens of needless number_to_mode()
	calls.  Fix that, and comments, with related cleanup.  The misnamed xscale_restore_context() had a related bug.  It was
	restoring the *WRONG REGISTERS* ... always from whatever the current
	mode was, instead of using the copy from whichever register bank it
	was trying to restore.  (But it marked the intended register as
	having been restored...)  Fixed that.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-29  Zachary T Welch <zw@superlucidity.net>

	* : command output capture: do not use interp global Adds a log_capture_state structure to pass to the log capture
	callback used by the command module.  Ensures that the capture
	occurs in the proper context.

2009-11-29  Zachary T Welch <zw@superlucidity.net>

	* : target: avoid using interp global variable Adds 'interp' to target_event_action structure to avoid using the
	global variable of the same name.

2009-11-29  Zachary T Welch <zw@superlucidity.net>

	* : fix foo command group help messages Splits the old help strings to provide proper usage as well.

2009-11-29  Zachary T Welch <zw@superlucidity.net>

	* : move improperly located documentation Somehow, the comment block for command handlers ended up associated
	with the output_handler.  Move it to the command_handler_t
	declaration.

2009-11-29  Zachary T Welch <zw@superlucidity.net>

	* : only display usable commands in help With the ability to defer 'init', users can access the help system
	while still in CONFIG mode.  This patch omits commands from the help
	and usage list when they cannot be run in the current command mode,
	making it much easier to see what can be done at a given time.

2009-11-29  Zachary T Welch <zw@superlucidity.net>

	* : move server_init()  to openocd_main() Moves the telnet and TCL server startup to server_init(), moving
	their respective command registration in to
	server_register_commands().  Adds proper error checking for these
	particular startup processes.  Moves the core server startup to openocd_main(), improving related
	error checking and preparing to defer 'init'.

2009-11-30  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: keep up with changes to command structure Add missing COMMAND_REGISTRATION_DONE.  For now the command syntax for zy1000 needs to be compatible across
	0.3/0.4, the world outside OpenOCD interfaces to zy1000 using the
	old syntax. Post 0.4 release(0.4.1 even) I'll switch to subcommand
	scheme.  Switch to subcommands post 0.3 lifecycle.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2009-11-29  David Brownell <dbrownell@users.sourceforge.net>

	* : XScale: clean up full_context() (#1) When fetching all the registers, XScale was doing various stupid
	things like calling number_to_mode() a few dozen times instead of
	just once, and mapping access to each register three times (again,
	instead of just once).  Stop that.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-29  Marek Vasut <marek.vasut@gmail.com>

	* : create target/pxa3xx.cfg [dbrownell@users.sourceforge.net; remove pxa255 comment] Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-29  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM11: fix warning on cygwin Previous version of JTAG_DEBUG() macro hid this bug.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-28  lementec fabien <fabien.lementec@gmail.com>

	* : fix s3c24xx device command helper Returns the common structure for the s3c24xx device, which was
	somehow nuked during past cleaning efforts.

2009-11-27  Zachary T Welch <zw@superlucidity.net>

	* : add 'nonce' nand driver The nonce NAND driver provides a no-op implementation useful for
	testing the system independently of any driver side-effects.

2009-11-25  Zachary T Welch <zw@superlucidity.net>

	* : explode tcl_target_func into many handlers Eliminate the monolithic tcl_target_func by registering each of its
	commands using the new chained command registration mechanism.  Also chains the target's commands under the CPU command, though
	these may not work properly without some further modification.

2009-11-26  Zachary T Welch <zw@superlucidity.net>

	* : split jim_newtap_cmd into pieces Moves the ID and IR-related option parsing to static helpers,
	removing two levels of indent.

2009-11-26  Zachary T Welch <zw@superlucidity.net>

	* : improve jtag_tap_handle_event indentation Use 'continue' to reduce identation levels and superfluous logic.

2009-11-25  Zachary T Welch <zw@superlucidity.net>

	* : split jim_jtag_command into multiple handlers Explodes the 'jtag' into separate command handlers, which are easier
	to understand and extend.  Makes the code much easier to understand,
	though further simplifications are possible.  This patch tries to
	minimize the noise when viewed with 'git diff -w'.  Gives these commands improved built-in help and usage information.

2009-11-28  Zachary T Welch <zw@superlucidity.net>

	* : add error checking in command_new Adds checks for memory allocation failures.  Started to use calloc()
	instead of malloc()/memset(), but I got carried away.  This kind of
	work should be done throughout the tree, but it's almost hopeless at
	present.

2009-11-27  Zachary T Welch <zw@superlucidity.net>

	* : refactor command mode detection Splits the check for a command's ability to run into a helper.  This also fixes a bug whereby commands that specified COMMAND_EXEC
	were allowed to run during the configuration stage.  This allowed
	problematic commands to be called before 'init', defeating the
	intention of specifying that command mode.  With this change, the
	run_command() helper denies access to handlers that should run only
	after 'init' during the configuration stage.

2009-11-28  Zachary T Welch <zw@superlucidity.net>

	* : add 'command mode' introspective handler Allows scripts to behave different depending on the current mode.
	Also allows introspection of the mode required for commands.

2009-11-27  Zachary T Welch <zw@superlucidity.net>

	* : improve command handler wrapper script Adds 'ocd_bouncer' in startup.tcl that is called as a helper for all
	command handlers, shrinking the embedded C wrapper to a mere stub.  Jim handlers are called directly, simple handlers get called with
	the wrapper to capture and discard their output on error, and
	placeholders call help directly (though the unknown handler still
	does this too).  It attempts to improve the quality of the error
	messages as well.

2009-11-28  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM11: fix warning on amd64 Previous version of JTAG_DEBUG() macro hid this bug.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-28  David Brownell <dbrownell@users.sourceforge.net>

	* : target: uplevel add_{break,watch}point() error checks In target_type.h it's documented that the target must be halted for
	add_breakpoint() ... and with slight ambiguity, also for its
	add_watchpoint() sibling.  So rather than verifying that constraint
	in the CPU drivers, do it in the target_add_{break,watch}point()
	routines.  Add minor paranoia on the remove_*point() paths too:  save the
	return value, and print it out in in the LOG_DEBUG message in case
	it's nonzero.  Note that with some current cores, like all ARMv7 ones I've looked
	at, there's no technical issue preventing watchpoint or breakpoint
	add/remove operations on active cores.  This model seems deeply
	wired into OpenOCD though.  ALSO:  the ARM targets were fairly "good" about enforcing that
	constraint themselves.  The MIPS ones were relied on other code to
	catch such stuff, but it's not clear such code existed ...  keep an
	eye out for new issues on MIPS.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-27  David Brownell <dbrownell@users.sourceforge.net>

	* : NEWS: mention new reset-assert event Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-27  David Brownell <dbrownell@users.sourceforge.net>

	* : Cortex-A8: support "reset-assert" event Use the new "reset-assert" event; else SRST; else fail.  Tested on
	an OMAP3, using the event.  NOTE:  still doesn't handle "reset halt".  For some reason neither
	VCR nor PRCR seemed effective; they held the value that was written,
	but VCR didn't trigger debug entry when the reset vector fired
	(maybe the vector needs configuring?) and PRCR refused to hold the
	chip in reset until deassert() could force the core into debug
	state.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-27  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM11: write_memory() avoids increment check When writing to a chip's "reset yourself" register, the ARM11 code
	was reporting a spurious failure.  Just don't bother checking for
	correctly incremented pointers given single-unit writes ... it's a
	bit faster that way too.  (Reads should likely do the same thing.
	For that matter, such checks are usually just a waste...) Shrink an overlong parameter name, and associated lines'o'code.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-27  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: keep up with new command registration stuff jim and classic style commands are both supported.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2009-11-27  Zachary T Welch <zw@superlucidity.net>

	* : fix 'nand info' command Move device argument parsing after check for number of arguments;
	otherwise, calling this command without any arguments would access
	argv[0] before checking whether it even existed.

2009-11-27  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : minidummy: fix compilation error during refactoring a search and replace error crept in Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2009-11-16  Dean Glazeski <dnglaze@gmail.com>

	* : ARM NAND I/O documentation update.  This updates the functions in the file to all have doxygen comments
	describing what they do.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-15  Dean Glazeski <dnglaze@gmail.com>

	* : ARM NAND I/O read function.  Implementation of the NAND read function for ARM NAND I/O that
	includes running a local algorithm on a device to increase the
	performance of block reads.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-26  David Brownell <dbrownell@users.sourceforge.net>

	* : XScale: add stub {read,write}_phys routines Just make these fail, instead of letting them write over potentially
	random memory.  Users should be able to work around the lack of real
	implementations by disbling the MMU by hand ... until someone
	provides a Real Fix.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-24  Uwe Hermann <uwe@hermann-uwe.de>

	* : fix typos in documentation Fixes some minor typos in the top-level documentation files.  Signed-off-by: Zachary T Welch <zw@superlucidity.net>

2009-11-24  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : styleguide: add some embedded style rules.  Embedded and pthreads rely on modest and predictable stack usage.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2009-11-25  David Brownell <dbrownell@users.sourceforge.net>

	* : target: create and use target_name() Several of the sites now using target_type_name() really ought to be
	using an instance-specific name.  Create a function called
	target_name(), accessing the instance's own (command) name.  Use it in several places that really should be displaying
	instance-specific names.  Also in several places which were already
	doing so, but which had no wrapper to call.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-25  David Brownell <dbrownell@users.sourceforge.net>

	* : omap3530.cfg: yes we have SRAM! Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-25  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: comment tweaks in ADIv5 "OptimoDE DESS" is ARM's semicustom DSPish stuff.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-25  David Brownell <dbrownell@users.sourceforge.net>

	* : NEWS updates Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-24  Zachary T Welch <zw@superlucidity.net>

	* : use ARRAY_SIZE macro Search and destroy lingering cases where the ARRAY_SIZE macro should
	be used to convey more intrinsic meaning in the OpenOCD code.

2009-11-20  Zachary T Welch <zw@superlucidity.net>

	* : log: improve initialization Removes redundant assignment of start_ms from
	log_register_commands().  Eliminates command_context parameter and
	return value.  Adds Doxygen comment block for this API call.

2009-11-21  Zachary T Welch <zw@superlucidity.net>

	* : add 'testee' target type Alliteration aside, this should provide the final piece of the
	puzzle for developers that want to get started writing a new target
	type.  In this way, it also seeks to complement the 'dummy'
	interface driver and 'faux' NOR flash driver.

2009-11-24  Zachary T Welch <zw@superlucidity.net>

	* : add script_command_run helper Eliminates duplicated code in script_command and
	handle_unknown_command.  Fixes bug with duplicated help output
	generated by placeholder commands.

2009-11-24  Zachary T Welch <zw@superlucidity.net>

	* : combine help and usage command handlers Remove duplicated handler code by checking the running command name.

2009-11-23  Zachary T Welch <zw@superlucidity.net>

	* : allow scripts to update usage information The add_usage_text command uses the same C handler, which was
	updated to support its new polymorphic role.  This patch updates the
	two script commands that needed this support: 'find' and 'script'.

2009-11-23  Zachary T Welch <zw@superlucidity.net>

	* : add jim_handler to command_registration Adding jim_handler field to command_registration allows removing the
	register_jim helper.  All command registrations now go through the
	register_command{,s}() functions.

2009-11-23  Zachary T Welch <zw@superlucidity.net>

	* : remove register_commands from etm_capture_driver Converts callback to an array of command_registration records.
	Moves oocd_trace driver definition to end of file to eliminate
	useless forward declaration.

2009-11-23  Zachary T Welch <zw@superlucidity.net>

	* : xscale: use register_commands()

2009-11-23  Zachary T Welch <zw@superlucidity.net>

	* : target_request: use register_commands()

2009-11-23  Zachary T Welch <zw@superlucidity.net>

	* : oocd_trace: use register_commands()

2009-11-23  Zachary T Welch <zw@superlucidity.net>

	* : etm: use register_commands()

2009-11-23  Zachary T Welch <zw@superlucidity.net>

	* : cortex_m3: use register_commands()

2009-11-23  Zachary T Welch <zw@superlucidity.net>

	* : armv7m: use register_commands()

2009-11-23  Zachary T Welch <zw@superlucidity.net>

	* : armv4_5: use register_commands()

2009-11-23  Zachary T Welch <zw@superlucidity.net>

	* : arm966e: use register_commands()

2009-11-23  Zachary T Welch <zw@superlucidity.net>

	* : arm920t: use register_commands()

2009-11-23  Zachary T Welch <zw@superlucidity.net>

	* : arm720t: use register_commands()

2009-11-22  Zachary T Welch <zw@superlucidity.net>

	* : remove nand_controller->register_callbacks Replace flash_driver callback with pointer to command_registration.
	Eliminates all related routines and allows drivers to omit commands.

2009-11-22  Zachary T Welch <zw@superlucidity.net>

	* : tms470: use register_commands()

2009-11-22  Zachary T Welch <zw@superlucidity.net>

	* : str9x: use register_commands()

2009-11-22  Zachary T Welch <zw@superlucidity.net>

	* : stm32x: use register_commands()

2009-11-22  Zachary T Welch <zw@superlucidity.net>

	* : pic32mx: use register_commands()

2009-11-22  Zachary T Welch <zw@superlucidity.net>

	* : mflash: use register_commands()

2009-11-22  Zachary T Welch <zw@superlucidity.net>

	* : lpc2900: use register_commands()

2009-11-22  Zachary T Welch <zw@superlucidity.net>

	* : flash: use register_commands() Eliminates 'flash_cmd' global variable.

2009-11-22  Zachary T Welch <zw@superlucidity.net>

	* : cfi: use register_commands()

2009-11-22  Zachary T Welch <zw@superlucidity.net>

	* : at91sam7: use register_commands()

2009-11-20  Zachary T Welch <zw@superlucidity.net>

	* : remove register_callbacks from jtag interface Changes the jtag_interface->register_callbacks field to a list of
	commands to be registered.  Changes callback to invocation of
	register_commands() with that command registration list.  Removes
	all JTAG interface driver register_command callback functions, which
	the previous commits had converted into identical calls.

2009-11-20  Zachary T Welch <zw@superlucidity.net>

	* : jtag: use register_commands() Use register commands with command registration array.

2009-11-20  Zachary T Welch <zw@superlucidity.net>

	* : parport: use register_commands() Use register_commands() with a command registration array.

2009-11-20  Zachary T Welch <zw@superlucidity.net>

	* : gw16012: use register_commands() Use register_commands() with command registration array.

2009-11-20  Zachary T Welch <zw@superlucidity.net>

	* : at91rm9200: use register_commands() Use register_commands() with command registration array.  --- This
	module was broken by previous changes, but no one has complained.
	Are there still users for this modules?

2009-11-20  Zachary T Welch <zw@superlucidity.net>

	* : amt_jtagaccel: use register_commands() Use register_commands() with command_registration array.

2009-11-22  Zachary T Welch <zw@superlucidity.net>

	* : pld: use register_commands() Updates core PLD and virtex2 commands to use register_commands().

2009-11-21  Zachary T Welch <zw@superlucidity.net>

	* : server: use register_commands Converts server directory to use new command registration paradigm.

2009-11-20  Zachary T Welch <zw@superlucidity.net>

	* : ioutil: use register_commands() Use table instead of individual calls.  Add proper usage
	information.

2009-11-21  Zachary T Welch <zw@superlucidity.net>

	* : demonstrate chaining with foo commands Use the new command registration chaining capabilities to eliminate
	the foo_register_commands helper, folding its remaining command
	handler setup into the hello_command_handlers registration array.

2009-11-21  Zachary T Welch <zw@superlucidity.net>

	* : rewrite 'unknown' command dispatching in C Rewrite the magical 'unknown' command in C as a Jim handler,
	allowing it to dispatch commands to any level in the tree.

2009-11-21  Zachary T Welch <zw@superlucidity.net>

	* : refactor script_command context grabbing Move command context acquisition to current_command_context() for
	re-use.

2009-11-21  Zachary T Welch <zw@superlucidity.net>

	* : more command registration refactoring Split out the handler registration into its own function, and add a
	few obviously missing NULL pointer error checking.

2009-11-20  Zachary T Welch <zw@superlucidity.net>

	* : add command usage, separate from help Adds the usage command, to display usage information for commands.
	The output for this command will remain erronenously empty until
	commands are updated to use these new coventions.

2009-11-20  Zachary T Welch <zw@superlucidity.net>

	* : add struct command_registration Add a structure to encapsulate command registration information,
	rather than passing them all as parameters.  Enables further API
	changes that require additional required or optional parameters.  Updates the register_command API and COMMAND_REGISTER macro to use
	it, along with their documentation.

2009-11-20  Zachary T Welch <zw@superlucidity.net>

	* : add COMMAND_REGISTER macro Provides a migration path for the widely used register_command API,
	which needs to be updated to provide new functionality.  This macro allows the API to change without having to update all of
	its callers at the same time.

2009-11-24  David Brownell <dbrownell@users.sourceforge.net>

	* : Cortex-A8: avoid DSCR reads There was a lot of needless handshaking overhead in the current
	Cortex-A8 DCC/ITR operations, since the status read by each step was
	discarded rather than letting the next step know it.  This shrinks the handshaking by:  (a) passing status along from
	previous steps, avoiding re-fetching; which enables the big win (b) relying on a useful invariant:  that the DSCR_INSTR_COMP bit is
	set after every call to a DPM method.  A "reg sp_usr" call previously took 17 flushes; now it takes just 9.
	This visibly speeds common operations like entry to debug state and
	stepping, as well as "arm reg" and so on.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-24  David Brownell <dbrownell@users.sourceforge.net>

	* : Cortex-A8: implement DPM This implements the DPM interface for Cortex-A8 cores.  It also adds
	a synchronization operation to the DPM framework, which is needed by
	the Cortex-A8 after CPSR writes.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-24  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : improve alloc_vprintf The previous implementation was unnecessarily complex. Get rid of
	the loops, let vsnprintf() tell us directly how much storage we need
	and allocate that. A second pass writes the actual string. Also add
	a va_end() that was missing.  This should be much faster for large
	strings and less wasteful for small ones.  A quirk that has been retained is that some callers patch in a
	newline at the end of the returned string and depend on
	alloc_vprintf to allocate at least one byte extra.  Signed-off-by: Andreas Fritiofson <andreas.fritiofson@gmail.com>
	Signed-off-by: Zachary T Welch <zw@superlucidity.net>

2009-11-19  Zachary T Welch <zw@superlucidity.net>

	* : jlink: rewrite to use jtag_usb_open Rewrite jlink_usb_open to use jtag_usb_open helper.

2009-11-19  Zachary T Welch <zw@superlucidity.net>

	* : rlink: use jtag_usb_open helper Rewrite rlink_init routine to use jtag_usb_open helper.  Eliminates
	some spurious calls to exit().  Wraps a tremendously long line of comment to fit 80 columns too.

2009-11-19  Zachary T Welch <zw@superlucidity.net>

	* : vsllink: rewrite to use jtag_usb_open Rewrite vsllink_usb_open to use jtag_usb_open helper.  Eliminates spurious calls to exit().

2009-11-19  Zachary T Welch <zw@superlucidity.net>

	* : arm-jtag-ew: use jtag_usb_open Rewrite armjtagwe_usb_open to use jtag_usb_open.

2009-11-24  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM11: remove old R0..R15/CPSR code This finishes the basic switchover to the new register code, for
	everything except the debug registers.  (And maybe we shouldn't have
	a cache for *those* which works this way...) The context save/restore code now uses the new code, but it's in a
	slightly different sequence.  That should be fine since the
	R0/PC/CPSR stuff is all that really matters (and if we can update
	those, we can update the rest).  Now there's no longer a way any code can be confused about which
	copy of "r1" (etc) to use.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-24  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM11: use standard single step simulation The previous stuff was needed because the ARM11 code wasn't using
	the standard ARM base type and register access ... but now those
	mechanisms work, so we can switch out that special-purpose glue.  This should resolve all the "FIXME -- handle Thumb single stepping"
	comments too, and properly handle the processor's mode.  (Modulo the
	issue that this code doesn't yet handle two-byte breakpoints.) Clarify the comments about the the hardware single stepping.  When
	we eventually share breakpoint code with Cortex-A8, we can just make
	that be the default on cores which support it.  We may still want an
	override command, not just to facilitate testing but to cope with
	"instruction address mismatch" not quite being true single-step.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-24  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM11: remove register "history" debug stuff This was a private mechanism to snapshot registers before leaving
	debug state, and then on reentry to optionally display what changed.
	It was coupled to the private register cache, which won't be
	sticking around in that form for much longer.  Remove (instead of
	teaching it how to handle *all* the registers).  (The idea is interesting, but we ought to be able to implement this
	in a generic way.  Ideally through Tcl scripts that can
	automatically be invoked following debug entry...) Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-24  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: new DPM interface First version of interface for sharing code between ARMv6 and ARMv7a
	debug modules ... now the architecture includes debug support.  (Not
	the same as for the trimmed-down v7m or v6m though!)  This is a
	first version of an interface that will let the ARM11 and Cortex-A8
	support share code, features, and bugfixes.  Based on existing code
	from both of those cores.  The ARM v7-AR architecture specification calls this commonality the
	"Debug Programmer's Model (DPM)", which seemed to be an appropriate
	acronym -- a TLA even! -- for use in our code.  Made it so.  :) The initial scope of this just supports register access, and is
	geared towards supporting top level "struct arm" mechanisms.  Later,
	things like breakpoint and watchpoint support should be included.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-24  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : support for scripts in $HOME/.openocd Add $HOME/.openocd as the first default script search directory,
	allowing the user to override the standard scripts.  Update the user guide with information on where OpenOCD expects to
	find configuration files and scripts. Also fixed some minor
	formatting issues.  Add entry to NEWS as well.  Signed-off-by: Andreas Fritiofson <andreas.fritiofson@gmail.com>
	Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2009-11-23  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : arm926ejs: fix gaffe when converting from arm926ejs cp15 to mcr the first arg is the register number 15 = cp15.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2009-11-22  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM11: remove unused state and exports For now there's no point in saving this stuff after examine() checks
	it out as OK.  Ditto exporting symbols that aren't used outside of
	the module which defines them.  In fact, those two things needlessly
	complicate the code...  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-22  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : mips: remove dynamic arrays - reduces stack usage Allocate working memory dynamically.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2009-11-22  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : arm11: do not use dynamic arrays Allocate working memory dynamically, caught by checkstack.pl Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2009-11-22  David Brownell <dbrownell@users.sourceforge.net>

	* : TODO: ref 'checkstack.pl' not 'checkpatch.pl' Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-22  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM11: remove needless string format #ifdeffery We don't need to use size_t in these places; so it's easy to be rid
	of the need for this #ifdef and its MS-derived portability problems.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-22  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: remove 'armv4_5_common_s' migration #define Finish migrating from the old symbol to the new one.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-22  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : target: reduce stack usage 4096 byte buffer allocated dynamically. Better for embedded OS's.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2009-11-18  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: un-break uart command after command handler refactoring Switched it to jim command to insulate it from command refactoring.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2009-11-21  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : embedded: do not allocate large temporary structures on stack With -O3 when inlining aggressively the total stack usage will be
	the sum of many fn's, which can easily get out of hand.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2009-11-22  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: fix breakage in command parsing code for power command Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2009-11-22  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: arm_set_cpsr() handles T and J bits Have arm_set_cpsr() handle the two core state flags, updating the
	CPU state.  This eliminates code in various debug_entry() paths, and
	marginally improves handling of the J bit.  Catch and comment a few holes in the handling of the J bit on
	ARM926ejs cores ... it's unlikely our users will care about Jazelle
	mode, but we can at least warn of Impending Doom.  If anyone does
	use it, these breadcrumbs may help them to find the right path
	through the code.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-22  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: simplify CPSR handling Stash a pointer to the CPSR in the "struct arm", to help get rid of
	the (common) references to its index in the register cache.  This removes almost all references to CPSR offsets outside of the
	toplevel ARM code ... except a pair related to the current ARM11
	"simulator" logic (which should be removable soonish).  This is a net minor code shrink of a few hundred bytes of object
	code, and also makes the code more readable.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-21  Zachary T Welch <zw@superlucidity.net>

	* : jtag: remove useless forward declarations Removes some more useless forward declarations from a few JTAG
	drivers.  Moves interface and bit-bang structure defitions below
	their callbacks.

2009-11-21  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : show script search dirs in debug log Add this to ease debugging why the standard scripts aren't found on
	the default script search path in some build/install enviroments.
	Especially on Windows it's not straight forward where openocd
	actually looks for the scripts.  Signed-off-by: Andreas Fritiofson <andreas.fritiofson@gmail.com>
	Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-20  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM7/ARM9: remove old "debug commands" Remove two commands that were documented as "debug commands" and
	where "you probably don't want to use this".   We never intended to
	support them, and at least one problem report boiled down to using
	this when it shouldn't have been used.  Update the docs on the existing register commands to talk a bit more
	about register access and cache behavior.  (Those debug commands
	existed largely to *bypass* the cache.)  And fix some minor doc
	goofs that snuck in with recent changes, renaming "armv4_5" as "arm"
	and "arm9tdmi" as "arm9".  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-19  Zachary T Welch <zw@superlucidity.net>

	* : add add_help_text command handler Rewrite means for scripts to register help text for commands.  These
	cause the new commands to be stored in the command heirarchy, with
	built-in commands; however, they will never be invoked there because
	they do not receive a command handler.  The same trick is used for
	the Jim commands.  Remove the old helpers that were used to register commands.

2009-11-19  Zachary T Welch <zw@superlucidity.net>

	* : improve 'help' command Rewrites 'help' command in C, using new 'cmd_help' for display.
	Adds the built-in 'help' COMMAND_HANDLER to provide better output
	than the TCL-based script command (e.g. heirarchical listing of
	commands).  The help string is stored in the command structure, though it
	conitnues to be pushed into the Jim environment.  The current
	idiomatic usage suggests the addition of a usage field as well, to
	provide two levels of detail for users to consume (i.e. terse usage
	list, or verbose help).

2009-11-19  Zachary T Welch <zw@superlucidity.net>

	* : refactor command registration Refactors the command registration to use helpers to simplify the
	code.  The unregistration routines were made more flexible by
	allowing them to operate on a single command, such that one can
	remove all of a commands children in one step (perhaps before adding
	back a 'config' subcommand that allows getting the others back).
	Eliminates a bit of duplicated code and adds full API documentation
	for these routines.

2009-11-18  Zachary T Welch <zw@superlucidity.net>

	* : factor script_command argv allocation Splits argument allocation out from script command, reusing free()
	code.

2009-11-19  Zachary T Welch <zw@superlucidity.net>

	* : fix flash/nand name parsing Start driver.num check from end, and make sure the numeric part is
	actually a number.  Fix problems trying to parse bank names.

2009-11-19  David Brownell <dbrownell@users.sourceforge.net>

	* : Cortex-A8: mode support We *should* be able to read and write registers in any core mode,
	instead of being stuck with whatever mode the core was when we
	entered debug state.  This patch makes them work.  Note that the current restore_context() only handles the current
	mode; writing to other-mode registers is a NOP without a followup
	patch fixing that.  Also, that SPSR access needed some bugfixes; it
	was confused with CPSR.  Secure monitor mode also seems dubious; there's probably more to be
	done before that's sufficiently understood by the debugger.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-19  Dean Glazeski <dnglaze@gmail.com>

	* : NAND verify doesn't advance.  Fix to move the device address up as the contents are verified.  Signed-off-by: Zachary T Welch <zw@superlucidity.net>

2009-11-18  Zachary T Welch <zw@superlucidity.net>

	* : update 'nand device' usage in scripts Add $_FLASHNAME variable to update 'nand device' command syntax.

2009-11-17  Zachary T Welch <zw@superlucidity.net>

	* : refactor handle_nand_device_command Move bulk of for-loop to a new static command helper function.  Adds handle_nand_list_drivers command handler, registered as 'nand
	drivers'.  Improves command help text and error reporting.

2009-11-17  Zachary T Welch <zw@superlucidity.net>

	* : add support for naming flash banks Requires users to name their flash banks, allowing them to be used
	instead of bank numbers in script commands.

2009-11-17  Zachary T Welch <zw@superlucidity.net>

	* : rename flash and nand command helpers After adding support for referencing banks by name, renames the
	COMMAND_HELPERs appropriately: flash_command_get_bank_by_num  ->
	flash_command_get_bank nand_command_get_device_by_num ->
	flash_command_get_device

2009-11-19  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: remove per-register malloc Just pre-allocate memory for the cached register value.  Shrinks
	heap overhead; increases locality-of-reference.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-19  David Brownell <dbrownell@users.sourceforge.net>

	* : Cortex-A8: parts of examine() run just once The examine() method has some conceptual breakage.  Cope with it by
	manually splitting out the run-once parts from the after-each-reset
	parts ... this gets rid of memory leaks and speeds up resets after
	the first one.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-19  David Brownell <dbrownell@users.sourceforge.net>

	* : ARMv7-A: use standard ARM core states We don't want an ARMv7-specific core state enumeration just to add
	ThumbEE state.  Update the generic stuff to handle that, and replace
	the V7-specific bits with it.  For Cortex-A8:  on debug entry, check both the T and J bits instead
	of just the T bit.  When the J bit is set, set the right state and
	warn appropriately.  (And while we're at it, move the generic arm struct to the front of
	the v7a structure, for somewhat better code generation.) Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-18  Zachary T Welch <zw@superlucidity.net>

	* : fix zy1000 command handler Rewrite ZY1000 power command handler to use new macros, simplify
	logic.  Remove unused port command handler declaration.

2009-11-18  Zachary T Welch <zw@superlucidity.net>

	* : update src/hello.c with parsing examples Adds the foo/bar commands to provide more working examples of
	command argument parsing, including the new
	handle_command_parse_bool helper.  Updates hello command help text to provide useful information.

2009-11-18  Zachary T Welch <zw@superlucidity.net>

	* : add handle_command_parse_bool command helper Rewrite arm11_handle_bool to provide a generic on/off command
	helper.  Refactors COMMAND_PARSE_BOOL to use new command_parse_bool helper,
	which gets reused by the new command_parse_bool_any helper.  This
	later helper is called by the new command helper function to accepts
	any on/off, enable/disable, true/false, yes/no, or 0/1 parameter.

2009-11-18  Zachary T Welch <zw@superlucidity.net>

	* : use COMMAND_PARSE_ON_OFF where appropriate Updates all command parsing of "on" and "off" arguments.

2009-11-18  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: rework "arm reg" output for new mode Change the layout to show the "Secure Monitor" registers too, when
	they're present.  Instead of lining registers for each of six (or seven) modes up in
	adjacent vertical columns, display each mode's registers (or
	shadows) in a single block, avoiding duplicate value displays.  This also lets us shrink the line length to fits in standard 80
	character lines ... six or seven 18-character columns can't fit.  Relabel "r13" as "sp", so it's more meaningful.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-18  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: add a default full_context() method If the core doesn't provide an optimized version of this method,
	provide one without core-specific optimizations.  Use this to make
	Cortex-A8 support the "arm reg" command.  Related: make the two register access methods properly static, have
	the "set" log a "not halted" error too, and make sure that the
	"valid" flag is set on successful reads.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-18  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: setup "secure monitor mode" shadow regs Teach the "armv4_5" register code to understand about the secure
	monitor mode:  - Add the other three shadowed registers to the arrays  - Support another internal mode number (sigh) in mappings  - Catch malloc/calloc failures building that register cache This should kick in for Cortex-A8 and ARM1176.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-18  Zachary T Welch <zw@superlucidity.net>

	* : fix segfault at startup The previous changes to move the startup TCL code resulted in
	segfaults during startup.  This seemingly innocuous patch fixes the
	problem.  I would explain why changing from 'foo[]' to '*foo' caused
	this issue, but the difference seems superficial.  For now, this hot
	fix will do, but this issue might bear further scrutiny.

2009-11-17  Zachary T Welch <zw@superlucidity.net>

	* : split startup.tcl file across modules Moves definitions for each layer into their own file, eliminating
	layering violations in the built-in TCL code.  Updates
	src/Makefile.am rules to include all files in the final startup.tcl
	input file, and others Makefile.am rules to distribute the new files
	in our packages.

2009-11-18  Zachary T Welch <zw@superlucidity.net>

	* : fix regression in md/mw commands The recent migration broke them, the fixes broken them in a new way,
	but this should restore them to working order.  Eliminates the
	temporary variable, as the CMD_NAME macro can once again be use in
	routines that increment CMD_ARGV without nasty side-effects.

2009-11-17  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: add is_arm_mode() Add a new is_arm_mode() predicate, and use it to replace almost all
	calls to current armv4_5_mode_to_number().  Eventually those internal mode numbers should vanish... along with
	their siblings in the armv7a.c file.  Remove a handful of superfluous checks ... e.g. the mode number was
	just initialized, or (debug entry methods) already validated.  Move one of the macros using internal mode numbers into the only
	file which uses that macro.  Make the tables manipulated with those
	numbers be read-only and, where possible, static so they're not
	confused with part of the generic ARM interface.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-17  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: only use one set of dummy FPA registers All ARM cores need to provide obsolete FPA registers in their GDB
	register dumps.  (Even though cores with floating point support now
	generally use some version of VFP...) Clean up that support a bit by sharing the same dummy registers, and
	removing the duplicate copies.  Eventually we shouldn't need to
	export those dummies.  (This makes the ARMv7-M support include the armv4_5 header, and
	cleans up related #includes, but doesn't yet use anything from there
	except those dummies.) Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-17  Zachary T Welch <zw@superlucidity.net>

	* : update doxygen configuration to produce a PDF A single PDF file for the developer manual allows accessing a single
	index, browsing, and searching.  It takes significantly more time to
	build this way, but this patch allows others to look at the results.  Migration Tip: If you have previously built the HTML Doxygen
	documentatation, rename your 'doxygen' directory to 'doxygen/html'
	to prevent needlessly rebuilding those files.

2009-11-16  Zachary T Welch <zw@superlucidity.net>

	* : remove unused variable from run_command

2009-11-15  Zachary T Welch <zw@superlucidity.net>

	* : add struct command_invocation for COMMAND_HANDLER Adds the command_invocation structure to encapsulate parameters for
	all COMMAND_HANDLER routines.  Rather than passing several arguments
	to each successive subroutine, a single pointer may be passed
	around.  Changes the CMD_* macros to reference the new fields.  Updates run_command to create an instance and pass it to the
	handler.

2009-11-15  Zachary T Welch <zw@superlucidity.net>

	* : command_handler: change 'args' to CMD_ARGV This patch converts all instances of 'args' in COMMAND_HANDLER
	routines to use CMD_ARGV macro.

2009-11-15  Zachary T Welch <zw@superlucidity.net>

	* : add more command_handler conversion macros Add additional macros to allow command handling to be migrated
	easily: CMD_CTX, CMD_ARGC, and CMD_ARGV.  Updates CMD_NAME to use
	CMD_ARGV.  In addition to making the remaining patches of this series cleaner,
	this introduces easily sed-able symbols that could allow us to
	retire these once the command handler infrastructure matures (i.e.
	pre-1.0).

2009-11-17  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : jtag_registers: Avalon bridge flushing tweaks The code is now much more explicit. It flushes every N writes. For
	now flush every time, but tinkering with the bridge FIFO size and
	how often we flush clearly points in the direction of the Avalon
	write FIFO full being the culprit.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2009-11-13  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: add version command to print FPGA version and timestamps Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2009-11-17  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: fix trivial syntax error introduced by latest
	refactorings Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2009-11-17  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM7TDMI: remove now-needless "struct arm7tdmi" Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-16  David Brownell <dbrownell@users.sourceforge.net>

	* : ARMv7-A: no exit() calls Also, switch integrity check over to the correct magic number, and
	remove duplicate v4/v5 #define.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-16  David Brownell <dbrownell@users.sourceforge.net>

	* : XScale: fewere exit() calls Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-16  David Brownell <dbrownell@users.sourceforge.net>

	* : ARMv7-M: no exit() calls Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-16  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM11: fewer exit() calls Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-16  David Brownell <dbrownell@users.sourceforge.net>

	* : ARMv7A: use standard disassembler We no longer need v7A-specific code for this.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-16  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: "armv4_5" command prefix becomes "arm" Rename the "armv4_5" command prefix to straight "arm" so it makes
	more sense for newer cores.  Add a simple compatibility script.  Make sure all the commands give the same "not an ARM" diagnostic
	message (and fail properly) when called against non-ARM targets.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : fileio: improve API types Use size_t instead of uint32_t when specifying file sizes.  Update
	all consumers up through the layers to use size_t when required.
	These changes should be safe, but the higher-levels will need to be
	updated further to receive the intended benefits (i.e. large file
	support).  Add error checking for fileio_read and file_write.  Previously, all
	errors were being silently ignored, so this change might cause some
	problems for some people in some cases.  However, it gives us the
	chance to handle any errors that do occur at higher-levels, rather
	than burying our heads in the sand.

2009-11-15  Zachary T Welch <zw@superlucidity.net>

	* : helper/log: improve API parameter types Uses unsigned type to pass line numbers.  Use uint64_t to pass sleep routines their milliseconds.  Updates
	sleep routines to use this type and improve whitespace.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : improve constness of open_file_from_path

2009-11-16  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: standard disassembler uses Thumb2 entry Tweak "standard" ARM disassembler diagnostics to fail if the target
	is not "an ARM" (vs. not "an ARMV4/5"), so it makes more sense for
	cores inheriting this as the "generic" disassembler.  Also, to use the Thumb2 entry instead of the original Thumb entry.
	This makes it work better for both newer cores (which support those
	added instructions) and for BL and BLX instructions on older cores.
	(Those instructions are 32-bits, which requires curious state-aware
	code to go through a 16-bit decode interface...) Plus minor cleanups, notably to have fewer exit paths and to make
	sure they all return failure codes.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-16  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: move mode functions out of header They're really too big to inline, at least for code that's not in
	any performance-critical loops.  Also move the associated string table to the rodata section.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-16  David Brownell <dbrownell@users.sourceforge.net>

	* : binarybuffer: regression fix The "improve inline binarybuffer helpers" mis-handled bytes with the
	high bit set; treat them as unsigned, not signed.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-16  David Brownell <dbrownell@users.sourceforge.net>

	* : target: less implicit inclusion of "etm.h" Don't include it in more headers than necessary; just use it in the
	few files that actually need it.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-16  Zachary T Welch <zw@superlucidity.net>

	* : armv7m: make core reg read/write use unsigned Eliminate redundant check that gets covered by using unsigned type.
	Created to eliminate noise from subsequent patches, but this kind of
	conversion will be beneficial in similar ways throughout the tree.

2009-11-16  Zachary T Welch <zw@superlucidity.net>

	* : rename CEIL as DIV_ROUND_UP Improves the name of this macro, moves it to types.h, and adds a
	block of Doxygen comments to describe what it does.

2009-11-15  Zachary T Welch <zw@superlucidity.net>

	* : nand_command_get_device_by_num: make COMMAND_HELPER Use COMMAND_HELPER macro to define nand_command_get_device_by_num.
	Use CALL_COMMAND_HANDLER to invoke it.

2009-11-16  Zachary T Welch <zw@superlucidity.net>

	* : cleanup jtag minidrivers Remove two vestigial externs from our JTAG minidriver source files.
	Also, removes many extra blank lines from the minidummy driver.

2009-11-07  Zachary T Welch <zw@superlucidity.net>

	* : Add FILEIO_NONE access mode.  In some cases, the FILEIO_NONE access mode may be useful as a
	parameter to indicate that file access should be disabled.
	High-level routines can use it to skip file access calls, as
	'fileio_open' will fail presently if called to open a file using
	this mode.

2009-11-08  Zachary T Welch <zw@superlucidity.net>

	* : Add nand_fileio_* helper APIs.  This patch provides helpers APIs that will eliminate duplicated code
	in the the NAND 'dump' and 'write' commands by factoring their
	common code into static helper functions.  These helpers may be
	useful for creating new commands, as shown in the final patch to
	'verify' flash from a file.  Several previously unreported error conditions now generate messages
	and propogate the return codes, such as when the file fails to open
	and bad arguments are given.  These changes will fix a possible
	memory leak in nand dump command, in the case that the dump file
	failed to open.  Overall, the changes should be functionally equivalent, but the
	resulting code will be easier to improve and extend consistently.

2009-11-14  Zachary T Welch <zw@superlucidity.net>

	* : improve inline binarybuffer helpers Use void*, unsigned, and bool types with inline helpers.

2009-11-14  Zachary T Welch <zw@superlucidity.net>

	* : improve buf_set_ones Use memset instead of loop. Improve types, using void * and
	unsigned.

2009-11-14  Zachary T Welch <zw@superlucidity.net>

	* : improve buf_cmp and buf_cmp_mask helpers Rewrite buf_cmp to use memcpy for bulk of comparison.  Add static
	helper to perform comparison of trailing byte, which uses another
	static helper to perform a maksed comparison.  The masked comparison
	helper is used by the buf_cmp_mask to simplify its loop.  Improve
	types to use void *, unsigned, and return bool.

2009-11-14  Zachary T Welch <zw@superlucidity.net>

	* : binarybuffer: move variables to point of first use Reduce some noise from subsequent patches.

2009-11-16  David Brownell <dbrownell@users.sourceforge.net>

	* : #include "target.h" less wildly Don't include "target.h" from more headers than necessary.  This
	avoids needless interdependencies and duplicated include paths.  Don't needlessly include it in source files, either.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-16  David Brownell <dbrownell@users.sourceforge.net>

	* : target: less implicit inclusion of "command.h" Lots of files still include it, often through needless duplicate
	inclusion of "log.h"; sigh.  This cleans up the inclusion graph a bunch, so there are fewer
	inclusion paths, but it doesn't change much otherwise.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-16  David Brownell <dbrownell@users.sourceforge.net>

	* : target: don't implicitly include "breakpoint.h" Most files in the tree seem to have ended up including this, and
	*quite* needlessly ... only code implementing or using breakpoints
	actually needs these declarations.  So take it out of the header files which included it, and put it in
	files which use it ... reduce needless interdependencies.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-15  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM11: fixup method table Three changes:  remove ARM11_HANDLER() in favor of normal structure
	initialization syntax; fix goofy indentation in that structure; and
	don't needlessly export arm11_register_commands(), it's only called
	through that method table.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-15  David Brownell <dbrownell@users.sourceforge.net>

	* : target: make "examined" flag be per-target Previously this flag was stored in "target_type", so that for
	example if there were two ARM7TDMI targets in a scan chain, both
	would claim to have been examined although only the first one
	actually had its examine() method called.  Move this state to where it should have been in the first place, and
	hide a method that didn't need exposure ... the flag is write-once.  Provide some doxygen.  The examine() method is confusing, since it
	isn't separating one-time setup from the after-each-reset stuff.
	And the ARM7/ARM9 version is, somewhat undesirably, not leaving the
	debug state alone after reset ... probably more of an issue for
	trace setup than for watchpoints and breakpoints.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-15  Zachary T Welch <zw@superlucidity.net>

	* : rlink: fix overzealous sed Fix an instance where my cleanup when awry.

2009-11-14  Zachary T Welch <zw@superlucidity.net>

	* : remove unused buf_to_u32_handler Purge an unused routine from the tree and remove a layering
	violation.  If this code is needed, it should reappear somwhere in
	src/jtag/, where struct scan_field gets defined.

2009-11-14  Krzysztof Dziuba <krzysztof.dziuba@gazeta.pl>

	* : Fix for md* commands, similar to mw*.

2009-11-14  David Brownell <dbrownell@users.sourceforge.net>

	* : flash: remove needless lpc2900.h header Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-14  Dean Glazeski <dnglaze@gmail.com>

	* : Invalid command syntax errors with MWW.  This fixes an issue due to the new command handler syntax caused by
	the mw handler playing with the args pointer before using the
	CMD_NAME macro.  Fix is to move this call above the lines changing
	args.

2009-11-12  Ferdinand Postema <ferdinand@postema.eu>

	* : compile with cygwin (32-bit) Changed some printf format strings..  [dbrownell@users.sourceforge.net: shrink lines, fix indents] Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-13  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM11: revert etmr/etmw commands These aren't desirable, given "standard" ETM support.  Also remove
	the now-unused arm11_find_target().  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-13  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM7/ARM9: use shared examine() method No point in having two identical examine methods for the ARM7TDMI
	and ARM9TDMI drivers; move, rename, shrink, share.  Add a bit of doxygen; stop needlessly exporting a method.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-13  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM11: switch to new "arm" base type This will enable reusing many common ARM utilities, in particular
	the ETM and ETB support.  The ARM11 support can still be much
	simplified after this patch, though.  Note:  none of those common utilities kick in yet...  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-13  David Brownell <dbrownell@users.sourceforge.net>

	* : target.cfg: label ETBs correctly Various cores with an ETB have its TAP misnamed ... either as a
	boundary scan TAP or as the iMX "Secure JTAG Controller" (which is,
	among other things, a JRC that could be used to shorten scan
	chains).  Use the correct name for these TAPs, which we can recognize since
	their IDs were assigned by ARM and these chips all document the
	presence of an ETB.  The 0x2b900f0f is ETB11; the 0x1b900f0f is an
	older module, just called "ETB".  Also shrink the ETB's IR configuration; the default IR-Capture value
	is fine, and the mask can specify that all four bits are safe to
	check (per ARM documentation).  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : update developer manual for new types Update the style guide and chase obvious references to structures
	that have been renamed.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : command_context_t -> struct command_context Remove misleading typedef and redundant suffix from struct
	command_context.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : flash_bank_t -> struct flash_bank Remove misleading typedef and redundant suffix from struct
	flash_bank.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : target_t -> struct target Remove misleading typedef and redundant suffix from struct target.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : target_type_t -> struct target_type Remove misleading typedef and redundant suffix from struct
	target_type.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : image_t -> struct image Remove misleading typedef and redundant suffix from struct image.  Also removes the typedef from enum image_type, as it is used in
	image.h only.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : etm_context_t -> struct etm_context Remove misleading typedef and redundant suffix from struct
	etm_context.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : trace_t -> struct trace Remove misleading typedef and redundant suffix from struct trace.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : cortex_m3_dwt_comparator_t -> struct cortex_m3_dwt_comparator Remove misleading typedef and redundant suffix from struct
	cortex_m3_dwt_comparator.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : cortex_a8_wrp_t -> struct cortex_a8_wrp Remove misleading typedef and redundant suffix from struct
	cortex_a8_wrp.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : breakpoint_t -> struct breakpoint Remove misleading typedef and redundant suffix from struct
	breakpoint.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : xscale_trace_entry_t -> struct xscale_trace_entry Remove misleading typedef and redundant suffix from struct
	xscale_trace_entry.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : arm_instruction_t -> struct arm_instruction Remove misleading typedef and redundant suffix from struct
	arm_instruction.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : xscale_reg_t -> struct xscale_reg Remove misleading typedef and redundant suffix from struct
	xscale_reg.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : xscale_trace_data_t -> struct xscale_trace_data Remove misleading typedef and redundant suffix from struct
	xscale_trace_data.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : debug_msg_receiver_t -> struct debug_msg_receiver Remove misleading typedef and redundant suffix from struct
	debug_msg_receiver.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : target_event_callback_t -> struct target_event_callback Remove misleading typedef and redundant suffix from struct
	target_event_callback.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : reg_arch_type_t -> struct reg_arch_type Remove misleading typedef and redundant suffix from struct
	reg_arch_type.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : bitfield_desc_t -> struct bitfield_desc Remove misleading typedef and redundant suffix from struct
	bitfield_desc.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : mips_m4k_common_t -> struct mips_m4k_common Remove misleading typedef and redundant suffix from struct
	mips_m4k_common.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : mips32_core_reg_t -> struct mips32_core_reg Remove misleading typedef and redundant suffix from struct
	mips32_core_reg.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : mips32_comparator_t -> struct mips32_comparator Remove misleading typedef and redundant suffix from struct
	mips32_comparator.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : image_memory_t -> struct image_memory Remove misleading typedef and redundant suffix from struct
	image_memory.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : image_binary_t -> struct image_binary Remove misleading typedef and redundant suffix from struct
	image_binary.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : etmv1_trace_data_t -> struct etmv1_trace_data Remove misleading typedef and redundant suffix from struct
	etmv1_trace_data.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : etm_reg_t -> struct etm_reg Remove misleading typedef and redundant suffix from struct etm_reg.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : embeddedice_reg_t -> struct embeddedice_reg Remove misleading typedef and redundant suffix from struct
	embeddedice_reg.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : cortex_a8_common_t -> struct cortex_a8_common Remove misleading typedef and redundant suffix from struct
	cortex_a8_common.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : avr_common_t -> struct avr_common Remove misleading typedef and redundant suffix from struct
	avr_common.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : armv7m_core_reg_t -> struct armv7m_core_reg Remove misleading typedef and redundant suffix from struct
	armv7m_core_reg.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : armv7m_common_t -> struct armv7m_common Remove misleading typedef and redundant suffix from struct
	armv7m_common.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : armv7a_algorithm_t -> struct armv7a_algorithm Remove misleading typedef and redundant suffix from struct
	armv7a_algorithm.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : armv4_5_mmu_common_t -> struct armv4_5_mmu_common Remove misleading typedef and redundant suffix from struct
	armv4_5_mmu_common.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : armv4_5_cachesize_t -> struct armv4_5_cachesize Remove misleading typedef and redundant suffix from struct
	armv4_5_cachesize.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : armv4_5_algorithm_t -> struct armv4_5_algorithm Remove misleading typedef and redundant suffix from struct
	armv4_5_algorithm.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : arm_load_store_multiple_instr_t -> struct
	arm_load_store_multiple_instr Remove misleading typedef and redundant suffix from struct
	arm_load_store_multiple_instr.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : arm_data_proc_instr_t -> struct arm_data_proc_instr Remove misleading typedef and redundant suffix from struct
	arm_data_proc_instr.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : swjdp_common_t -> struct swjdp_common Remove misleading typedef and redundant suffix from struct
	swjdp_common.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : arm9tdmi_common_t -> struct arm9tdmi_common Remove misleading typedef and redundant suffix from struct
	arm9tdmi_common.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : arm926ejs_common_t -> struct arm926ejs_common Remove misleading typedef and redundant suffix from struct
	arm926ejs_common.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : arm920t_cache_line_t -> struct arm920t_cache_line Remove misleading typedef and redundant suffix from struct
	arm920t_cache_line.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : arm7_9_common_t -> struct arm7_9_common Remove misleading typedef and redundant suffix from struct
	arm7_9_common.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : arm11_sc7_action_t -> struct arm11_sc7_action Remove misleading typedef and redundant suffix from struct
	arm11_sc7_action.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : arm11_common_t -> struct arm11_common Remove misleading typedef and redundant suffix from struct
	arm11_common.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : reg_param_t -> struct reg_param Remove misleading typedef and redundant suffix from struct
	reg_param.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : arm920t_common_t -> struct arm920t_common Remove misleading typedef and redundant suffix from struct
	arm920t_common.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : remove typedef keyword from svf structures Removes all misleading typedef keywords from structures in svf.c.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : virtex2_pld_device_t -> struct virtex2_pld_device Remove misleading typedef and redundant suffix from struct
	virtex2_pld_device.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : pld_driver_t -> struct pld_driver Remove misleading typedef and redundant suffix from struct
	pld_driver.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : telnet_connection_t -> struct telnet_connection Remove misleading typedef and redundant suffix from struct
	telnet_connection.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : service_t -> struct service Remove misleading typedef and redundant suffix from struct service.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : gdb_service_t -> struct gdb_service Remove misleading typedef and redundant suffix from struct
	gdb_service.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : remove unused aduc702x structure.  The ADUC702x_FLASH_MMIO structure was completely used, so it must
	die.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : tms470_flash_bank_t -> struct tms470_flash_bank Remove misleading typedef and redundant suffix from struct
	tms470_flash_bank.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : non_cfi_t -> struct non_cfi Remove misleading typedef and redundant suffix from struct non_cfi.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : str9xpec_flash_controller_t -> struct str9xpec_flash_controller Remove misleading typedef and redundant suffix from struct
	str9xpec_flash_controller.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : str7x_mem_layout_t -> struct str7x_mem_layout Remove misleading typedef and redundant suffix from struct
	str7x_mem_layout.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : stm32x_mem_layout_t -> struct stm32x_mem_layout Remove misleading typedef and redundant suffix from struct
	stm32x_mem_layout.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : stm32x_options_t -> struct stm32x_options Remove misleading typedef and redundant suffix from struct
	stm32x_options.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : s3c24xx_nand_controller_t -> struct s3c24xx_nand_controller Remove misleading typedef and redundant suffix from struct
	s3c24xx_nand_controller.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : orion_nand_controller_t -> struct orion_nand_controller Remove misleading typedef and redundant suffix from struct
	orion_nand_controller.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : nand_info_t -> struct nand_info Remove misleading typedef and redundant suffix from struct
	nand_info.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : nand_ecclayout_t -> struct nand_ecclayout Remove misleading typedef and redundant suffix from struct
	nand_ecclayout.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : mx3_nf_controller_t -> struct mx3_nf_controller Remove misleading typedef and redundant suffix from struct
	mx3_nf_controller.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : mg_drv_info_t -> struct mg_drv_info Remove misleading typedef and redundant suffix from struct
	mg_drv_info.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : mflash_gpio_num_t -> struct mflash_gpio_num Remove misleading typedef and redundant suffix from struct
	mflash_gpio_num.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : lpc2900_flash_bank_t -> struct lpc2900_flash_bank Remove misleading typedef and redundant suffix from struct
	lpc2900_flash_bank.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : lpc2000_flash_bank_t -> struct lpc2000_flash_bank Remove misleading typedef and redundant suffix from struct
	lpc2000_flash_bank.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : flash_sector_t -> struct flash_sector Remove misleading typedef and redundant suffix from struct
	flash_sector.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : ecosflash_flash_bank_t -> struct ecosflash_flash_bank Remove misleading typedef and redundant suffix from struct
	ecosflash_flash_bank.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : cfi_unlock_addresses_t -> struct cfi_unlock_addresses Remove misleading typedef and redundant suffix from struct
	cfi_unlock_addresses.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : cfi_atmel_pri_ext_t -> struct cfi_atmel_pri_ext Remove misleading typedef and redundant suffix from struct
	cfi_atmel_pri_ext.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : cfi_flash_bank_t -> struct cfi_flash_bank Remove misleading typedef and redundant suffix from struct
	cfi_flash_bank.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : avrf_type_t -> struct avrf_type Remove misleading typedef and redundant suffix from struct
	avrf_type.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : jtag_command_t -> struct jtag_command Remove useless typedef from struct jtag_command.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : sleep_command_t -> struct sleep_command Remove misleading typedef from struct sleep_command.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : reset_command_t -> struct reset_command Remove misleading typedef from struct reset_command.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : runtest_command_t -> struct runtest_command Remove misleading typedef from struct runtest_command.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : statemove_command_t -> struct statemove_command Remove misleading typedef from struct statemove_command.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : scan_command_t -> struct scan_command Remove misleading typedef on struct scan_command.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : vsllink_jtag_t -> struct vsllink Remove misleading typedef and redundant suffix.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : ft2232_device_t -> struct ft2232_device Remove misleading typedef from ft2232_device; it was barely used.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : cable_t -> struct cable Remove useless typedef and redundant suffix from parport struct
	cable.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : armjtagew_jtag_t -> struct armjtagew Remove useless typedef and redundant suffix from struct
	armjtatew_jtag.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : jtag_event_callback_t -> struct jtag_event_callback Remove useless typedef and redundant suffix from
	jtag_event_callback.  Add documentation for the structure.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : bitbang_interface_t -> struct bitbang_interface Removes another useless typedef and suffix.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : encapsulate bitq_state structure Move the bitq_state structure from the header to source file, as it
	is used internally.  Also removes its silly typedef.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : jtag_tap_t -> struct jtag_tap Search and destroy the jtag_tap_t typedef.  This also cleans up a
	layering violation, removing the declaration from types.h.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : log_callback_t -> struct log_callback Removes useless and confusing typedef for log callback structure.
	Types with _t should be suitable for passing by-value as arguments.

2009-11-11  Zachary T Welch <zw@superlucidity.net>

	* : add documention for writing built-in commands This documentation update provides an introduction to the command
	handling facilities provided by command.[ch].  A primer walks the
	user through the elements of a pointedly pedantic module:
	src/hello.c.  A summary of the API is provided in the OpenOCD Architecture
	section.

2009-11-10  Zachary T Welch <zw@superlucidity.net>

	* : command_handler_t: make cmd an indirect parameter This patch removes 'cmd' from the list of direct parameters, moving
	that pointer to args[-1] (by way of the new CMD_NAME macro).

2009-11-10  Zachary T Welch <zw@superlucidity.net>

	* : command_handler_t: make cmd parameter const Prevents the command name from being modified in command handlers.
	Again, this has cascading effects, but the patches are fairly
	minimal.

2009-11-10  Zachary T Welch <zw@superlucidity.net>

	* : add CMD_NAME macro for command handlers By introducing the CMD_NAME macro, this parameter may be integrated
	as args[-1] in command.[ch], without touching any other call sites.

2009-11-10  Zachary T Welch <zw@superlucidity.net>

	* : add PLD_DEVICE_COMMAND_HANDLER macro Update virtex module to use abstracted PLD command handling.

2009-11-10  Zachary T Welch <zw@superlucidity.net>

	* : use FLASH_BANK_COMMAND_HANDLER macro Defines all flash_bank_command handlers using the new macro.

2009-11-10  Zachary T Welch <zw@superlucidity.net>

	* : s3c24xx: use COMMAND_HANDLER with command helper Add S3C24XX_DEVICE_COMMAND macros to abstract common command handler
	conventions.

2009-11-10  Zachary T Welch <zw@superlucidity.net>

	* : use COMMAND_HELPER for command helper functions Define the numerous helpers that inherit command handler parameters
	using the COMMAND_HELPER macro.

2009-11-10  Zachary T Welch <zw@superlucidity.net>

	* : add command_handler_t type This patch adds new typedefs for command handler callback functions.
	Users of this type signature were updated to use these new types.
	It uses the new __COMMAND_HANDLER macro to prevent duplication.

2009-11-10  Zachary T Welch <zw@superlucidity.net>

	* : add command_output_handler_t Add a typedef for command output handler function type, simplifying
	the appearance of functions that use it and eliminating duplicate
	code.

2009-11-12  Zachary T Welch <zw@superlucidity.net>

	* : nand: rename device to nand To be more informative (and consistent with flash and pld trees),
	change 'device' parameter name to 'nand' in NAND source files.  This
	change eliminates confusing 'device->device->' instance from the
	code, and it simplifies the forthcoming command handler patches.

2009-11-12  Liam Redmond <info@rock-software.com>

	* : WinXP-x64: find right D2XX libraries This trivial patch allows the config script to find the correct
	FTDI2xx libraries under Windows XP x64 using msys.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-11  David Brownell <dbrownell@users.sourceforge.net>

	* : ETM: remove old mid-level ETM handle Now that nothing uses the old ETM handle any more, remove it.  Add
	minimal header tweaks, letting non-ARM7 and non-ARM9 cores access
	ETM facilities.  Now ARM11 could support standard ETM (and ETB) access as soon as it
	derives from "struct arm" ... its scanchain 6 is used access the
	ETM, just like ARM7 and ARM9.  The Cortex parts (both M3 and A8) will need modified access methods
	(via ETM init parameters), so they use the DAP.  Our first A8 target (OMAP3) needs that for both ETM and ETB, but the M3 ETM isn't very
	useful without SWO trace support (it's painfully stripped down), so
	that support won't be worth adding for a while.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-11  David Brownell <dbrownell@users.sourceforge.net>

	* : ETM: update port drivers Make both useful ETM port drivers (etb, etm_dummy) use the new
	toplevel ETM handle, instead of the to-be-removed lower level one.  Do the same for the "oocd-trace" prototype too; and fix its error
	reporting paths:  return failure codes, don't exit(), etc Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-11  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: start generalized base type Rename "struct armv4_5_common_s" as "struct arm".  It needs a bit
	more work to be properly generic, and to move out of this header,
	but it's the best start we have on that today.  Add and initialize an optional ETM pointer, since that will be the
	first thing that gets generalized.  The intent being:  all ARMs should eventually derive from this
	"struct arm", so they can reuse the current ETM logic.  (And later,
	more.)  Currently the ARM cores that *don't* so derive are only
	ARMv7-M (and thus Cortex-M3) and ARM11.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-11  Zachary T Welch <zw@superlucidity.net>

	* : improve command registration Eliminate duplicate code for linking commands into a list.  Adds a check to ensure the command does not already exist; if it
	does, return that one instead of creating a duplicate.

2009-11-11  Zachary T Welch <zw@superlucidity.net>

	* : eliminate duplicate helptext management Add helpers to manage adding entries to the helptext list.  Adds
	support for arbitrarily nested commands.

2009-11-11  Zachary T Welch <zw@superlucidity.net>

	* : wrap help command Use continuation characters to wrap the help command into 80
	columns.

2009-11-09  Zachary T Welch <zw@superlucidity.net>

	* : remove more useless declarations Removes forward declarations by moving command registration after
	defintion of the command handlers.

2009-11-10  Zachary T Welch <zw@superlucidity.net>

	* : add const keyword to some APIs Add 'const' keyword to 'char *' parameters to allow command handlers
	to pass constant string arguments.  These changes allow the 'args'
	command handler to be changed to 'const' in a subsequent patch.

2009-11-09  Zachary T Welch <zw@superlucidity.net>

	* : script_debug(): improve types Use unsigned type for number of arguments.

2009-11-09  Zachary T Welch <zw@superlucidity.net>

	* : log: improve log_callback_fn signature Use unsigned type for line number in log_callback_fn signature.

2009-11-10  Zachary T Welch <zw@superlucidity.net>

	* : makefiles: improve build order Separates various groups of files to be built in logical succession.
	In each layer, the core module (target.c, nand.c, etc.) is built
	_after_ their helper modules (e.g. image.c, nand_ecc.c) but _before_
	any of their drivers (e.g. arm966e.c, mx3_nand.c).  This allows problems introduced at the bottom of the stack to result
	in build failures as soon as possible, as the helpers and core
	should wrap portions of them.

2009-11-10  Zachary T Welch <zw@superlucidity.net>

	* : fix bug in ARM720: bugfix

2009-11-10  David Brownell <dbrownell@users.sourceforge.net>

	* : target: MMU-aware init for memory read/write Start switching MMU handling over to a more sensible scheme.  Having
	an mmu() method enables MMU-aware behaviors.  Not having one kicks
	in simpler ones, with no distinction between virtual and physical
	addresses.  Currently only a handful of targets have methods to read/write
	physical memory:  just arm720, arm920, and arm926.  They should all
	initialize OK now, but the arm*20 parts don't do the "extra" stuff
	arm926 does (which should arguably be target-generic).  Also simplify how target_init() loops over all targets by making it
	be a normal "for" loop, instead of scattering its three parts to the
	four winds.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-10  Thomas Kindler <mail+ocd@t-kindler.de>

	* : stm32.cfg: remove reset_config Here's a patch for the double-reset problem on STM32.  I've tested
	downloading and debugging with GDB and Eclipse, and everything seems
	to work fine.  This effectively sets reset_config to none. trst_only would also be
	ok, but that's better left to a board configuration file since not
	all boards wire it up.  The NVIC is used to trigger reset, which at least on this chip also
	pulses nSRST so the whole system does get rest -- exactly once.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-26  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : ARM11: remove old mrc/mcr commands Switch to new commands in config scripts Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2009-11-10  David Brownell <dbrownell@users.sourceforge.net>

	* : Target: minor cleanup  - improve some names -- a "default" prefix is not descriptive  - add doxygen @todo entries for some issues  - avr8 isn't ever going to need those MMU hooks Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-10  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM720: implement basic MMU ops mmu() works; virt2phys() fails and logs an error.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-08  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : httpd: fix warnings, more robust error handling, improved MIME
	handling The httpd is work in progress...  No mime type set by default. Let the browser guess.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2009-11-09  Zachary T Welch <zw@superlucidity.net>

	* : svf,xsvf,arm7_9_common: trim forard declarations Remove forward declarations by reordering command registration.

2009-11-09  Zachary T Welch <zw@superlucidity.net>

	* : server: remove useless declarations Remove server command declarations, make handler routines static.

2009-11-09  Zachary T Welch <zw@superlucidity.net>

	* : target.c: remove useless declarations This patch removes the last batch of forward references from the
	tree, moving the target command registration routines to the end of
	the file.

2009-11-09  Zachary T Welch <zw@superlucidity.net>

	* : str{7,9}x*.c: remove useless forward declarations Remove useless forward declarations.  Moves command registrations to
	end of files.  Moves flash structure definitions to end of files.  Signed-off-by: Zachary T Welch <zw@superlucidity.net>

2009-11-09  Zachary T Welch <zw@superlucidity.net>

	* : flash/<assorted>.c: remove useless declarations Remove useless forward declarations.  Moves command registrations to
	end of files.  Moves flash structure definitions to end of files.  Signed-off-by: Zachary T Welch <zw@superlucidity.net>

2009-11-09  Zachary T Welch <zw@superlucidity.net>

	* : flash/lpc2???.c: remove useless declarations Remove useless forward declarations.  Moves command registrations to
	end of files.  Moves flash structure definitions to end of files.  Signed-off-by: Zachary T Welch <zw@superlucidity.net>

2009-11-09  Zachary T Welch <zw@superlucidity.net>

	* : flash/flash.c: remove forward declarations Remove useless forward declarations.  Moves command registration to
	end of file.  Moves flash structure definition to end of file.  Signed-off-by: Zachary T Welch <zw@superlucidity.net>

2009-11-09  David Brownell <dbrownell@users.sourceforge.net>

	* : finish removing deprecated/obsolete commands It's been about a year since these were deprecated and, in most
	cases, removed.  There's no point in carrying that documentation, or
	backwards compatibility for "jtag_device" and "jtag_speed", around
	forever.  (Or a few remnants of obsolete code...) Removed a few obsolete uses of "jtag_speed":  - The Calao stuff hasn't worked since July 2008.  (Those Atmel    targets need to work with a 32KHz core clock after reset until    board-specific init-reset code sets up the PLL and enables a    faster JTAg clock.)  - Parport speed controls don't actually work (tops out at about    1 MHz on typical HW).   - In general, speed controls need to live in board.cfg files (or    sometimes target.cfg files), not interface.cfg ...  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-09  Zachary T Welch <zw@superlucidity.net>

	* : src/target: remove 'extern' and wrap headers Remove extern keywords from function prototypes and wrap long lines.

2009-11-09  Zachary T Welch <zw@superlucidity.net>

	* : src/{server,pld,svf,xsvf}: remove 'extern' keyword Removes 'extern' keyword from function declarations in header
	filess.

2009-11-09  Zachary T Welch <zw@superlucidity.net>

	* : src/jtag: remove 'extern' and wrap headers.  Removes the 'extern' keyword from function declarations.  Wraps long
	prototypes to fit into 80 columns.  Fixes documentation for jtag_tap_s::{,has}idcode fields.

2009-11-09  David Brownell <dbrownell@users.sourceforge.net>

	* : User's Guide: bugfix global state info The "$ocd_HOSTOS" variable was wrongly documented.  Fix its
	documentation, and its value on Linux.  Shrink a few of the too-long lines.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-07  Zachary T Welch <zw@superlucidity.net>

	* : Overhaul time support API This patch changes the duration_* API in several ways.  First, it
	updates the API to use better names.  Second, string formatting has
	been removed from the API (with its associated malloc).  Finally, a
	new function added to convert the time into seconds, which can be
	used (or formatted) by the caller.  This eliminates hidden calls to
	malloc that require associated calls to free().  This patch also removes the useless extern keyword from prototypes,
	and it eliminates the duration_t typedef (use 'struct duration').
	These API also allows proper error checking, as it is possible for
	gettimeofday to fail in certain circumstances.  The consumers have all been chased to use this new API as well, as
	there were relatively few cases doing this type of measurement.  In
	most cases, the code performs additional checks for errors, but the
	calling code looks much cleaner in every case.

2009-11-06  Zachary T Welch <zw@superlucidity.net>

	* : ARM11: remove exports and forward decls Unneeded exports cause confusion about the module interfaces.  Make
	almost everything static in the arm11.c module.

2009-11-08  David Brownell <dbrownell@users.sourceforge.net>

	* : Cortex-M3: fix (debug) message priority Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-07  Zachary T Welch <zw@superlucidity.net>

	* : Fix vsllink bulk out endpoint parsing.

2009-11-06  David Brownell <dbrownell@users.sourceforge.net>

	* : target: don't swap MMU/no-MMU work areas Resolve serious bug inserted by the "target: require working area
	for physical/virtual addresses to be specified" patch.  It forced
	use of (invalid) virtual addresses when the MMU was disabled, and
	vice versa.  Observed to break at least Cortex-M3, ARM926, ARM7TDMI whenever work
	areas are used, such as during bulk writes to flash, DDR2, SRAM, and
	so on.  Also, fix overlong lines and whitespace goofs.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-05  Zachary T Welch <zw@superlucidity.net>

	* : Improve flash indentation.  Removes redundant tests and reverses backwards logic to reduce the
	indentation level in flash.c.

2009-11-05  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: shrink offsets Move various embedded target structs to the beginnings of their
	containers ... pretty much the way C++ or Obj-C would for single
	inheritance.  This shrinks code that accesses those embedded structs by letting
	common offsets use smaller instructions.  Sample before/after sizes
	(on amd64):   17181     312       0   17493    4455 arm920t.o   16810     312       0   17122    42e2 arm920t.o Where the "after" is the smaller number, with this patch over the
	ones leveraging that embedding knowledge.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-05  David Brownell <dbrownell@users.sourceforge.net>

	* : Cortex-A8: use the new inheritance/nesting scheme Use target_to_armv7a() etc, replacing needless pointer traversals.
	Stop using X->arch_info scheme in most ARMv7-A and Cortex-A8 code.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-05  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM720 uses the new inheritance/nesting scheme Use target_to_arm720(), replacing needless pointer traversals and
	simplifying a bunch of nasty code.  Stop setting arch_info for
	arm720 type parts, it's not used any longer.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-05  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM9TDMI uses the new inheritance/nesting scheme Replace needless pointer traversals and simplify.  Also remove most
	remaining contents from arm9tdmi struct; it's almost removable.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-05  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM926 uses the new inheritance/nesting scheme Use target_to_arm926(), replacing needless pointer traversals and
	simplifying a bunch of code.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-05  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM920 uses the new inheritance/nesting scheme Use target_to_arm920(), replacing needless pointer traversals and
	simplifying.  Stop setting arm9tdmi->arch_info for arm920 type
	parts, it's not used any longer.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-05  David Brownell <dbrownell@users.sourceforge.net>

	* : target: provide container_of() Provide a cleaner way to handle single inheritance of targets in C,
	using the same model Linux does:  structs containing other structs,
	un-nested via calls to a "container_of()" macro that are packaged in
	typesafe inline functions.  Targets already use this containment idiom, but make it much more
	complicated because they un-nest using embedded "void *" pointers
	... in chains of up to five per target, which is all pure needless
	complication.  (Example: arm92x core, arm9tdmi, arm7_9, armv4_5 ...
	on top of the base "target" class.) Applying this scheme consistently simplifies things, and gets rid of
	many error-prone untyped pointers.  It won't change any part of the
	type model though -- it just simplifies things.  (And facilitates
	more cleanup later on.) Rule of thumb:  where there's an X->arch_info void* pointer, access
	to that pointer can and should be removed.  It may be convenient to
	set up pointers to some of the embedded structs; and shrink their
	current "*_common" names (annoyingly long).  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-05  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM720: remove exports and forward decls Unneeded exports cause confusion about the module interfaces.  Make
	all functions static.  Add a short header comment.  The forward decls are just code clutter; remove them, by moving
	their references after definitions.  This is another file which
	never needed even one internal forward declaration.  Remove unneeded indirection for the write_memory() method.  Make a
	table static, remove a can't-happen case with nasty exit().  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-05  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM9TDMI: remove forward decls The forward decls are just code clutter; remove them, by moving
	their references after definitions.  This is another file which
	never needed even one internal forward declaration.  Also shrink a few overly-long lines with function declarations or
	definitions.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-05  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM926: more cleanup An init_target() wrapper isn't needed, and target_create() can
	shrink a bit.  Add a header comment and some doxygen.  Remove arm926ejs_catch_broken_irscan() which has been a NOP for
	quite a few months now, and in any case duplicates logic in the JTAG
	core to validate IR capture data.  But force the capture mask to
	0x0f, so those tests are most effective.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-23  Zachary T Welch <zw@superlucidity.net>

	* : Improve str9xpec command argument parsing.

2009-10-23  Zachary T Welch <zw@superlucidity.net>

	* : Improve str7x config command argument parsing.

2009-10-23  Zachary T Welch <zw@superlucidity.net>

	* : Improve stellaris.c erase argument parsing.

2009-10-23  Zachary T Welch <zw@superlucidity.net>

	* : Improve mflash.c command argument parsing.

2009-10-23  Zachary T Welch <zw@superlucidity.net>

	* : Improve lpc2900.c command argument parsing.

2009-10-23  Zachary T Welch <zw@superlucidity.net>

	* : Improve lpc2000.c command argument parsing.

2009-10-23  Zachary T Welch <zw@superlucidity.net>

	* : Improve avrf.c command argument parsing.

2009-10-22  Zachary T Welch <zw@superlucidity.net>

	* : Improve davinci_nand.c command argument parsing.

2009-10-22  Zachary T Welch <zw@superlucidity.net>

	* : Improve at91sam3.c command argument parsing.

2009-10-22  Zachary T Welch <zw@superlucidity.net>

	* : Improve flash.c command argument parsing.

2009-10-22  Zachary T Welch <zw@superlucidity.net>

	* : Improve ETM tracemode update command.

2009-10-24  Zachary T Welch <zw@superlucidity.net>

	* : Improve trace command argument parsing.

2009-10-24  Zachary T Welch <zw@superlucidity.net>

	* : Improve cortex_m3 command argument parsing.

2009-10-24  Zachary T Welch <zw@superlucidity.net>

	* : Improve arm11 command argument parsing.

2009-10-24  Zachary T Welch <zw@superlucidity.net>

	* : Improve arm926ejs command argument parsing.

2009-10-24  Zachary T Welch <zw@superlucidity.net>

	* : Improve arm720t command argument parsing.

2009-10-24  Zachary T Welch <zw@superlucidity.net>

	* : Improve armv7m command argument parsing.

2009-10-24  Zachary T Welch <zw@superlucidity.net>

	* : Improve armv4_5 command argument parsing.

2009-10-24  Zachary T Welch <zw@superlucidity.net>

	* : Improve pld command argument parsing.

2009-10-24  Zachary T Welch <zw@superlucidity.net>

	* : Add server port command helper function.

2009-10-22  Zachary T Welch <zw@superlucidity.net>

	* : Improve jtag command argument parsing.

2009-10-22  Zachary T Welch <zw@superlucidity.net>

	* : Add macro for parsing numeric command arguments.  This helper eliminates significant amount of redundant code in
	command handler functions throughout the system.  It wraps the
	lower-level parse_* macros to implement a policy for reporting parse
	errors to the active command context (cmd_ctx).  If errors do occur,
	this macro causes the calling function to abort with the proper
	return code.

2009-11-03  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : arm920t: add mrcmcr interface fn's.  The arm920t has a concept of read modify write cycles that may have
	to be represented in the mrcmcr interface eventually.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2009-10-26  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : target: fix ordering of arguments to mcr and mrc commands Now matches machine code syntax and old arm11 syntax.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2009-10-26  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : ARM11: added mrc/mcr support to arm11 code.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2009-10-24  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : target: Only register mrc mcr commands when one of the targets
	support them.  This avoids polluting help for targets that can never support
	mrc/mcr Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2009-11-05  David Brownell <dbrownell@users.sourceforge.net>

	* : User's Guide: TAP setup tweakage Highlight that the "-expected-id" probably comes from vendor
	documentation, and that it *should* be used where possible.  Don't use ircapture/irmask in examples, to help discourage use of
	those params when they're not required.  Explain a bit better about
	why/when those params get used.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-05  David Brownell <dbrownell@users.sourceforge.net>

	* : Cortex-M3: expose most DWT registers Expose most DWT registers via Tcl; there are a few more, but those
	are mostly for profiling along with the ITM.  Having this set
	available enables operations which aren't possible with just the
	standard watchpoint operations.  The cycle counter may be interesting.  Turn it on after reset by
	setting the LSB of the dwt_ctrl register, and it counts CPU clocks.
	You can program the comparator 0 watchpoint to trigger on a given
	cycle count, rather than a data address.  Likewise, comparator 1 may be able to match data values given
	address matches from one or two other comparators.  (Not all
	hardware supports this capability though; try it.  That is something
	the standard watchpoint methods should eventually handle, for the
	single address case.) Minor cleanup:  remove needless functional indirection for exposing
	the v7m architctural registers.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-05  David Brownell <dbrownell@users.sourceforge.net>

	* : Cortex-M3: DWT cleanup/fixes Fix the watchpoint error checks, and do them in add(), not later in
	set() when it's mostly too late.  Support the full range of
	watchpoint sizes (1 to 32K bytes each), and check alignments.  Minor cleanup of DWT access:  shrink lines, use "+" for address
	calculations, comment a few issues.  Add debug message reporting DWT
	capabilities, matching the message for FBP, and some minor code and
	spec review comments.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-27  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : target: add target->type->has_mmu fn.  improve default target->read/write_phys_memory, produce more
	sensible error messages if the mmu interface functions have not been
	implemented yet vs. will not be implemented(e.g. cortex m3).  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2009-10-31  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : target: remove unused interface fn that clutters code The quit entry point was not being invoked. Just a source of
	confusion at this point. XScale ran 100x reset upon quit, but that
	code made no sense, wasn't commented and never invoke.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2009-11-05  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : warnings: remove Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2009-11-04  Krzysztof Kajstura <support@kristech.eu>

	* : JTAG: support KT-LINK adapter Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-04  David Brownell <dbrownell@users.sourceforge.net>

	* : Version 0.4.0-dev Add "-dev" tag.  Update minor version number.  Archive old NEWS
	file, start a new one.

2009-11-04  David Brownell <dbrownell@users.sourceforge.net>

	* : Release docs: fix notes We currently do something unusual:  version codes in config.in get
	updated after the release, which means that "git describe" won't
	match up to development version labels.  Comment that trouble spot.  We can fix this by switching away from the major/minor/micro type
	release numbering, as various other projects have done.  The major
	numbers basically don't tend to change, and doing a good job with
	micro versions is so annoying that they rarely change either.

2009-11-04  David Brownell <dbrownell@users.sourceforge.net>

	* : NEWS: mention switch to git!

2009-11-04  David Brownell <dbrownell@users.sourceforge.net>

	* : NEWS refs repository history, not ChangeLog Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-04  David Brownell <dbrownell@users.sourceforge.net>

	* : Release scripts: comments, run on Ubuntu The "source" command isn't accepted by ASH; easy to fix.  Failures
	with "-e" are harder to fix.  Remove the "-e" (for now) and force
	bash, for safety.  Un-obfuscate the release steps, by using names instead of numbers.
	Comment the version-number manipulation.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-04  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : docs: add reference to git bisect docs on BUGS page Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2009-11-03  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : arm920t: memory writes were broken when MMU was disabled To support breakpoints, flush data cache line and invalidate
	instruction cache when 4 and 2 byte words are written.  The previous code was trying to write directly to the physical
	memory, which was buggy and had a number of other situations that
	were not handled.  Signed-off-by: √òyvind Harboe <oyvind.harboe@zylin.com>

2009-10-30  Dimitar Dimitrov <dinuxbg@gmail.com>

	* : FT2232: increase read retry counts This change is necessary to debug AT91SAM9260 on my PC with a
	FT2232H dongle.  Signed-off-by: Dimitar Dimitrov <dinuxbg@gmail.com> Signed-off-by:
	David Brownell <dbrownell@users.sourceforge.net>

2009-11-01  David Brownell <dbrownell@users.sourceforge.net>

	* : doxygen: avoid most internals For some reason, all the interals are documented by default.  This
	is wrong for two basic reasons: ¬†- We need to focus on public interfaces, since those are    the¬†architectural interfaces and relationships.  ¬†- Since virtually nothing has doxygen support yet, this ¬†
	   ¬†maximizes the noise, and minimizes the¬†usefulness of doxygen
	output.  So don't expose so much by default.

2009-10-31  David Brownell <dbrownell@users.sourceforge.net>

	* : arm9tdmi: more correct fix for vector_catch Just use the array of names we're given, ignoring indices.  The
	"reserved means don't use" patch missed that change.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-30  David Brownell <dbrownell@users.sourceforge.net>

	* : NEWS: more info There were a few more changes worth mentioning, including support
	for more JTAG adapters, boundary scan improvements, another NAND
	driver, and the Win64 stuff.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-30  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : bin2char: for win32 set stdin/stdout to binary mode Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2009-10-29  Dimitar Dimitrov <dinuxbg@gmail.com>

	* : Olimex FT2232H JTAG adapters Add interface configs for two new high speed JTAG adapters from
	Olimex.  They need some other speed related tweaks to work well at
	high speed.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-28  Zachary T Welch <zw@superlucidity.net>

	* : Bump rc version and add -dev tag.  Bump rc package version number: 0.3.0-rc0 -> 0.3.0-rc1 Add '-dev'
	version tag: 0.3.0-rc1 -> 0.3.0-rc1-dev

2009-10-28  David Brownell <dbrownell@users.sourceforge.net>

	* : Cortex-M3: remove exports and forward decls Unneeded exports cause confusion about the module interfaces.  Make
	most functions static, and fix some line-too-long issues.  Delete
	some now-obviously-unused code.  The forward decls are just code clutter; move their references
	later, after the normal declarations.  (Or vice versa.) Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-28  Franck H…R…SON <franck.hereson@secad.fr>

	* : bugfix: stack corruption loading IHex images The Hex parser uses a fixed number of sections.  When the number of
	sections in the file is greater than that, the stack get corrupted
	and a CHECKSUM ERROR is detected which is very confusing.  This checks the number of sections read, and increases
	IMAGE_MAX_SECTIONS so it works on my file.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-20  Zachary T Welch <zw@superlucidity.net>

	* : Rewrite release script to use GIT.  Update documentation to reflect GIT methodology.  Rewrite release.sh
	script to use appropriate process.  With this update,
	tools/release.sh can be used for producing private release tags on
	local branches.  The documentation still needs work, but their use
	for v0.3.x should help rectify the deficiences.

2009-10-22  Zachary T Welch <zw@superlucidity.net>

	* : Factor release version functions into new script.

2009-10-24  Zachary T Welch <zw@superlucidity.net>

	* : Improve .gitignore rules.  A '.*' rule prevents the 'git submodule add' from correctly adding
	the first submodule, because it creates the .gitmodule file.  This
	file will not be added (without -f) result in incomplete submodule
	commits.  The new rules mask the specific files present in my own
	build tree, but additional rules may be needed to hide other types
	of temporary files.

2009-10-27  Nicolas Pitre <nico@fluxnic.net>

	* : ARM: fix target address when disassembling Thumb BLX A Thumb BLX instruction is branching to ARM code, and therefore the
	first 2 bits of the target address must be cleared.  Signed-off-by: Nicolas Pitre <nico@marvell.com> Signed-off-by: David
	Brownell <dbrownell@users.sourceforge.net>

2009-10-27  Oleg Seiljus <oleg@signalyzer.com>

	* : Signalyzer: new config files Add configs for H2, H4, LITE.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-27  Nicolas Pitre <nico@fluxnic.net>

	* : ARM: allow proper single stepping of Thumb BL and BLX
	instructions Whenever an unconditional branch with the H bits set to 0b10 is met,
	the offset must be combined with the offset from the following
	opcode and not ignored like it is now.  A comment in evaluate_b_bl_blx_thumb() suggests that the Thumb2
	decoder would be a simpler solution.  That might be true when
	single-stepping of Thumb2 code is implemented.  But for now this
	appears to be the simplest solution to fix Thumb1 support.  Signed-off-by: Nicolas Pitre <nico@marvell.com> Signed-off-by: David
	Brownell <dbrownell@users.sourceforge.net>

2009-10-26  David Brownell <dbrownell@users.sourceforge.net>

	* : ft2232: less noise with _DEBUG_JTAG_IO_ Don't log "Yes, I'm *still* in TAP_IDLE" every seven runtest clocks.

2009-10-26  David Brownell <dbrownell@users.sourceforge.net>

	* : PXA255: force reset config These chips need both SRST and TRST when debugging, and SRST doesn't
	gate JTAG.

2009-10-26  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM ADIv5: "dap info" gets more readable Make the "dap info" output more comprehensible:  - Don't show CIDs unless they're incorrect (only four bits matter)  - For CoreSight parts, interpret the part type  - Interpret the part number  - Show all five PID bytes together  - Other minor cleanups Also some whitespace fixes, and shrink a few overlong source lines.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-26  David Brownell <dbrownell@users.sourceforge.net>

	* : commit eaebc6cd699bcf414dc307dc65354a9f991dba59 Author: Wookey
	<wookey@wookware.org> Date:   Mon Oct 26 17:06:05 2009 +0000

2009-10-26  Michael Roth <mroth@nessie.de>

	* : SVF: fix parsing hex strings containing leading '0' characters Ignore leading '0' characters on hex strings.  For example a bit
	pattern consisting of 6 bits could be written as 3f, 03f or 003f and
	so on.  Signed-off-by: Michael Roth <mroth@nessie.de> Signed-off-by: David
	Brownell <dbrownell@users.sourceforge.net>

2009-10-26  David Brownell <dbrownell@users.sourceforge.net>

	* : JTAG: simple autoprobing This patch adds basic autoprobing support for the JTAG scan chains
	which cooperate.  To use, you can invoke OpenOCD with just:  - interface spec: "-f interface/...cfg"  - possibly with "-c 'reset_config ...'" for SRST/TRST  - possibly with "-c 'jtag_khz ...'" for the JTAG clock Then set up config files matching the reported TAPs.  It doesn't
	declare targets ... just TAPs.  So facilities above the JTAG and
	SVF/XSVF levels won't be available without a real config; this is
	almost purely a way to generate diagnostics.  Autoprobe was successful with most boards I tested, except ones
	incorporating C55x DSPs (which don't cooperate with this scheme for
	IR length autodetection).  Here's what one multi-TAP chip reported,
	with the "Warn:" prefixes removed:  clock speed 500 kHz  There are no enabled taps.  AUTO PROBING MIGHT NOT WORK!!  AUTO auto0.tap - use "jtag newtap auto0 tap -expected-id 0x2b900f0f
	 ..." AUTO auto1.tap - use "jtag newtap auto1 tap -expected-id
	 0x07926001 ..." AUTO auto2.tap - use "jtag newtap auto2 tap
	 -expected-id 0x0b73b02f ..." AUTO auto0.tap - use "... -irlen 4"  AUTO auto1.tap - use "... -irlen 4"  AUTO auto2.tap - use "... -irlen 6"  no gdb ports allocated as no target has been specified The patch tweaks IR setup a bit, so we can represent TAPs with
	undeclared IR length.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-25  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : fix syntax of mww phys.

2009-10-25  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: rename "arm9tdmi vector_catch" to "arm9 ..." And update doc accordingly.  That EmbeddedICE register was
	introduced for ARM9TDMI and then carried forward into most new chips
	that use EmbeddedICE.

2009-10-25  David Brownell <dbrownell@users.sourceforge.net>

	* : xscale: always reload handler after reset Remove needless debug handler state.   - "handler_installed" became wrong as soon as the second TRST+SRST    reset was issued ... so the handler was never reloaded after the    reset removed it from the mini-icache.     This fixes the bug where subsequent resets fail on PXA255 (if the    first one even worked, which is uncommon).  Other XScale chips    would have problems too; PXA270 seems to have, IXP425 maybe not.   - "handler_running" was never tested; it's pointless.  Plus a related bugfix: invalidate OpenOCD's ARM register cache on
	reset.  It was no more valid than the XScale's mini-icache.  (Though
	... such invalidations might be better done in "SRST asserted"
	callbacks.) Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-23  David Brownell <dbrownell@users.sourceforge.net>

	* : arm9tdmi vector_catch:  reserved means "don't use" Bit 5 shouldn't be used.  Remove all support for modifying it.
	Matches the exception vector table, of course ... more than one
	bootloader uses that non-vector to help distinguish valid boot
	images from random garbage in flash.

2009-10-23  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : Remove debug output that could cause compile warnings.

2009-10-23  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : Embedded ICE version is now dumped with debug_level 1

2009-10-23  David Brownell <dbrownell@users.sourceforge.net>

	* : SVF: clean up, mostly for TAP state name handling  - Use the name mappings all the other code uses:     + name-to-state ... needed to add one special case     + state-to-name  - Improve various diagnostics:     + don't complain about a "valid" state when the issue       is actually that it must be "stable"     + say which command was affected  - Misc:     + make more private data and code be static     + use public DIM() not private dimof()     + shorten the affected lines Re the mappings, this means we're more generous in inputs we accept,
	since case won't matter.  Also our output diagnostics will be a
	smidgeon more informative, saying "RUN/IDLE" not just "IDLE"
	(emphasizing that there can be side effects).  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-22  David Brownell <dbrownell@users.sourceforge.net>

	* : have "reg" command print cache names too When dumping over 100 registers (as on most ARM9 + ETM cores), aid
	readability by splitting them into logical groups.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-22  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : disable ZY1000's UART forwarding test code.

2009-10-21  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : virt2phys is now implemented by target.c globally, retire target
	specific documentation.

2009-10-21  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : read/write physical target fn's

2009-10-21  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : Added target_read/write_phys_memory() fn's. mdX/mwX commands
	updated to support phys flag to specify bypassing of MMU.

2009-10-21  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : Retire obsolete and superfluous implementations of virt2phys in
	each target. This is done in a polymorphic implementation in
	target.c

2009-10-21  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : First cut at implementing software breakpoints for mmu read only
	memory

2009-10-21  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : eCos synthetic target updates.

2009-10-20  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : Removed unused interface_jtag_set_end_state and wrote down some
	notes on TCP/IP client/server scheme.

2009-10-20  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : Added 'unlock' option to flash write_image

2009-10-19  David Brownell <dbrownell@users.sourceforge.net>

	* : SVF: better spec conformance for STATE switch Don't add extra TCK in current state; exit from RESET had four
	extras.  Only IDLE --> IDLE needs such an extra clock.  (At least
	one TCK must be issued.) Allow entry to RESET; SVF allows it, so must we (despite those
	entries being commented out of the statemove table).  When entering RESET, always use TLR ... we might end up with extra
	clocks in reset that way, which is harmless, but we'll never end up
	in any other state than RESET, which is useful paranoia.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-19  David Brownell <dbrownell@users.sourceforge.net>

	* : jtag_add_statemove() always uses TLR to get to RESET As decided a while back, this isn't a transition we want to chance.
	Whenever someone wants to got to RESET, force it.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-19  Zachary T Welch <zw@superlucidity.net>

	* : Improve Makefile rules for XScale debug handler; fixes 'make
	distcheck'.

2009-10-19  Redirect 'Slash' NIL <redirect.slash.nil@gmail.com>

	* : MinGW: use WinSock2 After reading a bit further, it appears that ws2_32 (Windows Sockets
	2) is included in all versions of Windows and backwards compatible
	with wsock32, at least according to  http://msdn.microsoft.com/en-us/library/ms740673%28VS.85%29.aspx.  Only Win95 seems to require a manual installation; is not a big
	deal.  So I think we can drop this whole business of detecting 64 bit MinGW
	and just use -lws2_32 for all MinGW platforms.

2009-10-19  Nicolas Pitre <nico@fluxnic.net>

	* : fix single step of bx instruction going into Thumb mode Without this fix, the following code cannot be single stepped:         add     ip, pc, #1         bx      ip         [thumb code here]

2009-10-19  Redirect 'Slash' NIL <redirect.slash.nil@gmail.com>

	* : corrective fix for MinGW GNU C99 printf compliance Compilation on cygwin, using gcc v3 with option -mno-cygwin,
	currently produces a large number of the following warnings:    warning: `gnu_printf' is an unrecognized format function type These have been introduced with the recent MinGW GNU C99 printf
	compliance patch, as gnu_printf was only introduced with gcc v4.4
	and is not recognized with earlier versions.  The attached fix adds gcc version detection to the previous patch to
	avoid the problem.

2009-10-19  oyvind <oyvind@titan.(none)>

	* : Switch from svn to git version string handling.

2009-10-17  Redirect 'Slash' NIL <redirect.slash.nil@gmail.com>

	* : safer conversion to HANDLER on MinGW-W64 Assign to "intptr_t", which on some versions of MS-Windows will
	widen the variable; then cast to HANDLE.

2009-10-17  Redirect 'Slash' NIL <redirect.slash.nil@gmail.com>

	* : More MinGW C99 printf compliance Passing "--std=gun99" is unfortunately not sufficient to make
	current MinGW compilers conform with respect to checking printf
	format strings.  (The C runtime seems not to have problems.) Fix by using a "gnu_printf" format specifier not "printf".

2009-10-17  David Brownell <dbrownell@users.sourceforge.net>

	* : build tweak for bin2char Work better when building outside the source tree.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-14  David Brownell <dbrownell@users.sourceforge.net>

	* : another portability update Just use "%p" instead of consing up some integral type for pointer
	printf.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-14  David Brownell <dbrownell@users.sourceforge.net>

	* : doc updates to match "help" better This makes the documentation a closer match to "help" output:  - "pathmove" somehow was not documented in the User's Guide  - "jtag_nsrst_assert_width" and "jtag_ntrst_assert_width"    are new; both needed descriptions.   - Removed two undocumented and fairly useless script mechanisms:     * production/production_info/production_test ... using it,       requires replacing everything; so having it adds no value.      * cpu ... way out of date; hopeless to keep that current Note that anyone using that "production" stuff already defines their
	own procedures, and can keep using them with no change.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-14  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : S29WS-N CFI query fix is to try 0x555 if 0x55 fails.

2009-10-14  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : iMX target config script's ported from Freescale BSP.

2009-10-14  David Brownell <dbrownell@users.sourceforge.net>

	* : omap2420.cfg updates Remove ircapture/mask attributes.  Add "srst_nogate".  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-13  Lennert Buytenhek <buytenh@wantstofly.org>

	* : fix pass_condition() LE condition code check The LE check is obviously buggy (as easily triggered during some
	testing), but I didn't audit the rest of the cases.  Signed-off-by: Lennert Buytenhek <buytenh@marvell.com>
	Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-13  Yauheni Kaliuta <y.kaliuta@gmail.com>

	* : Cleanup: nuke trailling whitespaces Signed-off-by: Yauheni Kaliuta <y.kaliuta@gmail.com>

2009-10-13  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : Retired gdb_attach. gdb-detach event covers this functionality.

2009-10-13  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : Fix warning.

2009-10-13  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : arm11 seems to gate JTAG when srst is asserted

2009-10-13  David Brownell <dbrownell@users.sourceforge.net>

	* : xscale: stackframe corruption bugfix Resolve a "FIX" comment; yes that was superfluous given that the
	JTAG core does that check by default.  It was also buggy since it
	wrote to a stack frame that went away before the write happened!! Other fixes:  remove pointless malloc(); zero-init scan_field_t
	values wherever they appear; whitespace scrub; spelling fix.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-12  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : arm11 burst writes are now only enabled for writes larger than 1
	word. Single word writes are frequently used from reset init scripts
	to non-memory peripherals.

2009-10-12  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : Retire arm11 no_increment. Intended for future expansion to
	read/write to ports. New arm11 commands would have to be added to
	exploit it.

2009-10-12  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : Fix warning and improve error message upon burst transfer
	failure

2009-10-12  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : Fix bogus 'transfer errors' with arm11 'memwrite burst enable'.
	A regression introduced in b8103660fa36a77158bd77379572c09913d85c00

2009-10-12  David Brownell <dbrownell@users.sourceforge.net>

	* : more xscale cleanup (mostly removing JTAG hooks) Streamline/shrink some needless JTAG stuff:  - Use #defines for the JTAG instructions; they can't ever change  - Remove an unused (!) shadow of tap->ir_length  - Stop using a copy of target->tap  - Don't bother saving the variant after sanity checking ir_length Also, make target_create() work as on other targets:  build the
	register cache later, making init_target() no longer be a NOP.
	Handle malloc failure; remove a comment that was obsoleted by the
	not-so-new target syntax.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-12  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : If halt times out, stop GDB. Allows e.g. manual reset via
	monitor commands.

2009-10-11  David Brownell <dbrownell@users.sourceforge.net>

	* : xscale_load_ic cleanup Remove unused and deprecated (in the arch spec) mode for loading
	code into the *main* icache (vs the "mini" icache).  Disable some
	extremely noisy (and rarely useful) low-level debug messages Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-11  David Brownell <dbrownell@users.sourceforge.net>

	* : xscale bugfix to handler loading Just fill out the rest of the cache line with NOPs; don't change the
	record of how much data we consumed.  Otherwise the count of how
	much data is left can roll over from positive to negative ("VERY
	positive") and skip the loop termination of zero.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-10  David Brownell <dbrownell@users.sourceforge.net>

	* : printf format warning fixes Observed on a Cygwin build.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-09  David Brownell <dbrownell@users.sourceforge.net>

	* : tweak new "translating ..." text Fix formatting and layout bugs in the new "translating configuration
	files" bit.  Make it a section within the chapter about config
	files.  Add a crossreference.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-09  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : Stop debug session if halt fails

2009-10-09  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : Merge commit 'origin/master'

2009-10-08  David Brownell <dbrownell@users.sourceforge.net>

	* : make PXA255 targets enumerate sort-of-OK Startup now mostly works, except that the initial target state is
	"unknown" ... previously, it refused to even start.  Getting that far required fixing the ircapture value (which can
	never have been correct!) and the default JTAG clock rate, then
	providing custom reset script.  The "reset" command is still iffy.  DCSR updates, and loading the
	debug handler, report numerous DR/IR capture failures.  But once
	that's done, "poll" reports that the CPU is halted (which it
	shouldn't be, this was "reset run"!), due to the rather curious
	reason "target-not-halted".  Summary:  you still can't debug these parts, but it's closer.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-08  David Brownell <dbrownell@users.sourceforge.net>

	* : minor JTAG init messaging tweaks Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-08  David Brownell <dbrownell@users.sourceforge.net>

	* : initial builds of OSK5912 boards need srst_pulls_trst This is clearly noted in the hardware spec (section 5.2.3); it works
	around a chip erratum:  "If the MPU_RESET signal is used, it may
	cause the EMIFS bus to lock." I seem to have a board with such an initial build.  The chip is
	labeled XOMAP.  Presumably, parts without that "X" prefix (eXperimental) resolve this.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-08  David Brownell <dbrownell@users.sourceforge.net>

	* : Stop ignoring most scan chain validation errors Among other things this causes startup errors to kick in the
	fallback "reset harder" logic during server startup.  Comments are
	also updated a bit, explaining what the various error paths signify
	(in at least my observation).  There's one class of validation error that we can still plausibly
	ignore:  when wrong IDCODE values are observed.  This change seems to have helped make an OMAP5912 behave much more
	reliably.  There's still some post-reset flakiness, but it's
	unrelated to scan verification.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-08  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : Testing committing changes to .gitignore to ignore more build
	output

2009-10-08  ÿyvind Harboe <oyvind.harboe@zylin.com>

	* : Stop GDB when polling fails, srst assert or powerdropout is
	detected

2009-10-07  David Brownell <dbrownell@users.sourceforge.net>

	* : make OMAP5912 resets more reliable Without some extra delay after releasing SRST, we seemed to be
	trying to talk to the TAP before it was ready to respond.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-07  David Brownell <dbrownell@users.sourceforge.net>

	* : Houston, we have Mirror!

2009-10-08  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Change most in-tree references from SVN to GIT.  Also, talk
	about "mainline" not "trunk".  The release.txt and release.sh files need more updates.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2825
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-10-07  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Better fix for TAPs violating the JTAG spec for IR-Capture.  Instead of just assuming all IDCODE-deprived TAPs violate the JTAG
	spec (they don't!), just require TAPs with such problems to be
	declared with proper ircapture/irmask values.  Example, with mask
	and value of zero.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2823
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-10-07  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : buildfix git-svn-id: svn://svn.berlios.de/openocd/trunk@2821
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-10-07  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Remove pointless "target library" chapter.  It had a very little bit of content; move that to the more extensive
	chapter on config file guidelines, and give more current "ls" output
	to show the available library code.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2820
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-10-07  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Updates for "reset_config":  - revert to previous default: don't talk JTAG during SRST  - add "srst_nogates" flag, the converse of "srst_gates_jtag"  - with no args, display the current configuration And update the User's Guide text with bullet lists to be a bit more
	clear.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2818
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-10-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : remove recrusive reset invocation from reset init callback git-svn-id: svn://svn.berlios.de/openocd/trunk@2816
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-10-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : add timeouts and fix syntax error handling of mrc/mcr commands.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2814
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-10-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Do not check ir capture if there is no IDCODE git-svn-id: svn://svn.berlios.de/openocd/trunk@2812
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-10-07  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Change version labels to work better with GIT  - The guess-rev.sh script is now a tweaked version of
	   "setlocalversion" as seen in Linux, U-Boot, and various other
	   projects.  When it finds source control support (git, hg, svn) it
	   uses IDs from there.  Else (specific to this project) it reports
	itself as "-snapshot", e.g. from gitweb.     I verified this new "guess-rev.sh" script runs under Cygwin.   - Also update the generic version strings to be like "0.3.0-dev"
	   (during development) instead of the very long
	   "0.3.0-in-development".  These also show up in the PDF docs.  For
	   better tracking, we might eventually change these strings to include
	the version IDs too.   - Change the startup banner version strings so they include the
	   guess-rev output.  Development and release versions with GIT will
	be like     Open On-Chip Debugger 0.3.0-dev-00282-g7191a4f-dirty
	    (2009-10-05-20:57) Open On-Chip Debugger 0.3.0
	(2009-10-05-20:57)    instead of the previous SVN-specific (even when using git-svn!)     Open On-Chip Debugger 0.3.0-in-development (2009-10-05-01:39)
	    svn:exported Open On-Chip Debugger 0.3.0 (2009-10-05-01:39)
	Release git-svn-id: svn://svn.berlios.de/openocd/trunk@2809
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-10-06  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add basic support for DM6446 EVM board.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2808
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-10-06  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Dragonite target script From: Nicolas Pitre <nico@fluxnic.net> git-svn-id: svn://svn.berlios.de/openocd/trunk@2806
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-10-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Introduced jtag_init and "jtag arp_init" to allow target scripts
	more control over how OpenOCD starts up and initializes the target.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2805
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-10-06  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Take "patches" out of .gitignore ... Win32 is case-crazy git-svn-id: svn://svn.berlios.de/openocd/trunk@2803
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-10-05  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add initial ".gitignore".  git-svn-id: svn://svn.berlios.de/openocd/trunk@2802
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-10-05  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Improve jtag_validate_ircapture() diagnostics.  Bugfix the error message so it shows the disliked value, and add a
	debug message showing each TAP's IR capture value, all N bits.  This just changes diagnostics ... it still ignores the parameters
	given to us at TAP declaration time.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2801
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-10-05  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Minor cleanup to ARM926 debug entry:  - don't needlessly export this function  - handle "case 0" debug method-of-entry better (silent by default) The "case 0" is a valid debug entry mode so it doesn't deserve the
	warning int now gets.  But it probably means that OpenOCD confused
	itself somehow; or that it confused the ARM9EJS target.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2799
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-10-05  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Get rid of needless OMAP and Davinci target config options so
	they provide better examples and are easier to maintain.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2797
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-10-02  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : It is not possible to invalidate I-Cache on memory writes while
	the target is running git-svn-id: svn://svn.berlios.de/openocd/trunk@2795
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-10-02  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : More error reporting in Cortex_a8 execute_opcode git-svn-id: svn://svn.berlios.de/openocd/trunk@2793
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-10-02  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Added asser_reset and deassert_reset for cortex_a8 git-svn-id: svn://svn.berlios.de/openocd/trunk@2791
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-10-01  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : ARMv7A: Report fault status registers when in Abort state git-svn-id: svn://svn.berlios.de/openocd/trunk@2789
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Improve release script version tag management commands.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2787
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Improve release script version handling commands.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2785
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Document and automate signature creation for the release
	archives.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2783
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-30  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Remove annoying EOL whitespace (again, sigh).  git-svn-id: svn://svn.berlios.de/openocd/trunk@2781
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-30  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : strip gdb config options git-svn-id: svn://svn.berlios.de/openocd/trunk@2779
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-29  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Streamline Capture-IR validation code  - Don't issue needless JTAG resets ... only do them after    errors. Normal exit now leaves every TAP in BYPASS.   - Fix an unlikely memory leak on one fault path.   - Remove the oddball limitation that invalid capture LSBs    trigger errors only for TAPs that support IDCODE.  Re the JTAG reset:  there are too many of them, and they can (and
	do!) change system state.  So the needless ones should get removed.
	This one was especially pointless.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2777
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-29  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Make "-expected-id 0" suppress warnings; not unlike it used to
	do.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2775
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-29  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : ETM: fix build issue on MinGW.  The Win32 global namespace is rather cluttered...  git-svn-id: svn://svn.berlios.de/openocd/trunk@2773
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-29  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : handle single threading git-svn-id: svn://svn.berlios.de/openocd/trunk@2771
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-29  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : httpd smoketest info git-svn-id: svn://svn.berlios.de/openocd/trunk@2769
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : if srst pulls trst, then set state to TAP_RESET.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2767
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-28  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Shrink symbols exported from arm9tdmi.c and remove a forward
	ref.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2765
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-27  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Update FT2232 driver so that it reliably enters TAP_RESET.  When the OpenOCD server starts up it records its state as TAP_RESET,
	even though it could be anything.  Then when it starts to examine
	the scan chain, it calls jtag_add_tlr() which sees it doesn't have
	any work to do, and so it does nothing.  This can make the next
	operations fail because they start from the wrong TAP state...  Instead of caring about the current recorded state, always enter
	TAP_RESET by forcing five clocks with TMS high.  (NOTE:  it seems most other JTAG adapter drivers have this same
	bug.) git-svn-id: svn://svn.berlios.de/openocd/trunk@2763
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-26  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : On DM355 EVM board, associate NAND chips with $_TARGETNAME
	instead of a target number.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2761
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-26  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Updates to the initial scanchain validation code:   - minor bug fixes   - code cleanup   - update comments   - improve diagnostics   - etc git-svn-id: svn://svn.berlios.de/openocd/trunk@2759
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-25  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Update DM355 target config to know about ICEpick.  Still
	defaults to nonstandard EMU0/EMU1 settings.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2757
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Try/catch scheme. Typed up the functionality and regression
	tested.  Ready for discussion and tiny patches that tries out this
	scheme.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2755
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-23  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Start handling the (second) SRST stage of reset better: make
	sure that when there are two or more targets, their various pre/post
	event reports are correctly ordered.  Previously, only the first target always saw its "pre" method before
	SRST was asserted or deasserted.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2753
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-23  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Start cleaning up ETM register handling.  On one ARM926 ETM+ETB
	system, removes 20 non-existent registers ... but still includes
	over 45 (!) ETM registers which don't even exist there ...   - Integrate the various tables to get one struct per register  - Get rid of needless per-register dynamic allocation  - Double check list of registers:     * Remove sixteen (!) non-registers for data comparators     * Remove four registers that imply newer ETM than we support     * Change some names to match current architecture specs  - Handle more register info     * some are write-only     * some are read-only     * record which versions have them, just in case  - Reorganize the registers to facilitate removing the extras     * group e.g. comparator/counter #N registers together     * add and use lookup-by-ID git-svn-id: svn://svn.berlios.de/openocd/trunk@2751
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-23  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Nico Coesel <ncoesel@dealogic.nl> fix warnings. . I'm wondering
	why these didn't turn up earlier. Is everyone still using gcc 3.x?
	Or is the x86 version of gcc 4.x much more relaxed? git-svn-id: svn://svn.berlios.de/openocd/trunk@2749
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-22  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add missing svn props from previous commit git-svn-id: svn://svn.berlios.de/openocd/trunk@2747
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-21  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Update presentation of TAP events and tap enable/disable.  Highlight that the "post-reset" event kicks in before the scan chain
	is validated, which limits what can be done in a post-reset handler.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2745
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-21  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Remove annoying end-of-line whitespace from tcl/* files git-svn-id: svn://svn.berlios.de/openocd/trunk@2743
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Ethan Eade <ethan@evolution.com> board config script for Cogent
	CSB732 i.MX35 (arm1136) git-svn-id: svn://svn.berlios.de/openocd/trunk@2741
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-21  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Update the jtag-examine_chain() logic to verify that there's no
	garbage after the expected data (from the TAPs' BYPASS or IDCODE
	registers).  NOTE that there was previously some code that looked like it was
	trying to do this ... which didn't work, because it was looping over
	the list of expected TAPs, and never checked *after* that list
	completed!  That could hide some *nasty* reset issues...  Also replace a now-obsolete scanchain length test with one that
	behaves correctly; and update reporting of unexpected IDCODEs.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2739
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-20  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Update the User's Guide to cover the scan chain verification
	step done on exit from the config stage, how JTAG clocking issues
	can trigger errors there, and how to avoid such problems.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2737
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-20  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Minor regression bugfix for the jtag_tap_handle_event() case for
	disabling TAPs.  We don't actually know how to make any JRCs which
	do that yet; but when we do, this will matter.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2735
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-19  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Avoid cache invalidation when writing to hardware debug
	registers git-svn-id: svn://svn.berlios.de/openocd/trunk@2733
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-19  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Style cleanup for the updated ft2232_add_pathmove().
	Indentation, whitespace, line lengths.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2731
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-19  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Minor tweaks to description of JTAG adapter/dongle issues.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2729
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : remove unused externs git-svn-id: svn://svn.berlios.de/openocd/trunk@2727
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-17  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Address codereview comment from Steve Grubb <sgrubb@redhat.com>:
	avoid a duplicate test.  Plus other cleanup in the same code: be "static", sane line lengths
	for source and diagnostics, and fix misleading variable names.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2725
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-17  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix coredump seen in some code paths.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2723
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-17  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : prefix zy1000_reboot command to avoid name conflicts git-svn-id: svn://svn.berlios.de/openocd/trunk@2721
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-17  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : The "arm9tdmi.c" file is more of a generic ARM9 support file:  - update comments to say so.   - update docs to clarify that the "arm9tdmi" command prefix    is a misnomer.   - bugfix some messages that wrongly assume only ARM9TDMI    based processors use this code.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2719
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-16  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Remove unused varables (moved to armv7a) git-svn-id: svn://svn.berlios.de/openocd/trunk@2717
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Rolf Meeser <rolfm_9dq@yahoo.de> adds flash support for NXP's
	LPC2900 family (ARM968E).  git-svn-id: svn://svn.berlios.de/openocd/trunk@2715
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-15  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Updated mode string list.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2713
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-15  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix bug when using 32 instead of 64 bit value in callback,
	caught by -Wall git-svn-id: svn://svn.berlios.de/openocd/trunk@2711
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-14  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Check return values to avoid infinite wait in loop on error.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2709
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : error message upon recursive invocation of reset from reset
	event handlers git-svn-id: svn://svn.berlios.de/openocd/trunk@2707
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Rolf Meeser <rolfm_9dq@yahoo.de> warning fix in previous commit
	was wrong. target_code_size needs the real value later.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2705
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Magnus Lundin <lundin@mlu.mine.nu> Disable poll while core
	register initialization git-svn-id: svn://svn.berlios.de/openocd/trunk@2703
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-13  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix argument passing in cortex_a8_write_cp.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2701
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> Update the board config for
	the DaVinci DM355 EVM so the reset-init event handler does the rest
	of the work it should do:  - minor PLL setup bugfixes  - initialize the DDR2 controller  - probe both NAND banks  - initialize UART0  - enable the icache git-svn-id: svn://svn.berlios.de/openocd/trunk@2699
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> some early todo items on
	run_algorithm git-svn-id: svn://svn.berlios.de/openocd/trunk@2697
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-11  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - revert change made to sheevaplug.cfg in rev2573 git-svn-id: svn://svn.berlios.de/openocd/trunk@2695
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Nicolas Pitre <nico@cam.org> Dragonite support git-svn-id: svn://svn.berlios.de/openocd/trunk@2693
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : do not use dynamically sized stack arrays, not compatible with
	embedded OS's git-svn-id: svn://svn.berlios.de/openocd/trunk@2691
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : syntax error fix git-svn-id: svn://svn.berlios.de/openocd/trunk@2689
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Nicolas Pitre <nico@cam.org> tighten error checking in
	bulk_write git-svn-id: svn://svn.berlios.de/openocd/trunk@2687
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Alexei Babich <a.babich@rez.ru>  imx31 nand flash controller
	support git-svn-id: svn://svn.berlios.de/openocd/trunk@2685
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : michal smulski <michal.smulski@ooma.com> telo target/board
	scripts git-svn-id: svn://svn.berlios.de/openocd/trunk@2683
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-09  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Fix bug-in-waiting when adding more than one TAP event type - Infinite loop bugfix when running tap configure a second time git-svn-id: svn://svn.berlios.de/openocd/trunk@2681
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-09  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> Fix docs on ARM11 MCR and
	MRC coprocessor commands: correct read-vs-write; and describe the
	params.  (ARM920 and ARM926 have cp15-specific commands; this approach is
	more generic.  MCR2, MRC2, MCRR, MCRR2, MRRC, and MRRC2 instructions
	could also get exposed.) git-svn-id: svn://svn.berlios.de/openocd/trunk@2679
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-08  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Load PC with bit 0 set to 1 when resuming  to say in Thumb
	instruction state.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2677
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> lean up some loose ends
	with the ARM disassembler  - Add a header comment describing its current state and uses    and referencing the now-generally-available V7 arch spec  - Support some mode switch instructions:     * Thumb to Jazelle (BXJ)     * Thumb to ThumbEE (ENTERX)     * ThumbEE to Thumb (LEAVEX)  - Improve that recent warning fix (and associated whitespace goof)  - Declare the rest of the internal code and data "static".  A    compiler may use this, and it helps clarify the scope of these    routines (e.g. what changes to them could affect).  git-svn-id: svn://svn.berlios.de/openocd/trunk@2675
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Mahr, Stefan <Stefan.Mahr@sphairon.com> removes the endianness
	swapping in mips_m4k.c Swapping is already done in target.c git-svn-id: svn://svn.berlios.de/openocd/trunk@2673
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Dirk Behme <dirk.behme@googlemail.com> retire jtag_speed usage git-svn-id: svn://svn.berlios.de/openocd/trunk@2671
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : set ARM mode using explicit command rather than soft_reset_halt
	which has lots of side effects.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2669
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : more debug output for breakpoints git-svn-id: svn://svn.berlios.de/openocd/trunk@2667
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> "set _TARGETNAME ..."
	cleanup git-svn-id: svn://svn.berlios.de/openocd/trunk@2665
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-03  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell Abstract the orion_nand_fast_block_write() routine into a separate
	routine -- arm_nandwrite() -- so that other ARM cores can reuse it.  Have davinci_nand do so.  This faster than byte-at-a-time ops by a
	factor of three (!), even given the slowish interactions to support
	hardware ECC (1-bit flavor in that test) each 512 bytes; those could
	be read more efficiently by on-chip code.  NOTE that until there's a generic "ARM algorithm" structure, this
	can't work on newer ARMv6 (like ARM1136) or ARMv7A (like Cortex-A8)
	cores, though the downloaded code itself would work just fine there.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2663
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-02  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Crusty Code fixes from the tcl directory re-arragements git-svn-id: svn://svn.berlios.de/openocd/trunk@2661
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-01  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix a regression when using cortex_m3 emulated dcc channel git-svn-id: svn://svn.berlios.de/openocd/trunk@2659
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-31  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Gary Carlson <gcarlson@carlson-minot.com> config file git-svn-id: svn://svn.berlios.de/openocd/trunk@2657
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-30  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> Minor code bugfix: check
	right variable.  Via code review by Steve Grubb
	<sgrubb@redhat.com>¬† Almost innocuous; this is value is checked later, this check being
	wrong would make it check stack garbage.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2655
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-30  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> Fix Sandstorm revision
	checking: right bits, right value! git-svn-id: svn://svn.berlios.de/openocd/trunk@2653
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-30  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> Minor doc updates:  - Itemize the list of private customization examples   for openocd.cfg  - Add "override defaults" as a customization, specifically   for the work area (back it up or relocate it)  - Highlight some work area location issues git-svn-id: svn://svn.berlios.de/openocd/trunk@2651
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-30  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> Be sure the built-in search
	paths always go *after* ones provided on the command line ...
	matching comment in add_default_dirs().  Without this it's impossible to use a private config file which
	happens to have the same name as an installed one.  Say, because
	you're bugfixing a private copy...  git-svn-id: svn://svn.berlios.de/openocd/trunk@2649
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added arm11 timeout error messages git-svn-id: svn://svn.berlios.de/openocd/trunk@2647
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> The Stellaris eval boards
	don't have TRST signals, so defining ntrst_delay is pointless;
	don't.  At least the LM3S3748 eval board doesn't need nsrst_delay either;
	remove that too.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2645
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : arm11 hardware step using simulation + breakpoint. Use
	"hardware_step enable" command to revert to hardware stepping.
	Ideally we could retire the "hardware_step enable" command once we
	no longer believe it to be necessary.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2643
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : arm11 single stepping wip git-svn-id: svn://svn.berlios.de/openocd/trunk@2641
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : some arm11 stuff that isn't done yet.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2639
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Matt Hsu <matt@0xlab.org> and Holger Hans Peter Freyther
	<zecke@selfish.org>  Print the value that the method didn't like git-svn-id: svn://svn.berlios.de/openocd/trunk@2637
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Matt Hsu <matt@0xlab.org> cortex-a8: Copy some more registers
	from the documentation git-svn-id: svn://svn.berlios.de/openocd/trunk@2635
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Matt Hsu <matt@0xlab.org> Wait for the DTRRX to be full before
	reading it. Remove the trans_mode change as it is done in the
	mem_ap_read_atomic_u32 function.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2633
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> Fix segv in
	jtag_examine_chain(): exit loop on no-tap.  Keep "next iteration"
	step with the rest of the loop overhead.  Cleanup:  remove spurious whitespace, and an overlong line; only
	assign "tap->hasidcode" once.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2631
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Remove bogus "BUG:". If the PC is pointing to an invalid
	instruction, then simulation will fail. This is expected.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2629
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Michael Schwingen <rincewind@discworld.dascon.de> news about
	xscale git-svn-id: svn://svn.berlios.de/openocd/trunk@2627
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> Various updates to 0.3.0
	NEWS git-svn-id: svn://svn.berlios.de/openocd/trunk@2625
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> More jtag_add_reset()
	cleanup: Unify the handling of the req_srst parameter, and rip out a large
	NOP branch and its associated FIXME.  (There didn't seem to be
	anything that needs fixing; but that was unclear since the
	constraints were scattered all over the place not unified.) git-svn-id: svn://svn.berlios.de/openocd/trunk@2623
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> Some jtag_add_reset()
	cleanup:  - Track whether TRST and/or SRST actually change:     * If they're not changing, don't ask the JTAG adapter to do
	      anything! (JTAG TCK/TMS ops might still be used to enter
	    TAP_RESET though.) * Don't change their recorded values until after the adapter says it       did so ... so fault paths can't leave corrupt state.      * Detect and report jtag_execute_queue() failure mode     * Only emit messages saying what really changed; this includes
	      adding an omitted "deasserted TRST" message.      * Only apply delays after deasserting SRST/TRST if we *DID*
	    deassert!  - Messages say "TLR" not "RESET", to be less confusing; there are
	   many kinds of reset.  (Though "TLR" isn't quite ideal either, since
	   it's the name of the TAP state being entered by TMS+TCK or TRST;
	   it's at least non-ambiguous in context.) So the main effect is to do only the work this routine was told to
	do; and to have debug messaging make more sense.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2621
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Michael Schwingen <rincewind@discworld.dascon.de> fix previous
	doc patch git-svn-id: svn://svn.berlios.de/openocd/trunk@2619
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Michael Schwingen <rincewind@discworld.dascon.de> a small CFI
	cleanup git-svn-id: svn://svn.berlios.de/openocd/trunk@2617
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Ferdinand Postema <ferdinand@postema.eu> fix warnings git-svn-id: svn://svn.berlios.de/openocd/trunk@2615
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Michael Schwingen <rincewind@discworld.dascon.de> The attached
	patch adds a "xscale vector_table" command that allows to set the
	values that are written in the mini-IC (plus documentation updates
	that describe why this is needed).  git-svn-id: svn://svn.berlios.de/openocd/trunk@2613
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Brian Findlay <findlaybrian@gmail.com> finalize mini2440.cfg git-svn-id: svn://svn.berlios.de/openocd/trunk@2611
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell The rest of the Cortex-A8 support from Magnus:
	replace the previous nonfunctional cortex_a8 code with something
	that at least basically works (for halt/step/resume, without MMU)
	even if it is incomplete.  (With tweaks from √òyvind, and cleanup
	from Dave.) This code has mainly been developed and tested against R1606, it has
	been built and tested against R2294 where it runs but step and
	resume commands are broken due to regression (which should be fixed
	now).  This code is really written for OMAP3530.  It doesn't identify debug
	resources using generic DAP calls to scan the ROM table, or perform
	topology detection.  The OMAP3530 DAP exposes two memory access
	ports:  - Port #0 is connected to L3 interconnect (the main bus) with    passthrough to the L4 EMU bus ... so it will be used for most    memory accesses.   - Port #1 is connected to a dedicated debug bus (L4 EMU), with    access to L4 Wakeup, and holds the ROM table ... so it must    be used for most debug and control operations.  The are some defines to handle this in cortex_a8.c, which should be
	replaced with more general code.  Having access to another Cortex-A8
	implementation would help get that right.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2609
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : add missing isblank() for eCos git-svn-id: svn://svn.berlios.de/openocd/trunk@2607
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Jonas Horberg <jhorberg@sauer-danfoss.com> The trunk is
	currently broken for interfaces without the speed_div function
	(interface specific clock speed value to kHz conversion). Example:
	parport.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2605
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : native line endings git-svn-id: svn://svn.berlios.de/openocd/trunk@2603
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Florian Boor <florian.boor@kernelconcepts.de> fixes a segfault
	executing commands from the web interface using the "Run Command"
	tab.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2601
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-20  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - remove enable-ft2232-highspeed configure option, high speed ftdi
	support is now detected during the configure stage - warning now issued if high speed ftdi device found and openocd was
	built using an old driver git-svn-id: svn://svn.berlios.de/openocd/trunk@2599
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-19  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Jonas Horberg [jhorberg@sauer-danfoss.com]: Fix small typo in
	ftd2xx type detection git-svn-id: svn://svn.berlios.de/openocd/trunk@2597
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> Clean up some Cortex-M3
	reset handling.   - AIRCR_SYSRESETREQ is generic; use it on any system where   SRST won't fly, not just on Stellaris-based ones.   - Reformat and improve comments about the Stellaris quirk; and   xref the only public docs (an email) about the issue.  It seems that *most* Stellaris chips have this problem.  Tempest
	parts aren't yet in general sampling; and if rev B silicon for
	earlier chips exists, it's not very visible yet.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2595
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Brian Findlay <findlaybrian@gmail.com> Board support for
	mini2440 (friendlyARM) samsung s3c2440 based board git-svn-id: svn://svn.berlios.de/openocd/trunk@2593
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-18  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Jonas Horberg [jhorberg@sauer-danfoss.com]

	https://lists.berlios.de/pipermail/openocd-development/2009-August/009939.html1. It can only be built with the FTD2XX driver. libftdi supports
	FT2232H/FT4232H since version 0.16 2. A speed value of 0 is used as a RTCK request indicator. This
	clashes with the valid clock division value 0 that provide the
	highest fixed clock frequency.  3. The ft2232_speed_div function return the maximum selectable
	frequency (30MHz) when RTCK is activated. It should return 0.  4. The ft2232_khz function return ERROR_OK when RTCK is requested
	even for devices lacking RTCK support. It should return ERROR_FAIL
	so the upper driver layers can detect this and try to fallback to a
	fixed frequency.  5. FT2232H/FT4232H have a backward compatibility function that
	divide the clock by 5 to get the same frequency range as FT2232D.
	There is no code that disable this functionality. I can not find
	anything about if this is enabled or disabled by default.  I think
	it is safest to actively disable it.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2591
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> Cleanup the Stellaris
	target configs:  - remove endianness options; these chips hard-wire "little"  - $_TARGETNAME updates:     * don't pass $_TARGETNAME where a TAP label is required     * flash config uses $_TARGETNAME (it might not be target #0)     * simplify one $_TARGETNAME construction  - update work area setup:     * remove VM spec; these chips have no VM!     * fix some wrong sizes (0x4000 == 16K, not 4K)     * simplify: take defaults  - comment fixups git-svn-id: svn://svn.berlios.de/openocd/trunk@2589
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> Clean up ARM7/ARM9
	EmbeddedICE register handling ... don't use parallel arrays (error
	prone) or assume all registers are 32-bits wide (they can have fewer
	bits); don't use spaces in register names, so they can be passed
	more easily to the "reg" command.  Minor updates for ARM9 vector_catch support:  it's an 8-bit value.
	This seems to help this core's vector_catch command work a bit
	better; but its behavior wih the register cache is still goofy.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2587
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Piotr Ziecik <kosmo@semihalf.com> Due to errors in chipselect
	management in davinci_nand driver OpenOCD was able to access only to
	chips attached to first EMIF chipselect. This patch fixes chipselect
	management code and allows OpenOCD to access to NAND devices
	attached to any EMIF CS line.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2585
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : michal smulski <michal.smulski@ooma.com> arm11 target config
	files git-svn-id: svn://svn.berlios.de/openocd/trunk@2583
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Ferdinand Postema <ferdinand@postema.eu> cygwin 32 bit warning git-svn-id: svn://svn.berlios.de/openocd/trunk@2581
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-13  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Audrius Urmanaviƒçius [didele.deze@gmail.com]: Add flash
	programming support for NXP LPC1700 cortex_m3 based family git-svn-id: svn://svn.berlios.de/openocd/trunk@2579
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-07  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Better explanation for the
	TAP "-ircapture" parameter.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2577
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-07  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix segfault introduced during cortex reg cleanup git-svn-id: svn://svn.berlios.de/openocd/trunk@2575
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-06  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Bring all the ftdi names inline in the cfg scripts. scripts will
	now work for either ftd2xx or libftdi drivers.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2573
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-31  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add configure error if building parport interface under cygwin and
	sys/io.h missing git-svn-id: svn://svn.berlios.de/openocd/trunk@2571
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : add "dummy" interface trick to the BUGS reporting suggestions git-svn-id: svn://svn.berlios.de/openocd/trunk@2569
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : More instruction decoding fixes:        A5.3.5 Load/store multiple        A5.3.7 Load word There was a longstanding bug in Thumb-1 LDM; the rest of the LDM/STM
	fixes are just using width specs to match UAL syntax, except for two
	opcode name typos.  Load word had two bitmask goofs.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2567
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> More instruction decoding
	fixes:        A5.3.5 Load/store multiple        A5.3.7 Load word There was a longstanding bug in Thumb-1 LDM; the rest of the LDM/STM
	fixes are just using width specs to match UAL syntax, except for two
	opcode name typos.  Load word had two bitmask goofs.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2565
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> Bugfix some instruction
	decoding ... I've crafted asm files with testcases covering several
	new encodings in these sections of the ARMv7-M arch manual:  A5.3.12 Data processing (register)  A5.3.13 Miscellaneous operations  A5.3.14 Multiply, and multiply accumulate  A5.3.15 Long multiply, long multiply accumulate, and divide The issues were mostly in '12 and '13; some new related 16-bit
	opcodes had issues too.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2563
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-23  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>  thumb2 disassembly for
	Load halfword git-svn-id: svn://svn.berlios.de/openocd/trunk@2561
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-23  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Ferdinand Postema <ferdinand@postema.eu> fix cygwin warnings git-svn-id: svn://svn.berlios.de/openocd/trunk@2559
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Jonathan Cameron <jic23@cam.ac.uk> fix regression from 1836 when
	the reset_config command was removed from pxa270.cfg git-svn-id: svn://svn.berlios.de/openocd/trunk@2557
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-21  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Dump SP on poll, and show whether it's MSP or PSP.  Thread mode can use either stack pointer, so this is part of the
	state that's not yet displayed.  Shrink some lines.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2555
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-21  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Minor updates to the Thumb2 disassembly:  - Bugfixes:     * Distinguish branch from misc via "!=" not "=="     * MRS register shift is 8 bits (vs MSR being 16)  - Format tweaks:     * CPS needed tab (not space)     * add commma before some shifts     * add space after comma in LDM/STM     * use ".W" width spec on various instructions git-svn-id: svn://svn.berlios.de/openocd/trunk@2553
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-20  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix issue with reading device id, bug appeared when flash_address
	code was added - fix issue when multiple flash chips are connected, eg. x16 x 2 on
	32bit mcu bus git-svn-id: svn://svn.berlios.de/openocd/trunk@2551
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-17  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Andreas Fritiofson <andreas.fritiofson@gmail.com> UTF8 fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2549
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : microscopic whitespace cleanup git-svn-id: svn://svn.berlios.de/openocd/trunk@2547
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-16  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - disable using parport ppdev under win32 hosts git-svn-id: svn://svn.berlios.de/openocd/trunk@2545
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-16  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Magnus Lundin <lundin@mlu.mine.nu>, Oyvind Harboe
	<oyvind.harboe@zylin.com>, David Brownell <david-b@pacbell.net>: Some cleanup of the ARMv7-M support:  - Reference the relevant ARMv7-M ARM doc (DDI 0405C to
	   non-Vendors), and update the Cortex-M3 doc refs (DDI 0337C is no
	longer available).   - Those registers aren't actually general, and some are incorrect
	   (per all public docs anyway).  Update comments and code
	accordingly.       * What the Core Debug facility exposes is
	       *implementation-specific* not architectural.  These values
	       aren't fully portable.  They match Cortex-M3 ... so no current
	       implementation will make trouble, but the next v7m implementation
	might.       * Four of the registers are actually not exposed that way.
	       Before Cortex-M3 r2p0 they are read/written through MRS/MSR
	       instructions.  In that newest silicon, they are four bytes in one
	       register, not four separate registers.   - Update the CM3 code to report when that one register is
	   available, and not try to access it when it isn't.  Also declare
	   the register numbers that an eventual MRS/MSR solution will need to
	be using.   - Stop line wrapping the exception labels.  So for parts before r2p0 OpenOCD behavior is effectively unchanged,
	and still buggy; but for those newer parts a few things might now be
	correct.  Most current Cortex-M3 parts use r1p1 (or earlier); this seems to
	include most LM3S parts and all STM32 parts.  Parts using r2p0 are
	available, and include fourth generation LM3S parts ("Tempest") plus
	AT91SAM3 and LPC17xx parts which are now sampling.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2543
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-15  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: More 32-bit Thumb2 instruction decoding:         A5.3.12 Data processing (register) git-svn-id: svn://svn.berlios.de/openocd/trunk@2541
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-15  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: More instructions decoded:         A5.3.5 Load/store multiple The preferred PUSH/POP syntax is shown when appropriate.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2539
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-15  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: More Thumb2 32-bit opcode support:          A5.3.10 Store single data item Byte, word, halfword.  Offset, pre-index, post-index.  And a "make
	like you're unprivileged" option when using small immediate offsets.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2537
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-15  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Make disassembly of the Thumb load-literal instruction show the
	address of the literal being loaded (so users can avoid doing that
	math themselves).  Add and use an Align(PC,4) utility.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2535
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-15  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Make the Thumb2 disassembler handle more 32-bit instructions:   A5.3.1 Data processing (modified immediate) My small sample shows GCC likes to use many of these instructions.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2533
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-15  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Change layout of Thumb disassembly to work better with Thumb2:  - Move opcode to the left, allowing space for four hex bytes:     * after address, two spaces not one tab (taking 6 spaces)     * after 2-byte opcode, four spaces before tab  - Also, after opcode mnemonic use a tab not a space, to make    operands line up Sample output (after some patches decoding a few 32-bit
	instructions): 0x00003e5a  0xf4423200  ORR     r2, r2, #131072 ; 0x20000 0x00003e5e
	0x601a      STR     r2, [r3, #0x0] 0x00003e60  0x2800      CMP
	r0, #0x00 0x00003e62  0xd1f3      BNE     0x00003e4c 0x00003e64
	0xf008fa38  BL      0x0000c2d8 The affected lines of code now wrap at sane margins too.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2531
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-15  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : print errno when parport fails to open.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2529
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Eclipse settings include charset.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2527
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-14  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix small typo in documentation git-svn-id: svn://svn.berlios.de/openocd/trunk@2525
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-14  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Archive released NEWS file: NEWS -> NEWS-0.2.0 Create new NEWS
	file from release script template.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2522
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-14  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Remove '-in-development' version tag: 0.2.0-in-development ->
	0.2.0 git-svn-id: svn://svn.berlios.de/openocd/trunk@2517
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-14  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Split Windows README instructions into new file, with a few
	fixes.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2515
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-13  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Gary Carlson <gcarlson@carlson-minot.com> Spencer Oliver
	<spen@spen-soft.co.uk> - fix jlink win32/linux/darwin startup issues - see

	https://lists.berlios.de/pipermail/openocd-development/2009-July/009438.htmlgit-svn-id: svn://svn.berlios.de/openocd/trunk@2513
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Xiaofan Chen <xiaofanc@gmail.com> retire obsolete patch. OpenOCD
	only supports 0.14 and newer and the patch was for 0.14.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2511
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Peter Denison <openwrt@marshadder.org> workaround for broken
	USBprog w/short tms sequences git-svn-id: svn://svn.berlios.de/openocd/trunk@2509
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-11  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Simple warning fix git-svn-id: svn://svn.berlios.de/openocd/trunk@2507
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : noted XScale (or USBProg) problem git-svn-id: svn://svn.berlios.de/openocd/trunk@2505
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add style rule to avoid combining assignment and logical tests.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2503
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add microscopic style guide at the end of the PATCH primer.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2501
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix SEGFAULTs and broken error handling for flash programming
	w/working area git-svn-id: svn://svn.berlios.de/openocd/trunk@2499
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Xscale installation regression entered git-svn-id: svn://svn.berlios.de/openocd/trunk@2497
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : some TODO notes on aduc702x which clearly needs more work &
	testing git-svn-id: svn://svn.berlios.de/openocd/trunk@2495
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : sharpen reset_config for imx27 - use both trst & srst. srst
	pulls trst.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2493
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Zach Welch: move bugs into the right section git-svn-id: svn://svn.berlios.de/openocd/trunk@2491
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fixed a small typo in howto create doxygen docs git-svn-id: svn://svn.berlios.de/openocd/trunk@2489
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : delete long retired commented out code (daemon_startup) git-svn-id: svn://svn.berlios.de/openocd/trunk@2487
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added known arm926ejs regressions git-svn-id: svn://svn.berlios.de/openocd/trunk@2485
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-06  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - change sleep to usleep - fixes issue under win32 build git-svn-id: svn://svn.berlios.de/openocd/trunk@2483
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : more debug output for translation of arm mode number to enum git-svn-id: svn://svn.berlios.de/openocd/trunk@2481
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix certain arm926ejs targets(e.g. i.MX27) which report an
	unknown MOE(method of entry) - interpret this as dbgrq. "reset run"
	+ "halt" + "step" now works.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2479
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : revert svn 1679 - fixes cp15 read/write timeout. Single stepping
	still broken.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2477
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-06  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : The late birth of the NEWS file also caused me to revisit the
	release process once again and reconsider it in some detail.  In
	doing so, some further revisions to the process were required: 1) The URL of the repository is embedded in the released code.     - The packages need to be created from the tagged branch.     - The URL then points to where to get the tagged code.  2) Improve the instructions for NEWS handling.     - NEWS file must be updated for each release; describe that
	   process.  - The NEWS file should be archived an recreated for each release.  3) Add detail steps for the berliOS release process.  4) Minor cleanups to release process doxygen markup.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2475
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-06  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add script to automate most of the release process.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2473
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-06  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Gary Carlson <gcarlson@carlson-minot.com>: Fix intermittent J-Link interface startup failures: - Use usb_reset to ensure selected dongle is in known good state.  - Assert emulator reset durning status check to prevent supurious
	failures.  - Eliminate status check loop; not needed due to other fixes.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2471
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : simplify debug_reason check git-svn-id: svn://svn.berlios.de/openocd/trunk@2469
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : bitrot: fix numerous syntax errors added correct jtag device id git-svn-id: svn://svn.berlios.de/openocd/trunk@2467
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : try to use tabs instead of spaces git-svn-id: svn://svn.berlios.de/openocd/trunk@2465
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : zy1000 now listens for port 1234. Upon accepting connection
	reboot zy1000.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2463
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-03  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : more files to svn:ignore git-svn-id: svn://svn.berlios.de/openocd/trunk@2460
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-02  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add AUTHORS.ChangeLog file suitable to be passed to 'svn2cl
	--authors'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2458
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-02  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Remove --enable-release option; if guess-rev.sh is missing, it
	is a release.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2456
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-02  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix FTD2XX build for CygWin.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2454
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : add svn:ignore to INSTALL file (it's generated) git-svn-id: svn://svn.berlios.de/openocd/trunk@2452
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> Fix two texinfo formatting
	bugs.  The first was visible by reading the output, and both were
	reported in openocd.log after making the PDF.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2449
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-02  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Prepare the DaVinci PLL code to support the version 0x0E module used
	in newer chips (e.g. dm365):  rename the original code so it's
	specific to version 0x02 PLL modules, and update the dm355evm code
	to use that new name.  Fix two minor bugs in that version 2 code:  sysclk3 setup used the
	sysclk2 divider address (affecting video processing on dm355, no
	worry for now) and sysclk2 setup had a syntax error.  Also minor fixups to dm355evm, mostly to permit use of RTCK.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2447
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-01  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Minor fixes to Developer Manual pages.  - Fix cosmetic bug on main page - Add missing JTAG list item.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2445
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-01  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add missing copyright header and fix @page direction in
	membuf.h.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2443
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-01  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add comments to README about compiler and library dependencies.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2441
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-01  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - correct stm32 connectivity line programming as per latest manual git-svn-id: svn://svn.berlios.de/openocd/trunk@2439
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Extend 'make dist' to produce both .tar.bz2 and .zip archives,
	to complement to the standard .tar.gz package.  Now, pick your
	poison! git-svn-id: svn://svn.berlios.de/openocd/trunk@2437
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Switch automake handling to use --gnu mode, not --foreign.
	Remove INSTALL file; automake generates a copy of the latest
	version.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2435
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add svn:eol-style native property to TCL files that are missing
	it.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2433
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-30  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : freddie_chopin@op.pl fix handling of workarea git-svn-id: svn://svn.berlios.de/openocd/trunk@2431
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Marcel Jost <marcel.jost@bfh.ch>: This patch adds support for the Luminary Micro LM3S9B90 target and
	LM3S9B92 Evaluation Kit.  These kits include a new ft2232 adapter,
	the Luminary In-Circuit Debug Interface (ICDI) Board, so this is
	added as a new ft2232 layout called "luminary_icdi".  git-svn-id: svn://svn.berlios.de/openocd/trunk@2429
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Improve BUGS file wording and layout.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2427
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix search and replace casualty in flash.h doxygen block.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2425
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix doxygen warnings in new at91sam3 source file; normalize
	style.  Remove editor configuration from end of file.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2423
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Make bug reporting output at program start-ups use fewer new
	lines: - Move repository URL output associate it with the version; they
	relate.  - 'openocd --version' output now appears much more terse, as
	expected.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2421
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-29  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Kevin Bortis <stm32@bortis.ch> fix worksize git-svn-id: svn://svn.berlios.de/openocd/trunk@2419
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-29  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Remove some bogus warnings during server startup for ARM926ejs
	targets that were already halted for debug ... e.g. started up a
	freshly built instance.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2417
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-29  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Warn when people (or scripts) use numeric identifiers for TAPs,
	instead of dotted.name values.  We want this usage to go away, so
	that for example adding more TAPs doesn't cause config scripts to
	break because some sequence number changed.  It's been deprecated since late 2008, but putting a warning on this
	should help us remove it (say, in June 2010) by helping to phase out
	old (ab)usage in config scripts.  Other than in various config files, the only code expecting such a
	number was the almost unused str9xpec driver.  This code was changed
	to use the TAP it was passed, instead of making its own dubious
	lookup and ignoring that TAP.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2415
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-29  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Move JTAG interface list to new files.  - Adds new source files to encapsulate static/dynamic module
	handling.  - Further work should implement the jtag_interface_modules_load
	  routine, to populate the jtag_interfaces list from shared libraries
	in a path.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2413
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-28  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Remove extra newline from debug log message git-svn-id: svn://svn.berlios.de/openocd/trunk@2411
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-28  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Refactor code, create target_state_name() git-svn-id: svn://svn.berlios.de/openocd/trunk@2409
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-27  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Change from alloca() to malloc() git-svn-id: svn://svn.berlios.de/openocd/trunk@2407
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : zy1000 rev C work git-svn-id: svn://svn.berlios.de/openocd/trunk@2405
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-25  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix issue when using gdb_port cmd - bug introduced in r2240 git-svn-id: svn://svn.berlios.de/openocd/trunk@2403
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-25  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fixes from Oleksandr Tymoshenko "gonzo@bluezbox.com" git-svn-id: svn://svn.berlios.de/openocd/trunk@2401
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-24  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Minor fixes to new at91sam3 files for x86-32/64 compilation
	problems.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2399
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-24  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Replace '){' with ') {'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2397
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-24  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Remove whitespace that occurs after '('.  - Replace '([ \t]*' with '('.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2395
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-24  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Fixes '[|]' whitespace - Replace '\(\w\)\([|]\)\(\w\)' with '\1 \2 \3'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2393
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-24  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Fixes '=' whitespace - Replace '\(\w\)\(=\)\(\w\)' with '\1 \2 \3'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2391
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-24  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Replace 'for(' with 'for ('.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2389
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-24  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Replace 'while(' with 'while ('.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2387
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-24  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - correct configure ftd2xx highspeed test git-svn-id: svn://svn.berlios.de/openocd/trunk@2385
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-24  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add support for ATMEL AT91SAM3U - CortexM3 Family git-svn-id: svn://svn.berlios.de/openocd/trunk@2383
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-24  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add a growable sprintf memory buffer library git-svn-id: svn://svn.berlios.de/openocd/trunk@2381
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Remove whitespace at end of lines, step 1.  - Replace '\s*$' with ''.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2379
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Remove whitespace that occurs before ')'.  - Replace '[ \t]*[)]' with ')'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2377
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Fixes '[<>]' whitespace - Replace ')\([<>]\)(' with ') \1 ('.  - Replace ')\([<>]\)\(\w\)' with ') \1 \2'.  - Replace '\(\w\)\([<>]\)(' with '\1 \2 ('.  - Replace '\(\w\)\([<>]\)\(\w\)' with '\1 \2 \3'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2375
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Fixes '+' whitespace - Replace ')\(+\)(' with ') \1 ('.  - Replace ')\(+\)\(\w\)' with ') \1 \2'.  - Replace '\(\w\)\(+\)(' with '\1 \2 ('.  - Replace '\(\w\)\(+\)\(\w\)' with '\1 \2 \3'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2373
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Fixes '==' whitespace - Replace ')\(==\)\(\w\)' with ') \1 \2'.  - Replace '\(\w\)\(==\)\(\w\)' with '\1 \2 \3'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2371
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Fixes '>>' whitespace - Replace ')\(>>\)\(\w\)' with ') \1 \2'.  - Replace '\(\w\)\(>>\)(' with '\1 \2 ('.  - Replace '\(\w\)\(>>\)\(\w\)' with '\1 \2 \3'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2369
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Fixes '>=' whitespace - Replace ')\(>=\)\(\w\)' with ') \1 \2'.  - Replace '\(\w\)\(>=\)\(\w\)' with '\1 \2 \3'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2367
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Fixes '[*]=' whitespace - Replace '\(\w\)\([*]=\)\(\w\)' with '\1 \2 \3'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2365
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Fixes '!=' whitespace - Replace ')\(!=\)\(\w\)' with ') \1 \2'.  - Replace '\(\w\)\(!=\)(' with '\1 \2 ('.  - Replace '\(\w\)\(!=\)\(\w\)' with '\1 \2 \3'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2363
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Replace 'do{' with 'do {'.  - Replace '}while' with '} while'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2361
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Replace 'switch(' with 'switch ('.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2359
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Replace 'if(' with 'if ('.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2357
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-22  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Move the short chapter about JIM-Tcl earlier, so that we can
	reasonably assume it's been introduced before we start presenting
	things that presume such an introduction.  Plus a few minor
	typo-level fixes.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2355
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix eol native git-svn-id: svn://svn.berlios.de/openocd/trunk@2353
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> target config file for
	newish DM365 chip.  Think of this as an improved DM355, integrating
	much better HD video support, Ethernet, and other goodies.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2351
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Paulius Zaleckas <paulius.zaleckas@gmail.com> Add config for
	CS351x CPUs git-svn-id: svn://svn.berlios.de/openocd/trunk@2349
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2347
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2345
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2343
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2341
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2339
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2337
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2335
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2333
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2331
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2329
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2327
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2325
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2323
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2321
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2319
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2317
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2315
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2313
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2311
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2309
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2307
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2305
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2303
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2301
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2299
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2297
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-20  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Set default for want_ftd2xx_highspeed to "no" instead of "maybe" git-svn-id: svn://svn.berlios.de/openocd/trunk@2295
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-19  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : printf() warning fixes due to uint32_t change-over git-svn-id: svn://svn.berlios.de/openocd/trunk@2293
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : less warnings git-svn-id: svn://svn.berlios.de/openocd/trunk@2291
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-19  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : commit test from Duane git-svn-id: svn://svn.berlios.de/openocd/trunk@2289
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : less warnings git-svn-id: svn://svn.berlios.de/openocd/trunk@2287
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-18  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Cast 64-bit trace hit_counter to long long; fixes format
	warning.  What is the correct way to handle this? git-svn-id: svn://svn.berlios.de/openocd/trunk@2285
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-18  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Remove redundant typedefs in types.h; include stdint.h
	unconditionally.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2283
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-18  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Finish transforming 'u32' to 'uint32_t'.  - Replace '\([^_]\)u32' with '\1uint32_t'.  - Replace '^u32' with 'uint32_t'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2281
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-18  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Transform 'u32' to 'uint32_t' in src/target - Replace '\([^_]\)u32' with '\1uint32_t'.  - Replace '^u32' with 'uint32_t'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2279
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-18  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Transform 'u16' to 'uint16_t' - Replace '\([^_]\)u16' with '\1uint16_t'.  - Replace '^u16' with 'uint16_t'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2277
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-18  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Transform 'u8' to 'uint8_t' in src/flash - Replace '\([^_]\)u8' with '\1uint8_t'.  - Replace '^u8' with 'uint8_t'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2275
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-18  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: The PLD stuff hasn't been documented yet.  It's just Virtex2 for
	now, but it looks like adding others would be easy.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2273
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-18  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Various bits of cleanup, mostly to match the style hints I just got
	around to writing up.   - Various @cindex improvements  - Cross reference the command line options in a few spots,    notably for @command{debug_level}  - Clean the config file guidelines a bit:     * They're for all users, not just integrators     * Reference the interface config chapter     * Don't emphasize command line usage here     * Tweak board and target config introductory text Plus two minor bits of cleanup:  remove most date references, and
	refer to the reader as "you" not "the user".  git-svn-id: svn://svn.berlios.de/openocd/trunk@2271
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-17  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Freddie Chopin <freddie_chopin@op.pl> makes lpc2478.cfg file
	more "standard" and - what is most important - correct (it's working
	[; ). I've also added some comments which try to clarify the meaning
	of all that's in there.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2269
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-17  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Update the Beagle setup:  - OMAP3530 updates:     * split ICEpick TAP enable support to its own file, for       reuse and eventually for storing other utility code       like emulation reset     * clean up, including labeling the tap as for DAP not       for the Cortex-A8 and making endianness non-variable     * add a few FIXMEs  - BeagleBoard cleanup:  there's no SRST, "endstate" is gone, etc I'm not sure I'd say it's further than "barely limping" just yet.
	Key issues remain lack of Cortex-A8 support, and more complete
	support for resetting.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2267
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-17  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: DM6446 config updates:  - List two more TAPs, as disabled, mostly for doc purposes  - Included basic ICEpick support, still disabled by default  - Shorten line lengths  - Use $_TARGETNAME to configure the ETM and ETB  - This ARM core don't support endianness overriding For now, boards that can't jumper EMU0/EMU1 will need to tweak a
	variable's setting.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2265
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-17  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Fix parsing bugs for "$target_name mww addr data [count]" ... it was
	always requiring the count, instead of just defaulting it to one.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2263
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-17  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Set svn:eol-style native on ZY1000 minidriver header file.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2261
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-17  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Change parse_type macros to be sed-friendly.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2259
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-17  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Move definition of parse_type helpers to command.c: - Add declarations in header file.  - Improve wrapper implementations to check for underflow.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2257
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-17  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add improved support for parsing signed integers.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2255
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-17  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Improve definitions of parse_ulong and parse_ullong: - Use macro to eliminate duplicate body definitions.  - Rename okay as is_okay; add parenthesis to help "clarify" logic.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2253
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-16  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Extend the internal JTAG event handlers to cover enable/disable, and
	use those events to make sure that targets get "examined" if they
	were disabled when the scan chain was first set up:  - Remove "enum jtag_tap_event", merge with "enum jtag_event",    so C code can now listen for TAP enable/disable events.   - Report those events so they can trigger callbacks.   - During startup, make target_examine() register a handler to    catch ENABLE events for any then-disabled targets.  This fixes bugs like "can't halt target after enabling its TAP".  One class of unresolved bugs:  if the target has an ETM hooked up to
	an ETB, nothing activates the ETB.  But starting up the ETM without
	access to the ETB registers fails...  git-svn-id: svn://svn.berlios.de/openocd/trunk@2251
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-16  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Fix bug in a warning.  It warned about "huge IRlength" for an older
	JRC with a two bit instruction register ... wrong! git-svn-id: svn://svn.berlios.de/openocd/trunk@2249
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-16  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Fix some polling issues:  - Don't background-poll disabled TAPs ... this was just a bug    waiting to happen.  (And then it happened!)  - Don't fail command line polls of disabled taps; that's not any    kind of error, it's just that you can't do much.  But do show    that tap-disabled status.   - Spell "continuous" correctly in the variable name.  ;) Not resolved by this patch:  the need for an interlock whereby other
	code (like the JTAG layer) can block all other access to the JTAG
	layer, e.g. while enabling or disabling TAPs.  And that interlock
	needs to be timer-safe...  git-svn-id: svn://svn.berlios.de/openocd/trunk@2247
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-16  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Fix a memory leak in jtag_tap_free():  unregister the event callback
	too.  Also fix the associated conceptual bug in unregistering JTAG event
	callbacks:  since the same callback procedure is used many times
	with different callback data (a TAP handle), that data must be
	considered when unregistering any callback.  This could fix some crashes after TAP registration errors, by making
	sure the reset event handler doesn't scribble over memory that's now
	used by something else.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2245
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-16  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Minor updates to the text about reset configuration:  - Mention a new point that it interacts with JTAG routers;  - Talk about a "user" config file not a "system" one;  - Remove text from the "reset_config" description; instead,    cross-reference the more extensive text earlier.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2243
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-15  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix eCos build problems w/latest parse_ulong() stuff git-svn-id: svn://svn.berlios.de/openocd/trunk@2241
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-13  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Factor load_image argument parsing to
	parse_load_image_command_args: - Make fast_load_image use the helper coverage the standard
	load_image.  - Improve whitespace in the moved lines.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2239
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-13  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Improve handle_virt2phys_command argument parsing: - Use parse_u32 to ensure virtual address parses properly.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2237
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-13  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Improve and simplify handle_bp_command and handle_rbp_command: - Bug fix: return syntax error if remove called without one
	argument.  - Use parse_u32 to ensure address and length arguments parse
	properly.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2235
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-13  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Improve handle_dump_image_command argument parsing: - Use parse_u32 to ensure address and size parse properly.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2233
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-13  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Improve handle_mw_command argument handling: - Change: All local variable types are now unsigned.  - Use parse_u32 to ensure address and value parse properly.  - Use parse_uint to ensure count parses properly.  - Move variables to location of first use.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2231
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-13  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Use parse_u32 in handle_resume_command and handle_step_command.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2229
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-13  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Cleanup and fi handle_wait_halt_command: - Use unsigned type for delay variable.  - Use parse_uint to ensure delay argument parses properly.  - Bug fix: Return syntax error if more than one argument is given.  - Bug fix: Return syntax error when argument fails to parse.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2227
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-13  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Use parse_uint in get_target to ensure target id is parsed
	properly.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2225
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-12  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Move the discussion of the "scan_chain" command up to go with the
	presentation of that topic in the TAP declaration chapter.  This makes the presentation of the TAP and target lists be parallel,
	which will be something of an aid to understanding that they are
	different (and how).  git-svn-id: svn://svn.berlios.de/openocd/trunk@2223
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-12  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : unsik Kim <donari75@gmail.com>: Improve error handling in mflash driver.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2221
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-12  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Claffey <dnclaffey@gmail.com>: This patch helps fix MIPS big endian (elf32-tradbigmips) targets.
	If "-endian big" is not set in target create, the endianess defaults
	to little.  mw and md commands will still work, but binary file
	loads will have the incorrect word order loaded into memory.  The EJTAG processor access data register (PrAcc) is little endian
	regardless of the CPU endianness; it is always loaded LSB first.
	This is confirmed by the fact that mips_ejtag_drscan_32() uses
	buf_set_u32() to load the scan field; buf_set_u32() is a
	little-endian formatter. For big endian targets, data buffers have
	to be modified so the LSB of each u32 or u16 is at the lower (first)
	memory location.  If the drscan out_value word order is set using
	buf_set_u32() then it makes sense to also fixup the in_value with
	buf_get_u32(); a symmetry argument. This has no affect on little
	endian hosts.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2219
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-12  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Improve vsllink command argument handling: - Bug fix: Always clear high bit of USB bulk out endpoint.  - Use parse_ulong helpers to ensure numeric strings are parsed
	properly.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2217
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-12  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Improve VID/PID command argument handling in FTDI driver: - Bug fix: Return a syntax error when less than two arguments are
	given.  - Bug fix: Use parse_u16 helper to ensure vales are parsed properly.  - Simplify loop termination logic by ensuring argc is always even.  - Move loop induction variable declaration to where it is used.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2215
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-12  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Improve JTAG reset, speed, and khz handlers to use parse_uint
	helper.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2213
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-12  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Simplify and improve gw16012_handle_parport_command: - Show the port number to the user when asking for it or setting it.  - Print an error if the parport_port has already been set.  - Use parse_u16 helper to ensure the parport_port string parses
	correctly.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2211
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-12  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Simplify and improve parport_handle_parport_port_command: - Show the port number to the user when asking for it or setting it.  - Print an error if the parport_port has already been set.  - Use parse_u16 helper to ensure the parport_port string parses
	correctly.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2209
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-12  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Simplify handle_sleep_command: - Use new parse_ulong to ensure duration parses as a valid number.  - Rework logic to improve readability and seliminate uperfluous
	braces.  - Change whitespace to improve style.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2207
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Minor bugfix:  command_print_sameline() is what the headers declare;
	make the code match.  Minor improvement:  make the printf format params always be const.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2205
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Update "arm9tdmi vector_catch" command description to highlight both
	use cases (display configuration, or first change that config) and
	to explain a bit more about what this is:  an alternative to using
	hardware breakpoint resources.  Note that I tried this on an arm920t, but it didn't work.  Set bits,
	then examined them and they weren't set.  And it didn't seem to act
	as if vector triggering was noticed, either.  Also some minor unrelated tweaks:  @ignore some unused or don't-use
	event names; fix a few typos; tweak chip-specific reset
	descriptions.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2203
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : embedded host: launch telnet server even if configuration fails git-svn-id: svn://svn.berlios.de/openocd/trunk@2198
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Factor handle_bp_command into pieces: - Bug fix: return a syntax error if the wrong number of arguments
	are given.  - Add handle_bp_command_list() and handle_bp_command_set().  - Use temporary addr variable to eliminate redundant strtoul()
	calls.  - Place variable declarations at their point of first use.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2196
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Simplify and clean handle_virt2phys_command: - Add a doxygen block to simplify logic.  - Move declarations to point of first use.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2194
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Simplify and fix handle_reset_command: - Return syntax error if more than one argument is given.  - Move variables to location of first use.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2192
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Simplify and fix handle_step_command: - Bug fix: return syntax error when more than one argument is given.  - Eliminate redundant calls to step callback with addr temp
	variable.  - Place variables at location of first use.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2190
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Improve grouping of JTAG KHz and verification accessors in
	header file.  Add some quick Doxygen comments for these routines.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2188
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Move jtag_error helper declarations to the end of the header.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2186
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Move jtag_add_statemove decl/body nearer jtag_add_pathmove.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2184
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-10  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - update openocd online doc url's git-svn-id: svn://svn.berlios.de/openocd/trunk@2182
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added pathmove command git-svn-id: svn://svn.berlios.de/openocd/trunk@2180
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-10  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Move the documentation for the "poll" command up with other
	server configuration.  Explain what it's about; reference the
	related "$target_name curstate" method.  Update "poll" output to report whether background polling is enabled
	or not.  Also fix a small typo; PC's have "complementary" tools.  Some have
	also "complimentary" ones; but not all.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2178
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Simplify JTAG automake input file: - Consolidate all individual driver variables into DRIVERFILES.    - Eliminates all empty 'else' conditional clauses.  - Move minidriver files to top of file.  - Use MINIDRIVER conditional to build only driver(s) that will be
	linked.  - Eliminate superfluous whitespace.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2176
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add a rule to rebuild libtool if ltmain.sh changes (from libtool
	docs).  git-svn-id: svn://svn.berlios.de/openocd/trunk@2174
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix make maintainer-clean for out-of-tree builds.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2172
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : dos2unix git-svn-id: svn://svn.berlios.de/openocd/trunk@2170
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add jtag_event_handler_t: - Define the function signature used by the JTAG event callback
	mechanism.  - Provide Doxygen block for new type, including TODO for its return
	value.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2168
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Improve encapsulation of JTAG event handling: - Move nvp_jtag_tap_event and jtag_tap_handle_event to tcl.c.  - Change both to be static; remove declaration of function from
	jtag.h.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2166
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Cleanup and encapsulate IR Capture verification: - Add accessors for setting the jtag_verify_capture_ir flag.  - Use them in handle_verify_ircapture_cpmmand - Change variable type to bool; make it static.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2164
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Move the jtag_error helper routines out of header file: - Makes jtag_error static, add new get helper function for
	completeness.  - Improve and add documentation and style for these helpers.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2162
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Remove superfluous extern for non-existant global variable.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2160
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Encapsulate the jtag_event_callback list; add helper functions
	if needed.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2158
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Move extern of nvp_jtag_tap_event from jtag.h to tcl.c.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2156
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : remove native line style git-svn-id: svn://svn.berlios.de/openocd/trunk@2154
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Replace 'jtag.c' with 'core.c' in code comments.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2152
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Provide brief description of newly factored TCL layer in The
	Manual.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2150
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Merge documentation for jtag_add_statemove from source into
	header block.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2148
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Replace 'jtag_tap_by_abs_position' with 'jtag_tap_by_position'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2146
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Use unsigned type for jtag_tap_count and
	jtag_tap_by_abs_position.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2144
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Simplify jtag_tap_by_jim_object: - Merge declarations of temporary variables with first use.  - Restructure logic to simplify conditional logic.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2142
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Allow jtag_tap_add to be called from other JTAG code modules.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2140
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Change jtag_add_pathmove to set jtag_error rather than call
	exit(): - Add new error codes to encode the possible failure conditions.  - Add documentation to describe the routine's possible error codes.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2138
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Move documentation in jtag_add_statemove body to Doxygen block.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2136
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Add configuration for an old AT91rm9200 board, the Cogent CSB 337.
	Worth noting from the OpenOCD perspective:  - It got a real hardware trace port connector; wired up here as    much as we can, lacking inexpensive trace-aware dongles.   - This is the first in-tree use of the "arm920t cp15" command.     It adjusts the CPU clocking and enables i-cache, which gives    more than 4x speedup after booting Linux; it's visible even    just running U-Boot.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2134
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : update zy1000 to latest minidriver work git-svn-id: svn://svn.berlios.de/openocd/trunk@2132
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add documentation for new interface_list command to user guide.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2130
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Cleanup and simplify handle_interface_command: - Reduce indent: invert logic of strcmp test.  - Reduce scope: declare variables upon first use in loops.  - Reduce unsaid: compare end of table with NULL.  - Remove superfluous braces around blocks with one statment.  - Improve language that introduces the list of built-in drivers.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2128
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Simplify jtag_add_reset: - Use jtag_set_error instead of accessing jtag_error directly.  - Remove superfluous retval temporary variable.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2126
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Simplify jtag_add_runtest: - Use jtag_set_error instead of accessing jtag_error directly.  - Eliminate superfluous comment and temporary variable.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2124
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Simplify jtag_add_tlr: - Use jtag_set_error instead of accessing jtag_error directly.  - Eliminate superfluous temporary variable.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2122
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Simplify jtag_add_dr_scan: - Use jtag_set_error instead of accessing jtag_error directly.  - Wrap function arguments to fit everything in 80 columns.  - Move retval variable to location of first use.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2120
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Simplify jtag_add_ir_scan_noverify: - Use jtag_set_error instead of accessing jtag_error directly.  - Wrap and rename function arguments to fit everything in 80
	columns.  - Move retval variable to location of first use.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2118
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Simplify jtag_execute_queue_noclear: - Replace jtag_error logic with equivalent call to jtag_set_error.  - Remove superfluous comment and temporary return variable.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2116
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Clean up handle_jtag_reset_command: - Make command require exactly two arguments; do not allow more than
	two.  - Move temporary variable declarations closer to point of first use.  - Remove superfluous braces around single statments.  - Wrap to 80 column width.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2114
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add accessors to retrieve values of jtag_n{s,t}rst_delay
	variables.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2112
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Cleanup the handle_jtag_khz_command routine: - Separate retval assignments from logical tests.  - Simplify logical tests.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2110
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> Bugfix: $target_name
	cget/configure -work-area-backup commands should return the "is it
	backed up?" flag, not the work area size.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2108
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Adjust whitespace in configure script: use two spaces for
	indent.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2106
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Rework parallel port configure script option handling: - Move AC_ARG_ENABLE for secondary parallel port options:   - These macros cause their configure options to appear
	    unconditionally, so they should not be placed inside conditional
	  logic.  - Groups them with primary parallel port driver option.  - Update these options to show '-' instead of '_'; both still work.  - Update command help text to show host architecture/OS
	requirements.  - Display a warning when these options have been provided and the   configure script will ignore the setting that the user specified.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2104
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Finish off the dummy minidriver integration: - Try to disambiguates minidriver options from "standard" driver
	  options.  - Make minidummy symbols more explict about being a minidriver.    - Move minidummy.c into minidummy directory to put it with its
	  header.  In configure.in: - Improve configuration option to allow new minidriver
	  implementations: - Change option from --enable-minidummy to
	  --enable-minidriver-dummy.  - Move it to the end of the list of options.    - Provides a clear pattern for future minidrivers.  - Update handling of HAVE_JTAG_MINIDRIVER_H:   - Check for external jtag_minidriver.h only with
	  --enable-ecosboard.  - Otherwise, define it when --enable-minidriver-dummy is provided.  - Add check to ensure only one minidriver is enabled.  - When a minidriver is enabled, warn user that standard drivers are
	not built.  - Use proper AC_DEFINE semantics with MINIDRIVER_DUMMY.  In src/jtag/Makefile.am: - Restructure handling of minidummy source files.  - Include minidummy driver header in the distribution.  In src/jtag/jtag.c: - Restructure preprocessor logic to include:   - only one minidriver, or   - all configured standard drivers.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2102
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-07  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Let disabled targets be ignored during normal operation:  - In target_examine(), ignore disabled TAPs  - Reset handling must not poke at them either:      * fail $target_name arp_* operations on disabled TAPs      * in startup.tcl, don't even issue the arp_* wait ops ZW: removed superfluous braces from the patch to target.c.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2100
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-07  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix regression in mdw output; identified by Magnus Lundin.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2098
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-07  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Various minor tweaks for the User's guide.   - Fix various minor (but repeated) typographic goofs;  - Talk about TAP "declaration" not "creation" (they exist    even if OpenOCD never learns about their board);  - Encourage board.cfg for reset config, not target.cfg  - Fill in some missing information (e.g. x16_as_x8)  - Add a cross reference to the FAQ on TAP ordering;  - Unclutter the concept index a bit (re core-specific commands)  - Provide a bit more info about TAP states git-svn-id: svn://svn.berlios.de/openocd/trunk@2096
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-07  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Set svn:eol-style properties on new minidummy driver files.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2094
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : minidriver build test driver "minidriver" git-svn-id: svn://svn.berlios.de/openocd/trunk@2092
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-07  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Factoring of jtag_examine_chain for maintainability: - Limit scope: move tap and bit_count variables to point of first
	use.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2090
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-07  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Factoring of jtag_examine_chain for maintainability: - Minor whitespace and style cleanups in body of jtag_examine_chain.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2088
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-07  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Factoring of jtag_examine_chain for maintainability: - Factor end-of-chain verfication into new helper routine.  - Change 'unexpected' local variable name to 'triggered' and type to
	bool.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2086
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-07  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Factoring of jtag_examine_chain for maintainability: - Factor initial chain examination check into new static helper.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2084
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-07  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Factoring of jtag_examine_chain for maintainability: - Reduce indent: invert logical test of expected_id count.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2082
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-07  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Factoring of jtag_examine_chain for maintainability: - Reduce indent: invert logic test for tap in jtag_examine_chain.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2080
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-07  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Factoring of jtag_examine_chain for maintainability: - Move JTAG EXTRACT macros out from the middle of
	jtag_examine_chain.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2078
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> target/at91rm9200.cfg
	cleanup git-svn-id: svn://svn.berlios.de/openocd/trunk@2075
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : remove unused include file: strings.h git-svn-id: svn://svn.berlios.de/openocd/trunk@2073
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : remove unused include file: inttypes.h git-svn-id: svn://svn.berlios.de/openocd/trunk@2071
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-05  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Eliminate MixedCaps symbol from public JTAG TAP API: - Purely mechanical transformations to the source files.  - Rename 'jtag_NumEnabledTaps' as 'jtag_tap_count_enabled.' git-svn-id: svn://svn.berlios.de/openocd/trunk@2068
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-05  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Eliminate MixedCaps symbol from public JTAG TAP API: - Purely mechanical transformations to the source files.  - Rename 'jtag_TapByJimObj' as 'jtag_tap_by_jim_obj.' git-svn-id: svn://svn.berlios.de/openocd/trunk@2066
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-05  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Eliminate MixedCaps symbol from public JTAG TAP API: - Purely mechanical transformations to the source files.  - Rename 'jtag_TapByAbsPosition' as 'jtag_tap_by_abs_position.' git-svn-id: svn://svn.berlios.de/openocd/trunk@2064
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-05  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Eliminate MixedCaps symbol from public JTAG TAP API: - Purely mechanical transformations to the source files.  - Rename 'jtag_AllTaps' as 'jtag_all_taps.' git-svn-id: svn://svn.berlios.de/openocd/trunk@2062
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-05  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add accessors for jtag_verify; use them in jim command handler.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2060
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-05  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add accessors for speed_khz; use them in jim command handler.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2058
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-04  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Clean up the JTAG TAP creation handler: - Factor jtag_tap_init() helper out of the end of jim_newtap_cmd.  - Factor jtag_tap_free() helper out of the error case in
	jim_newtap_cmd.  - Invert test to improve indentation at the end of jim_newtap_cmd.  - Improve whitespace in the newly factored functions.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2056
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-04  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Change hasKHz to use bool type.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2054
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : unbreak arm11. TAP_INVALID is used to communicate inband that a
	special state should be used to lower level fn's in ARM11 code.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2052
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Rename jtag_add_end_state to jtag_set_end_state since "add"
	implies that this fn has something to do with the queue, which it
	does not as such.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2050
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : tiny bit of encapsulation of global end state. No longer expose
	it as a global variable.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2048
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : remove unused code.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2046
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : no longer use jtag_add_xxx() to set end state to TAP_IDLE. Same
	must be done for TAP_DRPAUSE git-svn-id: svn://svn.berlios.de/openocd/trunk@2044
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : remove TAP_INVALID as argument to jtag_add_xxx() fn's git-svn-id: svn://svn.berlios.de/openocd/trunk@2042
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : JTAG_TRST_ASSERTED event cleanup. More clear where and when it
	is invoked and some duplicate(harmless) invocations avoided.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2040
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-04  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Remove pernicious whitespace from ft2232 driver; as usual,
	end-of-line noise, but here also much line-internal stuff.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2038
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-04  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Remove pernicious whitespace from src/jtag/*c files; mostly the
	end-of-line flavor for now, although there's more.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2036
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-04  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Convert the str9xpec driver info to use @deffn; alphabetize; add the
	missing part_id command.  Convert the mflash support to use @deffn; alphabetize.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2034
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-03  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : remove unused code path.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2032
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-03  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Move JTAG command handling implementation into its own source
	file.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2030
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-03  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added missing extern to jtag_command_queue definition.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2028
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-03  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Improve remaining documentation that was causing Doxygen
	warnings.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2026
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-03  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add architectural introduction to the JTAG module in The Manual.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2024
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-03  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Improve doxygen markup of PATCHES file, link to new primer.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2022
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-03  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Update TODO file with more content and better style.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2020
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-03  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Update documentationf or jtag_interface structure members.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2018
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-03  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Remove interface.h from public JTAG header, include it where
	required.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2016
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-03  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Update docs for most of the remaining commands in jtag.c:  - switch to @deffn  - these are just the "low level" JTAG commands  - resolve much goofage!     * remove docs for non-existent commands     * add missing docs for some existing commands     * fix incorrect docs for some commands  - just index TAP states overall, not individually  - current name is "RUN/IDLE" not "IDLE" Cross checked against the source.  This also creates an "Interface Drivers" section, analagous to how (NOR) Flash and NAND drivers are presented; that's not yet sorted.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2014
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-03  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Move the JTAG cable interface API implementation - Cloned the src/jtag/jtag.c file to src/jtag/interface.c.  - For each for of those files, deleted the contents of the other.  - Add new source file to automake input.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2012
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-03  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Split and simplify handle_tms_sequence_command for further
	factoring.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2010
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-02  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add private src/jtag/interface.h for use by JTAG interface
	drivers: - Move the jtag_interface structure definition.  - Move the Cable API declarations.  - Add new header file to automake input.  The next patch will move the implementation to interface.c.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2008
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-02  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add header file for JTAG minidriver: - Wraps all minidriver API functions using API front-ends:   - Outlines jtag_add_dr_out() and jtag_alloc_in_value32().    - Adds interface_ prefix to existing jtag_alloc_invalue_32
	  routines.  - Re-inline these interface definitions in new header file.  - Re-inline parts of the (mini)driver implementations in
	minidriver.h.  - Replace INCLUDE_JTAG_MINIDRIVER_H with #include directives.  The next patch will finish removing '#ifdef HAVE_JTAG_MINIDRIVER_H'
	from jtag.h.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2006
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-02  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - hack added to fix a issue with v5/6 jlink v5/6 jlink seems to have
	an issue if the first tap move is not divisible by 8, so we send a
	TLR on first power up git-svn-id: svn://svn.berlios.de/openocd/trunk@2004
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : some trivial minidriver fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2002
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-02  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Only include jtag_driver.c in the build when minidriver is not
	in use.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2000
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-02  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add high-speed device support in FT2232 driver: - Initial support for FT2232H/FT4232H devices from FTDI.  - Add --enable-ftd2xx-highspeed option to configure script.  - Original patch submitted by Joern Kaipf <lists@joernline.de>.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1998
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-02  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Continue clean-up of JTAG driver interface: - Move all interface_jtag_* functions to jtag_driver.c.  - Extern command queue routines in jtag.h (with
	INCLUDE_JTAG_INTERFACE_H).  - Add new source file to automake inputs.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1996
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-02  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : More JTAG interface driver cleanup: - Add jtag_callback_queue_reset() to reset the callback queue.  - Make interface_jtag_execute_queue() use new helper function.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1994
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-02  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Clean up jtag command queue handling: - Rename last_command_pointer as next_command_pointer, because this
	  variable stores the address where jtag_queue_command() will store a
	command pointer.  - Make that variable static, since it is only used internally in
	jtag.c.  - Remove superfluous accessor for that now-static variable.  - Deobfuscate use of variables in jtag_command_queue.  - Add jtag_command_queue_reset helper function.  - Use it in interface_jtag_execute_queue.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1992
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-02  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Remove the useless invalidstruct from jtag.h.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1990
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-01  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Make the TCL "drscan" and "irscan" commands finish in RUN/IDLE
	unless the user specifies otherwise ... usually they'd choose
	something like DRPAUSE or IRPAUSE, avoiding RUN/IDLE.  The current "end" state is whatever the preceding commands left in
	"cmd_queue_end_state", which to TCL scripts isn't knowable.  This
	change should forestall various surprises/bugs.  Also check that any "end" state specified is safe in case this
	adapter's JTAG clock is free-running.  For now, just issue a
	warning; eventually a hard failure is probably correct.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1988
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-01  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Remove two sections about deprecated/removed commands, documenting
	them briefly in the chapter on deprecated/removed commands.  The
	"working_area" command just duplicated text; "jtag_device" wasn't
	listed in that chapter before.  Also start de-emphasizing those commands.  Don't index them, and
	include a disclaimer that their documentation may start to vanish
	about a year after the code does (e.g. in January 2010).  git-svn-id: svn://svn.berlios.de/openocd/trunk@1986
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-01  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Encapsulate JTAG Cable API and interface structure, plan for new
	header file.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1984
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-01  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Remove unused in_handler_t type definition from jtag.h git-svn-id: svn://svn.berlios.de/openocd/trunk@1982
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added jtag_add_statemove() helper fn(actual fn written by Dick
	Hollonbeck, I just moved it).  git-svn-id: svn://svn.berlios.de/openocd/trunk@1980
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : simon qian <simonqian.openocd@gmail.com> stop incestious
	communication with lower jtag.c layers git-svn-id: svn://svn.berlios.de/openocd/trunk@1978
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-01  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Fix minor goofage in previous doc updates:  * The ETM dummy driver name is "dummy" not "etm_dummy";    re-alphabetize.   * DCC trace message mode "charmsg" is a format type    (and what Linux needs) git-svn-id: svn://svn.berlios.de/openocd/trunk@1976
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-01  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Split out OSK5912 board support from the omap5912 target config, and
	make it pass sanity checks on my (Rev C/original) hardware:  - Fix syntax error ("-irlen" not "irlen")  - Provide real TAP ids for the ARM926ejs and the C55x dsp  - Label both CPUs appropriately (DSP, ARM)  - List both flash chips The scan chain looks like this (note truncated DSP instruction
	code):       TapName            | Enabled |   IdCode      Expected    IrLen
	 IrCap  IrMask Instr

	---|--------------------|---------|------------|------------|------|------|------|---------  0 | omap5912.dsp       |    Y    | 0x03df1d81 | 0x03df1d81 | 0x26
	  | 0x00 | 0x00 | 0xffffffff 1 | omap5912.arm       |    Y    |
	  0x0692602f | 0x0692602f | 0x04 | 0x01 | 0x00 | 0x0c 2 |
	omap5912.unknown   |    Y    | 0x00000000 | 0x00000000 | 0x08 | 0x00
	| 0x00 | 0xff I still don't know what that third TAP is; maybe an early version of
	an ICEpick JTAG router.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1974
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-01  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Remove broken whitespace ... mostly at end of line, but also in some
	cases blocks of inappropriate empty lines.  And spell "comamnd" right. :) git-svn-id: svn://svn.berlios.de/openocd/trunk@1972
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-31  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Whitespace-only updates to automake input files: - use continuations to break long lines of variable assignments - makes these variables more patch-friendly and conform to style
	guide git-svn-id: svn://svn.berlios.de/openocd/trunk@1970
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-31  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add target_examine_one wrapper: - replaces all calls to target->type->examine.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1968
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-31  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add target_get_name wrapper: - replaces all accesses to target->type->name.  - add documentation in target_s to warn not to access field
	directly.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1966
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-31  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add target_get_gdb_reg_list wrapper: - replaces all calls to target->type->get_gdb_reg_list.  - add documentation in target_s to warn not to invoke callback
	directly.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1964
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-31  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add wrappers for target->type->examined: - replace all checks of target->type->examined with
	target_was_examined().  - replace all setting of target->type->examined with
	target_set_examined().  - replace clearing of target->type->examined with
	target_reset_examined().  - add documentation in target_s to warn not to access field
	directly.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1962
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-31  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add target_write_memory wrapper: - replaces all calls to target->type->write_memory.  - add documentation in target_s to warn not to invoke callback
	directly.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1960
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-31  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Simplify the handle_md_command routine in target.c:  - fix buffer overrun in mdw; final '\0' would overflow the output
	 buffer.  - return ERROR_COMMAND_SYNTAX_ERROR instead of ERROR_OK if:    - less than one argument is provided    - the command is called with a name other than mdb, mdh, or mdw.   - factor all command output into new handle_md_output function git-svn-id: svn://svn.berlios.de/openocd/trunk@1958
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-31  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Make target_buffer_get_uXX interfaces work with constant
	buffers.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1956
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-31  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add new JTAG boundary scan primer, with links to BSDL
	information.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1954
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Encapsulate the global "jtag" jtag_interface pointer: - Add jtag_interface_quit, factored from exit_handler() in
	openocd.c.  - Remove its extern declaration.  - Add static keyword to its definition.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1952
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-30  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : remove unused JTAG_END_STATE part 2 git-svn-id: svn://svn.berlios.de/openocd/trunk@1950
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-30  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added some comments on meminfo command git-svn-id: svn://svn.berlios.de/openocd/trunk@1948
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Remove trailing whitespace from oocd_trace source file.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1946
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Make it so the magic "reset_config" keywords can be provided in any
	order.  This eliminates needless error paths, and makes it easier to
	define things at the right level (adapter, board, target).  It also
	includes two other behavioral changes:   (1)   When "handle_reset_config" sees a parameter error, it         exits without changing anything.   This is best viewed         as a bugfix.  (Old behavior:  restore defaults, even if         they weren't previously active.)   (2)   Only the behaviors that were explicitly specified get         changed.  (Old behavior:  everything else gets reset to         the "default".)  So for example you can now specify SRST         drive requirements without saying anything about the         three unrelated topics you previously had to specify.  That second one might cause confusion for any configs that end up
	calling "reset_config" twice, so it will deserve to be called out in
	the release notes.  (There were no such configurations in the
	current OpenOCD source tree.) Update docs accordingly.  Note that at least some versions of the
	texi-to-html tools can't handle "@xref{with spaces}", but those work
	properly in PDF and in the info files.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1944
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-29  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add documentation to flash.h: - provides low-level information about each flash API interface, - gives driver authors some documentation about the driver
	interface, - updated extensively from the original patch provided by Duane
	Ellis.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1942
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-28  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Remove redundant call to autoheader in bootstrap script.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1940
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-28  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Continue updating the NOR flash coverage to use @deffn syntax, so
	the commands have more consistent presentation and formatting.  This
	reorganizes information and updates its presentation, except where
	the information didn't really match the code.  This patch updates the main commands, and finishes making the
	section structure parallel the NAND presentation.  Of note:  - The "flash fill[whb] addr value length" commands are now
	 documented.   - The "flash bank" command is now presented much earlier  - Explicit mention is made that NOR flash should be read using just    standard memory access commands, like "mdw" and "dump_image".  git-svn-id: svn://svn.berlios.de/openocd/trunk@1938
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-28  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Fix a bunch of PDF generation bugs in the texi:  * The "overfull" warnings are basically complaints about lines    that are too long, so they ran off the right margin of the    PDF documentation and turn into a "black blot".   * The "underfull" warnings are basically complaints about lines    that look ugly when they get filled, because the tokens are    so long that the line-break algorithm can't do anything good.  In a few cases the simplest fix seemed to be to use more appropriate
	texi commands.  In other cases the fix was a content bugfix:  "ocd_" not "openocd_";
	and many of those "target variants" actually aren't recognized.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1936
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-27  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Author: Nicolas Pitre <nico@cam.org>         - cut out the "unknown EmbeddedICE version" message with
	        Feroceon git-svn-id: svn://svn.berlios.de/openocd/trunk@1934
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-27  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Numerous minor updates and fixes for The Manual: - Link Scripting Overview into the TCL Primer; both need more work.  - Remove redundant OpenOCD from Scripting Overview subpage title.  - Fix incorrect tag in Doxygen style guide example.  - Fix minor typo in first introductory paragraph of main page.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1932
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-27  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : unsik Kim <donari75@gmail.com>: Add mflash configuration code,
	updating relevant documentation.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1930
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-27  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : unsik Kim <donari75@gmail.com>: Remove unused mflash bank
	command options.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1928
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-27  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : SimonQian <simonqian@SimonQian.com>: This patch allows the
	vsllink to support very large scan sizes in DMA mode.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1926
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-27  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add new Style Guides for languages used (and to be used) by
	project.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1924
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-27  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add Documentation Primer to The Manual.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1922
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-27  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Update build system to find moved scripts -- Step 3 of 2: - Update references from using PKGLIBDIR to PKGDATADIR.  - Update built-in script search paths to reflect new install
	  location: - $(pkgdatadir)       =>   $(pktdatadir)/site   - $(pkglibdir)        =>   $(pktdatadir)/scripts - Update installed location of httpd files:   - $(pkglibdir)/httpd   =>   $(pkgdatadir)/httpd git-svn-id: svn://svn.berlios.de/openocd/trunk@1920
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-27  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Move TCL script files -- Step 1 of 2: - Move src/target/{interface,target,board,test}/ into src/tcl/ - Remove existing rules in src/Makefile.am and
	src/target/Makefile.am.  - Add Makefile.am handling of *.cfg and *.tcl files in top
	  Makefile.am: - Add dist-hook to include such files under src/tcl in the
	  distribution.  - Add install-data-hook to install contents of
	  '$(top_srcdir)/src/tcl/'.  - Add uninstall-hook to remove the installed script files.  - Change paths to (un)install script files in
	'$(pkgdatadir)/scripts'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1918
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-26  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Update Doxygen markup in PATCHES, BUGS, and TODO: - In the File List, these files are listed and link to empty pages.  - This patch adds @file blocks to reference the pages each file
	contains.  - Remove redundant "OpenOCD" from PATCHES title; it clutters the
	tree view.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1916
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-26  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : SimonQian <simonqian@SimonQian.com>: Add svf_get_mask_u32 to generate a mask according to bitlen.  Fix
	this bug in other functions except for svf_check_tdo.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1914
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-25  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Author: Simon Qian <simonqian@SimonQian.com>         - add tap_state_svf_name since tap_state_name doesn't use
	        SVF standard names git-svn-id: svn://svn.berlios.de/openocd/trunk@1912
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-24  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Doc (mostly) update for jtag_khz:  - switch to @deffn syntax  - add entry for "jtag_rclk"  - move deprecated "jtag_speed" into collection of deprecated calls And for ft2232, don't be the only adapter to *log* an error if RTCK
	is requested; it's already reported properly, like any other
	nonfatal command parameter.  "jtag_rclk" just works as expected,
	without any scarey messages.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1910
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-24  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: The "Illegal mode for command" diagnostic is deeply useless.  Say
	"Command '%s' only runs during configuration stage" instead, letting
	users know what the real issue is.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1908
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-24  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Added the options calc_checksum to the flash driver.  This was
	forgotten here. All other LPC targets use this option.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1906
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-24  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Update two oddball NAND commands to work with {offset, length}
	instead of block numbers, matching the other commands as well as
	usage in U-Boot and the Linux-MTD utilities.  Document them accordingly.  Update the single in-tree use of those
	commands (sheevaplug).  ALSO:  (a) Document the current 2 GByte/chip ceiling for NAND chipsize.       (32 bit offset/length values can't represent 4 GBytes.)  Maybe      after the upcoming release, the code can switch to 64-bits.   (b) The "nand check_bad_blocks" should report "bad" blocks.  They      are not "invalid" blocks; they're "bad" ones.   (c) Tweak the "nand info" command to handle the "no arguments"      case sanely (show everything, instead of showing garbage) and      not listing the blocksize in hex kbytes (duh).  git-svn-id: svn://svn.berlios.de/openocd/trunk@1904
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-24  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix two problems with openocd.texi: - Fix minor issues with xrefs not liking parentheses around them.  - Change 'Building' section to 'Building OpenOCD'.  It reads better.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1902
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-24  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : SimonQian <simonqian@SimonQian.com>: Changes svf_check_tdo
	function (checks tdo output matches desired values): - call buf_cmp_mask function to do comparison instead of using a
	loop.  - fixes a bug when data length is equal to sizeof(int).  git-svn-id: svn://svn.berlios.de/openocd/trunk@1900
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add section identifiers to developer scripting introduction.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1898
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add extended doxygen-based style guide draft; requires more
	work.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1896
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Include the PATCHES file in Doxygen developer manual.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1894
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Submitted by Magnus Lundin <lundin@mlu.mine.nu>: - Add jtag_execute_queue in jtag_add_reset after
	interface_jtag_add_reset.  - Use tap_set_state to demark TAP_RESET, instead of
	  cmd_queue_cur_state - cmd_queue_cur_state needs to be retired.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1892
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-23  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Change the setting for the sam7se512 and sam7x256 flash driver
	because of the new at91sam7 version.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1890
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : More printf fixes stemming from format string change in r1882.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1888
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-22  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Author: Ra√∫l S√°nchez Siles <rsanchezs@infoglobal.es>         - Fix multi-byte reads on x16 devices used as x8 git-svn-id: svn://svn.berlios.de/openocd/trunk@1886
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-22  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Author: Ra√∫l S√°nchez Siles <rsanchezs@infoglobal.es>         - Consistently use flash_address git-svn-id: svn://svn.berlios.de/openocd/trunk@1884
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-22  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Author: Rick Altherr <kc8apf@kc8apf.net>         - printf conversion fixes for variably-sized types git-svn-id: svn://svn.berlios.de/openocd/trunk@1882
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-22  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Submitted by Dean Glazeski <dnglaze@gmail.com>: Add doxygen comments in arm7_9_common source and header files.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1880
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : delete unused code git-svn-id: svn://svn.berlios.de/openocd/trunk@1878
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-21  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Author: Michael Bruck <mbruck@digenius.de>     -jtag.c, interface_jtag_add_ir_scan() [2/2] (version without
	        goto): - change 'found' to bool         - add comments on loops git-svn-id: svn://svn.berlios.de/openocd/trunk@1876
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-21  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Additional format warning fixes in ioutil, required by r1873
	changes.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1874
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-21  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Author: David Brownell <david-b@pacbell.net>         - Update PATCHES to better describe the policies in place git-svn-id: svn://svn.berlios.de/openocd/trunk@1872
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-21  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Author: √òyvind Harboe <oyvind.harboe@zylin.com>         - Allow target_read/write_buffer of size 0 git-svn-id: svn://svn.berlios.de/openocd/trunk@1870
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-21  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Author: Michael Bruck <mbruck@digenius.de>     -jtag.c, interface_jtag_add_ir_scan() [1/2]:         - remove temporary scan_size and use tap->ir_length instead         - slight loop restructuring to reduce indentation level git-svn-id: svn://svn.berlios.de/openocd/trunk@1868
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-21  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Author: Michael Bruck <mbruck@digenius.de>     -jtag.c, interface_jtag_add_dr_scan():             - use pointer 'field' instead of
	            scan->fields[field_count] - restructure the main loop to clearly separate the two cases: TAP
	            is not bypassed / TAP is bypassed - add an assert that each non-bypassed TAP receives at least one
	            field - add an assert that checks that no superfluous input fields were
	passed git-svn-id: svn://svn.berlios.de/openocd/trunk@1866
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-21  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Author: Michael Bruck <mbruck@digenius.de>     - jtag.c: consolidate output scan field initialization in scan
	    functions - jtag.c: add cmd_queue_scan_field_clone() to handle 1:1 field
	    copies - jtag.c: fix bug where only the first output field in a dr scan has
	its tap field set git-svn-id: svn://svn.berlios.de/openocd/trunk@1864
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-21  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Author: Michael Bruck <mbruck@digenius.de>     - jtag.c: Use single 'for' statement to iterate over list of
	    TAPs in scan functions git-svn-id: svn://svn.berlios.de/openocd/trunk@1862
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-21  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Author: Michael Bruck <mbruck@digenius.de>     - add 'const' qualifier to function parameters in jtag.c that
	    are not to be modified or freed by the function git-svn-id: svn://svn.berlios.de/openocd/trunk@1860
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-20  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add 'docs' and 'doxygen' targets to top-level Makefile.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1858
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-20  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add new TCL Primer under the main Technical Primer page.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1856
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-20  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix doc/Makefile.am dist-hook to include all sections of manual.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1854
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-20  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Move scripting overview from source tree to doxygen manual.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1852
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-20  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Author: Spencer Oliver <spen@spen-soft.co.uk> - Bring the mips step/resume interrupt handling inline with the rest
	of openocd.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1850
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-20  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Author: Michael Bruck <mbruck@digenius.de>     - move scan_size in interface_jtag_add_dr_out() into the scope
	    of the inner loop and change it to unsigned - move loop variable j into for scope git-svn-id: svn://svn.berlios.de/openocd/trunk@1848
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-20  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Author: Michael Bruck <mbruck@digenius.de>     - move scan_size in interface_jtag_add_dr_scan() into the scope
	    of the inner loop and change it to unsigned git-svn-id: svn://svn.berlios.de/openocd/trunk@1846
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-20  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Author: Michael Bruck <mbruck@digenius.de>     - simplify code in interface_jtag_add_plain_ir_scan() by adding
	    a local variable 'scan' to hold the scan_command_t git-svn-id: svn://svn.berlios.de/openocd/trunk@1844
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-20  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Author: Michael Bruck <mbruck@digenius.de>     - simplify code in interface_jtag_add_ir_scan() by adding a
	    local variable 'scan' to hold the scan_command_t git-svn-id: svn://svn.berlios.de/openocd/trunk@1842
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-20  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Author: Michael Bruck <mbruck@digenius.de>     - rename input parameters 'num_fields' and 'fields' to
	    'in_num_fields' and 'in_fields' in all jtag.c interface
	    functions git-svn-id: svn://svn.berlios.de/openocd/trunk@1840
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-19  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Added jtag_nsrst_delay 200 and jtag_ntrst_delay 200 to the
	LPC2294 target.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1838
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Wookey <wookey@wookware.org> update syntax git-svn-id: svn://svn.berlios.de/openocd/trunk@1836
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added tms_sequence command to allow switching between old/new
	tms sequence git-svn-id: svn://svn.berlios.de/openocd/trunk@1834
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Update BUGS file, adapting its content for the doxygen manual.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1832
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : removed solved mem2array problem.  Added questions regarding ideas on making tcl-less builds of OpenOCD git-svn-id: svn://svn.berlios.de/openocd/trunk@1830
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Update The List with recent progress; remove developer list from
	TODO.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1828
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : JLink support for non-7-cycle state moves by Dick Hollenbeck
	<dick@softplc.com> git-svn-id: svn://svn.berlios.de/openocd/trunk@1826
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix fallout from r1818 git-svn-id: svn://svn.berlios.de/openocd/trunk@1824
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add jtag_queue_command() by Michael Bruck <mbruck@digenius.de>
	[8/8] git-svn-id: svn://svn.berlios.de/openocd/trunk@1822
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add jtag_queue_command() by Michael Bruck <mbruck@digenius.de>
	[6/8] git-svn-id: svn://svn.berlios.de/openocd/trunk@1820
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add jtag_queue_command() by Michael Bruck <mbruck@digenius.de>
	[4/8] git-svn-id: svn://svn.berlios.de/openocd/trunk@1818
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add jtag_queue_command() by Michael Bruck <mbruck@digenius.de>
	[2/8] git-svn-id: svn://svn.berlios.de/openocd/trunk@1816
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : ftdi_set_interface correctness by Strontium
	<strntydog@gmail.com> git-svn-id: svn://svn.berlios.de/openocd/trunk@1814
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : JTAG state table updates (short table still disabled).  Provided
	by Dick Hollenbeck <dick@softplc.com> git-svn-id: svn://svn.berlios.de/openocd/trunk@1812
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : less weird error messages for unknown commands. Check if command
	exists before trying it.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1810
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add missing svn props from svn 1798 commit git-svn-id: svn://svn.berlios.de/openocd/trunk@1808
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Relocate documentation on working area to better align with use
	of new syntax.  Provided by David Brownell <david-b@pacbell.net> git-svn-id: svn://svn.berlios.de/openocd/trunk@1806
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Consolidate target selection code into single get_target() that
	handles both names and numbers.  Provided by David Brownell
	<david-b@pacbell.net> git-svn-id: svn://svn.berlios.de/openocd/trunk@1804
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Whitespace cleanup from David Brownell <david-b@pacbell.net> git-svn-id: svn://svn.berlios.de/openocd/trunk@1802
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Michael Bruck <mbruck@digenius.de> change 'ir_scan' from 'int'
	to 'bool' to document its semantics git-svn-id: svn://svn.berlios.de/openocd/trunk@1800
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Freddie Chopin <freddie_chopin@op.pl> move files about to where
	they belong git-svn-id: svn://svn.berlios.de/openocd/trunk@1798
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-15  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Initialize value of objPtr local variable; prevents warning w/
	gcc-4.4.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1796
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-15  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Less wrong handling of JIM_EMBEDDED, follow Jim Tcl doc's and
	only use JIM_EMBEDDED in a single .c file. Still broken
	w/-fno-common(i.e. Mac OS).  git-svn-id: svn://svn.berlios.de/openocd/trunk@1794
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-15  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Update Doxyfile to build The List into the doxygen manual.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1792
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-14  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Remove JIM_EMBEDDED symbol; not appropriate or necessary.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1790
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-14  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Paul Thomas <pthomas8589@gmail.com>: new board cfg for
	Linuxstamp-mx27 git-svn-id: svn://svn.berlios.de/openocd/trunk@1788
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : take #2: dump_image now works for addresses not divisible by 4 git-svn-id: svn://svn.berlios.de/openocd/trunk@1786
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix broken ir/drscan -endstate option. The statemachine now
	actually ends up in said state.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1784
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : propagate error in dump_image. If an error occurs during
	dump_image, a tcl exception is thrown.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1782
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-13  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix bootstrap typo noticed by Edgar Grimberg
	<edgar.grimberg@zylin.com>.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1780
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : zy1000 1.52 snapshot git-svn-id: svn://svn.berlios.de/openocd/trunk@1777
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-13  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Include types.h in command.h to make stdint.h available through
	it.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1775
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-13  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Include files required to rebuild the HTTP web pages in
	distribution.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1773
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-13  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Commit skeleton files for high-level developer manual using
	doxygen.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1771
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-12  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add missing svn props from svn 1768 commit git-svn-id: svn://svn.berlios.de/openocd/trunk@1769
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Nicolas Pitre <nico@cam.org> lower JTAG clock for SheevaPlug git-svn-id: svn://svn.berlios.de/openocd/trunk@1767
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-12  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add stdint.h to types.h to provide intptr_t.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1765
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : eCos fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@1763
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-12  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Audit and remove redundant uses of replacements.h in the tree.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1761
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-12  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Make system.h private by including it from config.h autoheader.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1759
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-12  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Define _GNU_SOURCE in config.h, remove definitions from source
	files.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1757
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-12  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Include config.h in pregenerated rlink_speed_table.c source.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1755
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix memory corruption introduce in 1730 git-svn-id: svn://svn.berlios.de/openocd/trunk@1753
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix ancient bug & SEGFAULT in irscan git-svn-id: svn://svn.berlios.de/openocd/trunk@1751
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Remove duplicate definition of encode in httpd.tcl.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1749
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix jtag_add_dr_scan() usage a bit... avoid lots of malloc()'s.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1746
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix USB performance regression for verify_ircapture git-svn-id: svn://svn.berlios.de/openocd/trunk@1743
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : retire jtag_add_dr_scan_now git-svn-id: svn://svn.berlios.de/openocd/trunk@1741
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : switch to jtag_add_dr_scan_check() - USB performance fix git-svn-id: svn://svn.berlios.de/openocd/trunk@1739
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : switch to jtag_add_dr_scan_check() - USB performance fix git-svn-id: svn://svn.berlios.de/openocd/trunk@1737
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix ft2232 for CygWin, provided by Michael Bruck
	<mbruck@digenius.de>.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1734
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : switch to jtag_add_callback() - USB performance fix git-svn-id: svn://svn.berlios.de/openocd/trunk@1732
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : switch to jtag_add_callback() - USB performance fix git-svn-id: svn://svn.berlios.de/openocd/trunk@1730
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : switch to jtag_add_callback() - USB performance fix git-svn-id: svn://svn.berlios.de/openocd/trunk@1728
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : switch to jtag_add_callback() - USB performance fix git-svn-id: svn://svn.berlios.de/openocd/trunk@1726
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : switch to jtag_add_callback() - USB performance fix git-svn-id: svn://svn.berlios.de/openocd/trunk@1724
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add svn:eol-style property to recently added system.h.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1722
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : add to svn ignore git-svn-id: svn://svn.berlios.de/openocd/trunk@1720
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Mark API layering violations in the helper module with @todo
	notes.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1718
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Audit and eliminate redundant #include directives in main src/
	files.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1716
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Audit and eliminate redundant #include directives in arm target
	files.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1714
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Audit and eliminate redundant #include directives in src/flash
	sources.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1712
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Audit and eliminate redundant #include directives in
	src/{pld,svf,xsvf}.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1710
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix compilation of target_request.h when it is included first.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1708
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Audit and eliminate redundant helper #include directives.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1706
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add remaining header checks to be used in subsequent patches.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1704
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Factor system #includes out of replacements.h into new system.h.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1702
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Remove redundant sys/types.h #include directives (now in
	types.h).  git-svn-id: svn://svn.berlios.de/openocd/trunk@1700
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add AC_HEADER_ASSERT macro to configure; provides
	--disable-assert option.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1698
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : OpenOCD now requires autoconf 2.60 to process AC_PROG_CC_C99
	macro.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1696
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-10  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Reverse revision 1691: all of its functionality has migrated
	elsewhere.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1694
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Wrote up post processing JTAG API. Not used yet, but reference
	implementation will be used in subsequent explanations of new scheme
	+ patches to use it.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1692
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> whitespace fixes.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1690
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> fix warnings git-svn-id: svn://svn.berlios.de/openocd/trunk@1688
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-09  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Michael Bruck <mbruck@digenius.de> use more const git-svn-id: svn://svn.berlios.de/openocd/trunk@1686
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : whitespace fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@1684
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : whitespace fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@1682
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : sync up zy1000 interface to bitbang driver's handling of exiting
	the shift state git-svn-id: svn://svn.berlios.de/openocd/trunk@1679
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix gaffe in 1672 git-svn-id: svn://svn.berlios.de/openocd/trunk@1677
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : profiling numbers git-svn-id: svn://svn.berlios.de/openocd/trunk@1675
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix (old?) bug in jtag_add_ir_scan() git-svn-id: svn://svn.berlios.de/openocd/trunk@1673
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix one gaffe in previous commit.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1671
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : pull up verify_capture_ir one level in api stack git-svn-id: svn://svn.berlios.de/openocd/trunk@1669
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : retire jtag_set_check_value git-svn-id: svn://svn.berlios.de/openocd/trunk@1667
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : retire jtag_set_check_value git-svn-id: svn://svn.berlios.de/openocd/trunk@1665
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added comments w.r.t. potential performance problems git-svn-id: svn://svn.berlios.de/openocd/trunk@1663
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix loadFile to return file length once again.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1661
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix warnings in httpd.c; builds with libmicrohttpd-0.4.1.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1659
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : more in_handler typo fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@1657
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Remove unreferenced tcpapi.c source file.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1655
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix copy & paste error when retiring in_handler git-svn-id: svn://svn.berlios.de/openocd/trunk@1653
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : verified that an argument is unused git-svn-id: svn://svn.berlios.de/openocd/trunk@1651
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : marker for in_handler to remove git-svn-id: svn://svn.berlios.de/openocd/trunk@1649
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : remove in_handler usage git-svn-id: svn://svn.berlios.de/openocd/trunk@1647
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : remove in_handler usage git-svn-id: svn://svn.berlios.de/openocd/trunk@1645
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : remove in_handler usage git-svn-id: svn://svn.berlios.de/openocd/trunk@1643
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : remove in_handler usage git-svn-id: svn://svn.berlios.de/openocd/trunk@1641
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : stop using in_handler git-svn-id: svn://svn.berlios.de/openocd/trunk@1639
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : remove in_handler usage git-svn-id: svn://svn.berlios.de/openocd/trunk@1637
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell david-b at pacbell.net  fix warnings git-svn-id: svn://svn.berlios.de/openocd/trunk@1635
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> DaVinci DM355 SoC support git-svn-id: svn://svn.berlios.de/openocd/trunk@1633
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : slightly increase readability of code git-svn-id: svn://svn.berlios.de/openocd/trunk@1631
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added template for removing in_handler git-svn-id: svn://svn.berlios.de/openocd/trunk@1629
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix pointer cast alignment warnings in arm_adi_v5.c git-svn-id: svn://svn.berlios.de/openocd/trunk@1627
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-06  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix pointer cast alignment warning in XScale miniIC loader
	parity calc.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1625
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-06  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Change reg_s value field from u8 * to void *; it must always be
	cast.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1623
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-06  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add configure script check to enable C99 build option.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1621
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-06  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Added  (BUILD_JLINK==1) condition to us new tables with JLink git-svn-id: svn://svn.berlios.de/openocd/trunk@1619
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Dick Hollenbeck <dick@softplc.com> part deux of previous changes
	just committed.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1617
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : transition more directly to the end state + reuse more of the
	state move code/paths git-svn-id: svn://svn.berlios.de/openocd/trunk@1615
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : log noise reduction git-svn-id: svn://svn.berlios.de/openocd/trunk@1613
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : remove unecessary setting of deprecated fields to NULL git-svn-id: svn://svn.berlios.de/openocd/trunk@1611
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : add warnings about not using in_handler git-svn-id: svn://svn.berlios.de/openocd/trunk@1609
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : mark usage of in_handler that can be converted into user code git-svn-id: svn://svn.berlios.de/openocd/trunk@1607
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : remove extra newline before prompt git-svn-id: svn://svn.berlios.de/openocd/trunk@1605
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Oleksandr Tymoshenko <gonzo@bluezbox.com> "resume" command fix
	for EJTAG git-svn-id: svn://svn.berlios.de/openocd/trunk@1603
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Mariano Alvira <mar@devl.org> fixes warnings git-svn-id: svn://svn.berlios.de/openocd/trunk@1601
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-04  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix environ declaration for non-glibc systems git-svn-id: svn://svn.berlios.de/openocd/trunk@1599
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-03  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Backed out change to solve Mac OS compilation problems.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1597
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-03  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Piotr Esden-Tempski <piotr@esden.net> Mac OS X compile fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@1595
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-03  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix build when enabling presto+ftd2xx driver only.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1593
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-02  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Update autotools scripts to require automake 1.6.  The
	configure.in script already required autoconf 2.59 (circa 2006), so
	there is no reason to support versions of automake older than 1.6
	(circa 2002).  The first part of this patch upgrades the configure.in script:      1. Use current calling conventions for the AC_INIT and         AM_INIT_AUTOMAKE macros, bringing their usage up-to-date
	        with the version of autoconf already specified by AC_PREREQ.       2. Add AC_CONFIG_SRCDIR macro, required by new version of
	     AC_INIT.  3. Automatically enable all of automake's warnings except Makefile         portability (which OpenOCD violates by using GNU make's
	        $(wildcard)).  [[ While automake has its own -Werror option,
	        I did not enabled it due to existing warnings. ]]      4. Add the missing AM_PROG_C_O check, required by the build
	        rules for openocd.o in src/Makefile.am.       5. Adjust version number to show progress toward the next
	     release.  6. Include a bug reporting e-mail address to direct users to this
	list.  This patch makes the following adjustments to the Makefile.am files:      1. Update AUTOMAKE_OPTIONS to require automake version 1.6      2. Rewrite all deprecated INCLUDES assignments as AM_CPPFLAGS      3. Clean-up all AM_CPPFLAGS declarations to be patch-friendly.       4. Remove vestigial references to $(all_includes)      5. Remove erroneous references to @CPPFLAGS@ (only use
	     AM_CPPFLAGS) 6. Remove unused -I and -D directives in helper/, flash/, target/ git-svn-id: svn://svn.berlios.de/openocd/trunk@1591
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Zach Welch <zw@superlucidity.net> fix warnings git-svn-id: svn://svn.berlios.de/openocd/trunk@1589
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-01  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add static keywords to main application helper functions.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1587
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Uwe Hermann <uwe@hermann-uwe.de>: Support both rev -A1 and -A2
	of Hitex STR9-comStick.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1585
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-30  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : zy1000 1.51 git-svn-id: svn://svn.berlios.de/openocd/trunk@1582
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-30  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : lpc2478 target config git-svn-id: svn://svn.berlios.de/openocd/trunk@1580
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-30  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Print out warning when LPC calc_checksum will cause verification
	to fail.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1578
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-30  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : no change git-svn-id: svn://svn.berlios.de/openocd/trunk@1576
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-30  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : use jtag_rclk 500 to avoid proliferation of target scripts git-svn-id: svn://svn.berlios.de/openocd/trunk@1574
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Michael Bruck <mbruck@digenius.de>: use HAVE_UNISTD_H for
	environ decl.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1572
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-29  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add udev rules for USB ICEbear interface.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1570
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-29  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add missing svn props from svn 1565 commit git-svn-id: svn://svn.berlios.de/openocd/trunk@1568
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-29  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Sten <debian@sansys-electronic.com>: add support for Olimex
	LPC2378STK eval board.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1566
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-29  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix jlink usb_bulk_with_retries to return actual error codes.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1564
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-29  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add -Wredundant-decls to prevent unwanted duplicate
	declarations.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1562
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-29  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Remove redundant declarations to allow building with
	-Wredundant-decls.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1560
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : more docs on jtag_add_pathmove() git-svn-id: svn://svn.berlios.de/openocd/trunk@1558
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-28  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Correctedout  buffer size and missing jlink_tap_init() call.
	Expanded JLink adapter info at startup.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1556
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix checksum memory. By failing the fallback code will handle
	checksum calculation git-svn-id: svn://svn.berlios.de/openocd/trunk@1554
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : convert some LOG_INFO()'s during stepping into LOG_DEBUG() git-svn-id: svn://svn.berlios.de/openocd/trunk@1552
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : eol-style native git-svn-id: svn://svn.berlios.de/openocd/trunk@1550
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : SimonQian <simonqian@simonqian.com> fix warnings(which stops
	compilation) and some bugs git-svn-id: svn://svn.berlios.de/openocd/trunk@1548
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Dick Hollenbeck <dick@softplc.com> Collect some macros, add
	DIM() git-svn-id: svn://svn.berlios.de/openocd/trunk@1546
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : clean up debug/info output to be in line with other targets git-svn-id: svn://svn.berlios.de/openocd/trunk@1544
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : a little bit more error handling in ARM11 git-svn-id: svn://svn.berlios.de/openocd/trunk@1542
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : SimonQian <simonqian@simonqian.com> AVR support git-svn-id: svn://svn.berlios.de/openocd/trunk@1539
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Some devices such as AVR will return 0xffffffff instead of the
	TDI data at the end of the chain. Added kludge to handle this.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1537
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-27  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Added arm_adi_v5.c/h, to replace cortex_swjdp.c/h. Better
	conformance to ARM Debug Interface rev 5 documentation and remoed
	code specific to the Cortex-M3 targets.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1535
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Zach Welch <zw@superlucidity.net> add -Wcast-align and
	-Wbad-function-cast git-svn-id: svn://svn.berlios.de/openocd/trunk@1533
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Zach Welch <zw@superlucidity.net> fix typo git-svn-id: svn://svn.berlios.de/openocd/trunk@1531
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Zach Welch <zw@superlucidity.net> add TAP_SCAN_BYTES macro git-svn-id: svn://svn.berlios.de/openocd/trunk@1529
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-25  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix ft2232 TX buffer overflow git-svn-id: svn://svn.berlios.de/openocd/trunk@1527
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : add jtag_debug_state_machine git-svn-id: svn://svn.berlios.de/openocd/trunk@1525
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Zach Welch <zw@superlucidity.net> add --enable-maintainer-mode
	reminder git-svn-id: svn://svn.berlios.de/openocd/trunk@1523
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Zach Welch <zw@superlucidity.net> use memcpy git-svn-id: svn://svn.berlios.de/openocd/trunk@1521
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Uwe Hermann <uwe@hermann-uwe.de> drop unecessary BSTAPIDs git-svn-id: svn://svn.berlios.de/openocd/trunk@1519
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-23  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Michael Bruck <mbruck@digenius.de> include file fix git-svn-id: svn://svn.berlios.de/openocd/trunk@1517
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-23  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : unbreak zy1000 git-svn-id: svn://svn.berlios.de/openocd/trunk@1515
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-22  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix win32 build after svn 1511 changes git-svn-id: svn://svn.berlios.de/openocd/trunk@1513
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Michael Bruck <mbruck@digenius.de> signed/unsigned
	incompatibility warning git-svn-id: svn://svn.berlios.de/openocd/trunk@1511
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Zach Welch <zw@superlucidity.net> do not pad TMS git-svn-id: svn://svn.berlios.de/openocd/trunk@1509
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Zach Welch <zw@superlucidity.net>  fix jlink reset git-svn-id: svn://svn.berlios.de/openocd/trunk@1507
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-22  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix str_to_buf problem, thanks Andy Chenee git-svn-id: svn://svn.berlios.de/openocd/trunk@1505
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-22  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add D2XX support for OS X courtesy of Piotr Esden-Tempski
	<piotr@esden.net> git-svn-id: svn://svn.berlios.de/openocd/trunk@1503
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-22  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix jtag run/idle state name courtesy of Jeff Williams
	<jeffw@gadgetworks.com> and Zach Welch <zw@superlucidity.net> git-svn-id: svn://svn.berlios.de/openocd/trunk@1501
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Uwe Hermann <uwe@hermann-uwe.de>  Drop non-A variants of ft2232
	targets git-svn-id: svn://svn.berlios.de/openocd/trunk@1499
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Zach Welch <zw@superlucidity.net> fix ft2232 usb io format
	warning git-svn-id: svn://svn.berlios.de/openocd/trunk@1497
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Zach Welch <zw@superlucidity.net>  add --enable-verbose* options git-svn-id: svn://svn.berlios.de/openocd/trunk@1495
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Zach Welch <zw@superlucidity.net>  fix jlink format warning git-svn-id: svn://svn.berlios.de/openocd/trunk@1493
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-21  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - vsllink update from SimonQian [simonqian@SimonQian.com] git-svn-id: svn://svn.berlios.de/openocd/trunk@1491
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-21  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix signed/unsigned build errors under win32. Thanks Zach Welch
	<zw@superlucidity.net> git-svn-id: svn://svn.berlios.de/openocd/trunk@1489
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Zach Welch <zw@superlucidity.net> add static keywords to
	at91rm9200 git-svn-id: svn://svn.berlios.de/openocd/trunk@1487
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Zach Welch <zw@superlucidity.net>  fix at91sam7 uninitialized
	variable warnings git-svn-id: svn://svn.berlios.de/openocd/trunk@1485
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Zach Welch <zw@superlucidity.net> add -Wformat-security (4 of 4) git-svn-id: svn://svn.berlios.de/openocd/trunk@1483
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Zach Welch <zw@superlucidity.net> fix -Wformat-security warnings
	(1 of 4) git-svn-id: svn://svn.berlios.de/openocd/trunk@1481
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Zach Welch <zw@superlucidity.net> use static keyword in jtag
	layer and drivers git-svn-id: svn://svn.berlios.de/openocd/trunk@1479
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-20  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Holger Freyther <zecke@selfish.org> Attempt to fix arm7_9
	breakpoint handling git-svn-id: svn://svn.berlios.de/openocd/trunk@1477
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Nikolay Shadrin whoney at gmail.com, Zach Welch
	<zw@superlucidity.net> unstable USB J-Link in OpenOCD (revised patch
	provided) git-svn-id: svn://svn.berlios.de/openocd/trunk@1475
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Zach Welch <zw@superlucidity.net> treat warnings as errors git-svn-id: svn://svn.berlios.de/openocd/trunk@1473
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-19  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Partially fix USBprog and JLink adapters on XScale target Thanks
	to Peter Denison <openwrt(at)marshadder.org> git-svn-id: svn://svn.berlios.de/openocd/trunk@1471
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Michael Schwingen <rincewind@discworld.dascon.de>  enhanced
	non-CFI flash support git-svn-id: svn://svn.berlios.de/openocd/trunk@1469
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Zach Welch <zw@superlucidity.net> trim logic in tms470.c git-svn-id: svn://svn.berlios.de/openocd/trunk@1467
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Zach Welch <zw@superlucidity.net>  fix warnings in usbprog git-svn-id: svn://svn.berlios.de/openocd/trunk@1465
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Zach Welch <zw@superlucidity.net> automake maintainer mode git-svn-id: svn://svn.berlios.de/openocd/trunk@1463
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-15  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Jesus Sanchez-Palencia <jesus.palencia@openbossa.org> git-svn-id: svn://svn.berlios.de/openocd/trunk@1461
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-15  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Nico Coesel <ncoesel@dealogic.nl> Chip width / bus width bug in
	cfi driver git-svn-id: svn://svn.berlios.de/openocd/trunk@1459
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Dick Hollenbeck <dick@softplc.com> work in progress git-svn-id: svn://svn.berlios.de/openocd/trunk@1457
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-14  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Solve problem with single stepping.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1455
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-03  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Slight improvement in run_algorithm register restore.  More
	debug info for cortex swjdp errors.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1453
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-03  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Uwe Hermann <uwe@hermann-uwe.de> oocdlink file git-svn-id: svn://svn.berlios.de/openocd/trunk@1451
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-03  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Freddie Chopin <freddie_chopin@op.pl> I attach a config file for
	LPC2103 git-svn-id: svn://svn.berlios.de/openocd/trunk@1449
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Nicolas Pitre nico at cam.org write ECC data when reflashing
	u-Boot on the SheevaPlug git-svn-id: svn://svn.berlios.de/openocd/trunk@1447
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Nicolas Pitre nico at cam.org software ECC computation for NAND
	flash git-svn-id: svn://svn.berlios.de/openocd/trunk@1445
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Nicolas Pitre nico at cam.org This at least should make the
	"nand info" command a little more useful.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1443
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Uwe Hermann <uwe@hermann-uwe.de> Add missing STM32 "0x06412041,
	Revision A" BSTAPID to list of available ones.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1441
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-02  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Cortex-M3 cleanup and performance patch git-svn-id: svn://svn.berlios.de/openocd/trunk@1438
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : zy1000 1.50 snapshot. fix problem with empty file names.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1436
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-30  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : a few words about motivation for standalone JTAG debugger.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1434
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Hiroshi Ito <ito@mlb.co.jp> Linux for arm has arm generic debug
	option which send debug messages via DCC channel.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1432
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Hiroshi Ito <ito@mlb.co.jp> disassemble Arm926ejs clz
	instruction git-svn-id: svn://svn.berlios.de/openocd/trunk@1430
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Uwe Hermann <uwe@hermann-uwe.de> spelling fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@1428
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-23  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Uwe Hermann <uwe@hermann-uwe.de>  - Explicitly mention autoconf >= 2.59 as requirement (as per   configure.in). Also automake >= 1.9 (though I'm not sure which   if that's really the minimum requirement).   - Document various missing configure options.   - Fix various typos and inconsistencies.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1426
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-20  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix another typo in str9comstick.cfg git-svn-id: svn://svn.berlios.de/openocd/trunk@1424
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-20  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - docs patch from Thomas Kindler git-svn-id: svn://svn.berlios.de/openocd/trunk@1422
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-20  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - revert texi changes from rev 1418 as it breaks build - original patch will be reviewed before next commit git-svn-id: svn://svn.berlios.de/openocd/trunk@1420
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Thomas Kindler <mail+ocd@t-kindler.de> typos git-svn-id: svn://svn.berlios.de/openocd/trunk@1418
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Hiroshi Ito <ito@mlb.co.jp> fix division by 0 git-svn-id: svn://svn.berlios.de/openocd/trunk@1416
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-17  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix incorrect stm32stick.cfg git-svn-id: svn://svn.berlios.de/openocd/trunk@1414
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Uwe Hermann <uwe@hermann-uwe.de>  clean out stuff that doesn't
	belong in interface(telnet/gdb port).  git-svn-id: svn://svn.berlios.de/openocd/trunk@1412
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-11  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add support for standalone rlink

	https://lists.berlios.de/pipermail/openocd-development/2009-March/004965.htmlgit-svn-id: svn://svn.berlios.de/openocd/trunk@1410
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-11  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Commit OMAP3530 and TI_BEAGLEBOARD config files from Kees, Dick,
	Derk, and others git-svn-id: svn://svn.berlios.de/openocd/trunk@1408
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-09  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix small typo in texi (section HostOS) git-svn-id: svn://svn.berlios.de/openocd/trunk@1406
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-08  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Commands: reg, profile, ocd_mem2array, ocd_array2mem, fast_load,
	etc only work *IF* there is an actual target git-svn-id: svn://svn.berlios.de/openocd/trunk@1404
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-08  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Patch from Dimitar Dimitrov adding support for Olimex
	ARM-JTAG-EW git-svn-id: svn://svn.berlios.de/openocd/trunk@1402
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-07  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Added HostOS variable git-svn-id: svn://svn.berlios.de/openocd/trunk@1400
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Nicolas Pitre <nico@cam.org> fix "halt 0" to only halt and not
	to poll/wait afterwards. This follows the intention in the docs.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1398
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-03  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : test code for elf parsing.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1396
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Daniel Gimpelevich <daniel@gimpelevich.san-francisco.ca.us>
	Cosmetic OpenOCD patch for Flyswatter git-svn-id: svn://svn.berlios.de/openocd/trunk@1394
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Nicolas Pitre nico at cam.org  fix feroceon_bulk_write_memory()
	wrt uploaded code git-svn-id: svn://svn.berlios.de/openocd/trunk@1392
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Nicolas Pitre nico at cam.org  add ft2232 layout for the Marvell
	SheevaPlug git-svn-id: svn://svn.berlios.de/openocd/trunk@1390
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Nicolas Pitre nico at cam.org support for NAND flash used with
	Marvell Orion and Kirkwood SOCs git-svn-id: svn://svn.berlios.de/openocd/trunk@1388
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Nicolas Pitre nico at cam.org  don't ignore bad options passed
	to the "nand write" command git-svn-id: svn://svn.berlios.de/openocd/trunk@1386
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Nicolas Pitre nico at cam.org  spelling git-svn-id: svn://svn.berlios.de/openocd/trunk@1384
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-02-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : test files for stm32 git-svn-id: svn://svn.berlios.de/openocd/trunk@1382
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-02-23  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Sergey Lapin <slapinid@gmail.com> fix typo git-svn-id: svn://svn.berlios.de/openocd/trunk@1379
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-02-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : John Woods <johnrw@gmail.com> fix checks for addresses at upper
	end of the universe git-svn-id: svn://svn.berlios.de/openocd/trunk@1377
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-02-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Holger Schurig <hs4233@mail.mn-solutions.de> fix warnings git-svn-id: svn://svn.berlios.de/openocd/trunk@1375
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-02-17  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : zy1000 1.49 snapshot git-svn-id: svn://svn.berlios.de/openocd/trunk@1373
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-02-12  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - issue warning when flash image exceeds configured flash size.  - see

	https://lists.berlios.de/pipermail/openocd-development/2009-February/004680.htmlgit-svn-id: svn://svn.berlios.de/openocd/trunk@1371
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-02-10  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : A few more usages of TRUE and FALSE to remove git-svn-id: svn://svn.berlios.de/openocd/trunk@1369
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-02-09  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Andi <opencode@gmx.net> - better dram setup git-svn-id: svn://svn.berlios.de/openocd/trunk@1367
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-02-03  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Doxygen config file git-svn-id: svn://svn.berlios.de/openocd/trunk@1365
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : chain position is now required when creating a target git-svn-id: svn://svn.berlios.de/openocd/trunk@1363
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-23  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - AC_CHECK_FILE not supported when cross-compiling git-svn-id: svn://svn.berlios.de/openocd/trunk@1361
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-23  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fixes for svf player by Simon Qian <simonqian@SimonQian.com> git-svn-id: svn://svn.berlios.de/openocd/trunk@1359
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-23  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add TRST support to xsvf tools.  Courtesy of Dick Hollenbeck
	<dick@softplc.com> git-svn-id: svn://svn.berlios.de/openocd/trunk@1357
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-21  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add udev rules to contrib.  Courtesy of Uwe Hermann
	<uwe@hermann-uwe.de> git-svn-id: svn://svn.berlios.de/openocd/trunk@1354
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-20  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix issue with configure when building srcdir != builddir git-svn-id: svn://svn.berlios.de/openocd/trunk@1352
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-20  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : AT91SAM9260 and Olimex changes by Dean Glazeski
	<dnglaze@gmail.com> git-svn-id: svn://svn.berlios.de/openocd/trunk@1350
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-20  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fixes for handling release versions git-svn-id: svn://svn.berlios.de/openocd/trunk@1347
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-20  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Ignore src/svf/Makefile.in git-svn-id: svn://svn.berlios.de/openocd/trunk@1344
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-20  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : imx21 config provided by Alan Carvalho de Assis
	<acassis@gmail.com> git-svn-id: svn://svn.berlios.de/openocd/trunk@1342
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-19  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - revert guess-rev.sh to using bash - remove generated files from svn git-svn-id: svn://svn.berlios.de/openocd/trunk@1340
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-19  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix handling of thumb disassembly in armv4_5 disassemble.
	Courtesy of Adam Dybkowski <adybkows@wp.pl> git-svn-id: svn://svn.berlios.de/openocd/trunk@1338
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-17  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix to install manpage as part of 'make install' by Uwe Hermann
	<uwe@hermann-uwe.de> git-svn-id: svn://svn.berlios.de/openocd/trunk@1335
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-16  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add guess-rev.sh and contrib/libdcc to dist git-svn-id: svn://svn.berlios.de/openocd/trunk@1332
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-16  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix distcheck failure git-svn-id: svn://svn.berlios.de/openocd/trunk@1329
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-15  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Alan Carvalho de Assis <acassis@gmail.com> test app for imx27 git-svn-id: svn://svn.berlios.de/openocd/trunk@1323
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-14  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add missing svn props and fix incorrect line endings from last
	commit git-svn-id: svn://svn.berlios.de/openocd/trunk@1321
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Alan Carvalho de Assis <acassis@gmail.com> - testcase git-svn-id: svn://svn.berlios.de/openocd/trunk@1319
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : arm11 wip git-svn-id: svn://svn.berlios.de/openocd/trunk@1317
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-13  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix LDFLAGS typo in configure.in Thanks Francois Lorrain git-svn-id: svn://svn.berlios.de/openocd/trunk@1315
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-13  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added mips software breakpoint support - changed some jtag LOG_DEBUG to only output when _DEBUG_JTAG_IO_
	defined. Makes debugging other parts of openocd not as noisy - updated correct jtag id for pic32mx git-svn-id: svn://svn.berlios.de/openocd/trunk@1313
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-09  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : moved ioutil init to the right spot: before config scripts git-svn-id: svn://svn.berlios.de/openocd/trunk@1311
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-09  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fixed warnings + added zy1000 jtag_add_clocks support.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1309
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-08  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Updates and fixes for the manpage from Uwe Hermann - Mention that MIPS systems are supported - Mention Jim Tcl engine - Point to info page (not README) for a list of supported stuff - Document missing --pipe option - Fix copy-paste error ("flex" should have been "openocd") git-svn-id: svn://svn.berlios.de/openocd/trunk@1307
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-07  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - minor doc updates regarding tap creation and gdb connection using
	pipes git-svn-id: svn://svn.berlios.de/openocd/trunk@1305
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Dick Hollenbeck <dick@softplc.com>  SVF to XSVF converter and
	the XSVF dumper git-svn-id: svn://svn.berlios.de/openocd/trunk@1303
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : John McCarthy <jgmcc@magma.ca> pic32mx flash fixups and speedups git-svn-id: svn://svn.berlios.de/openocd/trunk@1301
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Andi <opencode@gmx.net> basic support for the MIPS based SMP8634
	SoC.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1299
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-03  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : eol-style native git-svn-id: svn://svn.berlios.de/openocd/trunk@1297
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : John McCarthy <jgmcc@magma.ca> keep_alive() fix git-svn-id: svn://svn.berlios.de/openocd/trunk@1295
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Uwe Hermann <uwe@hermann-uwe.de> One of them is fixing a few
	compiler warnings (see attached patch) and likely also one
	(non-cosmetic) bug (the 'id_buff' change, which seems to be a buffer
	overflow).  git-svn-id: svn://svn.berlios.de/openocd/trunk@1293
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-28  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Updates from SimonQian git-svn-id: svn://svn.berlios.de/openocd/trunk@1291
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-27  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Warnings cleanup ... finish up earlier commit git-svn-id: svn://svn.berlios.de/openocd/trunk@1289
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-27  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Tweaks - old crusty code with some warnings & errors - minor
	stuff git-svn-id: svn://svn.berlios.de/openocd/trunk@1287
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-27  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : From Dirk Behme - another set of typos git-svn-id: svn://svn.berlios.de/openocd/trunk@1285
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-27  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Missed support for without --exec-prefix and ftd2xx stuff git-svn-id: svn://svn.berlios.de/openocd/trunk@1283
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-27  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Quoteify the FT2232 description list, and a missed fix from Dirk
	Behme about jtag tapisenabled git-svn-id: svn://svn.berlios.de/openocd/trunk@1281
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-27  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Warning removal from lou.openocd012@fixit.nospammail.net git-svn-id: svn://svn.berlios.de/openocd/trunk@1279
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-27  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Added documentation for build test case1 git-svn-id: svn://svn.berlios.de/openocd/trunk@1277
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-27  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Build Permutations with ftd2xx and libftdi addressed. Also added
	a new se of regression makefiles to build openocd in multiple ways git-svn-id: svn://svn.berlios.de/openocd/trunk@1275
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-23  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add missing svn props from r1270 commit - change mime-type for png files to image/png git-svn-id: svn://svn.berlios.de/openocd/trunk@1273
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : httpd wip git-svn-id: svn://svn.berlios.de/openocd/trunk@1271
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : httpd wip git-svn-id: svn://svn.berlios.de/openocd/trunk@1268
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : cygwin fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@1266
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Dick Hollenbeck <dick@softplc.com> better logging git-svn-id: svn://svn.berlios.de/openocd/trunk@1264
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Dick Hollenbeck <dick@softplc.com> better logging git-svn-id: svn://svn.berlios.de/openocd/trunk@1262
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-19  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix rlink build under native win32 (mingw) - remove rlink build warnings - add usb_set_configuration to rlink_init, win32 requires this - add win32 ETIMEDOUT define git-svn-id: svn://svn.berlios.de/openocd/trunk@1260
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-19  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - rlink interface support from Lou Deluxe
	<lou.openocd012@fixit.nospammail.net> git-svn-id: svn://svn.berlios.de/openocd/trunk@1258
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-17  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : more houskeeping git-svn-id: svn://svn.berlios.de/openocd/trunk@1256
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-17  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fixed gaffe in post handling git-svn-id: svn://svn.berlios.de/openocd/trunk@1254
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : sync up to latest jim tcl git-svn-id: svn://svn.berlios.de/openocd/trunk@1250
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : jtag_khz simulation git-svn-id: svn://svn.berlios.de/openocd/trunk@1248
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix broken -c/f options where it would silently terminate for
	scripts that did not set the return value.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1246
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-15  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fixed compilation problem git-svn-id: svn://svn.berlios.de/openocd/trunk@1244
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-15  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add ability for openocd to communicate to gdb using pipes
	(stdin/stdout).  - this is enabled by new command line option option --pipe.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1242
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-14  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Update tap_state_strings to correspond to SVF state names - Use new jtag_state_name() instead of global tap_state_strings[] git-svn-id: svn://svn.berlios.de/openocd/trunk@1240
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-13  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - remove target specific variant and use target->variant member - fix build warning in cortex_m3 - code cleanup - remove trailing lf and convert c++ comments git-svn-id: svn://svn.berlios.de/openocd/trunk@1238
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-13  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Clean up references to old tap_state names git-svn-id: svn://svn.berlios.de/openocd/trunk@1235
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-12  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - check cortex_m3 FPB is enabled when setting hardware breakpoint - Thanks Igor Skochinsky git-svn-id: svn://svn.berlios.de/openocd/trunk@1231
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-11  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - incorrect url in last commit for usbjtag - added missing ft2232 option for interface axm0432_jtag git-svn-id: svn://svn.berlios.de/openocd/trunk@1228
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-11  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : AXM0432 layout for FDTI provided by Alan Carvalho de Assis
	(Freescale) git-svn-id: svn://svn.berlios.de/openocd/trunk@1226
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-10  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix illegal memory access in unregister_command function git-svn-id: svn://svn.berlios.de/openocd/trunk@1224
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-10  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix from Kees Jongenburger (Part Duex) git-svn-id: svn://svn.berlios.de/openocd/trunk@1222
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-08  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Typos in config files found by Sergey Lapin git-svn-id: svn://svn.berlios.de/openocd/trunk@1220
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-06  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - update texi to describe str9xpec driver flow git-svn-id: svn://svn.berlios.de/openocd/trunk@1218
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-05  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Added Joern Kaipf link for oocdlink git-svn-id: svn://svn.berlios.de/openocd/trunk@1214
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Karl Beldan <karl.beldan@gmail.com> - fix vector_catch command git-svn-id: svn://svn.berlios.de/openocd/trunk@1212
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-04  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Manual tweak based on feedback from mailing list the iar dongle
	works git-svn-id: svn://svn.berlios.de/openocd/trunk@1206
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-03  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - str9xpec driver now working with new jtag tap config git-svn-id: svn://svn.berlios.de/openocd/trunk@1204
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-03  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - cleanup target config scripts git-svn-id: svn://svn.berlios.de/openocd/trunk@1202
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Hiroshi Ito <ito@mlb.co.jp> fixes to ep93xx.c git-svn-id: svn://svn.berlios.de/openocd/trunk@1200
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-01  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix incorrect svn props from last commit git-svn-id: svn://svn.berlios.de/openocd/trunk@1198
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : correct CPU ID git-svn-id: svn://svn.berlios.de/openocd/trunk@1196
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-30  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : jtag newtap change & huge manual update git-svn-id: svn://svn.berlios.de/openocd/trunk@1194
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-28  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - change mips registers to std names git-svn-id: svn://svn.berlios.de/openocd/trunk@1192
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Rick Altherr <kc8apf@kc8apf.net> retire obsolete syntax git-svn-id: svn://svn.berlios.de/openocd/trunk@1190
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Carlos Antunes <cmantunes@nowthor.com> fixes to get script to
	work.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1188
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-26  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - correct corrupt target configs git-svn-id: svn://svn.berlios.de/openocd/trunk@1186
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : wip git-svn-id: svn://svn.berlios.de/openocd/trunk@1184
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-20  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix issue with gdb_target_to_reg missing second byte git-svn-id: svn://svn.berlios.de/openocd/trunk@1180
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-20  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fox small typo in handle_irscan_command git-svn-id: svn://svn.berlios.de/openocd/trunk@1178
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : error checking - no reported errors, but catched a couple of
	exit()'s and converted them to errors.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1175
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-17  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add support for hardware breakpoints to mips32 target git-svn-id: svn://svn.berlios.de/openocd/trunk@1173
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-13  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - correct the register hi/lo read - wrong way round - all the register now can be written to, including the special CP0
	regs.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1169
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : krzysztof.dziuba Gazeta.pl <krzysztof.dziuba@gazeta.pl> - to add
	support for flashing of TMS470R1A384 git-svn-id: svn://svn.berlios.de/openocd/trunk@1166
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-12  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix crash when variant for mips32 target not given git-svn-id: svn://svn.berlios.de/openocd/trunk@1160
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Laurentiu Cocanu - blinking led app for PIC32.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1157
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : sense srst git-svn-id: svn://svn.berlios.de/openocd/trunk@1154
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : execute reset init upon power restore / srst deassert git-svn-id: svn://svn.berlios.de/openocd/trunk@1150
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-09  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : terminal forwarding available from GUI git-svn-id: svn://svn.berlios.de/openocd/trunk@1148
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : zy1000 1.47 git-svn-id: svn://svn.berlios.de/openocd/trunk@1145
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : typos git-svn-id: svn://svn.berlios.de/openocd/trunk@1143
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added device discovery git-svn-id: svn://svn.berlios.de/openocd/trunk@1141
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : MOE=0xc debug reason reset problems.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1139
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : zy1000 1.46 git-svn-id: svn://svn.berlios.de/openocd/trunk@1137
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix telnet async messages. retired telnet_async command - no
	user serviceable parts inside.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1135
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : John McCarthy <jgmcc@magma.ca> - mips_4k options git-svn-id: svn://svn.berlios.de/openocd/trunk@1133
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : cpu help command wip git-svn-id: svn://svn.berlios.de/openocd/trunk@1131
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Rick Alterr - The attached patch makes the target syntax parsing
	much more robust and makes the variant optional again.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1129
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-03  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Peter Hettkamp <peter.hettkamp@htp-tel.de> fix some problems
	with xsvf. Still doesn't work.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1127
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : more error handling and removed force breakpoints as that is
	handled by a more generic gdb command git-svn-id: svn://svn.berlios.de/openocd/trunk@1125
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : step command now propagates error git-svn-id: svn://svn.berlios.de/openocd/trunk@1123
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : √òyvind Harboe and Rick Altherr <kc8apf@kc8apf.net> - handle
	failed run algorithms more gracefully git-svn-id: svn://svn.berlios.de/openocd/trunk@1121
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Rick Altherr <kc8apf@kc8apf.net> -  In cortex_m3_resume if
	debug_execution is non-zero, the PRIMASK and xSPR are modified.  The
	problem is that while the register value is changed, it isn't marked
	valid or dirty.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1119
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-31  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Added telnet_async command to enable/disable asynchronous
	messages.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1117
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-30  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Rick Altherr <kc8apf@kc8apf.net> - update syntax git-svn-id: svn://svn.berlios.de/openocd/trunk@1114
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-28  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - remove build warning git-svn-id: svn://svn.berlios.de/openocd/trunk@1112
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Hongtao Zheng  - more fixes to single stepping. Better hiding of
	details and fixes feroceon regression.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1110
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Rick Altherr <kc8apf@kc8apf.net> - fix support for old target
	syntax git-svn-id: svn://svn.berlios.de/openocd/trunk@1108
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Kees Jongenburger <kees.jongenburger@gmail.com> - fix typo git-svn-id: svn://svn.berlios.de/openocd/trunk@1106
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix working area address git-svn-id: svn://svn.berlios.de/openocd/trunk@1104
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : now compiles under Cygwin and eCos again.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1102
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : gdb_report_data_abort now ignores all target read errors,
	including address space wraps. Hopefully works around problems in
	6.8 git-svn-id: svn://svn.berlios.de/openocd/trunk@1099
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-23  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : hontor <hontor@126.com> - fix simulation step errors git-svn-id: svn://svn.berlios.de/openocd/trunk@1097
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-23  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : whitespace trouble....  git-svn-id: svn://svn.berlios.de/openocd/trunk@1094
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : updated docs a bit.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1091
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : how to send patch git-svn-id: svn://svn.berlios.de/openocd/trunk@1089
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Laurentiu Cocanu - more help text git-svn-id: svn://svn.berlios.de/openocd/trunk@1087
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix warnings when building for eCos git-svn-id: svn://svn.berlios.de/openocd/trunk@1085
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-17  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Laurentiu Cocanu - document various commands.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1083
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-17  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : try to get struct timezone def right w.r.t. config.h. Now
	compiles under Cygwin and eCos git-svn-id: svn://svn.berlios.de/openocd/trunk@1080
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-16  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - update docs deprecated section to include links to new commands
	(if any) - added missing svn props git-svn-id: svn://svn.berlios.de/openocd/trunk@1077
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix error handling in flash fill git-svn-id: svn://svn.berlios.de/openocd/trunk@1074
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added help on production proc's git-svn-id: svn://svn.berlios.de/openocd/trunk@1072
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : removed autoerase from flash fillX git-svn-id: svn://svn.berlios.de/openocd/trunk@1070
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : more robust error reporting for DCC git-svn-id: svn://svn.berlios.de/openocd/trunk@1068
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-15  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - make docs more readable git-svn-id: svn://svn.berlios.de/openocd/trunk@1066
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-15  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Laurentiu Cocanu - memory read/write and exit() error path fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@1064
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-14  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - remove build warnings - add missing svn props git-svn-id: svn://svn.berlios.de/openocd/trunk@1062
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fixed a few crashes in syntax handling git-svn-id: svn://svn.berlios.de/openocd/trunk@1060
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Laurentiu Cocanu - add error handling git-svn-id: svn://svn.berlios.de/openocd/trunk@1057
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : tip on checking with supplier for binaries git-svn-id: svn://svn.berlios.de/openocd/trunk@1055
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : reset cleanup. Remove obsolete events that are not needed for
	compatibility.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1053
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Ben Bodley TEKNIQUE <ben@teknique.com> - support for the 1Mb
	Spansion Flash S29AL008D.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1051
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : John McCarthy <jgmcc@magma.ca> cleans up the usage of the
	ejtag_info->ejtag_ctrl variable.  It was being overwritten by the
	value read back from the EJTAG CONTROL register.  Because of the way
	this register works you do not want to use the value returned to
	write the register, you always want to write the bits explicitly.  The second patch just reduces the DMA retries to 0 in anticipation
	of removing the retry code altogether.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1049
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Retired old reset code according to plan.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1047
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : hontor <hontor@126.com> - ARMV7_GDB_HACKS compilation error fix git-svn-id: svn://svn.berlios.de/openocd/trunk@1045
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix crash when connecting GDB to powered down target git-svn-id: svn://svn.berlios.de/openocd/trunk@1043
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Laurentiu Cocanu <laurentiu.cocanu@zylin.com> - Added additional
	error checks mostly to src/target/target.c git-svn-id: svn://svn.berlios.de/openocd/trunk@1041
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Duane Ellis: addresses protocol problems with GDB.
	https://lists.berlios.de/pipermail/openocd-development/2008-October/003326.htmlgit-svn-id: svn://svn.berlios.de/openocd/trunk@1039
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-09  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : abort writing algorithm to target upon failure git-svn-id: svn://svn.berlios.de/openocd/trunk@1037
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-09  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : zy1000 1.44 snapshot git-svn-id: svn://svn.berlios.de/openocd/trunk@1034
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-08  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - remove build warnings from mips_m4k.c and arm11.c - reformat whitespace arm11.c[ch] - add missing svn props from mips32_dmaacc.[ch] git-svn-id: svn://svn.berlios.de/openocd/trunk@1032
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : file not found SEGFAULT fix git-svn-id: svn://svn.berlios.de/openocd/trunk@1030
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Signed-off-by: Frederik Kriewitz <frederik@kriewitz.eu> libdcc
	bugfixes + trace point function git-svn-id: svn://svn.berlios.de/openocd/trunk@1028
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fixes SEGFAULT when setting registers from GDB.  set $cpsr=1234 git-svn-id: svn://svn.berlios.de/openocd/trunk@1026
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fixed crash in dummy register handling git-svn-id: svn://svn.berlios.de/openocd/trunk@1024
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-06  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - remove build warnings - add missing svn props git-svn-id: svn://svn.berlios.de/openocd/trunk@1022
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Centralize error handling for buggy register handling git-svn-id: svn://svn.berlios.de/openocd/trunk@1019
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Georg Acher <acher@in.tum.de> implements the buffer flash mode
	for Spansion flashes. It's basically a clone of the Intel version,
	just a few details differ git-svn-id: svn://svn.berlios.de/openocd/trunk@1017
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : timeout is now 1000ms instead of trying 100 times.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1015
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Duane Ellis: added missing invocation of reset-init git-svn-id: svn://svn.berlios.de/openocd/trunk@1013
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fixed gaffe: disable interrupts reset init script git-svn-id: svn://svn.berlios.de/openocd/trunk@1011
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-09-27  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - convert spaces to tabs in at91sam7.[ch] - add missing svn props git-svn-id: svn://svn.berlios.de/openocd/trunk@1009
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-09-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Gheorghe Guran <roatlasro@yahoo.com> redone at91sam7 driver. Old
	driver source file renamed. The old driver is still invoked by
	default and the new driver is invoked by using at91sam7_new git-svn-id: svn://svn.berlios.de/openocd/trunk@1007
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-09-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : ZY1000 code git-svn-id: svn://svn.berlios.de/openocd/trunk@1005
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-09-24  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - renamed x7926 driver to aduc702x to match other flash drivers - removed c99 types (mingw issues) from aduc driver and cleanup - updated docs for aduc702x flash driver git-svn-id: svn://svn.berlios.de/openocd/trunk@995
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-09-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fixed false positives for keep_alive() not being invoked.  git-svn-id: svn://svn.berlios.de/openocd/trunk@993
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-09-22  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix typo's git-svn-id: svn://svn.berlios.de/openocd/trunk@991
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-09-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : openocd.texi is the authortative source of OpenOCD documentation git-svn-id: svn://svn.berlios.de/openocd/trunk@989
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-09-20  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added myself to copyright on files i remember adding large
	contributions for over the years - cleaned up headers to match rest of code - added missing svn props for previously added files git-svn-id: svn://svn.berlios.de/openocd/trunk@987
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-09-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Fixed regression introduced in 890 when "fixing warnings" for
	target_call_timer_callbacks_now().
	target_call_timer_callbacks_now() did the same as
	target_call_timer_callbacks().  - Reduced keep_alive()'s job to only deal with GDB keep  alive
	problems.  git-svn-id: svn://svn.berlios.de/openocd/trunk@985
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-09-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fixed keep_alive fix gaffe introduce in previous commit.  git-svn-id: svn://svn.berlios.de/openocd/trunk@983
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-09-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : keep_alive now invokes target_call_timer_callbacks_now git-svn-id: svn://svn.berlios.de/openocd/trunk@981
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-09-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : workaround and comment for problems identified by Michael
	Schwingen.  git-svn-id: svn://svn.berlios.de/openocd/trunk@979
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-09-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Duane Ellis has made highly non-trivial changes to both the
	target handling and command system.  git-svn-id: svn://svn.berlios.de/openocd/trunk@977
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-09-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Duane Ellis: "target as an [tcl] object" feature.  git-svn-id: svn://svn.berlios.de/openocd/trunk@975
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : documented change in target command w/removed options git-svn-id: svn://svn.berlios.de/openocd/trunk@973
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : ooops... fixed commit gaffe in previous commit.  git-svn-id: svn://svn.berlios.de/openocd/trunk@971
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : do not check checksums in noack case git-svn-id: svn://svn.berlios.de/openocd/trunk@969
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : STR912 uses RCLK if available git-svn-id: svn://svn.berlios.de/openocd/trunk@967
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fixed gaffe in last release w/target number.  git-svn-id: svn://svn.berlios.de/openocd/trunk@965
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : duane ellis - errno ansi fix git-svn-id: svn://svn.berlios.de/openocd/trunk@963
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Daniel Gimpelevich <daniel@gimpelevich.san-francisco.ca.us> fix
	end of address space flash sector comparision git-svn-id: svn://svn.berlios.de/openocd/trunk@961
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-22  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add support for new gdb QStartNoAckMode, which disables sending of
	ack's between remote packets git-svn-id: svn://svn.berlios.de/openocd/trunk@959
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-22  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix a off-by-one error in the buffer read/write code that checks
	for a address wrap git-svn-id: svn://svn.berlios.de/openocd/trunk@957
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-20  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : lm3s3748 config file git-svn-id: svn://svn.berlios.de/openocd/trunk@955
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-20  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : continue execution even if chain can't be validated. This will,
	hopefully, give us some more feedback on what's wrong.  git-svn-id: svn://svn.berlios.de/openocd/trunk@953
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-20  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added missing parport configs to texi - remove spaces from last patch git-svn-id: svn://svn.berlios.de/openocd/trunk@951
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-20  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix BUG: keep_alive() error messages git-svn-id: svn://svn.berlios.de/openocd/trunk@949
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-19  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added svn props for newly added files git-svn-id: svn://svn.berlios.de/openocd/trunk@947
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : switch to alive_sleep() to avoid gdb timeouts git-svn-id: svn://svn.berlios.de/openocd/trunk@945
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : better polling debug_level 3 handling git-svn-id: svn://svn.berlios.de/openocd/trunk@943
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : DANGER: committed work-in-progress to handle examination of jtag
	devices without IDCODE. I think this works, but I may have to pull
	that change out again...  added alive_sleep() to avoid warnings when resetting target(fixes
	incomprehensible error timeout error messages in GDB).  git-svn-id: svn://svn.berlios.de/openocd/trunk@941
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : use alive_sleep() from sleep command git-svn-id: svn://svn.berlios.de/openocd/trunk@939
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : tinker with Xscale performance, anti-log spamming is now only
	for debug_level 3 or more. Otherwise polling is done continously for
	1 second.  git-svn-id: svn://svn.berlios.de/openocd/trunk@937
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : tinker with Xscale performance. Poll a bit more before sleeping.  git-svn-id: svn://svn.berlios.de/openocd/trunk@935
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fixed error handling in flash bank.  git-svn-id: svn://svn.berlios.de/openocd/trunk@933
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added wip imx31.cfg file git-svn-id: svn://svn.berlios.de/openocd/trunk@931
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Johannes Stezenbach <js@sig21.net> fix warnings git-svn-id: svn://svn.berlios.de/openocd/trunk@929
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added error handling to avoid false error messages.  git-svn-id: svn://svn.berlios.de/openocd/trunk@927
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-17  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fixed not halted error messages git-svn-id: svn://svn.berlios.de/openocd/trunk@925
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-17  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Richard <news@muppet.plus.com> fixed bug in padding code git-svn-id: svn://svn.berlios.de/openocd/trunk@923
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : feroceon updated w.r.t. latest arm7/9 changes git-svn-id: svn://svn.berlios.de/openocd/trunk@921
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : typo spotted by spen. gdb_breakpoint_override not tested yet.  git-svn-id: svn://svn.berlios.de/openocd/trunk@919
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : removed old comment git-svn-id: svn://svn.berlios.de/openocd/trunk@917
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : gdb_breakpoint_override comments git-svn-id: svn://svn.berlios.de/openocd/trunk@915
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : comments.  git-svn-id: svn://svn.berlios.de/openocd/trunk@913
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix warning.  git-svn-id: svn://svn.berlios.de/openocd/trunk@911
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : avoid empty lines in log as a keep_alive() sideffect git-svn-id: svn://svn.berlios.de/openocd/trunk@909
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : updated syntax for post_reset scripts git-svn-id: svn://svn.berlios.de/openocd/trunk@907
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix error output a bit: do not repeat output printed during
	execution in case of error.  git-svn-id: svn://svn.berlios.de/openocd/trunk@905
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : place event loop inside #ifdef JIM_EMBEDDED.  git-svn-id: svn://svn.berlios.de/openocd/trunk@903
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Michael Schwingen <rincewind@discworld.dascon.de> - add
	jedec_probe to doc git-svn-id: svn://svn.berlios.de/openocd/trunk@901
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-07  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added svn props for newly added files git-svn-id: svn://svn.berlios.de/openocd/trunk@899
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : lpc2148 2MHz, RCLK and clockless config script versions git-svn-id: svn://svn.berlios.de/openocd/trunk@897
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-06  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - remove Jim_InitEmbedded warning git-svn-id: svn://svn.berlios.de/openocd/trunk@895
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-06  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix target_examine declaration - remove build warnings - added --enable-gccwarnings to docs - update mips_m4k_examine function git-svn-id: svn://svn.berlios.de/openocd/trunk@893
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : gaffe in previous commit fixed. "reset run" now works again for
	arm7/9 git-svn-id: svn://svn.berlios.de/openocd/trunk@891
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : halting srst_pulls_trst targets is now snappier and has explicit
	warning.  git-svn-id: svn://svn.berlios.de/openocd/trunk@889
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : moves handling of problems with resetting into the halted state
	into the target implementation.  Also target_process_reset() is now simpler and has error handling,
	e.g. if assert reset fails, then target_process_reset() will
	propagate that error.  cmd_ctx was passed in to examine(), which is wrong - removed that.  git-svn-id: svn://svn.berlios.de/openocd/trunk@887
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : The reset routine now works w/LPC2148 out of the box.  git-svn-id: svn://svn.berlios.de/openocd/trunk@885
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-31  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : wip - committing to reduce patch size.  git-svn-id: svn://svn.berlios.de/openocd/trunk@883
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-29  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : more jtag_examine() checks. catch errors during first 640 bits.  git-svn-id: svn://svn.berlios.de/openocd/trunk@881
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : allow minidrivers to implement inner loop of dcc memory writes git-svn-id: svn://svn.berlios.de/openocd/trunk@879
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : retired reset run_and_init/halt git-svn-id: svn://svn.berlios.de/openocd/trunk@877
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : add check for target_read/write_buffer 32 bit wrap.  git-svn-id: svn://svn.berlios.de/openocd/trunk@875
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : minimum address and maximum length argument to load_image. Used
	in lieu of reset init script when executable w/reset init sequence
	is available.  git-svn-id: svn://svn.berlios.de/openocd/trunk@873
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : OpenOCD commands w/prefix ocd_ now set the primary Tcl return
	value instead of messing with ocd_output local variable. Much more
	straightforward and expected behaviour. The side effect is that the
	ocd_xxx commands will print output twice(once immediately and once
	upon completion of command). This is a strange, expected and
	intentional behaviour.  git-svn-id: svn://svn.berlios.de/openocd/trunk@871
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : take path to eCos files from environment variable git-svn-id: svn://svn.berlios.de/openocd/trunk@869
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : allow jtag minidriver access to cmd_queue_cur_state for
	jtag_add_pathmove() git-svn-id: svn://svn.berlios.de/openocd/trunk@867
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : wait 500ms for target to halt upon connect.  git-svn-id: svn://svn.berlios.de/openocd/trunk@865
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-23  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix typo in jtag_add_end_state git-svn-id: svn://svn.berlios.de/openocd/trunk@863
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-23  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix <memory> is missing upon gdb connect warning when no flash
	is defined for target.  git-svn-id: svn://svn.berlios.de/openocd/trunk@861
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-23  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - more fixes to high density stm32x flash driver - updated copyright for original author git-svn-id: svn://svn.berlios.de/openocd/trunk@859
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-22  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add missing quotes from CFLAGS_FOR_BUILD git-svn-id: svn://svn.berlios.de/openocd/trunk@857
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Only print out gobs of information to log when -d3 is enabled.  git-svn-id: svn://svn.berlios.de/openocd/trunk@855
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : restart is a per-target action git-svn-id: svn://svn.berlios.de/openocd/trunk@853
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : jim license cleanup git-svn-id: svn://svn.berlios.de/openocd/trunk@851
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - jtag_khz/speed are now single parameter only. These are used from
	pre/post_reset event scripts. Adding the second parameter was a
	mistake seen in retrospect. this gives precise control in post_reset
	for *when* the post reset speed is set. The pre_reset event was
	added *after* the second parameter to jtag_khz/speed - the target implementations no longer gets involved in the reset
	mode scheme. Either they reset a target into a halted mode or not.
	target_process_reset() detects if the reset halt failed or not.  - tcl target event names are now target_N_name.  Mainly internal at
	this early stage, but best to get the naming right now.  - added hardcoded reset modes from gdb_server.c. I don't know
	precisely what these defaults should be or if it should be made
	configurable. Perhaps some hardcoded defaults will do for now and it
	can be made configurable later.  - bugfix in cortex_m3.c for reset_run_and_xxx? - issue syntax error upon obsolete argument in target command
	instead of printing message that will surely drown in the log git-svn-id: svn://svn.berlios.de/openocd/trunk@849
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : use reset init explicitly before "load".  git-svn-id: svn://svn.berlios.de/openocd/trunk@847
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Michael Kurz <michi.kurz@googlemail.com> MX29LV800B non-cfi
	flash.  git-svn-id: svn://svn.berlios.de/openocd/trunk@845
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-20  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added svn props for newly added files - reformat spaces from non_cfi.[ch] git-svn-id: svn://svn.berlios.de/openocd/trunk@843
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-20  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Ben Bodley <ben@teknique.com>  non-CFI compliant flash (AMIC
	A29L800A) git-svn-id: svn://svn.berlios.de/openocd/trunk@841
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-20  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : openocd@duaneellis.com fix naming confusion. Use ocd_ prefix for
	ocd API consistently.  git-svn-id: svn://svn.berlios.de/openocd/trunk@839
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-19  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - updated texi for removed daemon_startup command - added info to deprecated/removed commands section git-svn-id: svn://svn.berlios.de/openocd/trunk@837
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : daemon_startup is now retired in favour of adding "init" and
	"reset halt/init/run" to the end of the config file/openocd command
	line.  git-svn-id: svn://svn.berlios.de/openocd/trunk@835
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : remove obsolete reset_mode git-svn-id: svn://svn.berlios.de/openocd/trunk@833
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-18  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - remove build warning from keep_alive - remove surplus linefeeds git-svn-id: svn://svn.berlios.de/openocd/trunk@831
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : resume is now asynchronous git-svn-id: svn://svn.berlios.de/openocd/trunk@828
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : 1. GDB will print cryptic error messages if it is not fed keep-alive
	packets within the last 2000ms.  To fix this, add keep_alive() if you are spending >1000ms in an
	algorithm thus holding up the server loop.  target_call_timer_callbacks() invokes keep_alive().  2. post_reset script is now executed at normal JTAG speed and not
	reset speed.  3. Resume is now synchronous again. Hopefully it will work this
	time.  git-svn-id: svn://svn.berlios.de/openocd/trunk@826
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Charles Hardin <ckhardin@gmail.com> move tcl stuff nearer to
	where it belongs.  git-svn-id: svn://svn.berlios.de/openocd/trunk@824
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-17  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Charles Hardin <ckhardin@gmail.com>  move jim into helper git-svn-id: svn://svn.berlios.de/openocd/trunk@822
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-17  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Collect output from openocd commands into openocd_output local
	variable git-svn-id: svn://svn.berlios.de/openocd/trunk@820
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-17  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Charles Hardin <ckhardin@gmail.com> and √òyvind Harboe This patch just uses the command.c interface to create tcl commands
	for the root level commands and avoids a bit of the "TCL" bleed into
	the rest of the openocd code.  Multilevel commands also supported.  git-svn-id: svn://svn.berlios.de/openocd/trunk@818
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-17  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Charles Hardin ckhardin at gmail.com  bin2char does not need to
	be installed as part of openocd git-svn-id: svn://svn.berlios.de/openocd/trunk@816
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : flash_banks now follow OpenOCD scripting API rules git-svn-id: svn://svn.berlios.de/openocd/trunk@814
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : do not print jim tcl error message trace for
	ERROR_COMMAND_CLOSE_CONNECTION git-svn-id: svn://svn.berlios.de/openocd/trunk@812
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : better error messages for target event scripts.  git-svn-id: svn://svn.berlios.de/openocd/trunk@810
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-15  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - stm32 flash driver correctly handles early silicon git-svn-id: svn://svn.berlios.de/openocd/trunk@808
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-13  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - remove unused objcopy from configure.in - make sure bin2char is built before openocd - add generated startup_tcl.c to clean list - pass startup_tcl directly to Jim_Eval git-svn-id: svn://svn.berlios.de/openocd/trunk@805
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Charles Hardin <ckhardin@gmail.com> - hopefully final word on
	startup.tcl => c conversion git-svn-id: svn://svn.berlios.de/openocd/trunk@803
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-12  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix issue when building in separate build dir - Thanks Duane Ellis git-svn-id: svn://svn.berlios.de/openocd/trunk@801
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : testing/*.tcl sample & test code git-svn-id: svn://svn.berlios.de/openocd/trunk@799
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : help is now implemented in startup.tcl/help git-svn-id: svn://svn.berlios.de/openocd/trunk@797
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : search help text too git-svn-id: svn://svn.berlios.de/openocd/trunk@795
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : tcl_help prettier output.  git-svn-id: svn://svn.berlios.de/openocd/trunk@793
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - retired variable stuff.  - drscan is now a low level tcl command:  execute DR scan <device> <num_bits> <value> <num_bits1> <value2> - removed obsolete partial command text support git-svn-id: svn://svn.berlios.de/openocd/trunk@791
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-11  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added svn props for newly added files git-svn-id: svn://svn.berlios.de/openocd/trunk@789
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : startup.tcl (former commands.tcl) is now embedded into OpenOCD
	executable.  git-svn-id: svn://svn.berlios.de/openocd/trunk@787
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added search paths before running tcl/commands.tcl.  - improved error handling for missing tcl/commands.tcl git-svn-id: svn://svn.berlios.de/openocd/trunk@785
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : SEGFAULT fix for syntax error.  git-svn-id: svn://svn.berlios.de/openocd/trunk@783
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-09  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : improve error messages a little bit.  git-svn-id: svn://svn.berlios.de/openocd/trunk@781
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-09  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : "flash banks" is now implemented in Tcl on top of "flash_banks".
	openocd_throw prefix is no longer required when executing OpenOCD
	commands from tcl.  git-svn-id: svn://svn.berlios.de/openocd/trunk@779
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-09  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - only check normal resume, not debug resume git-svn-id: svn://svn.berlios.de/openocd/trunk@777
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-09  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - target_resume is now synchronous with 5sec timeout git-svn-id: svn://svn.berlios.de/openocd/trunk@775
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* :         * src/jim.c: remove bogus return value from if {[expr]} {xx}
	        when {xx} is not run.  git-svn-id: svn://svn.berlios.de/openocd/trunk@773
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-08  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix pre_resume script not being called git-svn-id: svn://svn.berlios.de/openocd/trunk@771
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : reset event is synonym for post_reset event.  git-svn-id: svn://svn.berlios.de/openocd/trunk@769
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Duane Ellis <openocd@duaneellis.com>: This simple patch adds
	precision support to JIM's format command.  git-svn-id: svn://svn.berlios.de/openocd/trunk@767
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added pre/postlude fn's for when OpenOCD is sleeping.  git-svn-id: svn://svn.berlios.de/openocd/trunk@765
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Charles Hardin <ckhardin@gmail.com> Tcl server documentation.  git-svn-id: svn://svn.berlios.de/openocd/trunk@763
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-06  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix typo in memory.tcl - Thanks Charles Hardin git-svn-id: svn://svn.berlios.de/openocd/trunk@761
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : moving Tcl stuff around slightly.  git-svn-id: svn://svn.berlios.de/openocd/trunk@759
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Charles Hardin <ckhardin@gmail.com> - Tcl Server git-svn-id: svn://svn.berlios.de/openocd/trunk@757
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : src/helper/configuration.h         - Log output handlers now get a "const char *line"         - Added "const" to parameter.  src/helper/command.c src/helper/command.h         - New function:  'command_output_text()'         - Log output handlers now get a "const char *line" src/helper/options.c         - Log output handlers now get a "const char *line" src/server/telnet_server.c         - DO not transmit NULL bytes via TELNET.          - Log output handlers now get a "const char *line" src/server/gdb_server.c         - Log output handlers now get a "const char *line"         *** THIS INCLUDES PORTIONS OF A PATCH FROM Oyvind sent         previously to the mailing list for TCL users try src/target/target.c         *** THIS INCLUDES PORTIONS OF A PATCH FROM Oyvind sent         previously to the mailing list for TCL users try src/target/target.h         *** THIS INCLUDES PORTIONS OF A PATCH FROM Oyvind sent         previously to the mailing list for TCL users try src/openocd.c     - **MAJOR** Work: New TCL/Jim function: mem2array         - **MAJOR** Work: Redirect Tcl/Jim stdio output to remote
	        users.  - Previously: TCL output did not go to GDB.          - Previously: TCL output did not go to TELNET         - Previously: TCL output only goes to control console.          - This fixes that problem.          + Created callbacks:                 +openocd_jim_fwrite()                 +openocd_jim_fread()                 +openocd_jim_vfprintf()                 +openocd_jim_fflush()                 +openocd_jim_fgets() src/Makefile.am         - New TCL files.          - Future note: This should be more automated.  As the list
	          of 'tcl' files grows maintaning this list will suck.  src/Jim.c         - ** THIS INCLUDES A PREVIOUS PATCH I SENT EARLIER **         - that impliments many [format] specifies JIM did not
	        support.  - Jim_FormatString() - **MAJOR** work.          - Previously only supported "%s" "%d" and "%c"         - And what support existed had bugs.          - NEW: *MANY* formating parameters are now supported.          - TODO: The "precision" specifier is not supported.          ** NEW ** This patch.          - Jim_StringToWide() test if no conversion occured.          - Jim_StringToIndex() test if no conversion occured.          - Jim_StringToDouble() test if no conversion occured.          ** NEW ** This Patch. Major Work.          - Previously output from JIM did not get sent to GDB         - Ditto: Output to Telnet session.          - Above items are now fixed - By introducing callbacks           new function pointers in the "interp" structure.          - Helpers that call the callbacks.          - New function: Jim_fprintf()         - New function: Jim_vfprintf()         - New function: Jim_fwrite()         - New function: Jim_fread()         - New function: Jim_fflush()         - New function: Jim_fgets()         By default: the output is to STDIO as previous.          The "openocd.c" - redirects the output as needed.          - Jim_Panic() - Send panic to both STDERR and the interps         specified STDERR output as a 2nd choice.          - Now JIM's "stdin/stdout/stderr" paramters are "void *"         and are no longer "FILE *".  src/Jim.h         - **MAJOR**         -  New JIM STDIO callbacks in the "interp" structure.          -  change: "stdin/stdout/stderr" are now "void *" cookies.          -  New JIM stdio helper functions.  git-svn-id: svn://svn.berlios.de/openocd/trunk@755
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-04  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added svn props for newly added files git-svn-id: svn://svn.berlios.de/openocd/trunk@752
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-04  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added jtag_khz to target scripts git-svn-id: svn://svn.berlios.de/openocd/trunk@750
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : tcl tinkering.  git-svn-id: svn://svn.berlios.de/openocd/trunk@748
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added echo command in tcl. Issues a LOG_USER() for the single
	argument.  git-svn-id: svn://svn.berlios.de/openocd/trunk@746
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : tcl config script example git-svn-id: svn://svn.berlios.de/openocd/trunk@744
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : utility fn.  git-svn-id: svn://svn.berlios.de/openocd/trunk@742
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Valentin Longchamp target script for mx31.cfg git-svn-id: svn://svn.berlios.de/openocd/trunk@740
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-02  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - allocate target_type_t structure for each target, fixes issue when
	multiple targets of the same type are located on the jtag chain - Thanks Michel Pollet git-svn-id: svn://svn.berlios.de/openocd/trunk@738
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : wip git-svn-id: svn://svn.berlios.de/openocd/trunk@736
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-27  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added svn props for newly added files git-svn-id: svn://svn.berlios.de/openocd/trunk@734
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : export find_file function git-svn-id: svn://svn.berlios.de/openocd/trunk@732
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : committing to reduce patch size for Tcl experiments. Not in use
	currently.  git-svn-id: svn://svn.berlios.de/openocd/trunk@730
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fixed bogus error message and plugged memory leak for the case
	when there was no reset script.  git-svn-id: svn://svn.berlios.de/openocd/trunk@728
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added pre/post_reset scripts based on Pieter Conradie's ideas.  git-svn-id: svn://svn.berlios.de/openocd/trunk@726
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Pavel Chromy: - TAP reset without TRST shall be called TLR (stands for
	test-logic-reset, named after the TAP state it ends is) rather than
	tms (test-mode-select) - some comments changed to /* C coding style */ git-svn-id: svn://svn.berlios.de/openocd/trunk@717
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Pavel Chromy: TAP state changed to TLR when SRST goes active
	with srst_pulls_trst, as in all other drivers git-svn-id: svn://svn.berlios.de/openocd/trunk@715
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-16  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added missing install entries for eir-sam7se512 target git-svn-id: svn://svn.berlios.de/openocd/trunk@713
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fallback for no implementation of multi word CFI write.
	Successful codepath not affected.  git-svn-id: svn://svn.berlios.de/openocd/trunk@711
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-16  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - removed duplicate cortex_m3_register_commands git-svn-id: svn://svn.berlios.de/openocd/trunk@709
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-10  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - error message cleanup in jlink driver git-svn-id: svn://svn.berlios.de/openocd/trunk@707
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Nicolas Pitre: Feroceon fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@705
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Pavel Chromy: TCK returns to zero before state of reset line is
	changed.  git-svn-id: svn://svn.berlios.de/openocd/trunk@703
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-04  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix jlink accessing incorrect buffer element git-svn-id: svn://svn.berlios.de/openocd/trunk@701
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-03  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - str9 driver remove the duplicate target_free_working_area and
	reformat spaces to tabs.  - lpc2000 driver reorder function so as to not require goto, plus
	refornat spaces to tabs.  git-svn-id: svn://svn.berlios.de/openocd/trunk@699
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-03  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fredrik Hederstierna: fix leak + clean up return codes git-svn-id: svn://svn.berlios.de/openocd/trunk@697
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-28  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - stellaris flash driver changed warning to info git-svn-id: svn://svn.berlios.de/openocd/trunk@695
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-27  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : flash_write will attempt to pad image sections git-svn-id: svn://svn.berlios.de/openocd/trunk@693
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-27  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix issue if jlink sends result in single usb in packet git-svn-id: svn://svn.berlios.de/openocd/trunk@691
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-26  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - renamed EMU_CMD_HW_JTAG to EMU_CMD_HW_JTAG3 git-svn-id: svn://svn.berlios.de/openocd/trunk@689
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : clock 1/0 in idle now configurable.  git-svn-id: svn://svn.berlios.de/openocd/trunk@687
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-25  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - changed some buffer defines to increase performance git-svn-id: svn://svn.berlios.de/openocd/trunk@685
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-24  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - updated docs for new stellaris mass_erase command git-svn-id: svn://svn.berlios.de/openocd/trunk@683
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-24  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - update sectors on stm32x mass erase git-svn-id: svn://svn.berlios.de/openocd/trunk@681
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-24  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - removed compiler warnings git-svn-id: svn://svn.berlios.de/openocd/trunk@679
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-24  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - removed obsolete cmd JLINK_TAP_SEQUENCE_COMMAND, use
	EMU_CMD_HW_JTAG instead git-svn-id: svn://svn.berlios.de/openocd/trunk@677
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-24  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - replaced JLINK_xxxx command defines by EMU_CMD_ from the J-Link
	USB Protocol specification - added functionality to jlink_init to display the version.  git-svn-id: svn://svn.berlios.de/openocd/trunk@675
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : jtag_exexcute_queue() now logs error when it is invoked before
	'init' command.  git-svn-id: svn://svn.berlios.de/openocd/trunk@673
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : comment.  git-svn-id: svn://svn.berlios.de/openocd/trunk@671
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-20  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Edgar Grimberg fixes some memory handling issues and a problem
	with arm7_9_debug_entry not executing a code path upon crashes.  git-svn-id: svn://svn.berlios.de/openocd/trunk@669
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix crash when mode number fetched from the target is invalid.  git-svn-id: svn://svn.berlios.de/openocd/trunk@667
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Michael Fischer found this bogus warning. Fixed.  Error:   jtag.c:941 jtag_add_reset(): BUG: transition of
	req_tlr_or_trst ...  git-svn-id: svn://svn.berlios.de/openocd/trunk@665
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Michael Fischer found and Edgar Grimberg fixed generic crash in
	timers reproduceable with at91fr40008 git-svn-id: svn://svn.berlios.de/openocd/trunk@663
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added stack trace.  git-svn-id: svn://svn.berlios.de/openocd/trunk@661
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-16  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added arm-usb-ocd.cfg and signalyzer.cfg to the interface git-svn-id: svn://svn.berlios.de/openocd/trunk@659
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-12  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - restored tabs and formatting git-svn-id: svn://svn.berlios.de/openocd/trunk@657
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-10  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added/renamed interfaces, remove jtag_speed from the interface
	part git-svn-id: svn://svn.berlios.de/openocd/trunk@655
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-10  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added support for ft2232/jtag_khz git-svn-id: svn://svn.berlios.de/openocd/trunk@653
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-09  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : printing available memory fails on win + mac. Disable for now
	until a robust way of doing this can be found.  git-svn-id: svn://svn.berlios.de/openocd/trunk@651
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : disable code that prints available mem under windows. Does not
	compile.  git-svn-id: svn://svn.berlios.de/openocd/trunk@649
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : This matters for embedded devices, but is probably not
	observably better for PC hosted OpenOCD.  git-svn-id: svn://svn.berlios.de/openocd/trunk@647
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : increase packet size to 16kBytes. Very slightly faster.  git-svn-id: svn://svn.berlios.de/openocd/trunk@645
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-06  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added svn props for newly added files git-svn-id: svn://svn.berlios.de/openocd/trunk@643
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : add missing reset script git-svn-id: svn://svn.berlios.de/openocd/trunk@641
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-02  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - updated docs for ft2232_vid_pid command git-svn-id: svn://svn.berlios.de/openocd/trunk@639
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-02  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - corrected typo in cfg file git-svn-id: svn://svn.berlios.de/openocd/trunk@637
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-01  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add -lusb to link for using libftdi under win32 git-svn-id: svn://svn.berlios.de/openocd/trunk@635
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-30  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Changed  at91sam7_ecr working area to a valid SRAM adress for
	the AT91SAM7S/X target family git-svn-id: svn://svn.berlios.de/openocd/trunk@633
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-30  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : lpc2148 fixes from Edgar Grimberg git-svn-id: svn://svn.berlios.de/openocd/trunk@631
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-30  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Edgar's naming convention fixes.  git-svn-id: svn://svn.berlios.de/openocd/trunk@629
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-29  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - stm32x default to 128k if flash size failed.  git-svn-id: svn://svn.berlios.de/openocd/trunk@627
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-29  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - updated cortex_m3 docs regarding luminary reset behaviour git-svn-id: svn://svn.berlios.de/openocd/trunk@625
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-26  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added ARMV7_GDB_HACKS define to armv7m.h, enabling all gdb hacks
	to be enabled/disabled for testing - added armv7m dummy cpsr register to stop gdb setting thumb bit git-svn-id: svn://svn.berlios.de/openocd/trunk@623
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : set communication speeds git-svn-id: svn://svn.berlios.de/openocd/trunk@621
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-26  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - change str9 flash controller to read array after a level 1 protect git-svn-id: svn://svn.berlios.de/openocd/trunk@619
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : make debug_level 3 useful again... the log just drowns. perhaps
	introduce debug_level 4? git-svn-id: svn://svn.berlios.de/openocd/trunk@617
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-24  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added svn props for newly added files git-svn-id: svn://svn.berlios.de/openocd/trunk@615
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Edgar's new test cases.  git-svn-id: svn://svn.berlios.de/openocd/trunk@613
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-23  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added svn props for newly added files git-svn-id: svn://svn.berlios.de/openocd/trunk@611
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-23  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Tim Hudson contributed at91sam9260 target config files + some
	interface definitions.  git-svn-id: svn://svn.berlios.de/openocd/trunk@609
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-23  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : regions outside flash are now read/write nocache by default. GDB
	6.8 would mark non-flash areas as inacessible by default.  git-svn-id: svn://svn.berlios.de/openocd/trunk@607
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-23  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fixed doc for GDB memory map and flash program defaults to
	follow code git-svn-id: svn://svn.berlios.de/openocd/trunk@605
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-23  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Andre Renaud support for the am29sl800db CFI flash chip (id:
	0x0004, 0x226b).  git-svn-id: svn://svn.berlios.de/openocd/trunk@603
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : deleted obsolete stuff.  git-svn-id: svn://svn.berlios.de/openocd/trunk@601
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-21  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - set lpc288x[ch] svn file props git-svn-id: svn://svn.berlios.de/openocd/trunk@599
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-20  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Karl RobinSod <karl.robinsod@gmail.com> added lpc288x support.
	Some work remaining, committing for test/collaboration purposes.  git-svn-id: svn://svn.berlios.de/openocd/trunk@597
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-19  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - flash.c change stricmp to strcmp git-svn-id: svn://svn.berlios.de/openocd/trunk@595
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : retired auto_erase, added optional erase arg to flash
	write_image.  git-svn-id: svn://svn.berlios.de/openocd/trunk@593
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Enabled auto erase, gdb memory map and gdb flash programming by
	default.  git-svn-id: svn://svn.berlios.de/openocd/trunk@591
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-17  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Edwin Olsen: improves breakpoint handling on cortex-m3 parts.
	Specifically, this patch allows expressions to be evaluated in GDB
	that contain function calls.  git-svn-id: svn://svn.berlios.de/openocd/trunk@589
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-16  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added testing binaries git-svn-id: svn://svn.berlios.de/openocd/trunk@587
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Update Embedded ICE registers explicitly during
	target->type->examine() instead of as a side effect of
	target->type->poll(). This makes it clearer when things happen
	during reset/examine.  git-svn-id: svn://svn.berlios.de/openocd/trunk@585
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix SEGFAULT regression in cortex after TRST fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@583
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-15  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Added checks for target->type->read/write_memory,
	soft_reset_halt and run_algorithm that the target has been examined.  git-svn-id: svn://svn.berlios.de/openocd/trunk@581
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-14  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added new and missing target scripts - stm32stick and str730 git-svn-id: svn://svn.berlios.de/openocd/trunk@579
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-14  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - split str71x driver into banks - support new str91x/str9xpec devices - update target scripts and docs for changes git-svn-id: svn://svn.berlios.de/openocd/trunk@577
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Added a few tweaks while playing with texi.  git-svn-id: svn://svn.berlios.de/openocd/trunk@575
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : More robust handling of unknown target state for step/continue
	packet.  git-svn-id: svn://svn.berlios.de/openocd/trunk@573
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : allows launching OpenOCD w/telnet+gdb server w/the target
	powered down.  git-svn-id: svn://svn.berlios.de/openocd/trunk@571
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Set up ICE registers after TRST - Work in progress to allow launching GDB/telnet server *before*
	jtag chain enum, validate & examine git-svn-id: svn://svn.berlios.de/openocd/trunk@569
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fixed gaffe for default examine implementation git-svn-id: svn://svn.berlios.de/openocd/trunk@567
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Reset wip. Just adding hooks. This is just to reduce the size of
	the actual change, no change in behaviour.  git-svn-id: svn://svn.berlios.de/openocd/trunk@565
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added target->type->examine(). Eventually this will allow for
	bringing up telnet/gdb *before* jtag chain has been validated + it
	might fix some reset halt problems seen as examine() needs to run
	after TRST has been asserted.  git-svn-id: svn://svn.berlios.de/openocd/trunk@563
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-10  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - remove AC_C_VARARRAYS and set check of autoconf back to 2.59 git-svn-id: svn://svn.berlios.de/openocd/trunk@561
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-10  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added svn props for newly added parport.cfg git-svn-id: svn://svn.berlios.de/openocd/trunk@559
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-10  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - due to previous patch adding AC_C_VARARRAYS, autoconf v2.61 min
	required git-svn-id: svn://svn.berlios.de/openocd/trunk@557
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-09  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : back out Don Porges workaround for some device with manufcaturer
	# 0x1a2 git-svn-id: svn://svn.berlios.de/openocd/trunk@555
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-09  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Don Porges fixed c99 issues.  git-svn-id: svn://svn.berlios.de/openocd/trunk@553
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : use jtag.c's cur/end_state global variables.  git-svn-id: svn://svn.berlios.de/openocd/trunk@551
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : lm3s6965.cfg contributed by Edwin Olson git-svn-id: svn://svn.berlios.de/openocd/trunk@549
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Pavel pointed out that jtag_add_tlr() is better than
	jtag_add_tms().  git-svn-id: svn://svn.berlios.de/openocd/trunk@547
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Spen fixed various issues w.r.t. setting up the sockets for
	optimal performance.  git-svn-id: svn://svn.berlios.de/openocd/trunk@545
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : at91eb40a.elf moved to src/target/ecos git-svn-id: svn://svn.berlios.de/openocd/trunk@543
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-05  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added note to docs about gdb 6.8 and memory map support git-svn-id: svn://svn.berlios.de/openocd/trunk@541
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - reverted some of the changes that possibly broke arm926ejs.
	Waiting for a bit more info before I can tell with confidence
	whether or not this would have any effect.  - worked on error propagation and output for flash git-svn-id: svn://svn.berlios.de/openocd/trunk@539
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-03  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added test results git-svn-id: svn://svn.berlios.de/openocd/trunk@537
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Edgar Grimberg sharpened the str912 target script.  git-svn-id: svn://svn.berlios.de/openocd/trunk@535
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Added timeout(instead of infinite loop) to soft_reset_halt git-svn-id: svn://svn.berlios.de/openocd/trunk@533
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fixes for jtag_khz committed.  - wip, flash fillw/h/b. For testing purposes.  git-svn-id: svn://svn.berlios.de/openocd/trunk@531
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-31  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : target_call_timer_callbacks_now() now invokes periodic callbacks
	immediately git-svn-id: svn://svn.berlios.de/openocd/trunk@529
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-31  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : make jtag_add_statemove() internal to the driver.  git-svn-id: svn://svn.berlios.de/openocd/trunk@527
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : TAP_SD/SI are now forbidden end states.  jtag_add_reset() now
	returns void streamlining the API git-svn-id: svn://svn.berlios.de/openocd/trunk@525
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-25  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - rename log functions to stop conflicts under win32 (wingdi) git-svn-id: svn://svn.berlios.de/openocd/trunk@523
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-22  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - updated docs with new commands/features - added deprecated/removed commands chapter git-svn-id: svn://svn.berlios.de/openocd/trunk@521
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-21  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - armv7m control register now set as dirty when switching context - armv7m added core_mode to cortex_m3_debug_entry DEBUG msg - cortex_m3 changed WARNINGS to DEBUG msg in cortex_m3_resume git-svn-id: svn://svn.berlios.de/openocd/trunk@519
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-17  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix warnings during configure cause by ecosboard. default to no,
	if host cpu isn't arm.  - fix generic bitbang code to allow scans to end in Shift-[ID]R - several CFI fixes (thanks to Michael Schwingen):  - buffer overflow when converting target code in
	   cfi_intel_write_block - cfi_fix_code_endian needs the number of
	   words, not bytes, as size argument.   - Spansion flash write was completely broken on big-endian targets
	   - I borrowed mechanisms from the intel driver, and moved some
	   common code into the cfi_command_val helper function. There is still
	   more common code that might be cleaned up.   - the buffer size check in cfi_write was broken for spansion
	   flashes, where cfi_write_words is not implemented. cfi_write_words
	   is no only called if the flash does have a buffer size >1.   - "flash info" printed CFI status information for non-CFI flashes,
	   which is confusing. It now only prints those when a real CFI flash
	is detected.  git-svn-id: svn://svn.berlios.de/openocd/trunk@517
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : reset and post reset speed & jtag_khz command documented.  git-svn-id: svn://svn.berlios.de/openocd/trunk@515
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : clarified jtag_khz command.  git-svn-id: svn://svn.berlios.de/openocd/trunk@513
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - adds two speeds to jtag_speed. reset and post reset speed. Default
	is post reset = reset speed.  - removed infinite loop's and exit()'s upon poor arm7/9
	communication - cleaned up error messages a bit. Push ERROR() up into fn's that   fail and can say something meaningful about what failed.  git-svn-id: svn://svn.berlios.de/openocd/trunk@511
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : XScale excessive waiting fix.  git-svn-id: svn://svn.berlios.de/openocd/trunk@509
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Dominic undid some of my damage. CLK should now be set as
	intended in all cases.  git-svn-id: svn://svn.berlios.de/openocd/trunk@507
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : The bitbang driver leaves the TCK 0 when in idle git-svn-id: svn://svn.berlios.de/openocd/trunk@505
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fixed regression in XScale introduce in 297 git-svn-id: svn://svn.berlios.de/openocd/trunk@503
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Corrections from Dominic git-svn-id: svn://svn.berlios.de/openocd/trunk@501
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : reduce compare noise. If someone should be crazy enough to try
	to run OpenOCD under eCos, then they'v got some hooks to point them
	in the general direction.  git-svn-id: svn://svn.berlios.de/openocd/trunk@499
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : tidy up output a bit. No longer show "accepted connection"
	inside Telnet session.  git-svn-id: svn://svn.berlios.de/openocd/trunk@497
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-11  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - 16 and 32 bit unaligned accesses supported - uses packed transfers for 8/16bit read/writes greater than 4bytes - 8/16bit transfers now use address auto increment git-svn-id: svn://svn.berlios.de/openocd/trunk@495
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : JTAG_END_STATE is now retired. It is no longer queued.  git-svn-id: svn://svn.berlios.de/openocd/trunk@493
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Pavel Chromy: telnet line buffer size checking, history does not
	store repeating lines, improved history printing, log callback tweak git-svn-id: svn://svn.berlios.de/openocd/trunk@491
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : more target scripts wip.  git-svn-id: svn://svn.berlios.de/openocd/trunk@489
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Pavel Chromy: hopefully perfection for async output and
	prompt/partially typed command line handling.  git-svn-id: svn://svn.berlios.de/openocd/trunk@487
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : prettier async output git-svn-id: svn://svn.berlios.de/openocd/trunk@485
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - the jtag chain is examined and validated after GDB & telnet
	 servers are up and running. The examination and validation is
	 actually "optional" from the point of view of GDB + telnet servers.   Multiple targets should work fine with this.  - jtag_speed is dropped(divisor is increased), if jtag examination
	 and validation fails.  - the chain is validated 10x to catch the worst jtag_speed offences - added LOG_SILENT that can be used to shut up log. Feeble  ersatz for try+catch.  - GDB register packets are now always replied in order to make sure  that GDB connect works. If the target is not halted, then these  packets contain dummy values.  git-svn-id: svn://svn.berlios.de/openocd/trunk@483
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - LOG_SILENT can be used to silence the log(needed in upcoming
	patches) - ERROR_FAIL - added to emphasize that information about what went
	 wrong is contained in Error: log statements and not in a 32 bit
	return value.  git-svn-id: svn://svn.berlios.de/openocd/trunk@481
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-09  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Michael Bruck: fix warning git-svn-id: svn://svn.berlios.de/openocd/trunk@479
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-08  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added more TARGET_HALTED checks for the read/write_memory handlers - added new commands arm11 mrc and arm11 mcr to generate these
	instructions during debug Thanks Michael Bruck git-svn-id: svn://svn.berlios.de/openocd/trunk@477
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Improves error handling upon GDB connect - switch to synchronous halt during connect. This fixes the bug   where poll() was not invoked between halt() and servicing the   'g' register packet - halt() no longer returns error code when target is already halted,
	  just logs a warning. Only the halt() implementation can say anything   meaningful about why a halt() failed, so error messages are pushed   up to halt() - fixed soft_reset_halt infinite loop bug in arm7_9_common.c. The
	  rest of the implementations are still busted.  - by using USER() instead of command_print() the log gets the   source + line #. Nice.  - no longer invoke exit() if soft_reset_halt fails. A reset can
	  often fix the problem.  git-svn-id: svn://svn.berlios.de/openocd/trunk@475
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-07  vpalatin <vpalatin@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix cross endian ELF loading git-svn-id: svn://svn.berlios.de/openocd/trunk@473
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Michael Bruck: fixed warnings git-svn-id: svn://svn.berlios.de/openocd/trunk@471
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Added some timeout handling to XScale so OpenOCD doesn't get
	completely stuck when the target needs a reset.  git-svn-id: svn://svn.berlios.de/openocd/trunk@469
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-07  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - correct spelling typo in stm32x flash driver git-svn-id: svn://svn.berlios.de/openocd/trunk@467
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : alloc_printf and alloc_vprintf git-svn-id: svn://svn.berlios.de/openocd/trunk@465
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Removed code that inserted prompt after printing asynchronous
	information. Current implementation was broken beyond repair.  git-svn-id: svn://svn.berlios.de/openocd/trunk@463
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : removed excessive debug output. Perhaps a debug_level 4 should
	be introduced? Hopefully it can be avoided as this was the only case
	where debug output was going through the roof.  git-svn-id: svn://svn.berlios.de/openocd/trunk@461
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Pavel Chromy: va_copy should always be paired with va_end.  git-svn-id: svn://svn.berlios.de/openocd/trunk@459
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : use jtag_execute_queue() instead of jtag->execute_queue() git-svn-id: svn://svn.berlios.de/openocd/trunk@457
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : comment.  git-svn-id: svn://svn.berlios.de/openocd/trunk@455
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Pavel Chromy: performance tweak of gdb_put_packet_inner()
	removing malloc and avoiding memcpy of larger blocks of data, git-svn-id: svn://svn.berlios.de/openocd/trunk@453
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Michael Bruck: 64 bit va_list fix for crash git-svn-id: svn://svn.berlios.de/openocd/trunk@451
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : warnings & comments fixes.  git-svn-id: svn://svn.berlios.de/openocd/trunk@449
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added jtag_add_dr_out(). Better for hw fifo, same for software
	fifo.  Passes 94kBytes/s regression test.  Works with str912, which relies on bypass git-svn-id: svn://svn.berlios.de/openocd/trunk@447
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : * fixed malloc corruption in target->debug_reason         * GDB remote server will now remain online even if the
	          target is in a funny state, e.g. if it requires a reset, it
	          is running while GDB is not in the continue or step packet,           e.g. via monitor resume/halt commands in GDB script.          * Added some _DEBUG_GDB_IO_ debug tools         * Fixed a couple of GDB server lockups, e.g. when O packets           detect a severed connection         * added ACK upon connection (send +).          * added keep-alive messages to reset so GDB protocol remains
	        happy.  * fixed crash when timing out connection to GDB git-svn-id: svn://svn.berlios.de/openocd/trunk@445
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Bogus error message in GDB removed git-svn-id: svn://svn.berlios.de/openocd/trunk@443
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Michael Bruck - fix warnings.  git-svn-id: svn://svn.berlios.de/openocd/trunk@441
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Michael Bruck: - Added simulate_reset_on_next_halt that can be extended to do all
	sorts of cleanups for systems without proper reset. Right now it
	just writes 0 to the control register to disable caches.  - Step skips over Wait for Interrupt instruction - fix for count - fix for printf format errors git-svn-id: svn://svn.berlios.de/openocd/trunk@439
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-03  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : I fixed all the targets even though I could only prove that
	XScale was busted.  git-svn-id: svn://svn.berlios.de/openocd/trunk@437
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-03  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added at91sam9260.cfg, nslu2.cfg, pxa255.cfg, pxa255_sst.cfg
	zy1000.cfg git-svn-id: svn://svn.berlios.de/openocd/trunk@435
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-02  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Added coding style to README git-svn-id: svn://svn.berlios.de/openocd/trunk@433
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Uwe Hermann tightned up comments, etc. to follow OpenOCD policy git-svn-id: svn://svn.berlios.de/openocd/trunk@431
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : target scripts for test suite.  git-svn-id: svn://svn.berlios.de/openocd/trunk@429
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : wrote up explaining why tests are done on committed code.  git-svn-id: svn://svn.berlios.de/openocd/trunk@427
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-01  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added test result for r423 git-svn-id: svn://svn.berlios.de/openocd/trunk@425
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-01  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - removed warnings "xxxxx" might be used uninitialized in this
	function (arm_simulator.c) - some cosmetic changes git-svn-id: svn://svn.berlios.de/openocd/trunk@423
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : backed out jtag_add_shift() git-svn-id: svn://svn.berlios.de/openocd/trunk@421
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-01  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added at91r40008 test example, and test result git-svn-id: svn://svn.berlios.de/openocd/trunk@419
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-01  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added sam7x256 test example, and test result git-svn-id: svn://svn.berlios.de/openocd/trunk@417
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-01  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added sam7s256 test example, and test result git-svn-id: svn://svn.berlios.de/openocd/trunk@415
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-01  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added lpc2294 test example, and test result git-svn-id: svn://svn.berlios.de/openocd/trunk@413
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-01  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added lpc2148 test example, and test result - corrected str912 makefile eof git-svn-id: svn://svn.berlios.de/openocd/trunk@411
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : wip. fixed gaffe in jtag_add_shift() git-svn-id: svn://svn.berlios.de/openocd/trunk@409
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-01  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added svn prop eol-style native - fixed mixed line endings on crt.s git-svn-id: svn://svn.berlios.de/openocd/trunk@407
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : error handling fix.  git-svn-id: svn://svn.berlios.de/openocd/trunk@405
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-29  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fixed stack corruption. Introduced when _check_value was phased
	out.  git-svn-id: svn://svn.berlios.de/openocd/trunk@403
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-29  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - update openocd.texi to fdl 1.2 git-svn-id: svn://svn.berlios.de/openocd/trunk@401
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-29  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Uwe Hermann: Add a --version switch for openocd.  git-svn-id: svn://svn.berlios.de/openocd/trunk@399
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-29  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Uwe Hermann: Updated version which applies cleanly after the
	recent whitespace fixes.  git-svn-id: svn://svn.berlios.de/openocd/trunk@397
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-29  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Pavel Chromy: add missing newlines.  git-svn-id: svn://svn.berlios.de/openocd/trunk@395
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-29  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : lingering patch from Pavel Chromy.  git-svn-id: svn://svn.berlios.de/openocd/trunk@393
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-29  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : remove warnings.  git-svn-id: svn://svn.berlios.de/openocd/trunk@391
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-29  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - clean up target output strings a bit - open_file_from_path() now uses logging feature - open_file_from_path() no longer uses paths for anything but "r"
	  mode. Fixes bug  waiting to happen.  git-svn-id: svn://svn.berlios.de/openocd/trunk@389
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-29  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Pavel Chromy: clarify error messages git-svn-id: svn://svn.berlios.de/openocd/trunk@387
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-29  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Michael Bruck: arm11 --- Added burst memory transfer mode This does not explicitly query command execution but rather uses a
	small delay produced by the FT2232 on certain TAP commands.  A potential failure of this process is detected afterwards and the
	program terminates with an error.  'arm11 memwrite burst disable'   can be used to switch this feature off.  'arm11 memwrite error_fatal disable'   can be used to prevent the program to exit on an memory write
	  error --- Added support for interrupt breaking via VCR register Use 'arm11 vcr' command to set.  --- Cleaned up the handling of halt/resume/step/poll, target->state, target->debug_reason,
	target_call_event_callbacks() at least as far as I could guess the
	intended behaviour from other targets.  Did some overall positive tests with GDB.  --- Added support for breakpoints Hardware breakpoints only. All breakpoints will be treated as
	hardware breakpoints.  All ARM11's seem to have at least 6 hardware breakpoints.  --- Stepping over BKPT added Modification to PC without touching the target.  --- Stepping over a B or BL to self will do nothing git-svn-id: svn://svn.berlios.de/openocd/trunk@385
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : changed to eCos license.  git-svn-id: svn://svn.berlios.de/openocd/trunk@383
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Pavel Chromy spotted duplicated newlines gaffe from yours
	sincerely.  git-svn-id: svn://svn.berlios.de/openocd/trunk@381
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Uwe Hermann: Simplify the manpage by removing lots of redundant
	information which is already in the README or texinfo (and which
	needs to be updated relatively often -- list of authors, list of
	supported JTAG devices etc).  git-svn-id: svn://svn.berlios.de/openocd/trunk@379
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : small line ending cleanup.  git-svn-id: svn://svn.berlios.de/openocd/trunk@377
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix gaffe.  git-svn-id: svn://svn.berlios.de/openocd/trunk@375
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-28  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - svn file props set to LF endings git-svn-id: svn://svn.berlios.de/openocd/trunk@373
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-28  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added svn props - fixed mixed line endings on flash.c, log.c, gdb_server.c git-svn-id: svn://svn.berlios.de/openocd/trunk@371
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added some code that will be used in upcoming minidriver work.  git-svn-id: svn://svn.berlios.de/openocd/trunk@369
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : jtag_add_shift() fn - minidriver work in progress.  git-svn-id: svn://svn.berlios.de/openocd/trunk@367
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : eCos flash driver.  git-svn-id: svn://svn.berlios.de/openocd/trunk@365
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-28  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix line-endings git-svn-id: svn://svn.berlios.de/openocd/trunk@363
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Uwe Hermann Add @dircategory and @direntry to the info page --
	they're used to add the openocd info page to the global  index of
	info pages in the system (usually /usr/share/info/dir).  git-svn-id: svn://svn.berlios.de/openocd/trunk@361
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-27  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - correct line endings from previous commit git-svn-id: svn://svn.berlios.de/openocd/trunk@359
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-27  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix bug in ft2232 pathmove (thanks to Michael Bruck for the patch) git-svn-id: svn://svn.berlios.de/openocd/trunk@357
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-26  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix issue when target is already halted git-svn-id: svn://svn.berlios.de/openocd/trunk@355
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix naming conflict under Windows.  git-svn-id: svn://svn.berlios.de/openocd/trunk@353
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : jtag_add_reset() minidriver gaffe fixed.  git-svn-id: svn://svn.berlios.de/openocd/trunk@351
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - jtag minidriver work in progress - svn:eol-style=native. Let's see how that works out :-) git-svn-id: svn://svn.berlios.de/openocd/trunk@349
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-25  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - convert all files to unix line-ending git-svn-id: svn://svn.berlios.de/openocd/trunk@347
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : formatting.  git-svn-id: svn://svn.berlios.de/openocd/trunk@345
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix from Pavel Chromy.
	https://lists.berlios.de/pipermail/openocd-development/2008-February/001018.htmlgit-svn-id: svn://svn.berlios.de/openocd/trunk@343
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : From Michael Bruck - bugfix in server.c - removed unused parameter from jtag_add_ir_scan et al. This wasn't
	necessary in hindsight but anyway.  - arm11 source committed but not not in Makefile.am/target.c for
	now.  git-svn-id: svn://svn.berlios.de/openocd/trunk@341
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : dos2unix fix.  git-svn-id: svn://svn.berlios.de/openocd/trunk@339
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - "flash write_binary" is now "flash write_bank" to clarify the
	 focus of the command and reduce confusion with "flash write_image".  - retired deprecated "flash erase" & "flash write".  - added flash_driver_protect/write/erase() that are wafer thin
	 frontend functions to low level driver functions. They implement
	 checks that were inconsistently handled by the drivers, e.g. check
	 for target halted was done in a spotty fashion.  - use return ERROR_COMMAND_SYNTAX_ERROR to print out  syntax of command instead of having lots of inlined replicas of  the command line syntax(some of which were wrong).  - use logging instead of dubious translation of error values to  human understandable explanations of why things failed.   The lower levels log the precise reason and the higher  levels can ammend context as the error propagates up  the call stack.  - simplified flash API slightly with logging instead of  allocating and returning information that the caller then  has to translate into print statements.  git-svn-id: svn://svn.berlios.de/openocd/trunk@337
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added "xscale fast_memory_access" which speeds up memory  access by disabling "unecessary" checks.  - arm926ejs. Added missing type->mmu and type->virt2phys fn's.   for now these are used by working_area when specifying  mmu enabled and mmu not enabled address git-svn-id: svn://svn.berlios.de/openocd/trunk@335
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added -c option that will execute an openocd command - added at91eb40a target library example.  git-svn-id: svn://svn.berlios.de/openocd/trunk@333
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : disable cfi_write_words(). Broken for spansion, fallback is a
	slower codepath that is reported to work.  git-svn-id: svn://svn.berlios.de/openocd/trunk@331
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-24  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - concretize JTAG state transition rules (previously implied
	behaviour is now documented) git-svn-id: svn://svn.berlios.de/openocd/trunk@329
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added svn:ignore for files generated by bootstrap + build
	process.  git-svn-id: svn://svn.berlios.de/openocd/trunk@327
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-24  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fixes possible crash when GDB connection is closed while target is
	running due to log callback sending messages to connection which
	does not exist anymore (thanks to Pavel Chromy for this patch) git-svn-id: svn://svn.berlios.de/openocd/trunk@325
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-23  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Use NAND extended geometry information (thanks to Ben Dooks for
	this patch) git-svn-id: svn://svn.berlios.de/openocd/trunk@323
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-23  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added time command - changed syntax of time measurements to seconds, e.g. 1.2324s git-svn-id: svn://svn.berlios.de/openocd/trunk@321
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-22  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - cosmetic changes to print out version without line number/time git-svn-id: svn://svn.berlios.de/openocd/trunk@319
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-22  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added patch to solve problem with AT91SAM7SE MCU have 3, rather
	than just 2 GPNVM bits.  (Thanks to Pavel for the patch) git-svn-id: svn://svn.berlios.de/openocd/trunk@317
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-21  vpalatin <vpalatin@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add support for Marvell Feroceon (thanks to Nicolas Pitre for this
	patch) git-svn-id: svn://svn.berlios.de/openocd/trunk@315
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-19  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added patch which fixed big/small endian problems on non-x86 host
	CPUs.

	https://lists.berlios.de/pipermail/openocd-development/2008-February/000846.html(thanks to √òyvind for the patch) git-svn-id: svn://svn.berlios.de/openocd/trunk@313
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-19  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add support for the majority of the Samsung ARM SoC family,
	S3C2410, S3C2412, S3C2413, S3C2440 and S3C2443 (thanks to Ben Dooks
	for this patch) git-svn-id: svn://svn.berlios.de/openocd/trunk@311
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-18  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - reapply fix with telnet prompt while running/halting gdb git-svn-id: svn://svn.berlios.de/openocd/trunk@309
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-18  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - ignore data aborts during gdb memory read packets by default, and
	return 0x0 instead - add configuration option "gdb_report_data_abort <enable|disable>
	to enable reporting of data aborts during gdb memory read packets - thanks to √òyvind Harboe for identifying the problem with GDB and
	data aborts - fix some warnings in gdb_server.c git-svn-id: svn://svn.berlios.de/openocd/trunk@307
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-18  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix broken JTAG error handling - Allow all commands to be executed during config stage - Help now works for config commands - make var args handling follow the rules more closely Thanks
	√òyvind Harboe git-svn-id: svn://svn.berlios.de/openocd/trunk@305
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-18  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add new non-cfi SST flash device. Thanks √òyvind Harboe git-svn-id: svn://svn.berlios.de/openocd/trunk@303
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-17  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - combine similar functions in telnet_server.c git-svn-id: svn://svn.berlios.de/openocd/trunk@301
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-16  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - cleanup and remove time() warning git-svn-id: svn://svn.berlios.de/openocd/trunk@299
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-15  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix xscale memory leak and warnings. Thanks √òyvind Harboe git-svn-id: svn://svn.berlios.de/openocd/trunk@297
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-14  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added patch to stop DEBUG messages to be forwarded to telnet/gdb.
	(thanks to √òyvind for the patch) git-svn-id: svn://svn.berlios.de/openocd/trunk@295
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-13  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added patch to Improving progress/error output for telnet & GDB
	monitor (thanks to √òyvind for the patch) git-svn-id: svn://svn.berlios.de/openocd/trunk@293
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-11  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - removed "starting point" for ngw100, will add it again if it is
	working git-svn-id: svn://svn.berlios.de/openocd/trunk@291
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-10  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added starting point for development on a ngw100 eval board git-svn-id: svn://svn.berlios.de/openocd/trunk@289
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-10  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add autoprobe support to the stm32 flash driver git-svn-id: svn://svn.berlios.de/openocd/trunk@287
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-09  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added synchronous wait/resume patch. Thanks √òyvind Harboe - updated docs for halt and wait_halt and resume commands git-svn-id: svn://svn.berlios.de/openocd/trunk@285
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-06  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added patch to access cp15 register (XScale) (thanks to Edgar
	Grimberg for the patch) git-svn-id: svn://svn.berlios.de/openocd/trunk@283
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-04  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fixes issue with reset and arm926ejs core. Thanks √òyvind Harboe git-svn-id: svn://svn.berlios.de/openocd/trunk@281
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-02  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added patch to solve the reset problem with arm9 and cortex which
	Spen had found.

	https://lists.berlios.de/pipermail/openocd-development/2008-January/000729.html(Thanks to Spen for the patch) git-svn-id: svn://svn.berlios.de/openocd/trunk@279
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-01-25  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fixed incorrect elf segment size - Thanks √òyvind Harboe git-svn-id: svn://svn.berlios.de/openocd/trunk@277
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-01-23  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Updated list of LMI partnames git-svn-id: svn://svn.berlios.de/openocd/trunk@275
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-01-22  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added patch to fix brocken STR9 line (thanks to oyvind Harboe for
	the patch) git-svn-id: svn://svn.berlios.de/openocd/trunk@273
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-01-21  bodylove <bodylove@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : [MERGE] Merged all remaining changes between trunk and xscale
	        big-endian branch.  They are now in sync.          xscale-be branch is now closed.  git-svn-id: svn://svn.berlios.de/openocd/trunk@271
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-01-21  bodylove <bodylove@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Eleminated leading tabs/white space git-svn-id: svn://svn.berlios.de/openocd/trunk@268
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-01-21  bodylove <bodylove@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Eleminated leading tabs/white space - Updated SVN property git-svn-id: svn://svn.berlios.de/openocd/trunk@265
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-01-20  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added patch "remove error handler as planned"

	https://lists.berlios.de/pipermail/openocd-development/2008-January/000665.html(thanks to oyvind Harboe for the patch) git-svn-id: svn://svn.berlios.de/openocd/trunk@260
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-01-17  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add missing files from previous commit (tms470 flash driver) git-svn-id: svn://svn.berlios.de/openocd/trunk@258
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-01-17  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added tms470 flash support (thanks to Chris Kilgour for this
	patch) git-svn-id: svn://svn.berlios.de/openocd/trunk@256
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-01-11  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - debug handler file not closed - (thanks to oyvind harboe for the
	patch) - arm_simulate_step called incorrect arm_evaluate_opcode when in
	thumb mode git-svn-id: svn://svn.berlios.de/openocd/trunk@254
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-01-10  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - _DEBUG_GDB_IO_ was left on by mistake git-svn-id: svn://svn.berlios.de/openocd/trunk@252
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-01-10  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added patch for faster start of OpenOCD (thanks to oyvind harboe
	for the patch) git-svn-id: svn://svn.berlios.de/openocd/trunk@250
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-01-07  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added gdb flash fixes patch

	https://lists.berlios.de/pipermail/openocd-development/2007-December/000548.html- added synthesize in_check_mask/value and error handler patch

	https://lists.berlios.de/pipermail/openocd-development/2008-January/000554.html(thanks to oyvind harboe for these patches) git-svn-id: svn://svn.berlios.de/openocd/trunk@248
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-12-29  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - minimum autoconf 2.59 is now required and verified - due to issues
	with AS_HELP_STRING - native win32 now handles WSAECONNRESET - no longer exits openocd - qCRC packet now works correctly under cygwin (gdb compare-sections
	command) - removed __USE_GNU define from gdbserver.c - gdb qSupported packet is now handled, with this we are able to
	tell gdb packet size, memory map of target - added new target script gdb_program_config - called before gdb
	flash programming - new gdb server command gdb_memory_map (enable|disable> - default
	is disable - new gdb server command gdb_flash_program (enable|disable> -
	default is disable - gdb flash programming supported - vFlash packets - image_elf_read_section now does not clear any remaining data, this
	was causing the gdb checksum to fail with certain files - reformat of usbprog.c - memory leak in command_print fixed - updated texi doc to include new commands - added gdb programming section to docs git-svn-id: svn://svn.berlios.de/openocd/trunk@246
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-12-20  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fixed problem when write_image is called multiple times git-svn-id: svn://svn.berlios.de/openocd/trunk@244
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-12-19  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - this patch allows OpenOCD running under eCos to access files via
	tftp (thanks to oyvind Harboe for this patch) git-svn-id: svn://svn.berlios.de/openocd/trunk@242
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-12-18  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added patch for new flash functionality like: flash verify_image
	and flash erase_address.  - added patch for new parport_write_on_exit command.  Even this
	patch will fix some memory leaks.  (thanks too oyvind and Spen for these patches) git-svn-id: svn://svn.berlios.de/openocd/trunk@240
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-12-17  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fixed relocation problems with image loading. Relocation is
	  handled in a single centralized place, and it now works for
	binaries.  (thanks to oyvind Harboe) git-svn-id: svn://svn.berlios.de/openocd/trunk@238
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-12-17  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : The changes allows the "script" command to be used from within
	config scripts to run sub-config scripts, which was probably the
	original intention because "script" is registered as COMMAND_ANY.  This can be useful in e.g. splitting CPU and flash config scripts.  (thanks to oyvind Harboe for the patch) git-svn-id: svn://svn.berlios.de/openocd/trunk@236
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-12-16  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - change error message for image_open error - changed run_size to size_read in argument of image_read_section
	(thanks to oyvind Harboe for this patch) git-svn-id: svn://svn.berlios.de/openocd/trunk@234
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-12-16  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fixed ETM configuration register decoding git-svn-id: svn://svn.berlios.de/openocd/trunk@232
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-12-14  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Corrected typo (to many brackets) git-svn-id: svn://svn.berlios.de/openocd/trunk@230
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-12-14  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : git-svn-id: svn://svn.berlios.de/openocd/trunk@228
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-12-10  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Fixing two compiler warnings - Reducing  stack usage for recursive scripts - Do not exit on bogus arguments to reset_config. No longer exit the
	application upon bogus arguments to reset_config, but return errors.  thanks to √òyvind Harboe for these patches.  git-svn-id: svn://svn.berlios.de/openocd/trunk@226
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-12-10  bodylove <bodylove@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Enabled URL keyword expansion for enhanced version   tracking of binary openocd images git-svn-id: svn://svn.berlios.de/openocd/trunk@224
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-12-10  bodylove <bodylove@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - XScale DebugHandler code is now installed into   pkglibdir and loaded from there git-svn-id: svn://svn.berlios.de/openocd/trunk@222
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-12-09  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added patch to display device information as INFO too - added patch which fixes a crash upon flash write error - added patch which will improve the reset handling when   SRST is tied to TRST (thanks to Oyvind Harboe for these patches) git-svn-id: svn://svn.berlios.de/openocd/trunk@218
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-12-04  vpalatin <vpalatin@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Do not overwrite code when removing software breakpoint if it no
	longer contains bkpt instruction.  (thanks to oyvind harboe for bug
	report and test) git-svn-id: svn://svn.berlios.de/openocd/trunk@214
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-11-21  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - reset_run now works as expected on cortex-m3 - str9xpec erase status checked on option byte programming - stm32x flash driver now supports sector protection - surplus exit removed from flash.c - openocd.texi documentation added git-svn-id: svn://svn.berlios.de/openocd/trunk@212
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-10-22  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add verify_image command - add support for gdb qCRC packet (compare-sections command) git-svn-id: svn://svn.berlios.de/openocd/trunk@210
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-10-01  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - flash autoerase <on|off> cmd added, default is off - flash banks
	are calculated and erased prior to write (flash write_image only) - corrected array overrun in armv7m.c - corrected breakpoint memory allocation bug - image read now uses fgets, vastly improves reading of large files - improved hex file reading, support for Linear Address Record added git-svn-id: svn://svn.berlios.de/openocd/trunk@208
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-09-10  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added ft2232_latency command git-svn-id: svn://svn.berlios.de/openocd/trunk@205
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-08-25  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added support for setting JTAG frequency on ASIX PRESTO (thanks to
	Pavel Chromy) - usbprog update (thanks to Benedikt Sauter) - added embeddedice_send and _handshake functions (thanks to Pavel
	Chromy) - added support for 4, 8 and 16 bit ports to etb.c git-svn-id: svn://svn.berlios.de/openocd/trunk@203
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-08-20  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Support for AT91SAM7xx512 chips git-svn-id: svn://svn.berlios.de/openocd/trunk@201
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-08-20  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - update file size when writing to a fileio git-svn-id: svn://svn.berlios.de/openocd/trunk@199
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-08-16  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - update jtag_speed setting when changing it during runtime with a
	FT2232 based interface - use 'etm trigger_percent' setting when programming ETB trigger
	count - fixed some small bugs in ETM trace analysis - fixed minor bug in flash writing (thanks to Pavel Chromy) git-svn-id: svn://svn.berlios.de/openocd/trunk@197
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-08-14  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - corrected automake script git-svn-id: svn://svn.berlios.de/openocd/trunk@195
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-08-13  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix build issues when not using autoconf/automake to build git-svn-id: svn://svn.berlios.de/openocd/trunk@193
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-08-10  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - changed mingw host detection to *-mingw instead of *-*-mingw to
	work with i586-mingw32msvc-gcc - add replacements.h to log.h to make sure ERROR is undefined on
	windows git-svn-id: svn://svn.berlios.de/openocd/trunk@191
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-08-09  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - trying to remove a breakpoint with target running should not
	exit(-1) from OpenOCD git-svn-id: svn://svn.berlios.de/openocd/trunk@189
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-07-31  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add missing configure.in change from last checkin - add usbprog example config file - update version string git-svn-id: svn://svn.berlios.de/openocd/trunk@187
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-07-31  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - motorola s19 file loader added - added checksum support to intel hex file loader - elf file loader now ignores any bss sections - mingw build now always opens files in binary mode git-svn-id: svn://svn.berlios.de/openocd/trunk@185
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-07-26  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - restrict direct parallel port access to x86 platforms (thanks to
	Vincent Palatin) git-svn-id: svn://svn.berlios.de/openocd/trunk@183
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-07-25  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - reformat src/jtag/bitq.c (thanks to Pavel Chromy) - fix multiple reads from FT2232 into same buffer location (thanks
	to Magnus Lundin) - retry JTAG chain validation (thanks to Magnus Lundin) - reworked GDB packet input handling (thanks to Pavel Chromy) - output error message when setting a watchpoint failed - removed duplicate out-of-bounds check in at91sam7.c (thanks to
	Pavel Chromy) git-svn-id: svn://svn.berlios.de/openocd/trunk@181
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-06-28  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fixed endianness helper macros (thanks to obilix and wiml for
	finding and fixing this bug) - added declarations for 32bit fileio access functions (network byte
	order) - fixed bug in etm trace dump file handling - added XScale trace buffer decoding - fixed arm_simulator ERROR numbers (-7xx used twice) - fixed minor bug in debug output in stellaris.c git-svn-id: svn://svn.berlios.de/openocd/trunk@178
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-06-21  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added support for Intel/Marvel PXA27x (XScale) targets - added support for scans coming from or ending in Shift-DR or
	Shift-IR to bitbang code (required for XScale debugging) - cleaned up errror handlers. only use when there's a catchable
	error - fix segfault when etm was configured without a valid driver git-svn-id: svn://svn.berlios.de/openocd/trunk@176
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-06-16  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added mingw elf patches from Vincent Palatin - added str9x programming using flash controller tap (str9xpec),
	including option bytes and device lock/unlock - inttypes.h now used for long long printf style declarations git-svn-id: svn://svn.berlios.de/openocd/trunk@174
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-06-14  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Added patch for Luminar Micors Fury class devices (Joe Kroesche)
	Added support for NVGM bit 2 for AT91SAM7XC128/256 git-svn-id: svn://svn.berlios.de/openocd/trunk@172
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-06-14  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - merged support for Cortex-M3 from cortex-m3 branch (thanks to
	Magnus Lundin) git-svn-id: svn://svn.berlios.de/openocd/trunk@170
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-05-31  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add support for ELF images (thanks to Vincent Palatin for this
	patch) git-svn-id: svn://svn.berlios.de/openocd/trunk@161
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-05-29  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add missing file src/target/trace.h git-svn-id: svn://svn.berlios.de/openocd/trunk@157
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-05-29  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - split fileio handling into fileio part and image handling - reworked etm/etb into a generic etm part with trace capture
	drivers (currently only etb supported) - added XScale debug handler binary to repository - added Thumb disassembling (thanks to Vincent Palatin for this
	patch) - added support for non-CFI compatible flashes to cfi driver
	(currently only SST39VFxxx devices supported) This checkin is
	experimental, not suitable for general use git-svn-id: svn://svn.berlios.de/openocd/trunk@155
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-05-05  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - further work on ETB decoding (not yet functional) - fixed several uses of uninitialized bits (Thanks to Vincent
	Palatin for finding and fixing these bugs) git-svn-id: svn://svn.berlios.de/openocd/trunk@145
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-04-26  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - improved ETB trace output - use BKPT instruction on cores supporting it (ARM926EJ-S,
	ARM966E-S) - correctly handle endianness of software breakpoint instruction git-svn-id: svn://svn.berlios.de/openocd/trunk@143
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-04-16  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - explicitly disable monitor mode on ARM7/9 targets - added "prepare_reset_halt()" to target_type_t, which allows
	reset_halt to be prepared before a reset is asserted, possibly
	preventing communication with the target - arm7/9 devices now use a breakpoint at 0x0 or reset vector
	catching for debug out of reset git-svn-id: svn://svn.berlios.de/openocd/trunk@141
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-04-12  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - correctly mask out bits that aren't part of a copied buffer - fixed arm926ej-s CP15 register access handling - correctly identify SYSCLK source in LPC3180 NAND flash controller
	driver git-svn-id: svn://svn.berlios.de/openocd/trunk@139
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-03-30  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added support for Turtelizer 2 (USB JTAG interface) (Thanks to
	Michael Fischer for this patch) - fixed description of arm9tdmi vector_catch command git-svn-id: svn://svn.berlios.de/openocd/trunk@137
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-03-28  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - merged XScale branch back into trunk - fixed some compiler warnigns in amt_jtagaccel.c, bitbang.c,
	parport.c - free working area and register stuff if str7x block write
	algorithm failed - check PC after exiting a target algorithm in armv4_5.c git-svn-id: svn://svn.berlios.de/openocd/trunk@135
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-03-16  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added missing files for last commit git-svn-id: svn://svn.berlios.de/openocd/trunk@133
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-02-20  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fixed libftdi initialization git-svn-id: svn://svn.berlios.de/openocd/trunk@131
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-01-31  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - merged several changes from XScale - complain about identify_chain scan with all bits one (jtag
	communication problem) - add 0x80000 as a valid size for lpc2000_v2 flash banks (previously
	only the user accessible 0x7d000 were valid) git-svn-id: svn://svn.berlios.de/openocd/trunk@129
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-01-25  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - disabled JTAG debug output - fixed version information git-svn-id: svn://svn.berlios.de/openocd/trunk@127
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-01-22  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix incorrect parsing of whitespace in command.c (thanks to Magnus
	Lundin) - fix infinite recursion in target_init_handler (thanks to jw and
	Magnus Lundin) - fix CFI flash handlign with buswidth < 32bit (thanks to Daniele
	Orio for reporting this) - add support for reading JTAG device id (currently only as debug
	output on startup) - cleaned up handling of EmbeddedICE registers. Supported
	functionality and register size now determined by EmbeddedICE
	version number.  - small cleanups/fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@124
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-01-09  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - disabled FT2232 debug output (that code should be fairly stable) - fixed bug in jtag.c where JTAG command type was wrong for PATHMOVE
	commands - added lattice ISP cable (experimental) - properly initialize parallel port (clear tristate bit) - fixed jtag/Makefile.am that failed with some versions of autotools - print error number if read() in gdbserver.c failed on Windows - fixed handling of opcodes with bits 27-25 b011 (comment was
	correct, code had a bug) - added support for AT91SAM7SE internal flash git-svn-id: svn://svn.berlios.de/openocd/trunk@122
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-11-22  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added a PLD (programmable logic device) subsystem for FPGA, CPLD
	etc. configuration - added support for loading .bit files into Xilinx Virtex-II devices - added support for the Gateworks GW16012 JTAG dongle - merged CFI fixes from XScale branch - a few minor fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@116
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-11-05  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - correctly enter debug state on a "soft_reset_halt" command - several small fixes - retry reading from a FT2232 device on incomplete reads git-svn-id: svn://svn.berlios.de/openocd/trunk@110
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-10-19  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fixed endianness handling in arm7_9_read_core_reg (thanks to
	Magnus Lundin for reporting this) - correctly handle ft2232_device_desc and ft2232_serial when both
	are given at the same time git-svn-id: svn://svn.berlios.de/openocd/trunk@104
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-10-06  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added support for American Microsystem's M5960 (FT2232 based USB
	JTAG interface) - added support for AT91SAM7A devices (thanks to Magnus Lundin) - updated README with pointer to Amontec's JTAGkeyTiny git-svn-id: svn://svn.berlios.de/openocd/trunk@102
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-09-28  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - str9x flash support (Thanks to Spencer Oliver) - str75x flash support (Thanks to Spencer Oliver) - correct reporting of T-Bit in CPSR (Thanks to John Hartman for
	reporting this) - core-state (ARM/Thumb) can be switched by modifying CPSR - fixed bug in gdb_server register handling - register values > 32-bit should now be supported - several minor fixes and enhancements git-svn-id: svn://svn.berlios.de/openocd/trunk@100
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-09-09  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - set the T bit in the CPSR when the core was executing in Thumb
	state. Mask the T bit from the CPSR for all CPSR-writing operations git-svn-id: svn://svn.berlios.de/openocd/trunk@97
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-09-07  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - integrated patch from Magnus Lundin that fixes at91sam7 flash
	timing bugs and possible endianness problems (big endian hosts) - correctly write trailing bytes on str7x flashes - speed up str7x flash writing by offloading the algorithm to the
	target git-svn-id: svn://svn.berlios.de/openocd/trunk@95
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-08-31  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - made lpc2000 code endianness safe (support big-endian hosts,
	target is always little) git-svn-id: svn://svn.berlios.de/openocd/trunk@92
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-08-31  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - endianess fixes everywhere but in the flash code. flashing might
	still be broken on big-endian targets and/or hosts - added access to ARM920T vector catch register (via generic
	register mechanism) - don't disable linefills on ARM920T cores - this lead to lockups
	when accessing lines already contained in cache - read content of ARM920T cache and tlb into file (arm920t
	read_flash/read_mmu commands) - memory reading improved on ARM7/9, can be further accelerated with
	new "arm7_9 fast_memory_access enable" command (renamed from
	fast_writes) - made in_handler independent from in field (makes the handler more
	flexible) - added timeout to ft2232 when using D2XX library - fixed STR7x protection bit handling on second bank (thanks to
	Bernard) - added support for using the OpenOCD on AT91RM9200 systems (thanks
	to Anders Larsen) - fixed AT91SAM7 flash handling when not running from 32kHz clock
	(thanks to Anders Larsen) git-svn-id: svn://svn.berlios.de/openocd/trunk@90
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-08-17  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - updated version info in openocd.c git-svn-id: svn://svn.berlios.de/openocd/trunk@88
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-08-14  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fixed bug in .cfg files. Thanks to Michael Fischer for noticing
	this.  git-svn-id: svn://svn.berlios.de/openocd/trunk@86
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-08-14  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added support for the Signalyzer USB->JTAG dongle
	(www.signalyzer.com) git-svn-id: svn://svn.berlios.de/openocd/trunk@84
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-08-06  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fixed jtag_n[st]rst_delay. time is now miliseconds (as
	documented), not microseconds git-svn-id: svn://svn.berlios.de/openocd/trunk@82
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-08-01  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - allow building for MinGW using either -mno-cygwin or the MinGW gcc - added GiveIO support to the amt_jtagaccel driver - explicitly disable loopback mode for FT2232 devices - changed configuration options n[st]rst_delay to
	jtag_n[st]rst_delay - shutdown network services on exit git-svn-id: svn://svn.berlios.de/openocd/trunk@80
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-07-17  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Added support for native MinGW builds (thanks to Spencer Oliver
	and Michael Fischer) - you still need to install GiveIO (not part of
	OpenOCD) - Added state-move support to ftd2xx and bitbang JTAG drivers
	(required for XScale, possibly useful for other targets, too) - various fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@78
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-06-25  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - changed use of bzero (deprecated) to memset (thanks to Spen for
	pointing this out) - changed fallback implementation of strndup to something that works
	on all systems (thanks to Spen for this patch) git-svn-id: svn://svn.berlios.de/openocd/trunk@75
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-06-23  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added support for AT91SAM7A3 flash (patch from andre renaud,
	thanks) - fix trunk build for mac os x (patch from Lauri Leukkunen, thanks) - added check for host endianness, defines WORDS_BIGENDIAN on a
	big-endian host (e.g. mac os-x) - fixed bug where endianness of memory accesses could be swapped on
	BE hosts - added space for zero termination of ftd2xx_layout string (from
	Magnus Ludin, tahnks) git-svn-id: svn://svn.berlios.de/openocd/trunk@73
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-06-12  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - the 'help' command now takes an optional argument to display help
	only on a certain command (thanks to Andrew Dyer for this
	enhancement) - OpenOCD now includes the ability to diassemble instructions on its
	own (only ARM for now, Thumb might follow).  The command is "armv4_5
	disassemble <address> <count> ['thumb']" (thumb is currently
	unsupported).  I've compared the produced disassembly against
	GDB/GNU Objdump output, and it seems to be correct, but there may
	still be some bugs left.  git-svn-id: svn://svn.berlios.de/openocd/trunk@68
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-06-02  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* - prepare OpenOCD for branching, created ./trunk/ git-svn-id: svn://svn.berlios.de/openocd/trunk@64
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

